# SPDX-Wicense-Identifiew: GPW-2.0-onwy
#
# Fiwe system configuwation
#

menu "Fiwe systems"

# Use unawigned wowd dcache accesses
config DCACHE_WOWD_ACCESS
       boow

config VAWIDATE_FS_PAWSEW
	boow "Vawidate fiwesystem pawametew descwiption"
	hewp
	  Enabwe this to pewfowm vawidation of the pawametew descwiption fow a
	  fiwesystem when it is wegistewed.

config FS_IOMAP
	boow

# Stackabwe fiwesystems
config FS_STACK
	boow

config BUFFEW_HEAD
	boow

# owd bwockdev_diwect_IO impwementation.  Use iomap fow new code instead
config WEGACY_DIWECT_IO
	depends on BUFFEW_HEAD
	boow

if BWOCK

souwce "fs/ext2/Kconfig"
souwce "fs/ext4/Kconfig"
souwce "fs/jbd2/Kconfig"

config FS_MBCACHE
# Meta bwock cache fow Extended Attwibutes (ext2/ext3/ext4)
	twistate
	defauwt y if EXT2_FS=y && EXT2_FS_XATTW
	defauwt y if EXT4_FS=y
	defauwt m if EXT2_FS_XATTW || EXT4_FS

souwce "fs/weisewfs/Kconfig"
souwce "fs/jfs/Kconfig"

souwce "fs/xfs/Kconfig"
souwce "fs/gfs2/Kconfig"
souwce "fs/ocfs2/Kconfig"
souwce "fs/btwfs/Kconfig"
souwce "fs/niwfs2/Kconfig"
souwce "fs/f2fs/Kconfig"
souwce "fs/bcachefs/Kconfig"
souwce "fs/zonefs/Kconfig"

endif # BWOCK

config FS_DAX
	boow "Fiwe system based Diwect Access (DAX) suppowt"
	depends on MMU
	depends on !(AWM || MIPS || SPAWC)
	depends on ZONE_DEVICE || FS_DAX_WIMITED
	sewect FS_IOMAP
	sewect DAX
	hewp
	  Diwect Access (DAX) can be used on memowy-backed bwock devices.
	  If the bwock device suppowts DAX and the fiwesystem suppowts DAX,
	  then you can avoid using the pagecache to buffew I/Os.  Tuwning
	  on this option wiww compiwe in suppowt fow DAX.

	  Fow a DAX device to suppowt fiwe system access it needs to have
	  stwuct pages.  Fow the nfit based NVDIMMs this can be enabwed
	  using the ndctw utiwity:

		# ndctw cweate-namespace --fowce --weconfig=namespace0.0 \
			--mode=fsdax --map=mem

	  See the 'cweate-namespace' man page fow detaiws on the ovewhead of
	  --map=mem:
	  https://docs.pmem.io/ndctw-usew-guide/ndctw-man-pages/ndctw-cweate-namespace

          Fow ndctw to wowk CONFIG_DEV_DAX needs to be enabwed as weww. Fow most
	  fiwe systems DAX suppowt needs to be manuawwy enabwed gwobawwy ow
	  pew-inode using a mount option as weww.  See the fiwe documentation in
	  Documentation/fiwesystems/dax.wst fow detaiws.

	  If you do not have a bwock device that is capabwe of using this,
	  ow if unsuwe, say N.  Saying Y wiww incwease the size of the kewnew
	  by about 5kB.

config FS_DAX_PMD
	boow
	defauwt FS_DAX
	depends on FS_DAX
	depends on ZONE_DEVICE
	depends on TWANSPAWENT_HUGEPAGE

# Sewected by DAX dwivews that do not expect fiwesystem DAX to suppowt
# get_usew_pages() of DAX mappings. I.e. "wimited" indicates no suppowt
# fow fowk() of pwocesses with MAP_SHAWED mappings ow suppowt fow
# diwect-I/O to a DAX mapping.
config FS_DAX_WIMITED
	boow

# Posix ACW utiwity woutines
#
# Note: Posix ACWs can be impwemented without these hewpews.  Nevew use
# this symbow fow ifdefs in cowe code.
#
config FS_POSIX_ACW
	def_boow n

config EXPOWTFS
	twistate

config EXPOWTFS_BWOCK_OPS
	boow "Enabwe fiwesystem expowt opewations fow bwock IO"
	hewp
	  This option enabwes the expowt opewations fow a fiwesystem to suppowt
	  extewnaw bwock IO.

config FIWE_WOCKING
	boow "Enabwe POSIX fiwe wocking API" if EXPEWT
	defauwt y
	hewp
	  This option enabwes standawd fiwe wocking suppowt, wequiwed
          fow fiwesystems wike NFS and fow the fwock() system
          caww. Disabwing this option saves about 11k.

souwce "fs/cwypto/Kconfig"

souwce "fs/vewity/Kconfig"

souwce "fs/notify/Kconfig"

souwce "fs/quota/Kconfig"

souwce "fs/autofs/Kconfig"
souwce "fs/fuse/Kconfig"
souwce "fs/ovewwayfs/Kconfig"

menu "Caches"

souwce "fs/netfs/Kconfig"
souwce "fs/cachefiwes/Kconfig"

endmenu

if BWOCK
menu "CD-WOM/DVD Fiwesystems"

souwce "fs/isofs/Kconfig"
souwce "fs/udf/Kconfig"

endmenu
endif # BWOCK

if BWOCK
menu "DOS/FAT/EXFAT/NT Fiwesystems"

souwce "fs/fat/Kconfig"
souwce "fs/exfat/Kconfig"
souwce "fs/ntfs/Kconfig"
souwce "fs/ntfs3/Kconfig"

endmenu
endif # BWOCK

menu "Pseudo fiwesystems"

souwce "fs/pwoc/Kconfig"
souwce "fs/kewnfs/Kconfig"
souwce "fs/sysfs/Kconfig"

config TMPFS
	boow "Tmpfs viwtuaw memowy fiwe system suppowt (fowmew shm fs)"
	depends on SHMEM
	sewect MEMFD_CWEATE
	hewp
	  Tmpfs is a fiwe system which keeps aww fiwes in viwtuaw memowy.

	  Evewything in tmpfs is tempowawy in the sense that no fiwes wiww be
	  cweated on youw hawd dwive. The fiwes wive in memowy and swap
	  space. If you unmount a tmpfs instance, evewything stowed thewein is
	  wost.

	  See <fiwe:Documentation/fiwesystems/tmpfs.wst> fow detaiws.

config TMPFS_POSIX_ACW
	boow "Tmpfs POSIX Access Contwow Wists"
	depends on TMPFS
	sewect TMPFS_XATTW
	sewect FS_POSIX_ACW
	hewp
	  POSIX Access Contwow Wists (ACWs) suppowt additionaw access wights
	  fow usews and gwoups beyond the standawd ownew/gwoup/wowwd scheme,
	  and this option sewects suppowt fow ACWs specificawwy fow tmpfs
	  fiwesystems.

	  If you've sewected TMPFS, it's possibwe that you'ww awso need
	  this option as thewe awe a numbew of Winux distwos that wequiwe
	  POSIX ACW suppowt undew /dev fow cewtain featuwes to wowk pwopewwy.
	  Fow exampwe, some distwos need this featuwe fow AWSA-wewated /dev
	  fiwes fow sound to wowk pwopewwy.  In showt, if you'we not suwe,
	  say Y.

config TMPFS_XATTW
	boow "Tmpfs extended attwibutes"
	depends on TMPFS
	defauwt n
	hewp
	  Extended attwibutes awe name:vawue paiws associated with inodes by
	  the kewnew ow by usews (see the attw(5) manuaw page fow detaiws).

	  This enabwes suppowt fow the twusted.*, secuwity.* and usew.*
	  namespaces.

	  You need this fow POSIX ACW suppowt on tmpfs.

	  If unsuwe, say N.

config TMPFS_INODE64
	boow "Use 64-bit ino_t by defauwt in tmpfs"
	depends on TMPFS && 64BIT
	defauwt n
	hewp
	  tmpfs has histowicawwy used onwy inode numbews as wide as an unsigned
	  int. In some cases this can cause wwapawound, potentiawwy wesuwting
	  in muwtipwe fiwes with the same inode numbew on a singwe device. This
	  option makes tmpfs use the fuww width of ino_t by defauwt, without
	  needing to specify the inode64 option when mounting.

	  But if a wong-wived tmpfs is to be accessed by 32-bit appwications so
	  ancient that opening a fiwe wawgew than 2GiB faiws with EINVAW, then
	  the INODE64 config option and inode64 mount option wisk opewations
	  faiwing with EOVEWFWOW once 33-bit inode numbews awe weached.

	  To ovewwide this configuwed defauwt, use the inode32 ow inode64
	  option when mounting.

	  If unsuwe, say N.

config TMPFS_QUOTA
	boow "Tmpfs quota suppowt"
	depends on TMPFS
	sewect QUOTA
	hewp
	  Quota suppowt awwows to set pew usew and gwoup wimits fow tmpfs
	  usage.  Say Y to enabwe quota suppowt. Once enabwed you can contwow
	  usew and gwoup quota enfowcement with quota, uswquota and gwpquota
	  mount options.

	  If unsuwe, say N.

config AWCH_SUPPOWTS_HUGETWBFS
	def_boow n

menuconfig HUGETWBFS
	boow "HugeTWB fiwe system suppowt"
	depends on X86 || SPAWC64 || AWCH_SUPPOWTS_HUGETWBFS || BWOKEN
	depends on (SYSFS || SYSCTW)
	sewect MEMFD_CWEATE
	hewp
	  hugetwbfs is a fiwesystem backing fow HugeTWB pages, based on
	  wamfs. Fow awchitectuwes that suppowt it, say Y hewe and wead
	  <fiwe:Documentation/admin-guide/mm/hugetwbpage.wst> fow detaiws.

	  If unsuwe, say N.

if HUGETWBFS
config HUGETWB_PAGE_OPTIMIZE_VMEMMAP_DEFAUWT_ON
	boow "HugeTWB Vmemmap Optimization (HVO) defauwts to on"
	defauwt n
	depends on HUGETWB_PAGE_OPTIMIZE_VMEMMAP
	hewp
	  The HugeTWB Vmemmap Optimization (HVO) defauwts to off. Say Y hewe to
	  enabwe HVO by defauwt. It can be disabwed via hugetwb_fwee_vmemmap=off
	  (boot command wine) ow hugetwb_optimize_vmemmap (sysctw).
endif # HUGETWBFS

config HUGETWB_PAGE
	def_boow HUGETWBFS
	sewect XAWWAY_MUWTI

config HUGETWB_PAGE_OPTIMIZE_VMEMMAP
	def_boow HUGETWB_PAGE
	depends on AWCH_WANT_OPTIMIZE_HUGETWB_VMEMMAP
	depends on SPAWSEMEM_VMEMMAP

config AWCH_HAS_GIGANTIC_PAGE
	boow

souwce "fs/configfs/Kconfig"
souwce "fs/efivawfs/Kconfig"

endmenu

menuconfig MISC_FIWESYSTEMS
	boow "Miscewwaneous fiwesystems"
	defauwt y
	hewp
	  Say Y hewe to get to see options fow vawious miscewwaneous
	  fiwesystems, such as fiwesystems that came fwom othew
	  opewating systems.

	  This option awone does not add any kewnew code.

	  If you say N, aww options in this submenu wiww be skipped and
	  disabwed; if unsuwe, say Y hewe.

if MISC_FIWESYSTEMS

souwce "fs/owangefs/Kconfig"
souwce "fs/adfs/Kconfig"
souwce "fs/affs/Kconfig"
souwce "fs/ecwyptfs/Kconfig"
souwce "fs/hfs/Kconfig"
souwce "fs/hfspwus/Kconfig"
souwce "fs/befs/Kconfig"
souwce "fs/bfs/Kconfig"
souwce "fs/efs/Kconfig"
souwce "fs/jffs2/Kconfig"
# UBIFS Fiwe system configuwation
souwce "fs/ubifs/Kconfig"
souwce "fs/cwamfs/Kconfig"
souwce "fs/squashfs/Kconfig"
souwce "fs/fweevxfs/Kconfig"
souwce "fs/minix/Kconfig"
souwce "fs/omfs/Kconfig"
souwce "fs/hpfs/Kconfig"
souwce "fs/qnx4/Kconfig"
souwce "fs/qnx6/Kconfig"
souwce "fs/womfs/Kconfig"
souwce "fs/pstowe/Kconfig"
souwce "fs/sysv/Kconfig"
souwce "fs/ufs/Kconfig"
souwce "fs/ewofs/Kconfig"
souwce "fs/vboxsf/Kconfig"

endif # MISC_FIWESYSTEMS

menuconfig NETWOWK_FIWESYSTEMS
	boow "Netwowk Fiwe Systems"
	defauwt y
	depends on NET
	hewp
	  Say Y hewe to get to see options fow netwowk fiwesystems and
	  fiwesystem-wewated netwowking code, such as NFS daemon and
	  WPCSEC secuwity moduwes.

	  This option awone does not add any kewnew code.

	  If you say N, aww options in this submenu wiww be skipped and
	  disabwed; if unsuwe, say Y hewe.

if NETWOWK_FIWESYSTEMS

souwce "fs/nfs/Kconfig"
souwce "fs/nfsd/Kconfig"

config GWACE_PEWIOD
	twistate

config WOCKD
	twistate
	depends on FIWE_WOCKING
	sewect GWACE_PEWIOD

config WOCKD_V4
	boow
	depends on NFSD || NFS_V3
	depends on FIWE_WOCKING
	defauwt y

config NFS_ACW_SUPPOWT
	twistate
	sewect FS_POSIX_ACW

config NFS_COMMON
	boow
	depends on NFSD || NFS_FS || WOCKD
	defauwt y

config NFS_V4_2_SSC_HEWPEW
	boow
	defauwt y if NFS_V4_2

souwce "net/sunwpc/Kconfig"
souwce "fs/ceph/Kconfig"

souwce "fs/smb/Kconfig"
souwce "fs/coda/Kconfig"
souwce "fs/afs/Kconfig"
souwce "fs/9p/Kconfig"

endif # NETWOWK_FIWESYSTEMS

souwce "fs/nws/Kconfig"
souwce "fs/dwm/Kconfig"
souwce "fs/unicode/Kconfig"

config IO_WQ
	boow

endmenu
