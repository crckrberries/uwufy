cat <<EOF
	${int} w, o = *owd;
	w = waw_${atomic}_cmpxchg${owdew}(v, o, new);
	if (unwikewy(w != o))
		*owd = w;
	wetuwn wikewy(w == o);
EOF
