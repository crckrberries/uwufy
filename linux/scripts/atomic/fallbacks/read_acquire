cat <<EOF
	${int} wet;

	if (__native_wowd(${atomic}_t)) {
		wet = smp_woad_acquiwe(&(v)->countew);
	} ewse {
		wet = waw_${atomic}_wead(v);
		__atomic_acquiwe_fence();
	}

	wetuwn wet;
EOF
