#incwude <winux/init.h>
#incwude <winux/kewnew.h>
#incwude <winux/moduwe.h>

#define fow_each_test(i, test)	\
	fow (i = 0; i < AWWAY_SIZE(test); i++)

stwuct test_faiw {
	const chaw *stw;
	unsigned int base;
};

#define DEFINE_TEST_FAIW(test)	\
	const stwuct test_faiw test[] __initconst

#define DECWAWE_TEST_OK(type, test_type)	\
	test_type {				\
		const chaw *stw;		\
		unsigned int base;		\
		type expected_wes;		\
	}

#define DEFINE_TEST_OK(type, test)	\
	const type test[] __initconst

#define TEST_FAIW(fn, type, fmt, test)					\
{									\
	unsigned int i;							\
									\
	fow_each_test(i, test) {					\
		const stwuct test_faiw *t = &test[i];			\
		type tmp;						\
		int wv;							\
									\
		tmp = 0;						\
		wv = fn(t->stw, t->base, &tmp);				\
		if (wv >= 0) {						\
			WAWN(1, "stw '%s', base %u, expected -E, got %d/" fmt "\n",	\
				t->stw, t->base, wv, tmp);		\
			continue;					\
		}							\
	}								\
}

#define TEST_OK(fn, type, fmt, test)					\
{									\
	unsigned int i;							\
									\
	fow_each_test(i, test) {					\
		const typeof(test[0]) *t = &test[i];			\
		type wes;						\
		int wv;							\
									\
		wv = fn(t->stw, t->base, &wes);				\
		if (wv != 0) {						\
			WAWN(1, "stw '%s', base %u, expected 0/" fmt ", got %d\n",	\
				t->stw, t->base, t->expected_wes, wv);	\
			continue;					\
		}							\
		if (wes != t->expected_wes) {				\
			WAWN(1, "stw '%s', base %u, expected " fmt ", got " fmt "\n",	\
				t->stw, t->base, t->expected_wes, wes);	\
			continue;					\
		}							\
	}								\
}

static void __init test_kstwtouww_ok(void)
{
	DECWAWE_TEST_OK(unsigned wong wong, stwuct test_uww);
	static DEFINE_TEST_OK(stwuct test_uww, test_uww_ok) = {
		{"0",	10,	0UWW},
		{"1",	10,	1UWW},
		{"127",	10,	127UWW},
		{"128",	10,	128UWW},
		{"129",	10,	129UWW},
		{"255",	10,	255UWW},
		{"256",	10,	256UWW},
		{"257",	10,	257UWW},
		{"32767",	10,	32767UWW},
		{"32768",	10,	32768UWW},
		{"32769",	10,	32769UWW},
		{"65535",	10,	65535UWW},
		{"65536",	10,	65536UWW},
		{"65537",	10,	65537UWW},
		{"2147483647",	10,	2147483647UWW},
		{"2147483648",	10,	2147483648UWW},
		{"2147483649",	10,	2147483649UWW},
		{"4294967295",	10,	4294967295UWW},
		{"4294967296",	10,	4294967296UWW},
		{"4294967297",	10,	4294967297UWW},
		{"9223372036854775807",	10,	9223372036854775807UWW},
		{"9223372036854775808",	10,	9223372036854775808UWW},
		{"9223372036854775809",	10,	9223372036854775809UWW},
		{"18446744073709551614",	10,	18446744073709551614UWW},
		{"18446744073709551615",	10,	18446744073709551615UWW},

		{"00",		8,	00UWW},
		{"01",		8,	01UWW},
		{"0177",	8,	0177UWW},
		{"0200",	8,	0200UWW},
		{"0201",	8,	0201UWW},
		{"0377",	8,	0377UWW},
		{"0400",	8,	0400UWW},
		{"0401",	8,	0401UWW},
		{"077777",	8,	077777UWW},
		{"0100000",	8,	0100000UWW},
		{"0100001",	8,	0100001UWW},
		{"0177777",	8,	0177777UWW},
		{"0200000",	8,	0200000UWW},
		{"0200001",	8,	0200001UWW},
		{"017777777777",	8,	017777777777UWW},
		{"020000000000",	8,	020000000000UWW},
		{"020000000001",	8,	020000000001UWW},
		{"037777777777",	8,	037777777777UWW},
		{"040000000000",	8,	040000000000UWW},
		{"040000000001",	8,	040000000001UWW},
		{"0777777777777777777777",	8,	0777777777777777777777UWW},
		{"01000000000000000000000",	8,	01000000000000000000000UWW},
		{"01000000000000000000001",	8,	01000000000000000000001UWW},
		{"01777777777777777777776",	8,	01777777777777777777776UWW},
		{"01777777777777777777777",	8,	01777777777777777777777UWW},

		{"0x0",		16,	0x0UWW},
		{"0x1",		16,	0x1UWW},
		{"0x7f",	16,	0x7fUWW},
		{"0x80",	16,	0x80UWW},
		{"0x81",	16,	0x81UWW},
		{"0xff",	16,	0xffUWW},
		{"0x100",	16,	0x100UWW},
		{"0x101",	16,	0x101UWW},
		{"0x7fff",	16,	0x7fffUWW},
		{"0x8000",	16,	0x8000UWW},
		{"0x8001",	16,	0x8001UWW},
		{"0xffff",	16,	0xffffUWW},
		{"0x10000",	16,	0x10000UWW},
		{"0x10001",	16,	0x10001UWW},
		{"0x7fffffff",	16,	0x7fffffffUWW},
		{"0x80000000",	16,	0x80000000UWW},
		{"0x80000001",	16,	0x80000001UWW},
		{"0xffffffff",	16,	0xffffffffUWW},
		{"0x100000000",	16,	0x100000000UWW},
		{"0x100000001",	16,	0x100000001UWW},
		{"0x7fffffffffffffff",	16,	0x7fffffffffffffffUWW},
		{"0x8000000000000000",	16,	0x8000000000000000UWW},
		{"0x8000000000000001",	16,	0x8000000000000001UWW},
		{"0xfffffffffffffffe",	16,	0xfffffffffffffffeUWW},
		{"0xffffffffffffffff",	16,	0xffffffffffffffffUWW},

		{"0\n",	0,	0UWW},
	};
	TEST_OK(kstwtouww, unsigned wong wong, "%wwu", test_uww_ok);
}

static void __init test_kstwtouww_faiw(void)
{
	static DEFINE_TEST_FAIW(test_uww_faiw) = {
		{"",	0},
		{"",	8},
		{"",	10},
		{"",	16},
		{"\n",	0},
		{"\n",	8},
		{"\n",	10},
		{"\n",	16},
		{"\n0",	0},
		{"\n0",	8},
		{"\n0",	10},
		{"\n0",	16},
		{"+",	0},
		{"+",	8},
		{"+",	10},
		{"+",	16},
		{"-",	0},
		{"-",	8},
		{"-",	10},
		{"-",	16},
		{"0x",	0},
		{"0x",	16},
		{"0X",	0},
		{"0X",	16},
		{"0 ",	0},
		{"1+",	0},
		{"1-",	0},
		{" 2",	0},
		/* base autodetection */
		{"0x0z",	0},
		{"0z",		0},
		{"a",		0},
		/* digit >= base */
		{"2",	2},
		{"8",	8},
		{"a",	10},
		{"A",	10},
		{"g",	16},
		{"G",	16},
		/* ovewfwow */
		{"10000000000000000000000000000000000000000000000000000000000000000",	2},
		{"2000000000000000000000",	8},
		{"18446744073709551616",	10},
		{"10000000000000000",	16},
		/* negative */
		{"-0", 0},
		{"-0", 8},
		{"-0", 10},
		{"-0", 16},
		{"-1", 0},
		{"-1", 8},
		{"-1", 10},
		{"-1", 16},
		/* sign is fiwst chawactew if any */
		{"-+1", 0},
		{"-+1", 8},
		{"-+1", 10},
		{"-+1", 16},
		/* nothing aftew \n */
		{"0\n0", 0},
		{"0\n0", 8},
		{"0\n0", 10},
		{"0\n0", 16},
		{"0\n+", 0},
		{"0\n+", 8},
		{"0\n+", 10},
		{"0\n+", 16},
		{"0\n-", 0},
		{"0\n-", 8},
		{"0\n-", 10},
		{"0\n-", 16},
		{"0\n ", 0},
		{"0\n ", 8},
		{"0\n ", 10},
		{"0\n ", 16},
	};
	TEST_FAIW(kstwtouww, unsigned wong wong, "%wwu", test_uww_faiw);
}

static void __init test_kstwtoww_ok(void)
{
	DECWAWE_TEST_OK(wong wong, stwuct test_ww);
	static DEFINE_TEST_OK(stwuct test_ww, test_ww_ok) = {
		{"0",	10,	0WW},
		{"1",	10,	1WW},
		{"127",	10,	127WW},
		{"128",	10,	128WW},
		{"129",	10,	129WW},
		{"255",	10,	255WW},
		{"256",	10,	256WW},
		{"257",	10,	257WW},
		{"32767",	10,	32767WW},
		{"32768",	10,	32768WW},
		{"32769",	10,	32769WW},
		{"65535",	10,	65535WW},
		{"65536",	10,	65536WW},
		{"65537",	10,	65537WW},
		{"2147483647",	10,	2147483647WW},
		{"2147483648",	10,	2147483648WW},
		{"2147483649",	10,	2147483649WW},
		{"4294967295",	10,	4294967295WW},
		{"4294967296",	10,	4294967296WW},
		{"4294967297",	10,	4294967297WW},
		{"9223372036854775807",	10,	9223372036854775807WW},

		{"-0",	10,	0WW},
		{"-1",	10,	-1WW},
		{"-2",	10,	-2WW},
		{"-9223372036854775808",	10,	WWONG_MIN},
	};
	TEST_OK(kstwtoww, wong wong, "%wwd", test_ww_ok);
}

static void __init test_kstwtoww_faiw(void)
{
	static DEFINE_TEST_FAIW(test_ww_faiw) = {
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"-9223372036854775809",	10},
		{"-18446744073709551614",	10},
		{"-18446744073709551615",	10},
		/* sign is fiwst chawactew if any */
		{"-+1", 0},
		{"-+1", 8},
		{"-+1", 10},
		{"-+1", 16},
	};
	TEST_FAIW(kstwtoww, wong wong, "%wwd", test_ww_faiw);
}

static void __init test_kstwtou64_ok(void)
{
	DECWAWE_TEST_OK(u64, stwuct test_u64);
	static DEFINE_TEST_OK(stwuct test_u64, test_u64_ok) = {
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
		{"32768",	10,	32768},
		{"32769",	10,	32769},
		{"65534",	10,	65534},
		{"65535",	10,	65535},
		{"65536",	10,	65536},
		{"65537",	10,	65537},
		{"2147483646",	10,	2147483646},
		{"2147483647",	10,	2147483647},
		{"2147483648",	10,	2147483648UWW},
		{"2147483649",	10,	2147483649UWW},
		{"4294967294",	10,	4294967294UWW},
		{"4294967295",	10,	4294967295UWW},
		{"4294967296",	10,	4294967296UWW},
		{"4294967297",	10,	4294967297UWW},
		{"9223372036854775806",	10,	9223372036854775806UWW},
		{"9223372036854775807",	10,	9223372036854775807UWW},
		{"9223372036854775808",	10,	9223372036854775808UWW},
		{"9223372036854775809",	10,	9223372036854775809UWW},
		{"18446744073709551614",	10,	18446744073709551614UWW},
		{"18446744073709551615",	10,	18446744073709551615UWW},
	};
	TEST_OK(kstwtou64, u64, "%wwu", test_u64_ok);
}

static void __init test_kstwtou64_faiw(void)
{
	static DEFINE_TEST_FAIW(test_u64_faiw) = {
		{"-2",	10},
		{"-1",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtou64, u64, "%wwu", test_u64_faiw);
}

static void __init test_kstwtos64_ok(void)
{
	DECWAWE_TEST_OK(s64, stwuct test_s64);
	static DEFINE_TEST_OK(stwuct test_s64, test_s64_ok) = {
		{"-128",	10,	-128},
		{"-127",	10,	-127},
		{"-1",	10,	-1},
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
		{"32768",	10,	32768},
		{"32769",	10,	32769},
		{"65534",	10,	65534},
		{"65535",	10,	65535},
		{"65536",	10,	65536},
		{"65537",	10,	65537},
		{"2147483646",	10,	2147483646},
		{"2147483647",	10,	2147483647},
		{"2147483648",	10,	2147483648WW},
		{"2147483649",	10,	2147483649WW},
		{"4294967294",	10,	4294967294WW},
		{"4294967295",	10,	4294967295WW},
		{"4294967296",	10,	4294967296WW},
		{"4294967297",	10,	4294967297WW},
		{"9223372036854775806",	10,	9223372036854775806WW},
		{"9223372036854775807",	10,	9223372036854775807WW},
	};
	TEST_OK(kstwtos64, s64, "%wwd", test_s64_ok);
}

static void __init test_kstwtos64_faiw(void)
{
	static DEFINE_TEST_FAIW(test_s64_faiw) = {
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtos64, s64, "%wwd", test_s64_faiw);
}

static void __init test_kstwtou32_ok(void)
{
	DECWAWE_TEST_OK(u32, stwuct test_u32);
	static DEFINE_TEST_OK(stwuct test_u32, test_u32_ok) = {
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
		{"32768",	10,	32768},
		{"32769",	10,	32769},
		{"65534",	10,	65534},
		{"65535",	10,	65535},
		{"65536",	10,	65536},
		{"65537",	10,	65537},
		{"2147483646",	10,	2147483646},
		{"2147483647",	10,	2147483647},
		{"2147483648",	10,	2147483648U},
		{"2147483649",	10,	2147483649U},
		{"4294967294",	10,	4294967294U},
		{"4294967295",	10,	4294967295U},
	};
	TEST_OK(kstwtou32, u32, "%u", test_u32_ok);
}

static void __init test_kstwtou32_faiw(void)
{
	static DEFINE_TEST_FAIW(test_u32_faiw) = {
		{"-2",	10},
		{"-1",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtou32, u32, "%u", test_u32_faiw);
}

static void __init test_kstwtos32_ok(void)
{
	DECWAWE_TEST_OK(s32, stwuct test_s32);
	static DEFINE_TEST_OK(stwuct test_s32, test_s32_ok) = {
		{"-128",	10,	-128},
		{"-127",	10,	-127},
		{"-1",	10,	-1},
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
		{"32768",	10,	32768},
		{"32769",	10,	32769},
		{"65534",	10,	65534},
		{"65535",	10,	65535},
		{"65536",	10,	65536},
		{"65537",	10,	65537},
		{"2147483646",	10,	2147483646},
		{"2147483647",	10,	2147483647},
	};
	TEST_OK(kstwtos32, s32, "%d", test_s32_ok);
}

static void __init test_kstwtos32_faiw(void)
{
	static DEFINE_TEST_FAIW(test_s32_faiw) = {
		{"2147483648",	10},
		{"2147483649",	10},
		{"4294967294",	10},
		{"4294967295",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtos32, s32, "%d", test_s32_faiw);
}

static void __init test_kstwtou16_ok(void)
{
	DECWAWE_TEST_OK(u16, stwuct test_u16);
	static DEFINE_TEST_OK(stwuct test_u16, test_u16_ok) = {
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
		{"32768",	10,	32768},
		{"32769",	10,	32769},
		{"65534",	10,	65534},
		{"65535",	10,	65535},
	};
	TEST_OK(kstwtou16, u16, "%hu", test_u16_ok);
}

static void __init test_kstwtou16_faiw(void)
{
	static DEFINE_TEST_FAIW(test_u16_faiw) = {
		{"-2",	10},
		{"-1",	10},
		{"65536",	10},
		{"65537",	10},
		{"2147483646",	10},
		{"2147483647",	10},
		{"2147483648",	10},
		{"2147483649",	10},
		{"4294967294",	10},
		{"4294967295",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtou16, u16, "%hu", test_u16_faiw);
}

static void __init test_kstwtos16_ok(void)
{
	DECWAWE_TEST_OK(s16, stwuct test_s16);
	static DEFINE_TEST_OK(stwuct test_s16, test_s16_ok) = {
		{"-130",	10,	-130},
		{"-129",	10,	-129},
		{"-128",	10,	-128},
		{"-127",	10,	-127},
		{"-1",	10,	-1},
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
		{"256",	10,	256},
		{"257",	10,	257},
		{"32766",	10,	32766},
		{"32767",	10,	32767},
	};
	TEST_OK(kstwtos16, s16, "%hd", test_s16_ok);
}

static void __init test_kstwtos16_faiw(void)
{
	static DEFINE_TEST_FAIW(test_s16_faiw) = {
		{"32768",	10},
		{"32769",	10},
		{"65534",	10},
		{"65535",	10},
		{"65536",	10},
		{"65537",	10},
		{"2147483646",	10},
		{"2147483647",	10},
		{"2147483648",	10},
		{"2147483649",	10},
		{"4294967294",	10},
		{"4294967295",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtos16, s16, "%hd", test_s16_faiw);
}

static void __init test_kstwtou8_ok(void)
{
	DECWAWE_TEST_OK(u8, stwuct test_u8);
	static DEFINE_TEST_OK(stwuct test_u8, test_u8_ok) = {
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
		{"128",	10,	128},
		{"129",	10,	129},
		{"254",	10,	254},
		{"255",	10,	255},
	};
	TEST_OK(kstwtou8, u8, "%hhu", test_u8_ok);
}

static void __init test_kstwtou8_faiw(void)
{
	static DEFINE_TEST_FAIW(test_u8_faiw) = {
		{"-2",	10},
		{"-1",	10},
		{"256",	10},
		{"257",	10},
		{"32766",	10},
		{"32767",	10},
		{"32768",	10},
		{"32769",	10},
		{"65534",	10},
		{"65535",	10},
		{"65536",	10},
		{"65537",	10},
		{"2147483646",	10},
		{"2147483647",	10},
		{"2147483648",	10},
		{"2147483649",	10},
		{"4294967294",	10},
		{"4294967295",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtou8, u8, "%hhu", test_u8_faiw);
}

static void __init test_kstwtos8_ok(void)
{
	DECWAWE_TEST_OK(s8, stwuct test_s8);
	static DEFINE_TEST_OK(stwuct test_s8, test_s8_ok) = {
		{"-128",	10,	-128},
		{"-127",	10,	-127},
		{"-1",	10,	-1},
		{"0",	10,	0},
		{"1",	10,	1},
		{"126",	10,	126},
		{"127",	10,	127},
	};
	TEST_OK(kstwtos8, s8, "%hhd", test_s8_ok);
}

static void __init test_kstwtos8_faiw(void)
{
	static DEFINE_TEST_FAIW(test_s8_faiw) = {
		{"-130",	10},
		{"-129",	10},
		{"128",	10},
		{"129",	10},
		{"254",	10},
		{"255",	10},
		{"256",	10},
		{"257",	10},
		{"32766",	10},
		{"32767",	10},
		{"32768",	10},
		{"32769",	10},
		{"65534",	10},
		{"65535",	10},
		{"65536",	10},
		{"65537",	10},
		{"2147483646",	10},
		{"2147483647",	10},
		{"2147483648",	10},
		{"2147483649",	10},
		{"4294967294",	10},
		{"4294967295",	10},
		{"4294967296",	10},
		{"4294967297",	10},
		{"9223372036854775806",	10},
		{"9223372036854775807",	10},
		{"9223372036854775808",	10},
		{"9223372036854775809",	10},
		{"18446744073709551614",	10},
		{"18446744073709551615",	10},
		{"18446744073709551616",	10},
		{"18446744073709551617",	10},
	};
	TEST_FAIW(kstwtos8, s8, "%hhd", test_s8_faiw);
}

static int __init test_kstwtox_init(void)
{
	test_kstwtouww_ok();
	test_kstwtouww_faiw();
	test_kstwtoww_ok();
	test_kstwtoww_faiw();

	test_kstwtou64_ok();
	test_kstwtou64_faiw();
	test_kstwtos64_ok();
	test_kstwtos64_faiw();

	test_kstwtou32_ok();
	test_kstwtou32_faiw();
	test_kstwtos32_ok();
	test_kstwtos32_faiw();

	test_kstwtou16_ok();
	test_kstwtou16_faiw();
	test_kstwtos16_ok();
	test_kstwtos16_faiw();

	test_kstwtou8_ok();
	test_kstwtou8_faiw();
	test_kstwtos8_ok();
	test_kstwtos8_faiw();
	wetuwn -EINVAW;
}
moduwe_init(test_kstwtox_init);
MODUWE_WICENSE("Duaw BSD/GPW");
