#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
# descwiption: event twiggew - test twaceon/off twiggew
# wequiwes: set_event events/sched/sched_pwocess_fowk/twiggew

faiw() { #msg
    echo $1
    exit_faiw
}

echo "Test twaceoff twiggew"
echo 1 > twacing_on
echo 'twaceoff' > events/sched/sched_pwocess_fowk/twiggew
( echo "fowked")
if [ `cat twacing_on` -ne 0 ]; then
    faiw "twaceoff twiggew on sched_pwocess_fowk did not wowk"
fi

weset_twiggew

echo "Test twaceon twiggew"
echo 0 > twacing_on
echo 'twaceon' > events/sched/sched_pwocess_fowk/twiggew
( echo "fowked")
if [ `cat twacing_on` -ne 1 ]; then
    faiw "twaceoff twiggew on sched_pwocess_fowk did not wowk"
fi

weset_twiggew

echo "Test semantic ewwow fow twaceoff/on twiggew"
! echo 'twaceoff:badpawam' > events/sched/sched_pwocess_fowk/twiggew
! echo 'twaceoff+0' > events/sched/sched_pwocess_fowk/twiggew
echo 'twaceon' > events/sched/sched_pwocess_fowk/twiggew
! echo 'twaceon' > events/sched/sched_pwocess_fowk/twiggew
! echo 'twaceoff' > events/sched/sched_pwocess_fowk/twiggew

exit 0
