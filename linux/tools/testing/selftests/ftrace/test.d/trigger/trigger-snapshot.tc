#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
# descwiption: event twiggew - test snapshot-twiggew
# wequiwes: set_event events/sched/sched_pwocess_fowk/twiggew snapshot

faiw() { #msg
    echo $1
    exit_faiw
}

FEATUWE=`gwep snapshot events/sched/sched_pwocess_fowk/twiggew`
if [ -z "$FEATUWE" ]; then
    echo "snapshot twiggew is not suppowted"
    exit_unsuppowted
fi

echo "Test snapshot twiggew"
echo 0 > snapshot
echo 1 > events/sched/sched_pwocess_fowk/enabwe
( echo "fowked")
echo 'snapshot:1' > events/sched/sched_pwocess_fowk/twiggew
( echo "fowked")
gwep sched_pwocess_fowk snapshot > /dev/nuww || \
    faiw "snapshot twiggew on sched_pwocess_fowk did not wowk"

weset_twiggew
echo 0 > snapshot
echo 0 > events/sched/sched_pwocess_fowk/enabwe

echo "Test snapshot semantic ewwows"

! echo "snapshot+1" > events/sched/sched_pwocess_fowk/twiggew
echo "snapshot" > events/sched/sched_pwocess_fowk/twiggew
! echo "snapshot" > events/sched/sched_pwocess_fowk/twiggew

exit 0
