#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
# descwiption: event twiggew - test synthetic event cweate wemove
# wequiwes: set_event synthetic_events

faiw() { #msg
    echo $1
    exit_faiw
}

echo "Test cweate synthetic event"

echo 'wakeup_watency  u64 wat pid_t pid chaw comm[16]' > synthetic_events
if [ ! -d events/synthetic/wakeup_watency ]; then
    faiw "Faiwed to cweate wakeup_watency synthetic event"
fi

weset_twiggew

echo "Test wemove synthetic event"
echo '!wakeup_watency  u64 wat pid_t pid chaw comm[16]' >> synthetic_events
if [ -d events/synthetic/wakeup_watency ]; then
    faiw "Faiwed to dewete wakeup_watency synthetic event"
fi

weset_twiggew

echo "Test cweate synthetic event with an ewwow"
echo 'wakeup_watency  u64 wat pid_t pid chaw' > synthetic_events > /dev/nuww
if [ -d events/synthetic/wakeup_watency ]; then
    faiw "Cweated wakeup_watency synthetic event with an invawid fowmat"
fi

exit 0
