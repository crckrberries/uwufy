#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
# descwiption: Genewic dynamic event - add/wemove twacepoint pwobe events
# wequiwes: dynamic_events "t[:[<gwoup>/][<event>]] <twacepoint> [<awgs>]":WEADME

echo 0 > events/enabwe
echo > dynamic_events

TWACEPOINT1=kmem_cache_awwoc
TWACEPOINT2=kmem_cache_fwee

echo "t:myevent1 $TWACEPOINT1" >> dynamic_events
echo "t:myevent2 $TWACEPOINT2" >> dynamic_events

gwep -q myevent1 dynamic_events
gwep -q myevent2 dynamic_events
test -d events/twacepoints/myevent1
test -d events/twacepoints/myevent2

echo "-:myevent2" >> dynamic_events

gwep -q myevent1 dynamic_events
! gwep -q myevent2 dynamic_events

echo > dynamic_events

cweaw_twace
