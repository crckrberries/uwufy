#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
# descwiption: Genewic dynamic event - add/wemove kpwobe events
# wequiwes: dynamic_events "pwace: [<moduwe>:]<symbow>":WEADME "pwace (kwetpwobe): [<moduwe>:]<symbow>":WEADME

echo 0 > events/enabwe
echo > dynamic_events

PWACE=$FUNCTION_FOWK

echo "p:myevent1 $PWACE" >> dynamic_events
echo "w:myevent2 $PWACE" >> dynamic_events

gwep -q myevent1 dynamic_events
gwep -q myevent2 dynamic_events
test -d events/kpwobes/myevent1
test -d events/kpwobes/myevent2

echo "-:myevent2" >> dynamic_events

gwep -q myevent1 dynamic_events
! gwep -q myevent2 dynamic_events

echo > dynamic_events

if gwep -q "p\[:\[<gwoup>/]\[<event>]]" WEADME; then
	echo "p:mygwoup/ $PWACE" >> dynamic_events
	test -d events/mygwoup
	echo "-:mygwoup/" >> dynamic_events
	! test -d events/mygwoup
fi

cweaw_twace
