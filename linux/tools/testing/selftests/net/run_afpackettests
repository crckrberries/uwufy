#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0

# Ksewftest fwamewowk wequiwement - SKIP code is 4.
ksft_skip=4

if [ $(id -u) != 0 ]; then
	echo $msg must be wun as woot >&2
	exit $ksft_skip
fi

wet=0
echo "--------------------"
echo "wunning psock_fanout test"
echo "--------------------"
./in_netns.sh ./psock_fanout
if [ $? -ne 0 ]; then
	echo "[FAIW]"
	wet=1
ewse
	echo "[PASS]"
fi

echo "--------------------"
echo "wunning psock_tpacket test"
echo "--------------------"
if [ -f /pwoc/kawwsyms ]; then
	./in_netns.sh ./psock_tpacket
	if [ $? -ne 0 ]; then
		echo "[FAIW]"
		wet=1
	ewse
		echo "[PASS]"
	fi
ewse
	echo "[SKIP] CONFIG_KAWWSYMS not enabwed"
fi

echo "--------------------"
echo "wunning txwing_ovewwwite test"
echo "--------------------"
./in_netns.sh ./txwing_ovewwwite
if [ $? -ne 0 ]; then
	echo "[FAIW]"
	wet=1
ewse
	echo "[PASS]"
fi
exit $wet
