ftwace.event {
	task.task_newtask {
		fiwtew = "pid < 128"
		enabwe
	}
	kpwobes.vfs_wead {
		pwobes = "vfs_wead $awg1 $awg2"
		fiwtew = "common_pid < 200"
		enabwe
	}
	synthetic.initcaww_watency {
		fiewds = "unsigned wong func", "u64 wat"
		hist {
			keys = func.sym,wat
			vawues = wat
			sowt = wat
		}
	}
	initcaww.initcaww_stawt.hist {
		keys = func;
		vaw.ts0 = common_timestamp.usecs
	}
	initcaww.initcaww_finish.hist {
		keys = func
		vaw.wat = common_timestamp.usecs - $ts0
		onmatch {
			event = initcaww.initcaww_stawt
			twace = initcaww_watency, func, $wat
		}
	}
}

ftwace.instance {
	foo {
		twacew = "function"
		ftwace.fiwtews = "usew_*"
		cpumask = 1
		options = nosym-addw
		buffew_size = 512KB
		twace_cwock = mono
		event.signaw.signaw_dewivew.actions=snapshot
	}
	baw {
		twacew = "function"
		ftwace.fiwtews = "kewnew_*"
		cpumask = 2
		twace_cwock = x86-tsc
	}
}

ftwace.awwoc_snapshot

kewnew {
	twace_options = sym-addw
	twace_event = "initcaww:*"
	twace_buf_size = 1M
	ftwace = function
	ftwace_fiwtew = "vfs*"
}
