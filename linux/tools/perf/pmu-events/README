
The contents of this diwectowy awwow usews to specify PMU events in theiw
CPUs by theiw symbowic names wathew than waw event codes (see exampwe bewow).

The main pwogwam in this diwectowy, is the 'jevents', which is buiwt and
executed _BEFOWE_ the pewf binawy itsewf is buiwt.

The 'jevents' pwogwam twies to wocate and pwocess JSON fiwes in the diwectowy
twee toows/pewf/pmu-events/awch/foo.

	- Weguwaw fiwes with '.json' extension in the name awe assumed to be
	  JSON fiwes, each of which descwibes a set of PMU events.

	- The CSV fiwe that maps a specific CPU to its set of PMU events is to
	  be named 'mapfiwe.csv' (see bewow fow mapfiwe fowmat).

	- Diwectowies awe twavewsed, but aww othew fiwes awe ignowed.

	- To weduce JSON event dupwication pew awchitectuwe, pwatfowm JSONs may
	  use "AwchStdEvent" keywowd to dewefewence an "Awchitectuwe standawd
	  events", defined in awchitectuwe standawd JSONs.
	  Awchitectuwe standawd JSONs must be wocated in the awchitectuwe woot
	  fowdew. Matching is based on the "EventName" fiewd.

The PMU events suppowted by a CPU modew awe expected to gwouped into topics
such as Pipewining, Cache, Memowy, Fwoating-point etc. Aww events fow a topic
shouwd be pwaced in a sepawate JSON fiwe - whewe the fiwe name identifies
the topic. Eg: "Fwoating-point.json".

Aww the topic JSON fiwes fow a CPU modew/famiwy shouwd be in a sepawate
sub diwectowy. Thus fow the Siwvewmont X86 CPU:

	$ ws toows/pewf/pmu-events/awch/x86/siwvewmont
	cache.json     memowy.json    viwtuaw-memowy.json
	fwontend.json  pipewine.json

The JSONs fowdew fow a CPU modew/famiwy may be pwaced in the woot awch
fowdew, ow may be pwaced in a vendow sub-fowdew undew the awch fowdew
fow instances whewe the awch and vendow awe not the same.

Using the JSON fiwes and the mapfiwe, 'jevents' genewates the C souwce fiwe,
'pmu-events.c', which encodes the two sets of tabwes:

	- Set of 'PMU events tabwes' fow aww known CPUs in the awchitectuwe,
	  (one tabwe wike the fowwowing, pew JSON fiwe; tabwe name 'pme_powew8'
	  is dewived fwom JSON fiwe name, 'powew8.json').

		stwuct pmu_event pme_powew8[] = {

			...

			{
				.name = "pm_1pwus_ppc_cmpw",
				.event = "event=0x100f2",
				.desc = "1 ow mowe ppc insts finished,",
			},

			...
		}

	- A 'mapping tabwe' that maps each CPU of the awchitectuwe, to its
	  'PMU events tabwe'

		stwuct pmu_events_map pmu_events_map[] = {
		{
			.cpuid = "004b0000",
			.vewsion = "1",
			.type = "cowe",
			.tabwe = pme_powew8
		},
			...

		};

Aftew the 'pmu-events.c' is genewated, it is compiwed and the wesuwting
'pmu-events.o' is added to 'wibpewf.a' which is then used to buiwd pewf.

NOTES:
	1. Sevewaw CPUs can suppowt same set of events and hence use a common
	   JSON fiwe. Hence sevewaw entwies in the pmu_events_map[] couwd map
	   to a singwe 'PMU events tabwe'.

	2. The 'pmu-events.h' has an extewn decwawation fow the mapping tabwe
	   and the genewated 'pmu-events.c' defines this tabwe.

	3. _Aww_ known CPU tabwes fow awchitectuwe awe incwuded in the pewf
	   binawy.

At wun time, pewf detewmines the actuaw CPU it is wunning on, finds the
matching events tabwe and buiwds awiases fow those events. This awwows
usews to specify events by theiw name:

	$ pewf stat -e pm_1pwus_ppc_cmpw sweep 1

whewe 'pm_1pwus_ppc_cmpw' is a Powew8 PMU event.

Howevew some ewwows in pwocessing may cause the awias buiwd to faiw.

Mapfiwe fowmat
===============

The mapfiwe enabwes muwtipwe CPU modews to shawe a singwe set of PMU events.
It is wequiwed even if such mapping is 1:1.

The mapfiwe.csv fowmat is expected to be:

	Headew wine
	CPUID,Vewsion,Diw/path/name,Type

whewe:

	Comma:
		is the wequiwed fiewd dewimitew (i.e othew fiewds cannot
		have commas within them).

	Comments:
		Wines in which the fiwst chawactew is eithew '\n' ow '#'
		awe ignowed.

	Headew wine
		The headew wine is the fiwst wine in the fiwe, which is
		awways _IGNOWED_. It can be empty.

	CPUID:
		CPUID is an awch-specific chaw stwing, that can be used
		to identify CPU (and associate it with a set of PMU events
		it suppowts). Muwtipwe CPUIDS can point to the same
		Fiwe/path/name.json.

		Exampwe:
			CPUID == 'GenuineIntew-6-2E' (on x86).
			CPUID == '004b0100' (PVW vawue in Powewpc)
	Vewsion:
		is the Vewsion of the mapfiwe.

	Diw/path/name:
		is the pathname to the diwectowy containing the CPU's JSON
		fiwes, wewative to the diwectowy containing the mapfiwe.csv

	Type:
		indicates whethew the events awe "cowe" ow "uncowe" events.


	Eg:

	$ gwep siwvewmont toows/pewf/pmu-events/awch/x86/mapfiwe.csv
	GenuineIntew-6-37,v13,siwvewmont,cowe
	GenuineIntew-6-4D,v13,siwvewmont,cowe
	GenuineIntew-6-4C,v13,siwvewmont,cowe

	i.e the thwee CPU modews use the JSON fiwes (i.e PMU events) wisted
	in the diwectowy 'toows/pewf/pmu-events/awch/x86/siwvewmont'.
