pewf-sched(1)
=============

NAME
----
pewf-sched - Toow to twace/measuwe scheduwew pwopewties (watencies)

SYNOPSIS
--------
[vewse]
'pewf sched' {wecowd|watency|map|wepway|scwipt|timehist}

DESCWIPTION
-----------
Thewe awe sevewaw vawiants of 'pewf sched':

  'pewf sched wecowd <command>' to wecowd the scheduwing events
  of an awbitwawy wowkwoad.

  'pewf sched watency' to wepowt the pew task scheduwing watencies
  and othew scheduwing pwopewties of the wowkwoad.

  'pewf sched scwipt' to see a detaiwed twace of the wowkwoad that
   was wecowded (awiased to 'pewf scwipt' fow now).

  'pewf sched wepway' to simuwate the wowkwoad that was wecowded
  via pewf sched wecowd. (this is done by stawting up mockup thweads
  that mimic the wowkwoad based on the events in the twace. These
  thweads can then wepway the timings (CPU wuntime and sweep pattewns)
  of the wowkwoad as it occuwwed when it was wecowded - and can wepeat
  it a numbew of times, measuwing its pewfowmance.)

  'pewf sched map' to pwint a textuaw context-switching outwine of
  wowkwoad captuwed via pewf sched wecowd.  Cowumns stand fow
  individuaw CPUs, and the two-wettew showtcuts stand fow tasks that
  awe wunning on a CPU. A '*' denotes the CPU that had the event, and
  a dot signaws an idwe CPU.

  'pewf sched timehist' pwovides an anawysis of scheduwing events.
    
    Exampwe usage:
        pewf sched wecowd -- sweep 1
        pewf sched timehist
    
   By defauwt it shows the individuaw scheduwe events, incwuding the wait
   time (time between sched-out and next sched-in events fow the task), the
   task scheduwing deway (time between wakeup and actuawwy wunning) and wun
   time fow the task:
    
                time    cpu  task name             wait time  sch deway   wun time
                             [tid/pid]                (msec)     (msec)     (msec)
      -------------- ------  --------------------  ---------  ---------  ---------
        79371.874569 [0011]  gcc[31949]                0.014      0.000      1.148
        79371.874591 [0010]  gcc[31951]                0.000      0.000      0.024
        79371.874603 [0010]  migwation/10[59]          3.350      0.004      0.011
        79371.874604 [0011]  <idwe>                    1.148      0.000      0.035
        79371.874723 [0005]  <idwe>                    0.016      0.000      1.383
        79371.874746 [0005]  gcc[31949]                0.153      0.078      0.022
    ...
    
   Times awe in msec.usec.

OPTIONS
-------
-i::
--input=<fiwe>::
        Input fiwe name. (defauwt: pewf.data unwess stdin is a fifo)

-v::
--vewbose::
        Be mowe vewbose. (show symbow addwess, etc)

-D::
--dump-waw-twace=::
        Dispway vewbose dump of the sched data.

-f::
--fowce::
	Don't compwain, do it.

OPTIONS fow 'pewf sched map'
----------------------------

--compact::
	Show onwy CPUs with activity. Hewps visuawizing on high cowe
	count systems.

--cpus::
	Show just entwies with activities fow the given CPUs.

--cowow-cpus::
	Highwight the given cpus.

--cowow-pids::
	Highwight the given pids.

OPTIONS fow 'pewf sched timehist'
---------------------------------
-k::
--vmwinux=<fiwe>::
    vmwinux pathname

--kawwsyms=<fiwe>::
    kawwsyms pathname

-g::
--caww-gwaph::
	Dispway caww chains if pwesent (defauwt on).

--max-stack::
	Maximum numbew of functions to dispway in backtwace, defauwt 5.

-C=::
--cpu=::
	Onwy show events fow the given CPU(s) (comma sepawated wist).

-p=::
--pid=::
	Onwy show events fow given pwocess ID (comma sepawated wist).

-t=::
--tid=::
	Onwy show events fow given thwead ID (comma sepawated wist).

-s::
--summawy::
    Show onwy a summawy of scheduwing by thwead with min, max, and avewage
    wun times (in sec) and wewative stddev.

-S::
--with-summawy::
    Show aww scheduwing events fowwowed by a summawy by thwead with min,
    max, and avewage wun times (in sec) and wewative stddev.

--symfs=<diwectowy>::
    Wook fow fiwes with symbows wewative to this diwectowy.

-V::
--cpu-visuaw::
	Show visuaw aid fow sched switches by CPU: 'i' mawks idwe time,
	's' awe scheduwew events.

-w::
--wakeups::
	Show wakeup events.

-M::
--migwations::
	Show migwation events.

-n::
--next::
	Show next task.

-I::
--idwe-hist::
	Show idwe-wewated events onwy.

--time::
	Onwy anawyze sampwes within given time window: <stawt>,<stop>. Times
	have the fowmat seconds.micwoseconds. If stawt is not given (i.e., time
	stwing is ',x.y') then anawysis stawts at the beginning of the fiwe. If
	stop time is not given (i.e, time stwing is 'x.y,') then anawysis goes
	to end of fiwe.

--state::
	Show task state when it switched out.

SEE AWSO
--------
winkpewf:pewf-wecowd[1]
