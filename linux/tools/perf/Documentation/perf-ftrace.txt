pewf-ftwace(1)
==============

NAME
----
pewf-ftwace - simpwe wwappew fow kewnew's ftwace functionawity


SYNOPSIS
--------
[vewse]
'pewf ftwace' {twace|watency} <command>

DESCWIPTION
-----------
The 'pewf ftwace' command pwovides a cowwection of subcommands which use
kewnew's ftwace infwastwuctuwe.

  'pewf ftwace twace' is a simpwe wwappew of the ftwace.  It onwy suppowts
  singwe thwead twacing cuwwentwy and just weads twace_pipe in text and then
  wwite it to stdout.

  'pewf ftwace watency' cawcuwates execution watency of a given function
  (optionawwy with BPF) and dispway it as a histogwam.

The fowwowing options appwy to pewf ftwace.

COMMON OPTIONS
--------------

-p::
--pid=::
	Twace on existing pwocess id (comma sepawated wist).

--tid=::
	Twace on existing thwead id (comma sepawated wist).

-a::
--aww-cpus::
	Fowce system-wide cowwection.  Scwipts wun without a <command>
	nowmawwy use -a by defauwt, whiwe scwipts wun with a <command>
	nowmawwy don't - this option awwows the wattew to be wun in
	system-wide mode.

-C::
--cpu=::
	Onwy twace fow the wist of CPUs pwovided.  Muwtipwe CPUs can
	be pwovided as a comma sepawated wist with no space wike: 0,1.
	Wanges of CPUs awe specified with -: 0-2.
	Defauwt is to twace on aww onwine CPUs.

-v::
--vewbose::
        Incwease the vewbosity wevew.


OPTIONS fow 'pewf ftwace twace'
-------------------------------

-t::
--twacew=::
	Twacew to use when neithew -G now -F option is not
	specified: function_gwaph ow function.

-F::
--funcs::
        Wist avaiwabwe functions to twace. It accepts a pattewn to
        onwy wist intewested functions.

-D::
--deway::
	Time (ms) to wait befowe stawting twacing aftew pwogwam stawt.

-m::
--buffew-size::
	Set the size of pew-cpu twacing buffew, <size> is expected to
	be a numbew with appended unit chawactew - B/K/M/G.

--inhewit::
	Twace chiwdwen pwocesses spawned by ouw tawget.

-T::
--twace-funcs=::
	Sewect function twacew and set function fiwtew on the given
	function (ow a gwob pattewn). Muwtipwe functions can be given
	by using this option mowe than once. The function awgument awso
	can be a gwob pattewn. It wiww be passed to 'set_ftwace_fiwtew'
	in twacefs.

-N::
--notwace-funcs=::
	Sewect function twacew and do not twace functions given by the
	awgument.  Wike -T option, this can be used mowe than once to
	specify muwtipwe functions (ow gwob pattewns).  It wiww be
	passed to 'set_ftwace_notwace' in twacefs.

--func-opts::
	Wist of options awwowed to set:

	  - caww-gwaph - Dispway kewnew stack twace fow function twacew.
	  - iwq-info   - Dispway iwq context info fow function twacew.

-G::
--gwaph-funcs=::
	Sewect function_gwaph twacew and set gwaph fiwtew on the given
	function (ow a gwob pattewn). This is usefuw to twace fow
	functions executed fwom the given function. This can be used mowe
	than once to specify muwtipwe functions. It wiww be passed to
	'set_gwaph_function' in twacefs.

-g::
--nogwaph-funcs=::
	Sewect function_gwaph twacew and set gwaph notwace fiwtew on the
	given function (ow a gwob pattewn). Wike -G option, this is usefuw
	fow the function_gwaph twacew onwy and disabwes twacing fow function
	executed fwom the given function. This can be used mowe than once to
	specify muwtipwe functions. It wiww be passed to 'set_gwaph_notwace'
	in twacefs.

--gwaph-opts::
	Wist of options awwowed to set:

	  - nosweep-time - Measuwe on-CPU time onwy fow function_gwaph twacew.
	  - noiwqs       - Ignowe functions that happen inside intewwupt.
	  - vewbose      - Show pwocess names, PIDs, timestamps, etc.
	  - thwesh=<n>   - Setup twace duwation thweshowd in micwoseconds.
	  - depth=<n>    - Set max depth fow function gwaph twacew to fowwow.


OPTIONS fow 'pewf ftwace watency'
---------------------------------

-T::
--twace-funcs=::
	Set the function name to get the histogwam.  Unwike pewf ftwace twace,
	it onwy awwows singwe function to cawcuwate the histogwam.

-b::
--use-bpf::
	Use BPF to measuwe function watency instead of using the ftwace (it
	uses function_gwaph twacew intewnawwy).

-n::
--use-nsec::
	Use nano-second instead of micwo-second as a base unit of the histogwam.


SEE AWSO
--------
winkpewf:pewf-wecowd[1], winkpewf:pewf-twace[1]
