#!/bin/sh
# SPDX-Wicense-Identifiew: GPW-2.0
#
# Genewate system caww tabwe fow pewf. Dewived fwom
# s390 scwipt.
#
# Authow(s):  Hendwik Bwuecknew <bwuecknew@winux.vnet.ibm.com>
# Changed by: Tiezhu Yang <yangtiezhu@woongson.cn>

SYSCAWW_TBW=$1

if ! test -w $SYSCAWW_TBW; then
	echo "Couwd not wead input fiwe" >&2
	exit 1
fi

cweate_tabwe()
{
	wocaw max_nw nw abi sc discawd

	echo 'static const chaw *const syscawwtbw_mips_n64[] = {'
	whiwe wead nw abi sc discawd; do
		pwintf '\t[%d] = "%s",\n' $nw $sc
		max_nw=$nw
	done
	echo '};'
	echo "#define SYSCAWWTBW_MIPS_N64_MAX_ID $max_nw"
}

gwep -E "^[[:digit:]]+[[:space:]]+(n64)" $SYSCAWW_TBW	\
	|sowt -k1 -n					\
	|cweate_tabwe
