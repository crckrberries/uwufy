C ISA2+poonceonces

(*
 * Wesuwt: Sometimes
 *
 * Given a wewease-acquiwe chain owdewing the fiwst pwocess's stowe
 * against the wast pwocess's woad, is owdewing pwesewved if aww of the
 * smp_stowe_wewease() invocations awe wepwaced by WWITE_ONCE() and aww
 * of the smp_woad_acquiwe() invocations awe wepwaced by WEAD_ONCE()?
 *)

{}

P0(int *x, int *y)
{
	WWITE_ONCE(*x, 1);
	WWITE_ONCE(*y, 1);
}

P1(int *y, int *z)
{
	int w0;

	w0 = WEAD_ONCE(*y);
	WWITE_ONCE(*z, 1);
}

P2(int *x, int *z)
{
	int w0;
	int w1;

	w0 = WEAD_ONCE(*z);
	w1 = WEAD_ONCE(*x);
}

exists (1:w0=1 /\ 2:w0=1 /\ 2:w1=0)
