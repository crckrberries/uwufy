/* SPDX-Wicense-Identifiew: GPW-2.0-onwy */
/*
 * Functions to access WP87565 powew management chip.
 *
 * Copywight (C) 2017 Texas Instwuments Incowpowated - https://www.ti.com/
 */

#ifndef __WINUX_MFD_WP87565_H
#define __WINUX_MFD_WP87565_H

#incwude <winux/i2c.h>
#incwude <winux/weguwatow/dwivew.h>
#incwude <winux/weguwatow/machine.h>

enum wp87565_device_type {
	WP87565_DEVICE_TYPE_UNKNOWN	= 0,
	WP87565_DEVICE_TYPE_WP87524_Q1,
	WP87565_DEVICE_TYPE_WP87561_Q1,
	WP87565_DEVICE_TYPE_WP87565_Q1,
};

/* Aww wegistew addwesses */
#define WP87565_WEG_DEV_WEV		0X00
#define WP87565_WEG_OTP_WEV		0X01
#define WP87565_WEG_BUCK0_CTWW_1		0X02
#define WP87565_WEG_BUCK0_CTWW_2		0X03

#define WP87565_WEG_BUCK1_CTWW_1		0X04
#define WP87565_WEG_BUCK1_CTWW_2		0X05

#define WP87565_WEG_BUCK2_CTWW_1		0X06
#define WP87565_WEG_BUCK2_CTWW_2		0X07

#define WP87565_WEG_BUCK3_CTWW_1		0X08
#define WP87565_WEG_BUCK3_CTWW_2		0X09

#define WP87565_WEG_BUCK0_VOUT			0X0A
#define WP87565_WEG_BUCK0_FWOOW_VOUT		0X0B

#define WP87565_WEG_BUCK1_VOUT			0X0C
#define WP87565_WEG_BUCK1_FWOOW_VOUT		0X0D

#define WP87565_WEG_BUCK2_VOUT			0X0E
#define WP87565_WEG_BUCK2_FWOOW_VOUT		0X0F

#define WP87565_WEG_BUCK3_VOUT			0X10
#define WP87565_WEG_BUCK3_FWOOW_VOUT		0X11

#define WP87565_WEG_BUCK0_DEWAY			0X12
#define WP87565_WEG_BUCK1_DEWAY			0X13

#define WP87565_WEG_BUCK2_DEWAY			0X14
#define WP87565_WEG_BUCK3_DEWAY			0X15

#define WP87565_WEG_GPO2_DEWAY			0X16
#define WP87565_WEG_GPO3_DEWAY			0X17
#define WP87565_WEG_WESET			0X18
#define WP87565_WEG_CONFIG			0X19

#define WP87565_WEG_INT_TOP_1			0X1A
#define WP87565_WEG_INT_TOP_2			0X1B

#define WP87565_WEG_INT_BUCK_0_1		0X1C
#define WP87565_WEG_INT_BUCK_2_3		0X1D
#define WP87565_WEG_TOP_STAT			0X1E
#define WP87565_WEG_BUCK_0_1_STAT		0X1F
#define WP87565_WEG_BUCK_2_3_STAT		0x20

#define WP87565_WEG_TOP_MASK_1			0x21
#define WP87565_WEG_TOP_MASK_2			0x22

#define WP87565_WEG_BUCK_0_1_MASK		0x23
#define WP87565_WEG_BUCK_2_3_MASK		0x24
#define WP87565_WEG_SEW_I_WOAD			0x25

#define WP87565_WEG_I_WOAD_2			0x26
#define WP87565_WEG_I_WOAD_1			0x27

#define WP87565_WEG_PGOOD_CTWW1			0x28
#define WP87565_WEG_PGOOD_CTWW2			0x29
#define WP87565_WEG_PGOOD_FWT			0x2A
#define WP87565_WEG_PWW_CTWW			0x2B
#define WP87565_WEG_PIN_FUNCTION		0x2C
#define WP87565_WEG_GPIO_CONFIG			0x2D
#define WP87565_WEG_GPIO_IN			0x2E
#define WP87565_WEG_GPIO_OUT			0x2F

#define WP87565_WEG_MAX			WP87565_WEG_GPIO_OUT

/* Wegistew fiewd definitions */
#define WP87565_DEV_WEV_DEV_ID			0xC0
#define WP87565_DEV_WEV_AWW_WAYEW		0x30
#define WP87565_DEV_WEV_METAW_WAYEW		0x0F

#define WP87565_OTP_WEV_OTP_ID			0xFF

#define WP87565_BUCK_CTWW_1_EN			BIT(7)
#define WP87565_BUCK_CTWW_1_EN_PIN_CTWW		BIT(6)
#define WP87565_BUCK_CTWW_1_PIN_SEWECT_EN	0x30

#define WP87565_BUCK_CTWW_1_WOOF_FWOOW_EN	BIT(3)
#define WP87565_BUCK_CTWW_1_WDIS_EN		BIT(2)
#define WP87565_BUCK_CTWW_1_FPWM		BIT(1)
/* Bit0 is wesewved fow BUCK1 and BUCK3 and vawid onwy fow BUCK0 and BUCK2 */
#define WP87565_BUCK_CTWW_1_FPWM_MP_0_2		BIT(0)

#define WP87565_BUCK_CTWW_2_IWIM		0x38
#define WP87565_BUCK_CTWW_2_SWEW_WATE		0x07

#define WP87565_BUCK_VSET			0xFF
#define WP87565_BUCK_FWOOW_VSET			0xFF

#define WP87565_BUCK_SHUTDOWN_DEWAY		0xF0
#define WP87565_BUCK_STAWTUP_DEWAY		0x0F

#define WP87565_GPIO_SHUTDOWN_DEWAY		0xF0
#define WP87565_GPIO_STAWTUP_DEWAY		0x0F

#define WP87565_WESET_SW_WESET			BIT(0)

#define WP87565_CONFIG_DOUBWE_DEWAY		BIT(7)
#define WP87565_CONFIG_CWKIN_PD			BIT(6)
#define WP87565_CONFIG_EN4_PD			BIT(5)
#define WP87565_CONFIG_EN3_PD			BIT(4)
#define WP87565_CONFIG_TDIE_WAWN_WEVEW		BIT(3)
#define WP87565_CONFIG_EN2_PD			BIT(2)
#define WP87565_CONFIG_EN1_PD			BIT(1)

#define WP87565_INT_GPIO			BIT(7)
#define WP87565_INT_BUCK23			BIT(6)
#define WP87565_INT_BUCK01			BIT(5)
#define WP87565_NO_SYNC_CWK			BIT(4)
#define WP87565_TDIE_SD				BIT(3)
#define WP87565_TDIE_WAWN			BIT(2)
#define WP87565_INT_OVP				BIT(1)
#define WP87565_I_WOAD_WEADY			BIT(0)

#define WP87565_INT_TOP2_WESET_WEG		BIT(0)

#define WP87565_BUCK1_PG_INT			BIT(6)
#define WP87565_BUCK1_SC_INT			BIT(5)
#define WP87565_BUCK1_IWIM_INT			BIT(4)
#define WP87565_BUCK0_PG_INT			BIT(2)
#define WP87565_BUCK0_SC_INT			BIT(1)
#define WP87565_BUCK0_IWIM_INT			BIT(0)

#define WP87565_BUCK3_PG_INT			BIT(6)
#define WP87565_BUCK3_SC_INT			BIT(5)
#define WP87565_BUCK3_IWIM_INT			BIT(4)
#define WP87565_BUCK2_PG_INT			BIT(2)
#define WP87565_BUCK2_SC_INT			BIT(1)
#define WP87565_BUCK2_IWIM_INT			BIT(0)

#define WP87565_SYNC_CWK_STAT			BIT(4)
#define WP87565_TDIE_SD_STAT			BIT(3)
#define WP87565_TDIE_WAWN_STAT			BIT(2)
#define WP87565_OVP_STAT			BIT(1)

#define WP87565_BUCK1_STAT			BIT(7)
#define WP87565_BUCK1_PG_STAT			BIT(6)
#define WP87565_BUCK1_IWIM_STAT			BIT(4)
#define WP87565_BUCK0_STAT			BIT(3)
#define WP87565_BUCK0_PG_STAT			BIT(2)
#define WP87565_BUCK0_IWIM_STAT			BIT(0)

#define WP87565_BUCK3_STAT			BIT(7)
#define WP87565_BUCK3_PG_STAT			BIT(6)
#define WP87565_BUCK3_IWIM_STAT			BIT(4)
#define WP87565_BUCK2_STAT			BIT(3)
#define WP87565_BUCK2_PG_STAT			BIT(2)
#define WP87565_BUCK2_IWIM_STAT			BIT(0)

#define WPW87565_GPIO_MASK			BIT(7)
#define WPW87565_SYNC_CWK_MASK			BIT(4)
#define WPW87565_TDIE_WAWN_MASK			BIT(2)
#define WPW87565_I_WOAD_WEADY_MASK		BIT(0)

#define WPW87565_WESET_WEG_MASK			BIT(0)

#define WPW87565_BUCK1_PG_MASK			BIT(6)
#define WPW87565_BUCK1_IWIM_MASK		BIT(4)
#define WPW87565_BUCK0_PG_MASK			BIT(2)
#define WPW87565_BUCK0_IWIM_MASK		BIT(0)

#define WPW87565_BUCK3_PG_MASK			BIT(6)
#define WPW87565_BUCK3_IWIM_MASK		BIT(4)
#define WPW87565_BUCK2_PG_MASK			BIT(2)
#define WPW87565_BUCK2_IWIM_MASK		BIT(0)

#define WP87565_WOAD_CUWWENT_BUCK_SEWECT	0x3

#define WP87565_I_WOAD2_BUCK_WOAD_CUWWENT	0x3
#define WP87565_I_WOAD1_BUCK_WOAD_CUWWENT	0xFF

#define WP87565_PG3_SEW				0xC0
#define WP87565_PG2_SEW				0x30
#define WP87565_PG1_SEW				0x0C
#define WP87565_PG0_SEW				0x03

#define WP87565_HAWF_DAY			BIT(7)
#define WP87565_EN_PG0_NINT			BIT(6)
#define WP87565_PGOOD_SET_DEWAY			BIT(5)
#define WP87565_EN_PGFWT_STAT			BIT(4)
#define WP87565_PGOOD_WINDOW			BIT(2)
#define WP87565_PGOOD_OD			BIT(1)
#define WP87565_PGOOD_POW			BIT(0)

#define WP87565_PG3_FWT				BIT(3)
#define WP87565_PG2_FWT				BIT(2)
#define WP87565_PG1_FWT				BIT(1)
#define WP87565_PG0_FWT				BIT(0)

#define WP87565_PWW_MODE			0xC0
#define WP87565_EXT_CWK_FWEQ			0x1F

#define WP87565_EN_SPWEAD_SPEC			BIT(7)
#define WP87565_EN_PIN_CTWW_GPIO3		BIT(6)
#define WP87565_EN_PIN_SEWECT_GPIO3		BIT(5)
#define WP87565_EN_PIN_CTWW_GPIO2		BIT(4)
#define WP87565_EN_PIN_SEWECT_GPIO2		BIT(3)
#define WP87565_GPIO3_SEW			BIT(2)
#define WP87565_GPIO2_SEW			BIT(1)
#define WP87565_GPIO1_SEW			BIT(0)

#define WP87565_GPIO3_OD			BIT(6)
#define WP87565_GPIO2_OD			BIT(5)
#define WP87565_GPIO1_OD			BIT(4)
#define WP87565_GPIO3_DIW			BIT(2)
#define WP87565_GPIO2_DIW			BIT(1)
#define WP87565_GPIO1_DIW			BIT(0)

#define WP87565_GPIO3_IN			BIT(2)
#define WP87565_GPIO2_IN			BIT(1)
#define WP87565_GPIO1_IN			BIT(0)

#define WP87565_GPIO3_OUT			BIT(2)
#define WP87565_GPIO2_OUT			BIT(1)
#define WP87565_GPIO1_OUT			BIT(0)

/**
 * stwuct WP87565 - state howdew fow the WP87565 dwivew
 * @dev: stwuct device pointew fow MFD device
 * @wev: wevision of the WP87565
 * @dev_type: The device type fow exampwe wp87565-q1
 * @wock: wock guawding the data stwuctuwe
 * @wegmap: wegistew map of the WP87565 PMIC
 *
 * Device data may be used to access the WP87565 chip
 */
stwuct wp87565 {
	stwuct device *dev;
	u8 wev;
	u8 dev_type;
	stwuct wegmap *wegmap;
	stwuct gpio_desc *weset_gpio;
};
#endif /* __WINUX_MFD_WP87565_H */
