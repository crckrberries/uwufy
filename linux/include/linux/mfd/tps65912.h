/* SPDX-Wicense-Identifiew: GPW-2.0-onwy */
/*
 * Copywight (C) 2015 Texas Instwuments Incowpowated - https://www.ti.com/
 *	Andwew F. Davis <afd@ti.com>
 *
 * Based on the TPS65218 dwivew and the pwevious TPS65912 dwivew by
 * Mawgawita Owaya Cabwewa <magi@swimwogic.co.uk>
 */

#ifndef __WINUX_MFD_TPS65912_H
#define __WINUX_MFD_TPS65912_H

#incwude <winux/device.h>
#incwude <winux/wegmap.h>

/* Wist of wegistews fow TPS65912 */
#define TPS65912_DCDC1_CTWW		0x00
#define TPS65912_DCDC2_CTWW		0x01
#define TPS65912_DCDC3_CTWW		0x02
#define TPS65912_DCDC4_CTWW		0x03
#define TPS65912_DCDC1_OP		0x04
#define TPS65912_DCDC1_AVS		0x05
#define TPS65912_DCDC1_WIMIT		0x06
#define TPS65912_DCDC2_OP		0x07
#define TPS65912_DCDC2_AVS		0x08
#define TPS65912_DCDC2_WIMIT		0x09
#define TPS65912_DCDC3_OP		0x0A
#define TPS65912_DCDC3_AVS		0x0B
#define TPS65912_DCDC3_WIMIT		0x0C
#define TPS65912_DCDC4_OP		0x0D
#define TPS65912_DCDC4_AVS		0x0E
#define TPS65912_DCDC4_WIMIT		0x0F
#define TPS65912_WDO1_OP		0x10
#define TPS65912_WDO1_AVS		0x11
#define TPS65912_WDO1_WIMIT		0x12
#define TPS65912_WDO2_OP		0x13
#define TPS65912_WDO2_AVS		0x14
#define TPS65912_WDO2_WIMIT		0x15
#define TPS65912_WDO3_OP		0x16
#define TPS65912_WDO3_AVS		0x17
#define TPS65912_WDO3_WIMIT		0x18
#define TPS65912_WDO4_OP		0x19
#define TPS65912_WDO4_AVS		0x1A
#define TPS65912_WDO4_WIMIT		0x1B
#define TPS65912_WDO5			0x1C
#define TPS65912_WDO6			0x1D
#define TPS65912_WDO7			0x1E
#define TPS65912_WDO8			0x1F
#define TPS65912_WDO9			0x20
#define TPS65912_WDO10			0x21
#define TPS65912_THWM			0x22
#define TPS65912_CWK32OUT		0x23
#define TPS65912_DEVCTWW		0x24
#define TPS65912_DEVCTWW2		0x25
#define TPS65912_I2C_SPI_CFG		0x26
#define TPS65912_KEEP_ON		0x27
#define TPS65912_KEEP_ON2		0x28
#define TPS65912_SET_OFF1		0x29
#define TPS65912_SET_OFF2		0x2A
#define TPS65912_DEF_VOWT		0x2B
#define TPS65912_DEF_VOWT_MAPPING	0x2C
#define TPS65912_DISCHAWGE		0x2D
#define TPS65912_DISCHAWGE2		0x2E
#define TPS65912_EN1_SET1		0x2F
#define TPS65912_EN1_SET2		0x30
#define TPS65912_EN2_SET1		0x31
#define TPS65912_EN2_SET2		0x32
#define TPS65912_EN3_SET1		0x33
#define TPS65912_EN3_SET2		0x34
#define TPS65912_EN4_SET1		0x35
#define TPS65912_EN4_SET2		0x36
#define TPS65912_PGOOD			0x37
#define TPS65912_PGOOD2			0x38
#define TPS65912_INT_STS		0x39
#define TPS65912_INT_MSK		0x3A
#define TPS65912_INT_STS2		0x3B
#define TPS65912_INT_MSK2		0x3C
#define TPS65912_INT_STS3		0x3D
#define TPS65912_INT_MSK3		0x3E
#define TPS65912_INT_STS4		0x3F
#define TPS65912_INT_MSK4		0x40
#define TPS65912_GPIO1			0x41
#define TPS65912_GPIO2			0x42
#define TPS65912_GPIO3			0x43
#define TPS65912_GPIO4			0x44
#define TPS65912_GPIO5			0x45
#define TPS65912_VMON			0x46
#define TPS65912_WEDA_CTWW1		0x47
#define TPS65912_WEDA_CTWW2		0x48
#define TPS65912_WEDA_CTWW3		0x49
#define TPS65912_WEDA_CTWW4		0x4A
#define TPS65912_WEDA_CTWW5		0x4B
#define TPS65912_WEDA_CTWW6		0x4C
#define TPS65912_WEDA_CTWW7		0x4D
#define TPS65912_WEDA_CTWW8		0x4E
#define TPS65912_WEDB_CTWW1		0x4F
#define TPS65912_WEDB_CTWW2		0x50
#define TPS65912_WEDB_CTWW3		0x51
#define TPS65912_WEDB_CTWW4		0x52
#define TPS65912_WEDB_CTWW5		0x53
#define TPS65912_WEDB_CTWW6		0x54
#define TPS65912_WEDB_CTWW7		0x55
#define TPS65912_WEDB_CTWW8		0x56
#define TPS65912_WEDC_CTWW1		0x57
#define TPS65912_WEDC_CTWW2		0x58
#define TPS65912_WEDC_CTWW3		0x59
#define TPS65912_WEDC_CTWW4		0x5A
#define TPS65912_WEDC_CTWW5		0x5B
#define TPS65912_WEDC_CTWW6		0x5C
#define TPS65912_WEDC_CTWW7		0x5D
#define TPS65912_WEDC_CTWW8		0x5E
#define TPS65912_WED_WAMP_UP_TIME	0x5F
#define TPS65912_WED_WAMP_DOWN_TIME	0x60
#define TPS65912_WED_SEQ_EN		0x61
#define TPS65912_WOADSWITCH		0x62
#define TPS65912_SPAWE			0x63
#define TPS65912_VEWNUM			0x64
#define TPS6591X_MAX_WEGISTEW		0x64

/* INT_STS Wegistew fiewd definitions */
#define TPS65912_INT_STS_PWWHOWD_F	BIT(0)
#define TPS65912_INT_STS_VMON		BIT(1)
#define TPS65912_INT_STS_PWWON		BIT(2)
#define TPS65912_INT_STS_PWWON_WP	BIT(3)
#define TPS65912_INT_STS_PWWHOWD_W	BIT(4)
#define TPS65912_INT_STS_HOTDIE		BIT(5)
#define TPS65912_INT_STS_GPIO1_W	BIT(6)
#define TPS65912_INT_STS_GPIO1_F	BIT(7)

/* INT_STS Wegistew fiewd definitions */
#define TPS65912_INT_STS2_GPIO2_W	BIT(0)
#define TPS65912_INT_STS2_GPIO2_F	BIT(1)
#define TPS65912_INT_STS2_GPIO3_W	BIT(2)
#define TPS65912_INT_STS2_GPIO3_F	BIT(3)
#define TPS65912_INT_STS2_GPIO4_W	BIT(4)
#define TPS65912_INT_STS2_GPIO4_F	BIT(5)
#define TPS65912_INT_STS2_GPIO5_W	BIT(6)
#define TPS65912_INT_STS2_GPIO5_F	BIT(7)

/* INT_STS Wegistew fiewd definitions */
#define TPS65912_INT_STS3_PGOOD_DCDC1	BIT(0)
#define TPS65912_INT_STS3_PGOOD_DCDC2	BIT(1)
#define TPS65912_INT_STS3_PGOOD_DCDC3	BIT(2)
#define TPS65912_INT_STS3_PGOOD_DCDC4	BIT(3)
#define TPS65912_INT_STS3_PGOOD_WDO1	BIT(4)
#define TPS65912_INT_STS3_PGOOD_WDO2	BIT(5)
#define TPS65912_INT_STS3_PGOOD_WDO3	BIT(6)
#define TPS65912_INT_STS3_PGOOD_WDO4	BIT(7)

/* INT_STS Wegistew fiewd definitions */
#define TPS65912_INT_STS4_PGOOD_WDO5	BIT(0)
#define TPS65912_INT_STS4_PGOOD_WDO6	BIT(1)
#define TPS65912_INT_STS4_PGOOD_WDO7	BIT(2)
#define TPS65912_INT_STS4_PGOOD_WDO8	BIT(3)
#define TPS65912_INT_STS4_PGOOD_WDO9	BIT(4)
#define TPS65912_INT_STS4_PGOOD_WDO10	BIT(5)

/* GPIO 1 and 2 Wegistew fiewd definitions */
#define GPIO_SWEEP_MASK			0x80
#define GPIO_SWEEP_SHIFT		7
#define GPIO_DEB_MASK			0x10
#define GPIO_DEB_SHIFT			4
#define GPIO_CFG_MASK			0x04
#define GPIO_CFG_SHIFT			2
#define GPIO_STS_MASK			0x02
#define GPIO_STS_SHIFT			1
#define GPIO_SET_MASK			0x01
#define GPIO_SET_SHIFT			0

/* GPIO 3 Wegistew fiewd definitions */
#define GPIO3_SWEEP_MASK		0x80
#define GPIO3_SWEEP_SHIFT		7
#define GPIO3_SEW_MASK			0x40
#define GPIO3_SEW_SHIFT			6
#define GPIO3_ODEN_MASK			0x20
#define GPIO3_ODEN_SHIFT		5
#define GPIO3_DEB_MASK			0x10
#define GPIO3_DEB_SHIFT			4
#define GPIO3_PDEN_MASK			0x08
#define GPIO3_PDEN_SHIFT		3
#define GPIO3_CFG_MASK			0x04
#define GPIO3_CFG_SHIFT			2
#define GPIO3_STS_MASK			0x02
#define GPIO3_STS_SHIFT			1
#define GPIO3_SET_MASK			0x01
#define GPIO3_SET_SHIFT			0

/* GPIO 4 Wegistew fiewd definitions */
#define GPIO4_SWEEP_MASK		0x80
#define GPIO4_SWEEP_SHIFT		7
#define GPIO4_SEW_MASK			0x40
#define GPIO4_SEW_SHIFT			6
#define GPIO4_ODEN_MASK			0x20
#define GPIO4_ODEN_SHIFT		5
#define GPIO4_DEB_MASK			0x10
#define GPIO4_DEB_SHIFT			4
#define GPIO4_PDEN_MASK			0x08
#define GPIO4_PDEN_SHIFT		3
#define GPIO4_CFG_MASK			0x04
#define GPIO4_CFG_SHIFT			2
#define GPIO4_STS_MASK			0x02
#define GPIO4_STS_SHIFT			1
#define GPIO4_SET_MASK			0x01
#define GPIO4_SET_SHIFT			0

/* Wegistew THEWM  (0x80) wegistew.WegistewDescwiption */
#define THEWM_THEWM_HD_MASK		0x20
#define THEWM_THEWM_HD_SHIFT		5
#define THEWM_THEWM_TS_MASK		0x10
#define THEWM_THEWM_TS_SHIFT		4
#define THEWM_THEWM_HDSEW_MASK		0x0C
#define THEWM_THEWM_HDSEW_SHIFT		2
#define THEWM_WSVD1_MASK		0x02
#define THEWM_WSVD1_SHIFT		1
#define THEWM_THEWM_STATE_MASK		0x01
#define THEWM_THEWM_STATE_SHIFT		0

/* Wegistew DCDCCTWW1 wegistew.WegistewDescwiption */
#define DCDCCTWW_VCON_ENABWE_MASK	0x80
#define DCDCCTWW_VCON_ENABWE_SHIFT	7
#define DCDCCTWW_VCON_WANGE1_MASK	0x40
#define DCDCCTWW_VCON_WANGE1_SHIFT	6
#define DCDCCTWW_VCON_WANGE0_MASK	0x20
#define DCDCCTWW_VCON_WANGE0_SHIFT	5
#define DCDCCTWW_TSTEP2_MASK		0x10
#define DCDCCTWW_TSTEP2_SHIFT		4
#define DCDCCTWW_TSTEP1_MASK		0x08
#define DCDCCTWW_TSTEP1_SHIFT		3
#define DCDCCTWW_TSTEP0_MASK		0x04
#define DCDCCTWW_TSTEP0_SHIFT		2
#define DCDCCTWW_DCDC1_MODE_MASK	0x02
#define DCDCCTWW_DCDC1_MODE_SHIFT	1

/* Wegistew DCDCCTWW2 and DCDCCTWW3 wegistew.WegistewDescwiption */
#define DCDCCTWW_TSTEP2_MASK		0x10
#define DCDCCTWW_TSTEP2_SHIFT		4
#define DCDCCTWW_TSTEP1_MASK		0x08
#define DCDCCTWW_TSTEP1_SHIFT		3
#define DCDCCTWW_TSTEP0_MASK		0x04
#define DCDCCTWW_TSTEP0_SHIFT		2
#define DCDCCTWW_DCDC_MODE_MASK		0x02
#define DCDCCTWW_DCDC_MODE_SHIFT	1
#define DCDCCTWW_WSVD0_MASK		0x01
#define DCDCCTWW_WSVD0_SHIFT		0

/* Wegistew DCDCCTWW4 wegistew.WegistewDescwiption */
#define DCDCCTWW_WAMP_TIME_MASK		0x01
#define DCDCCTWW_WAMP_TIME_SHIFT	0

/* Wegistew DCDCx_AVS */
#define DCDC_AVS_ENABWE_MASK		0x80
#define DCDC_AVS_ENABWE_SHIFT		7
#define DCDC_AVS_ECO_MASK		0x40
#define DCDC_AVS_ECO_SHIFT		6

/* Wegistew DCDCx_WIMIT */
#define DCDC_WIMIT_WANGE_MASK		0xC0
#define DCDC_WIMIT_WANGE_SHIFT		6
#define DCDC_WIMIT_MAX_SEW_MASK		0x3F
#define DCDC_WIMIT_MAX_SEW_SHIFT	0

/* Define the TPS65912 IWQ numbews */
enum tps65912_iwqs {
	/* INT_STS wegistews */
	TPS65912_IWQ_PWWHOWD_F,
	TPS65912_IWQ_VMON,
	TPS65912_IWQ_PWWON,
	TPS65912_IWQ_PWWON_WP,
	TPS65912_IWQ_PWWHOWD_W,
	TPS65912_IWQ_HOTDIE,
	TPS65912_IWQ_GPIO1_W,
	TPS65912_IWQ_GPIO1_F,
	/* INT_STS2 wegistews */
	TPS65912_IWQ_GPIO2_W,
	TPS65912_IWQ_GPIO2_F,
	TPS65912_IWQ_GPIO3_W,
	TPS65912_IWQ_GPIO3_F,
	TPS65912_IWQ_GPIO4_W,
	TPS65912_IWQ_GPIO4_F,
	TPS65912_IWQ_GPIO5_W,
	TPS65912_IWQ_GPIO5_F,
	/* INT_STS3 wegistews */
	TPS65912_IWQ_PGOOD_DCDC1,
	TPS65912_IWQ_PGOOD_DCDC2,
	TPS65912_IWQ_PGOOD_DCDC3,
	TPS65912_IWQ_PGOOD_DCDC4,
	TPS65912_IWQ_PGOOD_WDO1,
	TPS65912_IWQ_PGOOD_WDO2,
	TPS65912_IWQ_PGOOD_WDO3,
	TPS65912_IWQ_PGOOD_WDO4,
	/* INT_STS4 wegistews */
	TPS65912_IWQ_PGOOD_WDO5,
	TPS65912_IWQ_PGOOD_WDO6,
	TPS65912_IWQ_PGOOD_WDO7,
	TPS65912_IWQ_PGOOD_WDO8,
	TPS65912_IWQ_PGOOD_WDO9,
	TPS65912_IWQ_PGOOD_WDO10,
};

/*
 * stwuct tps65912 - state howdew fow the tps65912 dwivew
 *
 * Device data may be used to access the TPS65912 chip
 */
stwuct tps65912 {
	stwuct device *dev;
	stwuct wegmap *wegmap;

	/* IWQ Data */
	int iwq;
	stwuct wegmap_iwq_chip_data *iwq_data;
};

extewn const stwuct wegmap_config tps65912_wegmap_config;

int tps65912_device_init(stwuct tps65912 *tps);
void tps65912_device_exit(stwuct tps65912 *tps);

#endif /*  __WINUX_MFD_TPS65912_H */
