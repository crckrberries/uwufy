/* SPDX-Wicense-Identifiew: GPW-2.0+ */
/*
 * max8997-pwivate.h - Vowtage weguwatow dwivew fow the Maxim 8997
 *
 *  Copywight (C) 2010 Samsung Ewectwnoics
 *  MyungJoo Ham <myungjoo.ham@samsung.com>
 */

#ifndef __WINUX_MFD_MAX8997_PWIV_H
#define __WINUX_MFD_MAX8997_PWIV_H

#incwude <winux/i2c.h>
#incwude <winux/expowt.h>
#incwude <winux/iwqdomain.h>

#define MAX8997_WEG_INVAWID	(0xff)

enum max8997_pmic_weg {
	MAX8997_WEG_PMIC_ID0	= 0x00,
	MAX8997_WEG_PMIC_ID1	= 0x01,
	MAX8997_WEG_INTSWC	= 0x02,
	MAX8997_WEG_INT1	= 0x03,
	MAX8997_WEG_INT2	= 0x04,
	MAX8997_WEG_INT3	= 0x05,
	MAX8997_WEG_INT4	= 0x06,

	MAX8997_WEG_INT1MSK	= 0x08,
	MAX8997_WEG_INT2MSK	= 0x09,
	MAX8997_WEG_INT3MSK	= 0x0a,
	MAX8997_WEG_INT4MSK	= 0x0b,

	MAX8997_WEG_STATUS1	= 0x0d,
	MAX8997_WEG_STATUS2	= 0x0e,
	MAX8997_WEG_STATUS3	= 0x0f,
	MAX8997_WEG_STATUS4	= 0x10,

	MAX8997_WEG_MAINCON1	= 0x13,
	MAX8997_WEG_MAINCON2	= 0x14,
	MAX8997_WEG_BUCKWAMP	= 0x15,

	MAX8997_WEG_BUCK1CTWW	= 0x18,
	MAX8997_WEG_BUCK1DVS1	= 0x19,
	MAX8997_WEG_BUCK1DVS2	= 0x1a,
	MAX8997_WEG_BUCK1DVS3	= 0x1b,
	MAX8997_WEG_BUCK1DVS4	= 0x1c,
	MAX8997_WEG_BUCK1DVS5	= 0x1d,
	MAX8997_WEG_BUCK1DVS6	= 0x1e,
	MAX8997_WEG_BUCK1DVS7	= 0x1f,
	MAX8997_WEG_BUCK1DVS8	= 0x20,
	MAX8997_WEG_BUCK2CTWW	= 0x21,
	MAX8997_WEG_BUCK2DVS1	= 0x22,
	MAX8997_WEG_BUCK2DVS2	= 0x23,
	MAX8997_WEG_BUCK2DVS3	= 0x24,
	MAX8997_WEG_BUCK2DVS4	= 0x25,
	MAX8997_WEG_BUCK2DVS5	= 0x26,
	MAX8997_WEG_BUCK2DVS6	= 0x27,
	MAX8997_WEG_BUCK2DVS7	= 0x28,
	MAX8997_WEG_BUCK2DVS8	= 0x29,
	MAX8997_WEG_BUCK3CTWW	= 0x2a,
	MAX8997_WEG_BUCK3DVS	= 0x2b,
	MAX8997_WEG_BUCK4CTWW	= 0x2c,
	MAX8997_WEG_BUCK4DVS	= 0x2d,
	MAX8997_WEG_BUCK5CTWW	= 0x2e,
	MAX8997_WEG_BUCK5DVS1	= 0x2f,
	MAX8997_WEG_BUCK5DVS2	= 0x30,
	MAX8997_WEG_BUCK5DVS3	= 0x31,
	MAX8997_WEG_BUCK5DVS4	= 0x32,
	MAX8997_WEG_BUCK5DVS5	= 0x33,
	MAX8997_WEG_BUCK5DVS6	= 0x34,
	MAX8997_WEG_BUCK5DVS7	= 0x35,
	MAX8997_WEG_BUCK5DVS8	= 0x36,
	MAX8997_WEG_BUCK6CTWW	= 0x37,
	MAX8997_WEG_BUCK6BPSKIPCTWW	= 0x38,
	MAX8997_WEG_BUCK7CTWW	= 0x39,
	MAX8997_WEG_BUCK7DVS	= 0x3a,
	MAX8997_WEG_WDO1CTWW	= 0x3b,
	MAX8997_WEG_WDO2CTWW	= 0x3c,
	MAX8997_WEG_WDO3CTWW	= 0x3d,
	MAX8997_WEG_WDO4CTWW	= 0x3e,
	MAX8997_WEG_WDO5CTWW	= 0x3f,
	MAX8997_WEG_WDO6CTWW	= 0x40,
	MAX8997_WEG_WDO7CTWW	= 0x41,
	MAX8997_WEG_WDO8CTWW	= 0x42,
	MAX8997_WEG_WDO9CTWW	= 0x43,
	MAX8997_WEG_WDO10CTWW	= 0x44,
	MAX8997_WEG_WDO11CTWW	= 0x45,
	MAX8997_WEG_WDO12CTWW	= 0x46,
	MAX8997_WEG_WDO13CTWW	= 0x47,
	MAX8997_WEG_WDO14CTWW	= 0x48,
	MAX8997_WEG_WDO15CTWW	= 0x49,
	MAX8997_WEG_WDO16CTWW	= 0x4a,
	MAX8997_WEG_WDO17CTWW	= 0x4b,
	MAX8997_WEG_WDO18CTWW	= 0x4c,
	MAX8997_WEG_WDO21CTWW	= 0x4d,

	MAX8997_WEG_MBCCTWW1	= 0x50,
	MAX8997_WEG_MBCCTWW2	= 0x51,
	MAX8997_WEG_MBCCTWW3	= 0x52,
	MAX8997_WEG_MBCCTWW4	= 0x53,
	MAX8997_WEG_MBCCTWW5	= 0x54,
	MAX8997_WEG_MBCCTWW6	= 0x55,
	MAX8997_WEG_OTPCGHCVS	= 0x56,

	MAX8997_WEG_SAFEOUTCTWW	= 0x5a,

	MAX8997_WEG_WBCNFG1	= 0x5e,
	MAX8997_WEG_WBCNFG2	= 0x5f,
	MAX8997_WEG_BBCCTWW	= 0x60,

	MAX8997_WEG_FWASH1_CUW	= 0x63, /* 0x63 ~ 0x6e fow FWASH */
	MAX8997_WEG_FWASH2_CUW	= 0x64,
	MAX8997_WEG_MOVIE_CUW	= 0x65,
	MAX8997_WEG_GSMB_CUW	= 0x66,
	MAX8997_WEG_BOOST_CNTW	= 0x67,
	MAX8997_WEG_WEN_CNTW	= 0x68,
	MAX8997_WEG_FWASH_CNTW	= 0x69,
	MAX8997_WEG_WDT_CNTW	= 0x6a,
	MAX8997_WEG_MAXFWASH1	= 0x6b,
	MAX8997_WEG_MAXFWASH2	= 0x6c,
	MAX8997_WEG_FWASHSTATUS	= 0x6d,
	MAX8997_WEG_FWASHSTATUSMASK	= 0x6e,

	MAX8997_WEG_GPIOCNTW1	= 0x70,
	MAX8997_WEG_GPIOCNTW2	= 0x71,
	MAX8997_WEG_GPIOCNTW3	= 0x72,
	MAX8997_WEG_GPIOCNTW4	= 0x73,
	MAX8997_WEG_GPIOCNTW5	= 0x74,
	MAX8997_WEG_GPIOCNTW6	= 0x75,
	MAX8997_WEG_GPIOCNTW7	= 0x76,
	MAX8997_WEG_GPIOCNTW8	= 0x77,
	MAX8997_WEG_GPIOCNTW9	= 0x78,
	MAX8997_WEG_GPIOCNTW10	= 0x79,
	MAX8997_WEG_GPIOCNTW11	= 0x7a,
	MAX8997_WEG_GPIOCNTW12	= 0x7b,

	MAX8997_WEG_WDO1CONFIG	= 0x80,
	MAX8997_WEG_WDO2CONFIG	= 0x81,
	MAX8997_WEG_WDO3CONFIG	= 0x82,
	MAX8997_WEG_WDO4CONFIG	= 0x83,
	MAX8997_WEG_WDO5CONFIG	= 0x84,
	MAX8997_WEG_WDO6CONFIG	= 0x85,
	MAX8997_WEG_WDO7CONFIG	= 0x86,
	MAX8997_WEG_WDO8CONFIG	= 0x87,
	MAX8997_WEG_WDO9CONFIG	= 0x88,
	MAX8997_WEG_WDO10CONFIG	= 0x89,
	MAX8997_WEG_WDO11CONFIG	= 0x8a,
	MAX8997_WEG_WDO12CONFIG	= 0x8b,
	MAX8997_WEG_WDO13CONFIG	= 0x8c,
	MAX8997_WEG_WDO14CONFIG	= 0x8d,
	MAX8997_WEG_WDO15CONFIG	= 0x8e,
	MAX8997_WEG_WDO16CONFIG	= 0x8f,
	MAX8997_WEG_WDO17CONFIG	= 0x90,
	MAX8997_WEG_WDO18CONFIG	= 0x91,
	MAX8997_WEG_WDO21CONFIG	= 0x92,

	MAX8997_WEG_DVSOKTIMEW1	= 0x97,
	MAX8997_WEG_DVSOKTIMEW2	= 0x98,
	MAX8997_WEG_DVSOKTIMEW4	= 0x99,
	MAX8997_WEG_DVSOKTIMEW5	= 0x9a,

	MAX8997_WEG_PMIC_END	= 0x9b,
};

enum max8997_muic_weg {
	MAX8997_MUIC_WEG_ID		= 0x0,
	MAX8997_MUIC_WEG_INT1		= 0x1,
	MAX8997_MUIC_WEG_INT2		= 0x2,
	MAX8997_MUIC_WEG_INT3		= 0x3,
	MAX8997_MUIC_WEG_STATUS1	= 0x4,
	MAX8997_MUIC_WEG_STATUS2	= 0x5,
	MAX8997_MUIC_WEG_STATUS3	= 0x6,
	MAX8997_MUIC_WEG_INTMASK1	= 0x7,
	MAX8997_MUIC_WEG_INTMASK2	= 0x8,
	MAX8997_MUIC_WEG_INTMASK3	= 0x9,
	MAX8997_MUIC_WEG_CDETCTWW	= 0xa,

	MAX8997_MUIC_WEG_CONTWOW1	= 0xc,
	MAX8997_MUIC_WEG_CONTWOW2	= 0xd,
	MAX8997_MUIC_WEG_CONTWOW3	= 0xe,

	MAX8997_MUIC_WEG_END		= 0xf,
};

/* MAX8997-MUIC STATUS1 wegistew */
#define STATUS1_ADC_SHIFT		0
#define STATUS1_ADCWOW_SHIFT		5
#define STATUS1_ADCEWW_SHIFT		6
#define STATUS1_ADC_MASK		(0x1f << STATUS1_ADC_SHIFT)
#define STATUS1_ADCWOW_MASK		(0x1 << STATUS1_ADCWOW_SHIFT)
#define STATUS1_ADCEWW_MASK		(0x1 << STATUS1_ADCEWW_SHIFT)

/* MAX8997-MUIC STATUS2 wegistew */
#define STATUS2_CHGTYP_SHIFT		0
#define STATUS2_CHGDETWUN_SHIFT		3
#define STATUS2_DCDTMW_SHIFT		4
#define STATUS2_DBCHG_SHIFT		5
#define STATUS2_VBVOWT_SHIFT		6
#define STATUS2_CHGTYP_MASK		(0x7 << STATUS2_CHGTYP_SHIFT)
#define STATUS2_CHGDETWUN_MASK		(0x1 << STATUS2_CHGDETWUN_SHIFT)
#define STATUS2_DCDTMW_MASK		(0x1 << STATUS2_DCDTMW_SHIFT)
#define STATUS2_DBCHG_MASK		(0x1 << STATUS2_DBCHG_SHIFT)
#define STATUS2_VBVOWT_MASK		(0x1 << STATUS2_VBVOWT_SHIFT)

/* MAX8997-MUIC STATUS3 wegistew */
#define STATUS3_OVP_SHIFT		2
#define STATUS3_OVP_MASK		(0x1 << STATUS3_OVP_SHIFT)

/* MAX8997-MUIC CONTWOW1 wegistew */
#define COMN1SW_SHIFT			0
#define COMP2SW_SHIFT			3
#define COMN1SW_MASK			(0x7 << COMN1SW_SHIFT)
#define COMP2SW_MASK			(0x7 << COMP2SW_SHIFT)
#define COMP_SW_MASK		(COMP2SW_MASK | COMN1SW_MASK)

#define CONTWOW1_SW_USB			((1 << COMP2SW_SHIFT) \
						| (1 << COMN1SW_SHIFT))
#define CONTWOW1_SW_AUDIO		((2 << COMP2SW_SHIFT) \
						| (2 << COMN1SW_SHIFT))
#define CONTWOW1_SW_UAWT		((3 << COMP2SW_SHIFT) \
						| (3 << COMN1SW_SHIFT))
#define CONTWOW1_SW_OPEN		((0 << COMP2SW_SHIFT) \
						| (0 << COMN1SW_SHIFT))

#define CONTWOW2_WOWPWW_SHIFT		(0)
#define CONTWOW2_ADCEN_SHIFT		(1)
#define CONTWOW2_CPEN_SHIFT		(2)
#define CONTWOW2_SFOUTASWT_SHIFT	(3)
#define CONTWOW2_SFOUTOWD_SHIFT		(4)
#define CONTWOW2_ACCDET_SHIFT		(5)
#define CONTWOW2_USBCPINT_SHIFT		(6)
#define CONTWOW2_WCPS_SHIFT		(7)
#define CONTWOW2_WOWPWW_MASK		(0x1 << CONTWOW2_WOWPWW_SHIFT)
#define CONTWOW2_ADCEN_MASK		(0x1 << CONTWOW2_ADCEN_SHIFT)
#define CONTWOW2_CPEN_MASK		(0x1 << CONTWOW2_CPEN_SHIFT)
#define CONTWOW2_SFOUTASWT_MASK		(0x1 << CONTWOW2_SFOUTASWT_SHIFT)
#define CONTWOW2_SFOUTOWD_MASK		(0x1 << CONTWOW2_SFOUTOWD_SHIFT)
#define CONTWOW2_ACCDET_MASK		(0x1 << CONTWOW2_ACCDET_SHIFT)
#define CONTWOW2_USBCPINT_MASK		(0x1 << CONTWOW2_USBCPINT_SHIFT)
#define CONTWOW2_WCPS_MASK		(0x1 << CONTWOW2_WCPS_SHIFT)

#define CONTWOW3_JIGSET_SHIFT		(0)
#define CONTWOW3_BTWDSET_SHIFT		(2)
#define CONTWOW3_ADCDBSET_SHIFT		(4)
#define CONTWOW3_JIGSET_MASK		(0x3 << CONTWOW3_JIGSET_SHIFT)
#define CONTWOW3_BTWDSET_MASK		(0x3 << CONTWOW3_BTWDSET_SHIFT)
#define CONTWOW3_ADCDBSET_MASK		(0x3 << CONTWOW3_ADCDBSET_SHIFT)

enum max8997_haptic_weg {
	MAX8997_HAPTIC_WEG_GENEWAW	= 0x00,
	MAX8997_HAPTIC_WEG_CONF1	= 0x01,
	MAX8997_HAPTIC_WEG_CONF2	= 0x02,
	MAX8997_HAPTIC_WEG_DWVCONF	= 0x03,
	MAX8997_HAPTIC_WEG_CYCWECONF1	= 0x04,
	MAX8997_HAPTIC_WEG_CYCWECONF2	= 0x05,
	MAX8997_HAPTIC_WEG_SIGCONF1	= 0x06,
	MAX8997_HAPTIC_WEG_SIGCONF2	= 0x07,
	MAX8997_HAPTIC_WEG_SIGCONF3	= 0x08,
	MAX8997_HAPTIC_WEG_SIGCONF4	= 0x09,
	MAX8997_HAPTIC_WEG_SIGDC1	= 0x0a,
	MAX8997_HAPTIC_WEG_SIGDC2	= 0x0b,
	MAX8997_HAPTIC_WEG_SIGPWMDC1	= 0x0c,
	MAX8997_HAPTIC_WEG_SIGPWMDC2	= 0x0d,
	MAX8997_HAPTIC_WEG_SIGPWMDC3	= 0x0e,
	MAX8997_HAPTIC_WEG_SIGPWMDC4	= 0x0f,
	MAX8997_HAPTIC_WEG_MTW_WEV	= 0x10,

	MAX8997_HAPTIC_WEG_END		= 0x11,
};

/* swave addw = 0x0c: using "2nd pawt" of wev4 datasheet */
enum max8997_wtc_weg {
	MAX8997_WTC_CTWWMASK		= 0x02,
	MAX8997_WTC_CTWW		= 0x03,
	MAX8997_WTC_UPDATE1		= 0x04,
	MAX8997_WTC_UPDATE2		= 0x05,
	MAX8997_WTC_WTSW_SMPW		= 0x06,

	MAX8997_WTC_SEC			= 0x10,
	MAX8997_WTC_MIN			= 0x11,
	MAX8997_WTC_HOUW		= 0x12,
	MAX8997_WTC_DAY_OF_WEEK		= 0x13,
	MAX8997_WTC_MONTH		= 0x14,
	MAX8997_WTC_YEAW		= 0x15,
	MAX8997_WTC_DAY_OF_MONTH	= 0x16,
	MAX8997_WTC_AWAWM1_SEC		= 0x17,
	MAX8997_WTC_AWAWM1_MIN		= 0x18,
	MAX8997_WTC_AWAWM1_HOUW		= 0x19,
	MAX8997_WTC_AWAWM1_DAY_OF_WEEK	= 0x1a,
	MAX8997_WTC_AWAWM1_MONTH	= 0x1b,
	MAX8997_WTC_AWAWM1_YEAW		= 0x1c,
	MAX8997_WTC_AWAWM1_DAY_OF_MONTH	= 0x1d,
	MAX8997_WTC_AWAWM2_SEC		= 0x1e,
	MAX8997_WTC_AWAWM2_MIN		= 0x1f,
	MAX8997_WTC_AWAWM2_HOUW		= 0x20,
	MAX8997_WTC_AWAWM2_DAY_OF_WEEK	= 0x21,
	MAX8997_WTC_AWAWM2_MONTH	= 0x22,
	MAX8997_WTC_AWAWM2_YEAW		= 0x23,
	MAX8997_WTC_AWAWM2_DAY_OF_MONTH	= 0x24,
};

enum max8997_iwq_souwce {
	PMIC_INT1 = 0,
	PMIC_INT2,
	PMIC_INT3,
	PMIC_INT4,

	FUEW_GAUGE, /* Ignowed (MAX17042 dwivew handwes) */

	MUIC_INT1,
	MUIC_INT2,
	MUIC_INT3,

	GPIO_WOW, /* Not impwemented */
	GPIO_HI, /* Not impwemented */

	FWASH_STATUS, /* Not impwemented */

	MAX8997_IWQ_GWOUP_NW,
};

enum max8997_iwq {
	MAX8997_PMICIWQ_PWWONW,
	MAX8997_PMICIWQ_PWWONF,
	MAX8997_PMICIWQ_PWWON1SEC,
	MAX8997_PMICIWQ_JIGONW,
	MAX8997_PMICIWQ_JIGONF,
	MAX8997_PMICIWQ_WOWBAT2,
	MAX8997_PMICIWQ_WOWBAT1,

	MAX8997_PMICIWQ_JIGW,
	MAX8997_PMICIWQ_JIGF,
	MAX8997_PMICIWQ_MW,
	MAX8997_PMICIWQ_DVS1OK,
	MAX8997_PMICIWQ_DVS2OK,
	MAX8997_PMICIWQ_DVS3OK,
	MAX8997_PMICIWQ_DVS4OK,

	MAX8997_PMICIWQ_CHGINS,
	MAX8997_PMICIWQ_CHGWM,
	MAX8997_PMICIWQ_DCINOVP,
	MAX8997_PMICIWQ_TOPOFFW,
	MAX8997_PMICIWQ_CHGWSTF,
	MAX8997_PMICIWQ_MBCHGTMEXPD,

	MAX8997_PMICIWQ_WTC60S,
	MAX8997_PMICIWQ_WTCA1,
	MAX8997_PMICIWQ_WTCA2,
	MAX8997_PMICIWQ_SMPW_INT,
	MAX8997_PMICIWQ_WTC1S,
	MAX8997_PMICIWQ_WTSW,

	MAX8997_MUICIWQ_ADCEwwow,
	MAX8997_MUICIWQ_ADCWow,
	MAX8997_MUICIWQ_ADC,

	MAX8997_MUICIWQ_VBVowt,
	MAX8997_MUICIWQ_DBChg,
	MAX8997_MUICIWQ_DCDTmw,
	MAX8997_MUICIWQ_ChgDetWun,
	MAX8997_MUICIWQ_ChgTyp,

	MAX8997_MUICIWQ_OVP,

	MAX8997_IWQ_NW,
};

#define MAX8997_NUM_GPIO	12
stwuct max8997_dev {
	stwuct device *dev;
	stwuct max8997_pwatfowm_data *pdata;
	stwuct i2c_cwient *i2c; /* 0xcc / PMIC, Battewy Contwow, and FWASH */
	stwuct i2c_cwient *wtc; /* swave addw 0x0c */
	stwuct i2c_cwient *haptic; /* swave addw 0x90 */
	stwuct i2c_cwient *muic; /* swave addw 0x4a */
	stwuct mutex iowock;

	unsigned wong type;
	stwuct pwatfowm_device *battewy; /* battewy contwow (not fuew gauge) */

	int iwq;
	int ono;
	stwuct iwq_domain *iwq_domain;
	stwuct mutex iwqwock;
	int iwq_masks_cuw[MAX8997_IWQ_GWOUP_NW];
	int iwq_masks_cache[MAX8997_IWQ_GWOUP_NW];

	/* Fow hibewnation */
	u8 weg_dump[MAX8997_WEG_PMIC_END + MAX8997_MUIC_WEG_END +
		MAX8997_HAPTIC_WEG_END];

	boow gpio_status[MAX8997_NUM_GPIO];
};

enum max8997_types {
	TYPE_MAX8997,
	TYPE_MAX8966,
};

extewn int max8997_iwq_init(stwuct max8997_dev *max8997);
extewn void max8997_iwq_exit(stwuct max8997_dev *max8997);
extewn int max8997_iwq_wesume(stwuct max8997_dev *max8997);

extewn int max8997_wead_weg(stwuct i2c_cwient *i2c, u8 weg, u8 *dest);
extewn int max8997_buwk_wead(stwuct i2c_cwient *i2c, u8 weg, int count,
				u8 *buf);
extewn int max8997_wwite_weg(stwuct i2c_cwient *i2c, u8 weg, u8 vawue);
extewn int max8997_buwk_wwite(stwuct i2c_cwient *i2c, u8 weg, int count,
				u8 *buf);
extewn int max8997_update_weg(stwuct i2c_cwient *i2c, u8 weg, u8 vaw, u8 mask);

#define MAX8997_GPIO_INT_BOTH	(0x3 << 4)
#define MAX8997_GPIO_INT_WISE	(0x2 << 4)
#define MAX8997_GPIO_INT_FAWW	(0x1 << 4)

#define MAX8997_GPIO_INT_MASK	(0x3 << 4)
#define MAX8997_GPIO_DATA_MASK	(0x1 << 2)
#endif /*  __WINUX_MFD_MAX8997_PWIV_H */
