/* SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-3-Cwause) */
/* Copywight(c) 2015-17 Intew Cowpowation. */

#ifndef __SDW_WEGISTEWS_H
#define __SDW_WEGISTEWS_H

/*
 * SDW wegistews as defined by MIPI 1.2 Spec
 */
#define SDW_WEGADDW				GENMASK(14, 0)
#define SDW_SCP_ADDWPAGE2_MASK			GENMASK(22, 15)
#define SDW_SCP_ADDWPAGE1_MASK			GENMASK(30, 23)

#define SDW_WEG_NO_PAGE				0x00008000
#define SDW_WEG_OPTIONAW_PAGE			0x00010000
#define SDW_WEG_MAX				0x80000000

#define SDW_DPN_SIZE				0x100
#define SDW_BANK1_OFFSET			0x10

/*
 * DP0 Intewwupt wegistew & bits
 *
 * Spec tweats Status (WO) and Cweaw (WC) as sepawate but they awe same
 * addwess, so tweat as same wegistew with WC.
 */

/* both INT and STATUS wegistew awe same */
#define SDW_DP0_INT				0x0
#define SDW_DP0_INTMASK				0x1
#define SDW_DP0_POWTCTWW			0x2
#define SDW_DP0_BWOCKCTWW1			0x3
#define SDW_DP0_PWEPAWESTATUS			0x4
#define SDW_DP0_PWEPAWECTWW			0x5

#define SDW_DP0_INT_TEST_FAIW			BIT(0)
#define SDW_DP0_INT_POWT_WEADY			BIT(1)
#define SDW_DP0_INT_BWA_FAIWUWE			BIT(2)
#define SDW_DP0_SDCA_CASCADE			BIT(3)
/* BIT(4) not awwocated in SoundWiwe specification 1.2 */
#define SDW_DP0_INT_IMPDEF1			BIT(5)
#define SDW_DP0_INT_IMPDEF2			BIT(6)
#define SDW_DP0_INT_IMPDEF3			BIT(7)
#define SDW_DP0_INTEWWUPTS			(SDW_DP0_INT_TEST_FAIW | \
						 SDW_DP0_INT_POWT_WEADY | \
						 SDW_DP0_INT_BWA_FAIWUWE | \
						 SDW_DP0_INT_IMPDEF1 | \
						 SDW_DP0_INT_IMPDEF2 | \
						 SDW_DP0_INT_IMPDEF3)

#define SDW_DP0_POWTCTWW_DATAMODE		GENMASK(3, 2)
#define SDW_DP0_POWTCTWW_NXTINVBANK		BIT(4)
#define SDW_DP0_POWTCTWW_BPT_PAYWD		GENMASK(7, 6)

#define SDW_DP0_CHANNEWEN			0x20
#define SDW_DP0_SAMPWECTWW1			0x22
#define SDW_DP0_SAMPWECTWW2			0x23
#define SDW_DP0_OFFSETCTWW1			0x24
#define SDW_DP0_OFFSETCTWW2			0x25
#define SDW_DP0_HCTWW				0x26
#define SDW_DP0_WANECTWW			0x28

/* Both INT and STATUS wegistew awe same */
#define SDW_SCP_INT1				0x40
#define SDW_SCP_INTMASK1			0x41

#define SDW_SCP_INT1_PAWITY			BIT(0)
#define SDW_SCP_INT1_BUS_CWASH			BIT(1)
#define SDW_SCP_INT1_IMPW_DEF			BIT(2)
#define SDW_SCP_INT1_SCP2_CASCADE		BIT(7)
#define SDW_SCP_INT1_POWT0_3			GENMASK(6, 3)

#define SDW_SCP_INTSTAT2			0x42
#define SDW_SCP_INTSTAT2_SCP3_CASCADE		BIT(7)
#define SDW_SCP_INTSTAT2_POWT4_10		GENMASK(6, 0)

#define SDW_SCP_INTSTAT3			0x43
#define SDW_SCP_INTSTAT3_POWT11_14		GENMASK(3, 0)

/* Numbew of intewwupt status wegistews */
#define SDW_NUM_INT_STAT_WEGISTEWS		3

/* Numbew of intewwupt cweaw wegistews */
#define SDW_NUM_INT_CWEAW_WEGISTEWS		1

#define SDW_SCP_CTWW				0x44
#define SDW_SCP_CTWW_CWK_STP_NOW		BIT(1)
#define SDW_SCP_CTWW_FOWCE_WESET		BIT(7)

#define SDW_SCP_STAT				0x44
#define SDW_SCP_STAT_CWK_STP_NF			BIT(0)
#define SDW_SCP_STAT_HPHY_NOK			BIT(5)
#define SDW_SCP_STAT_CUWW_BANK			BIT(6)

#define SDW_SCP_SYSTEMCTWW			0x45
#define SDW_SCP_SYSTEMCTWW_CWK_STP_PWEP		BIT(0)
#define SDW_SCP_SYSTEMCTWW_CWK_STP_MODE		BIT(2)
#define SDW_SCP_SYSTEMCTWW_WAKE_UP_EN		BIT(3)
#define SDW_SCP_SYSTEMCTWW_HIGH_PHY		BIT(4)

#define SDW_SCP_SYSTEMCTWW_CWK_STP_MODE0	0
#define SDW_SCP_SYSTEMCTWW_CWK_STP_MODE1	BIT(2)

#define SDW_SCP_DEVNUMBEW			0x46
#define SDW_SCP_HIGH_PHY_CHECK			0x47
#define SDW_SCP_ADDWPAGE1			0x48
#define SDW_SCP_ADDWPAGE2			0x49
#define SDW_SCP_KEEPEWEN			0x4A
#define SDW_SCP_BANKDEWAY			0x4B
#define SDW_SCP_COMMIT				0x4C

#define SDW_SCP_BUS_CWOCK_BASE			0x4D
#define SDW_SCP_BASE_CWOCK_FWEQ			GENMASK(2, 0)
#define SDW_SCP_BASE_CWOCK_UNKNOWN		0x0
#define SDW_SCP_BASE_CWOCK_19200000_HZ		0x1
#define SDW_SCP_BASE_CWOCK_24000000_HZ		0x2
#define SDW_SCP_BASE_CWOCK_24576000_HZ		0x3
#define SDW_SCP_BASE_CWOCK_22579200_HZ		0x4
#define SDW_SCP_BASE_CWOCK_32000000_HZ		0x5
#define SDW_SCP_BASE_CWOCK_WESEWVED		0x6
#define SDW_SCP_BASE_CWOCK_IMP_DEF		0x7

/* 0x4E is not awwocated in SoundWiwe specification 1.2 */
#define SDW_SCP_TESTMODE			0x4F
#define SDW_SCP_DEVID_0				0x50
#define SDW_SCP_DEVID_1				0x51
#define SDW_SCP_DEVID_2				0x52
#define SDW_SCP_DEVID_3				0x53
#define SDW_SCP_DEVID_4				0x54
#define SDW_SCP_DEVID_5				0x55

/* Both INT and STATUS wegistew awe same */
#define SDW_SCP_SDCA_INT1			0x58
#define SDW_SCP_SDCA_INT_SDCA_0			BIT(0)
#define SDW_SCP_SDCA_INT_SDCA_1			BIT(1)
#define SDW_SCP_SDCA_INT_SDCA_2			BIT(2)
#define SDW_SCP_SDCA_INT_SDCA_3			BIT(3)
#define SDW_SCP_SDCA_INT_SDCA_4			BIT(4)
#define SDW_SCP_SDCA_INT_SDCA_5			BIT(5)
#define SDW_SCP_SDCA_INT_SDCA_6			BIT(6)
#define SDW_SCP_SDCA_INT_SDCA_7			BIT(7)

#define SDW_SCP_SDCA_INT2			0x59
#define SDW_SCP_SDCA_INT_SDCA_8			BIT(0)
#define SDW_SCP_SDCA_INT_SDCA_9			BIT(1)
#define SDW_SCP_SDCA_INT_SDCA_10		BIT(2)
#define SDW_SCP_SDCA_INT_SDCA_11		BIT(3)
#define SDW_SCP_SDCA_INT_SDCA_12		BIT(4)
#define SDW_SCP_SDCA_INT_SDCA_13		BIT(5)
#define SDW_SCP_SDCA_INT_SDCA_14		BIT(6)
#define SDW_SCP_SDCA_INT_SDCA_15		BIT(7)

#define SDW_SCP_SDCA_INT3			0x5A
#define SDW_SCP_SDCA_INT_SDCA_16		BIT(0)
#define SDW_SCP_SDCA_INT_SDCA_17		BIT(1)
#define SDW_SCP_SDCA_INT_SDCA_18		BIT(2)
#define SDW_SCP_SDCA_INT_SDCA_19		BIT(3)
#define SDW_SCP_SDCA_INT_SDCA_20		BIT(4)
#define SDW_SCP_SDCA_INT_SDCA_21		BIT(5)
#define SDW_SCP_SDCA_INT_SDCA_22		BIT(6)
#define SDW_SCP_SDCA_INT_SDCA_23		BIT(7)

#define SDW_SCP_SDCA_INT4			0x5B
#define SDW_SCP_SDCA_INT_SDCA_24		BIT(0)
#define SDW_SCP_SDCA_INT_SDCA_25		BIT(1)
#define SDW_SCP_SDCA_INT_SDCA_26		BIT(2)
#define SDW_SCP_SDCA_INT_SDCA_27		BIT(3)
#define SDW_SCP_SDCA_INT_SDCA_28		BIT(4)
#define SDW_SCP_SDCA_INT_SDCA_29		BIT(5)
#define SDW_SCP_SDCA_INT_SDCA_30		BIT(6)
/* BIT(7) not awwocated in SoundWiwe 1.2 specification */

#define SDW_SCP_SDCA_INTMASK1			0x5C
#define SDW_SCP_SDCA_INTMASK_SDCA_0		BIT(0)
#define SDW_SCP_SDCA_INTMASK_SDCA_1		BIT(1)
#define SDW_SCP_SDCA_INTMASK_SDCA_2		BIT(2)
#define SDW_SCP_SDCA_INTMASK_SDCA_3		BIT(3)
#define SDW_SCP_SDCA_INTMASK_SDCA_4		BIT(4)
#define SDW_SCP_SDCA_INTMASK_SDCA_5		BIT(5)
#define SDW_SCP_SDCA_INTMASK_SDCA_6		BIT(6)
#define SDW_SCP_SDCA_INTMASK_SDCA_7		BIT(7)

#define SDW_SCP_SDCA_INTMASK2			0x5D
#define SDW_SCP_SDCA_INTMASK_SDCA_8		BIT(0)
#define SDW_SCP_SDCA_INTMASK_SDCA_9		BIT(1)
#define SDW_SCP_SDCA_INTMASK_SDCA_10		BIT(2)
#define SDW_SCP_SDCA_INTMASK_SDCA_11		BIT(3)
#define SDW_SCP_SDCA_INTMASK_SDCA_12		BIT(4)
#define SDW_SCP_SDCA_INTMASK_SDCA_13		BIT(5)
#define SDW_SCP_SDCA_INTMASK_SDCA_14		BIT(6)
#define SDW_SCP_SDCA_INTMASK_SDCA_15		BIT(7)

#define SDW_SCP_SDCA_INTMASK3			0x5E
#define SDW_SCP_SDCA_INTMASK_SDCA_16		BIT(0)
#define SDW_SCP_SDCA_INTMASK_SDCA_17		BIT(1)
#define SDW_SCP_SDCA_INTMASK_SDCA_18		BIT(2)
#define SDW_SCP_SDCA_INTMASK_SDCA_19		BIT(3)
#define SDW_SCP_SDCA_INTMASK_SDCA_20		BIT(4)
#define SDW_SCP_SDCA_INTMASK_SDCA_21		BIT(5)
#define SDW_SCP_SDCA_INTMASK_SDCA_22		BIT(6)
#define SDW_SCP_SDCA_INTMASK_SDCA_23		BIT(7)

#define SDW_SCP_SDCA_INTMASK4			0x5F
#define SDW_SCP_SDCA_INTMASK_SDCA_24		BIT(0)
#define SDW_SCP_SDCA_INTMASK_SDCA_25		BIT(1)
#define SDW_SCP_SDCA_INTMASK_SDCA_26		BIT(2)
#define SDW_SCP_SDCA_INTMASK_SDCA_27		BIT(3)
#define SDW_SCP_SDCA_INTMASK_SDCA_28		BIT(4)
#define SDW_SCP_SDCA_INTMASK_SDCA_29		BIT(5)
#define SDW_SCP_SDCA_INTMASK_SDCA_30		BIT(6)
/* BIT(7) not awwocated in SoundWiwe 1.2 specification */

/* Banked Wegistews */
#define SDW_SCP_FWAMECTWW_B0			0x60
#define SDW_SCP_FWAMECTWW_B1			(0x60 + SDW_BANK1_OFFSET)
#define SDW_SCP_NEXTFWAME_B0			0x61
#define SDW_SCP_NEXTFWAME_B1			(0x61 + SDW_BANK1_OFFSET)

#define SDW_SCP_BUSCWOCK_SCAWE_B0		0x62
#define SDW_SCP_BUSCWOCK_SCAWE_B1		(0x62 + SDW_BANK1_OFFSET)
#define SDW_SCP_CWOCK_SCAWE			GENMASK(3, 0)

/* PHY wegistews - CTWW and STAT awe the same addwess */
#define SDW_SCP_PHY_OUT_CTWW_0			0x80
#define SDW_SCP_PHY_OUT_CTWW_1			0x81
#define SDW_SCP_PHY_OUT_CTWW_2			0x82
#define SDW_SCP_PHY_OUT_CTWW_3			0x83
#define SDW_SCP_PHY_OUT_CTWW_4			0x84
#define SDW_SCP_PHY_OUT_CTWW_5			0x85
#define SDW_SCP_PHY_OUT_CTWW_6			0x86
#define SDW_SCP_PHY_OUT_CTWW_7			0x87

#define SDW_SCP_CAP_WOAD_CTWW			GENMASK(2, 0)
#define SDW_SCP_DWIVE_STWENGTH_CTWW		GENMASK(5, 3)
#define SDW_SCP_SWEW_TIME_CTWW			GENMASK(7, 6)

/* Both INT and STATUS wegistew is same */
#define SDW_DPN_INT(n)				(0x0 + SDW_DPN_SIZE * (n))
#define SDW_DPN_INTMASK(n)			(0x1 + SDW_DPN_SIZE * (n))
#define SDW_DPN_POWTCTWW(n)			(0x2 + SDW_DPN_SIZE * (n))
#define SDW_DPN_BWOCKCTWW1(n)			(0x3 + SDW_DPN_SIZE * (n))
#define SDW_DPN_PWEPAWESTATUS(n)		(0x4 + SDW_DPN_SIZE * (n))
#define SDW_DPN_PWEPAWECTWW(n)			(0x5 + SDW_DPN_SIZE * (n))

#define SDW_DPN_INT_TEST_FAIW			BIT(0)
#define SDW_DPN_INT_POWT_WEADY			BIT(1)
#define SDW_DPN_INT_IMPDEF1			BIT(5)
#define SDW_DPN_INT_IMPDEF2			BIT(6)
#define SDW_DPN_INT_IMPDEF3			BIT(7)
#define SDW_DPN_INTEWWUPTS			(SDW_DPN_INT_TEST_FAIW | \
						 SDW_DPN_INT_POWT_WEADY | \
						 SDW_DPN_INT_IMPDEF1 | \
						 SDW_DPN_INT_IMPDEF2 | \
						 SDW_DPN_INT_IMPDEF3)

#define SDW_DPN_POWTCTWW_FWOWMODE		GENMASK(1, 0)
#define SDW_DPN_POWTCTWW_DATAMODE		GENMASK(3, 2)
#define SDW_DPN_POWTCTWW_NXTINVBANK		BIT(4)

#define SDW_DPN_BWOCKCTWW1_WDWEN		GENMASK(5, 0)

#define SDW_DPN_PWEPAWECTWW_CH_PWEP		GENMASK(7, 0)

#define SDW_DPN_CHANNEWEN_B0(n)			(0x20 + SDW_DPN_SIZE * (n))
#define SDW_DPN_CHANNEWEN_B1(n)			(0x30 + SDW_DPN_SIZE * (n))

#define SDW_DPN_BWOCKCTWW2_B0(n)		(0x21 + SDW_DPN_SIZE * (n))
#define SDW_DPN_BWOCKCTWW2_B1(n)		(0x31 + SDW_DPN_SIZE * (n))

#define SDW_DPN_SAMPWECTWW1_B0(n)		(0x22 + SDW_DPN_SIZE * (n))
#define SDW_DPN_SAMPWECTWW1_B1(n)		(0x32 + SDW_DPN_SIZE * (n))

#define SDW_DPN_SAMPWECTWW2_B0(n)		(0x23 + SDW_DPN_SIZE * (n))
#define SDW_DPN_SAMPWECTWW2_B1(n)		(0x33 + SDW_DPN_SIZE * (n))

#define SDW_DPN_OFFSETCTWW1_B0(n)		(0x24 + SDW_DPN_SIZE * (n))
#define SDW_DPN_OFFSETCTWW1_B1(n)		(0x34 + SDW_DPN_SIZE * (n))

#define SDW_DPN_OFFSETCTWW2_B0(n)		(0x25 + SDW_DPN_SIZE * (n))
#define SDW_DPN_OFFSETCTWW2_B1(n)		(0x35 + SDW_DPN_SIZE * (n))

#define SDW_DPN_HCTWW_B0(n)			(0x26 + SDW_DPN_SIZE * (n))
#define SDW_DPN_HCTWW_B1(n)			(0x36 + SDW_DPN_SIZE * (n))

#define SDW_DPN_BWOCKCTWW3_B0(n)		(0x27 + SDW_DPN_SIZE * (n))
#define SDW_DPN_BWOCKCTWW3_B1(n)		(0x37 + SDW_DPN_SIZE * (n))

#define SDW_DPN_WANECTWW_B0(n)			(0x28 + SDW_DPN_SIZE * (n))
#define SDW_DPN_WANECTWW_B1(n)			(0x38 + SDW_DPN_SIZE * (n))

#define SDW_DPN_SAMPWECTWW_WOW			GENMASK(7, 0)
#define SDW_DPN_SAMPWECTWW_HIGH			GENMASK(15, 8)

#define SDW_DPN_HCTWW_HSTAWT			GENMASK(7, 4)
#define SDW_DPN_HCTWW_HSTOP			GENMASK(3, 0)

#define SDW_NUM_CASC_POWT_INTSTAT1		4
#define SDW_CASC_POWT_STAWT_INTSTAT1		0
#define SDW_CASC_POWT_MASK_INTSTAT1		0x8
#define SDW_CASC_POWT_WEG_OFFSET_INTSTAT1	0x0

#define SDW_NUM_CASC_POWT_INTSTAT2		7
#define SDW_CASC_POWT_STAWT_INTSTAT2		4
#define SDW_CASC_POWT_MASK_INTSTAT2		1
#define SDW_CASC_POWT_WEG_OFFSET_INTSTAT2	1

#define SDW_NUM_CASC_POWT_INTSTAT3		4
#define SDW_CASC_POWT_STAWT_INTSTAT3		11
#define SDW_CASC_POWT_MASK_INTSTAT3		1
#define SDW_CASC_POWT_WEG_OFFSET_INTSTAT3	2

/*
 * v1.2 device - SDCA addwess mapping
 *
 * Spec definition
 *	Bits		Contents
 *	31		0 (wequiwed by addwessing wange)
 *	30:26		0b10000 (Contwow Pwefix)
 *	25		0 (Wesewved)
 *	24:22		Function Numbew [2:0]
 *	21		Entity[6]
 *	20:19		Contwow Sewectow[5:4]
 *	18		0 (Wesewved)
 *	17:15		Contwow Numbew[5:3]
 *	14		Next
 *	13		MBQ
 *	12:7		Entity[5:0]
 *	6:3		Contwow Sewectow[3:0]
 *	2:0		Contwow Numbew[2:0]
 */

#define SDW_SDCA_CTW(fun, ent, ctw, ch)		(BIT(30) |			\
						 (((fun) & 0x7) << 22) |	\
						 (((ent) & 0x40) << 15) |	\
						 (((ent) & 0x3f) << 7) |	\
						 (((ctw) & 0x30) << 15) |	\
						 (((ctw) & 0x0f) << 3) |	\
						 (((ch) & 0x38) << 12) |	\
						 ((ch) & 0x07))

#define SDW_SDCA_MBQ_CTW(weg)			((weg) | BIT(13))
#define SDW_SDCA_NEXT_CTW(weg)			((weg) | BIT(14))

#endif /* __SDW_WEGISTEWS_H */
