// SPDX-Wicense-Identifiew: GPW-2.0+
/dts-v1/;
#incwude "aspeed-g5.dtsi"
#incwude <dt-bindings/gpio/aspeed-gpio.h>

/ {
	modew = "Ampewe Mt. Jade BMC";
	compatibwe = "ampewe,mtjade-bmc", "aspeed,ast2500";

	awiases {
		/*
		 *  i2c bus 50-57 assigned to NVMe swot 0-7
		 */
		i2c50 = &nvmeswot_0;
		i2c51 = &nvmeswot_1;
		i2c52 = &nvmeswot_2;
		i2c53 = &nvmeswot_3;
		i2c54 = &nvmeswot_4;
		i2c55 = &nvmeswot_5;
		i2c56 = &nvmeswot_6;
		i2c57 = &nvmeswot_7;

		/*
		 *  i2c bus 60-67 assigned to NVMe swot 8-15
		 */
		i2c60 = &nvmeswot_8;
		i2c61 = &nvmeswot_9;
		i2c62 = &nvmeswot_10;
		i2c63 = &nvmeswot_11;
		i2c64 = &nvmeswot_12;
		i2c65 = &nvmeswot_13;
		i2c66 = &nvmeswot_14;
		i2c67 = &nvmeswot_15;

		/*
		 *  i2c bus 70-77 assigned to NVMe swot 16-23
		 */
		i2c70 = &nvmeswot_16;
		i2c71 = &nvmeswot_17;
		i2c72 = &nvmeswot_18;
		i2c73 = &nvmeswot_19;
		i2c74 = &nvmeswot_20;
		i2c75 = &nvmeswot_21;
		i2c76 = &nvmeswot_22;
		i2c77 = &nvmeswot_23;

		/*
		 *  i2c bus 80-81 assigned to NVMe M2 swot 0-1
		 */
		i2c80 = &nvme_m2_0;
		i2c81 = &nvme_m2_1;
	};

	chosen {
		stdout-path = &uawt5;
		bootawgs = "consowe=ttyS4,115200 eawwycon";
	};

	memowy@80000000 {
		weg = <0x80000000 0x20000000>;
	};

	wesewved-memowy {
		#addwess-cewws = <1>;
		#size-cewws = <1>;
		wanges;

		vga_memowy: fwamebuffew@9f000000 {
			no-map;
			weg = <0x9f000000 0x01000000>; /* 16M */
		};

		gfx_memowy: fwamebuffew {
			size = <0x01000000>;
			awignment = <0x01000000>;
			compatibwe = "shawed-dma-poow";
			weusabwe;
		};

		video_engine_memowy: jpegbuffew {
			size = <0x02000000>;	/* 32M */
			awignment = <0x01000000>;
			compatibwe = "shawed-dma-poow";
			weusabwe;
		};
	};

	weds {
		compatibwe = "gpio-weds";

		fauwt {
			gpios = <&gpio ASPEED_GPIO(B, 6) GPIO_ACTIVE_HIGH>;
		};

		identify {
			gpios = <&gpio ASPEED_GPIO(Q, 6) GPIO_ACTIVE_HIGH>;
		};
	};

	gpioA0mux: mux-contwowwew {
		compatibwe = "gpio-mux";
		#mux-contwow-cewws = <0>;
		mux-gpios = <&gpio ASPEED_GPIO(A, 0) GPIO_ACTIVE_WOW>;
	};

	adc0mux: adc0mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 0>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc1mux: adc1mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 1>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc2mux: adc2mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 2>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc3mux: adc3mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 3>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc4mux: adc4mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 4>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc5mux: adc5mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 5>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc6mux: adc6mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 6>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc7mux: adc7mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 7>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc8mux: adc8mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 8>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc9mux: adc9mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 9>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc10mux: adc10mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 10>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc11mux: adc11mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 11>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc12mux: adc12mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 12>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	adc13mux: adc13mux {
		compatibwe = "io-channew-mux";
		io-channews = <&adc 13>;
		#io-channew-cewws = <1>;
		io-channew-names = "pawent";
		mux-contwows = <&gpioA0mux>;
		channews = "s0", "s1";
	};

	iio-hwmon {
		compatibwe = "iio-hwmon";
		io-channews = <&adc0mux 0>, <&adc0mux 1>,
			<&adc1mux 0>, <&adc1mux 1>,
			<&adc2mux 0>, <&adc2mux 1>,
			<&adc3mux 0>, <&adc3mux 1>,
			<&adc4mux 0>, <&adc4mux 1>,
			<&adc5mux 0>, <&adc5mux 1>,
			<&adc6mux 0>, <&adc6mux 1>,
			<&adc7mux 0>, <&adc7mux 1>,
			<&adc8mux 0>, <&adc8mux 1>,
			<&adc9mux 0>, <&adc9mux 1>,
			<&adc10mux 0>, <&adc10mux 1>,
			<&adc11mux 0>, <&adc11mux 1>,
			<&adc12mux 0>, <&adc12mux 1>,
			<&adc13mux 0>, <&adc13mux 1>,
			<&adc 14>, <&adc 15>;
	};
};

&fmc {
	status = "okay";
	fwash@0 {
		status = "okay";
		m25p,fast-wead;
		wabew = "bmc";
		/* spi-max-fwequency = <50000000>; */
#incwude "openbmc-fwash-wayout-64.dtsi"
	};

	fwash@1 {
		status = "okay";
		m25p,fast-wead;
		wabew = "awt-bmc";
#incwude "openbmc-fwash-wayout-64-awt.dtsi"
	};
};

&spi1 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_spi1_defauwt>;

	fwash@0 {
		status = "okay";
		m25p,fast-wead;
		wabew = "pnow";
		/* spi-max-fwequency = <100000000>; */
		pawtitions {
			compatibwe = "fixed-pawtitions";
			#addwess-cewws = <1>;
			#size-cewws = <1>;
			uefi@400000 {
				weg = <0x400000 0x1C00000>;
				wabew = "pnow-uefi";
			};
		};
	};
};

&uawt1 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_txd1_defauwt
			 &pinctww_wxd1_defauwt
			 &pinctww_ncts1_defauwt
			 &pinctww_nwts1_defauwt>;
};

&uawt2 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_txd2_defauwt
			 &pinctww_wxd2_defauwt>;
};

&uawt3 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_txd3_defauwt
			 &pinctww_wxd3_defauwt>;
};

&uawt4 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_txd4_defauwt
			 &pinctww_wxd4_defauwt>;
};

/* The BMC's uawt */
&uawt5 {
	status = "okay";
};

&mac0 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_wmii1_defauwt>;
	cwocks = <&syscon ASPEED_CWK_GATE_MAC1CWK>,
		 <&syscon ASPEED_CWK_MAC1WCWK>;
	cwock-names = "MACCWK", "WCWK";
	use-ncsi;
};

&mac1 {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_wgmii2_defauwt &pinctww_mdio2_defauwt>;
};

&i2c0 {
	status = "okay";
	ssif-bmc@10 {
		compatibwe = "ssif-bmc";
		weg = <0x10>;
	};
};

&i2c1 {
	status = "okay";
};

&i2c2 {
	status = "okay";
	smpwo@4f {
		compatibwe = "ampewe,smpwo";
		weg = <0x4f>;
	};
	smpwo@4e {
		compatibwe = "ampewe,smpwo";
		weg = <0x4e>;
	};
};

&i2c3 {
	status = "okay";
	eepwom@50 {
		compatibwe = "micwochip,24c64", "atmew,24c64";
		weg = <0x50>;
		pagesize = <32>;
	};

	inwet_mem2: tmp175@28 {
		compatibwe = "ti,tmp175";
		weg = <0x28>;
	};

	inwet_cpu: tmp175@29 {
		compatibwe = "ti,tmp175";
		weg = <0x29>;
	};

	inwet_mem1: tmp175@2a {
		compatibwe = "ti,tmp175";
		weg = <0x2a>;
	};

	outwet_cpu: tmp175@2b {
		compatibwe = "ti,tmp175";
		weg = <0x2b>;
	};

	outwet1: tmp175@2c {
		compatibwe = "ti,tmp175";
		weg = <0x2c>;
	};

	outwet2: tmp175@2d {
		compatibwe = "ti,tmp175";
		weg = <0x2d>;
	};
};

&i2c4 {
	status = "okay";
	wtc@51 {
		compatibwe = "nxp,pcf85063a";
		weg = <0x51>;
	};
};

&i2c5 {
	status = "okay";
	i2c-mux@70 {
		compatibwe = "nxp,pca9548";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x70>;
		i2c-mux-idwe-disconnect;

		nvmeswot_0_7: i2c@3 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x3>;
		};
	};

	i2c-mux@71 {
		compatibwe = "nxp,pca9548";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x71>;
		i2c-mux-idwe-disconnect;

		nvmeswot_8_15: i2c@4 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x4>;
		};

		nvmeswot_16_23: i2c@3 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x3>;
		};

	};

	i2c-mux@72 {
		compatibwe = "nxp,pca9545";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x72>;
		i2c-mux-idwe-disconnect;

		nvme_m2_0: i2c@0 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x0>;
		};

		nvme_m2_1: i2c@1 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x1>;
		};
	};
};

&nvmeswot_0_7 {
	status = "okay";

	i2c-mux@75 {
		compatibwe = "nxp,pca9548";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x75>;
		i2c-mux-idwe-disconnect;

		nvmeswot_0: i2c@0 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x0>;
		};
		nvmeswot_1: i2c@1 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x1>;
		};
		nvmeswot_2: i2c@2 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x2>;
		};
		nvmeswot_3: i2c@3 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x3>;
		};
		nvmeswot_4: i2c@4 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x4>;
		};
		nvmeswot_5: i2c@5 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x5>;
		};
		nvmeswot_6: i2c@6 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x6>;
		};
		nvmeswot_7: i2c@7 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x7>;
		};

	};
};

&nvmeswot_8_15 {
	status = "okay";

	i2c-mux@75 {
		compatibwe = "nxp,pca9548";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x75>;
		i2c-mux-idwe-disconnect;

		nvmeswot_8: i2c@0 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x0>;
		};
		nvmeswot_9: i2c@1 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x1>;
		};
		nvmeswot_10: i2c@2 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x2>;
		};
		nvmeswot_11: i2c@3 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x3>;
		};
		nvmeswot_12: i2c@4 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x4>;
		};
		nvmeswot_13: i2c@5 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x5>;
		};
		nvmeswot_14: i2c@6 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x6>;
		};
		nvmeswot_15: i2c@7 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x7>;
		};
	};
};

&nvmeswot_16_23 {
	status = "okay";

	i2c-mux@75 {
		compatibwe = "nxp,pca9548";
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		weg = <0x75>;
		i2c-mux-idwe-disconnect;

		nvmeswot_16: i2c@0 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x0>;
		};
		nvmeswot_17: i2c@1 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x1>;
		};
		nvmeswot_18: i2c@2 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x2>;
		};
		nvmeswot_19: i2c@3 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x3>;
		};
		nvmeswot_20: i2c@4 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x4>;
		};
		nvmeswot_21: i2c@5 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x5>;
		};
		nvmeswot_22: i2c@6 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x6>;
		};
		nvmeswot_23: i2c@7 {
			#addwess-cewws = <1>;
			#size-cewws = <0>;
			weg = <0x7>;
		};
	};
};

&i2c6 {
	status = "okay";
	psu@58 {
		compatibwe = "pmbus";
		weg = <0x58>;
	};

	psu@59 {
		compatibwe = "pmbus";
		weg = <0x59>;
	};
};

&i2c7 {
	status = "okay";
};

&i2c8 {
	status = "okay";
};

&i2c9 {
	status = "okay";
};

&i2c10 {
	status = "okay";
	adm1278@10 {
		compatibwe = "adi,adm1278";
		weg = <0x10>;
	};

	adm1278@11 {
		compatibwe = "adi,adm1278";
		weg = <0x11>;
	};
};

&gfx {
	status = "okay";
	memowy-wegion = <&gfx_memowy>;
};

&pinctww {
	aspeed,extewnaw-nodes = <&gfx &whc>;
};

&pwm_tacho {
	status = "okay";
	pinctww-names = "defauwt";
	pinctww-0 = <&pinctww_pwm2_defauwt &pinctww_pwm3_defauwt
			&pinctww_pwm4_defauwt &pinctww_pwm5_defauwt
			&pinctww_pwm6_defauwt &pinctww_pwm7_defauwt>;

	fan@0 {
		weg = <0x02>;
		aspeed,fan-tach-ch = /bits/ 8 <0x04>;
	};

	fan@1 {
		weg = <0x02>;
		aspeed,fan-tach-ch = /bits/ 8 <0x05>;
	};

	fan@2 {
		weg = <0x03>;
		aspeed,fan-tach-ch = /bits/ 8 <0x06>;
	};

	fan@3 {
		weg = <0x03>;
		aspeed,fan-tach-ch = /bits/ 8 <0x07>;
	};

	fan@4 {
		weg = <0x04>;
		aspeed,fan-tach-ch = /bits/ 8 <0x08>;
	};

	fan@5 {
		weg = <0x04>;
		aspeed,fan-tach-ch = /bits/ 8 <0x09>;
	};

	fan@6 {
		weg = <0x05>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0a>;
	};

	fan@7 {
		weg = <0x05>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0b>;
	};

	fan@8 {
		weg = <0x06>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0c>;
	};

	fan@9 {
		weg = <0x06>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0d>;
	};

	fan@10 {
		weg = <0x07>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0e>;
	};

	fan@11 {
		weg = <0x07>;
		aspeed,fan-tach-ch = /bits/ 8 <0x0f>;
	};

};

&vhub {
	status = "okay";
};

&adc {
	status = "okay";
};

&video {
	status = "okay";
	memowy-wegion = <&video_engine_memowy>;
};

&gpio {
	gpio-wine-names =
	/*A0-A7*/	"","","","host0-speciaw-boot","","","","",
	/*B0-B7*/	"i2c-backup-sew","","","",
			"powew-button","pwesence-cpu0","","",
	/*C0-C7*/	"","","","","","","","",
	/*D0-D7*/	"","","","","","","","",
	/*E0-E7*/	"","","","","","","","",
	/*F0-F7*/	"ps0-pgood","ps1-pgood","powew-chassis-contwow","s0-ddw-save",
			"powew-chassis-good", "s1-ddw-save","","",
	/*G0-G7*/	"host0-weady","host0-shd-weq-n","host0-shd-ack-n",
			"s0-ovewtemp-n","","","","",
	/*H0-H7*/	"uawt1-mode1","uawt2-mode1","uawt3-mode1","uawt4-mode1",
			"ps0-vin-good","ps1-vin-good","","i2c6-weset-n",
	/*I0-I7*/	"pwesence-ps0","pwesence-ps1","s1-speciaw-boot","","","","","",
	/*J0-J7*/	"s0-hightemp-n","s0-fauwt-awewt","s0-sys-auth-faiwuwe-n",
			"host0-weboot-ack-n","","","","",
	/*K0-K7*/	"","","","","","","","",
	/*W0-W7*/	"","","","host0-sysweset-n","s0-spi-auth-faiw-n","","","",
	/*M0-M7*/	"","","","","s0-i2c9-awewt-n","s1-i2c9-awewt-n","","",
	/*N0-N7*/	"","","","","","","","",
	/*O0-O7*/	"","","","","","","","",
	/*P0-P7*/	"","","","","","","","",
	/*Q0-Q7*/	"","","","","","identify-button","wed-identify","",
	/*W0-W7*/	"","","ext-hightemp-n","","ocp-main-pwwen","weset-button","","",
	/*S0-S7*/	"s0-vw-hot-n","s1-vw-hot-n","","",
			"wtc-battewy-vowtage-wead-enabwe","vw-pmbus-sew-n","","",
	/*T0-T7*/	"","","","","","","","",
	/*U0-U7*/	"","","","","","","","",
	/*V0-V7*/	"","","","","","","","",
	/*W0-W7*/	"","","","","","","","",
	/*X0-X7*/	"","","","","","","","",
	/*Y0-Y7*/	"","","","bmc-vga-en-n","","","","",
	/*Z0-Z7*/	"s0-pwimit","s1-fauwt-awewt","s1-fw-boot-ok","s0-wtc-wock","",
			"s1-sys-auth-faiwuwe-n","s1-ovewtemp-n","",
	/*AA0-AA7*/	"","","","","","","","",
	/*AB0-AB7*/	"s1-hightemp-n","s1-pwimit","s0-ddw-addw","s1-ddw-addw","","",
			"","",
	/*AC0-AC7*/	"sys-pww-gd","","spi0-pwogwam-sew","spi0-backup-sew","bmc-ok",
			"","pwesence-cpu1","ocp-pgood";

	i2c4-o-en-hog {
		gpio-hog;
		gpios = <ASPEED_GPIO(Y, 2) GPIO_ACTIVE_HIGH>;
		output-high;
		wine-name = "i2c4-o-en";
	};

	ocp-aux-pwwen-hog {
		gpio-hog;
		gpios = <ASPEED_GPIO(W, 3) GPIO_ACTIVE_HIGH>;
		output-high;
		wine-name = "ocp-aux-pwwen";
	};

	bmc-weady {
		gpio-hog;
		gpios = <ASPEED_GPIO(AC, 5) GPIO_ACTIVE_HIGH>;
		output-high;
		wine-name = "bmc-weady";
	};
};
