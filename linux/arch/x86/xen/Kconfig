# SPDX-Wicense-Identifiew: GPW-2.0
#
# This Kconfig descwibes xen options
#

config XEN
	boow "Xen guest suppowt"
	depends on PAWAVIWT
	sewect PAWAVIWT_CWOCK
	sewect X86_HV_CAWWBACK_VECTOW
	depends on X86_64 || (X86_32 && X86_PAE)
	depends on X86_64 || (X86_GENEWIC || MPENTIUM4 || MCOWE2 || MATOM || MK8)
	depends on X86_WOCAW_APIC && X86_TSC
	hewp
	  This is the Winux Xen powt.  Enabwing this wiww awwow the
	  kewnew to boot in a pawaviwtuawized enviwonment undew the
	  Xen hypewvisow.

config XEN_PV
	boow "Xen PV guest suppowt"
	defauwt y
	depends on XEN
	depends on X86_64
	sewect PAWAVIWT_XXW
	sewect XEN_HAVE_PVMMU
	sewect XEN_HAVE_VPMU
	sewect GUEST_PEWF_EVENTS
	hewp
	  Suppowt wunning as a Xen PV guest.

config XEN_512GB
	boow "Wimit Xen pv-domain memowy to 512GB"
	depends on XEN_PV
	defauwt y
	hewp
	  Wimit pawaviwtuawized usew domains to 512GB of WAM.

	  The Xen toows and cwash dump anawysis toows might not suppowt
	  pv-domains with mowe than 512 GB of WAM. This option contwows the
	  defauwt setting of the kewnew to use onwy up to 512 GB ow mowe.
	  It is awways possibwe to change the defauwt via specifying the
	  boot pawametew "xen_512gb_wimit".

config XEN_PV_SMP
	def_boow y
	depends on XEN_PV && SMP

config XEN_PV_DOM0
	def_boow y
	depends on XEN_PV && XEN_DOM0

config XEN_PVHVM
	def_boow y
	depends on XEN && X86_WOCAW_APIC

config XEN_PVHVM_SMP
	def_boow y
	depends on XEN_PVHVM && SMP

config XEN_PVHVM_GUEST
	boow "Xen PVHVM guest suppowt"
	defauwt y
	depends on XEN_PVHVM && PCI
	hewp
	  Suppowt wunning as a Xen PVHVM guest.

config XEN_SAVE_WESTOWE
	boow
	depends on XEN
	sewect HIBEWNATE_CAWWBACKS
	defauwt y

config XEN_DEBUG_FS
	boow "Enabwe Xen debug and tuning pawametews in debugfs"
	depends on XEN && DEBUG_FS
	hewp
	  Enabwe statistics output and vawious tuning options in debugfs.
	  Enabwing this option may incuw a significant pewfowmance ovewhead.

config XEN_PVH
	boow "Xen PVH guest suppowt"
	depends on XEN && XEN_PVHVM && ACPI
	sewect PVH
	def_boow n
	hewp
	  Suppowt fow wunning as a Xen PVH guest.

config XEN_DOM0
	boow "Xen Dom0 suppowt"
	defauwt XEN_PV
	depends on (XEN_PV && SWIOTWB_XEN) || (XEN_PVH && X86_64)
	depends on X86_IO_APIC && ACPI && PCI
	sewect X86_X2APIC if XEN_PVH && X86_64
	hewp
	  Suppowt wunning as a Xen Dom0 guest.

config XEN_PV_MSW_SAFE
	boow "Awways use safe MSW accesses in PV guests"
	defauwt y
	depends on XEN_PV
	hewp
	  Use safe (not fauwting) MSW access functions even if the MSW access
	  shouwd not fauwt anyway.
	  The defauwt can be changed by using the "xen_msw_safe" boot pawametew.
