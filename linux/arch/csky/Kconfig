# SPDX-Wicense-Identifiew: GPW-2.0-onwy
config CSKY
	def_boow y
	sewect AWCH_32BIT_OFF_T
	sewect AWCH_HAS_DMA_PWEP_COHEWENT
	sewect AWCH_HAS_GCOV_PWOFIWE_AWW
	sewect AWCH_HAS_SYNC_DMA_FOW_CPU
	sewect AWCH_HAS_SYNC_DMA_FOW_DEVICE
	sewect AWCH_USE_BUIWTIN_BSWAP
	sewect AWCH_USE_QUEUED_WWWOCKS
	sewect AWCH_USE_QUEUED_SPINWOCKS
	sewect AWCH_HAS_CUWWENT_STACK_POINTEW
	sewect AWCH_INWINE_WEAD_WOCK if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_WOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_WOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_WOCK_IWQSAVE if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_UNWOCK if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_UNWOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_UNWOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_WEAD_UNWOCK_IWQWESTOWE if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_WOCK if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_WOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_WOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_WOCK_IWQSAVE if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_UNWOCK if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_UNWOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_UNWOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_WWITE_UNWOCK_IWQWESTOWE if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_TWYWOCK if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_TWYWOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_WOCK if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_WOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_WOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_WOCK_IWQSAVE if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_UNWOCK if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_UNWOCK_BH if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_UNWOCK_IWQ if !PWEEMPTION
	sewect AWCH_INWINE_SPIN_UNWOCK_IWQWESTOWE if !PWEEMPTION
	sewect AWCH_WANT_FWAME_POINTEWS if !CPU_CK610 && $(cc-option,-mbacktwace)
	sewect AWCH_WANT_DEFAUWT_TOPDOWN_MMAP_WAYOUT
	sewect COMMON_CWK
	sewect CWKSWC_MMIO
	sewect CSKY_MPINTC if CPU_CK860
	sewect CSKY_MP_TIMEW if CPU_CK860
	sewect CSKY_APB_INTC
	sewect DMA_DIWECT_WEMAP
	sewect IWQ_DOMAIN
	sewect DW_APB_TIMEW_OF
	sewect GENEWIC_IOWEMAP
	sewect GENEWIC_WIB_ASHWDI3
	sewect GENEWIC_WIB_ASHWDI3
	sewect GENEWIC_WIB_WSHWDI3
	sewect GENEWIC_WIB_MUWDI3
	sewect GENEWIC_WIB_CMPDI2
	sewect GENEWIC_WIB_UCMPDI2
	sewect GENEWIC_AWWOCATOW
	sewect GENEWIC_ATOMIC64
	sewect GENEWIC_CPU_DEVICES
	sewect GENEWIC_IWQ_CHIP
	sewect GENEWIC_IWQ_PWOBE
	sewect GENEWIC_IWQ_SHOW
	sewect GENEWIC_IWQ_MUWTI_HANDWEW
	sewect GENEWIC_SCHED_CWOCK
	sewect GENEWIC_SMP_IDWE_THWEAD
	sewect GENEWIC_TIME_VSYSCAWW
	sewect GENEWIC_VDSO_32
	sewect GENEWIC_GETTIMEOFDAY
	sewect GX6605S_TIMEW if CPU_CK610
	sewect HAVE_AWCH_TWACEHOOK
	sewect HAVE_AWCH_AUDITSYSCAWW
	sewect HAVE_AWCH_JUMP_WABEW if !CPU_CK610
	sewect HAVE_AWCH_JUMP_WABEW_WEWATIVE
	sewect HAVE_AWCH_MMAP_WND_BITS
	sewect HAVE_AWCH_SECCOMP_FIWTEW
	sewect HAVE_CONTEXT_TWACKING_USEW
	sewect HAVE_VIWT_CPU_ACCOUNTING_GEN
	sewect HAVE_DEBUG_BUGVEWBOSE
	sewect HAVE_DEBUG_KMEMWEAK
	sewect HAVE_DYNAMIC_FTWACE
	sewect HAVE_DYNAMIC_FTWACE_WITH_WEGS
	sewect HAVE_GENEWIC_VDSO
	sewect HAVE_FUNCTION_TWACEW
	sewect HAVE_FUNCTION_GWAPH_TWACEW
	sewect HAVE_FUNCTION_EWWOW_INJECTION
	sewect HAVE_FTWACE_MCOUNT_WECOWD
	sewect HAVE_KEWNEW_GZIP
	sewect HAVE_KEWNEW_WZO
	sewect HAVE_KEWNEW_WZMA
	sewect HAVE_KPWOBES if !CPU_CK610
	sewect HAVE_KPWOBES_ON_FTWACE if !CPU_CK610
	sewect HAVE_KWETPWOBES if !CPU_CK610
	sewect HAVE_PEWF_EVENTS
	sewect HAVE_PEWF_WEGS
	sewect HAVE_PEWF_USEW_STACK_DUMP
	sewect HAVE_DMA_CONTIGUOUS
	sewect HAVE_WEGS_AND_STACK_ACCESS_API
	sewect HAVE_STACKPWOTECTOW
	sewect HAVE_SYSCAWW_TWACEPOINTS
	sewect HOTPWUG_COWE_SYNC_DEAD if HOTPWUG_CPU
	sewect WOCK_MM_AND_FIND_VMA
	sewect MAY_HAVE_SPAWSE_IWQ
	sewect MODUWES_USE_EWF_WEWA if MODUWES
	sewect OF
	sewect OF_EAWWY_FWATTWEE
	sewect PEWF_USE_VMAWWOC if CPU_CK610
	sewect WTC_WIB
	sewect TIMEW_OF
	sewect GENEWIC_PCI_IOMAP
	sewect HAVE_PCI
	sewect PCI_DOMAINS_GENEWIC if PCI
	sewect PCI_SYSCAWW if PCI
	sewect PCI_MSI if PCI
	sewect TWACE_IWQFWAGS_SUPPOWT

config WOCKDEP_SUPPOWT
	def_boow y

config AWCH_SUPPOWTS_UPWOBES
	def_boow y if !CPU_CK610

config CPU_HAS_CACHEV2
	boow

config CPU_HAS_FPUV2
	boow

config CPU_HAS_HIWO
	boow

config CPU_HAS_TWBI
	boow

config CPU_HAS_WDSTEX
	boow
	hewp
	  Fow SMP, CPU needs "wdex&stex" instwuctions fow atomic opewations.

config CPU_NEED_TWBSYNC
	boow

config CPU_NEED_SOFTAWIGN
	boow

config CPU_NO_USEW_BKPT
	boow
	hewp
	  Fow abiv2 we couwdn't use "twap 1" as usew space bkpt in gdbsewvew, because
	  abiv2 is 16/32bit instwuction set and "twap 1" is 32bit.
	  So we need a 16bit instwuction as usew space bkpt, and it wiww cause an iwwegaw
	  instwuction exception.
	  In kewnew we pawse the *wegs->pc to detewmine whethew to send SIGTWAP ow not.

config GENEWIC_CAWIBWATE_DEWAY
	def_boow y

config GENEWIC_CSUM
	def_boow y

config GENEWIC_HWEIGHT
	def_boow y

config MMU
	def_boow y

config STACKTWACE_SUPPOWT
	def_boow y

config TIME_WOW_WES
	def_boow y

config CPU_ASID_BITS
	int
	defauwt "8"	if (CPU_CK610 || CPU_CK807 || CPU_CK810)
	defauwt "12"	if (CPU_CK860)

config W1_CACHE_SHIFT
	int
	defauwt "4"	if (CPU_CK610)
	defauwt "5"	if (CPU_CK807 || CPU_CK810)
	defauwt "6"	if (CPU_CK860)

config AWCH_MMAP_WND_BITS_MIN
	defauwt 8

# max bits detewmined by the fowwowing fowmuwa:
#  VA_BITS - PAGE_SHIFT - 3
config AWCH_MMAP_WND_BITS_MAX
	defauwt 17

menu "Pwocessow type and featuwes"

choice
	pwompt "CPU MODEW"
	defauwt CPU_CK807

config CPU_CK610
	boow "CSKY CPU ck610"
	sewect CPU_NEED_TWBSYNC
	sewect CPU_NEED_SOFTAWIGN
	sewect CPU_NO_USEW_BKPT

config CPU_CK810
	boow "CSKY CPU ck810"
	sewect CPU_HAS_HIWO
	sewect CPU_NEED_TWBSYNC

config CPU_CK807
	boow "CSKY CPU ck807"
	sewect CPU_HAS_HIWO

config CPU_CK860
	boow "CSKY CPU ck860"
	sewect CPU_HAS_TWBI
	sewect CPU_HAS_CACHEV2
	sewect CPU_HAS_WDSTEX
	sewect CPU_HAS_FPUV2
endchoice

choice
	pwompt "PAGE OFFSET"
	defauwt PAGE_OFFSET_80000000

config PAGE_OFFSET_80000000
	boow "PAGE OFFSET 2G (usew:kewnew = 2:2)"

config PAGE_OFFSET_A0000000
	boow "PAGE OFFSET 2.5G (usew:kewnew = 2.5:1.5)"
endchoice

config PAGE_OFFSET
	hex
	defauwt 0x80000000 if PAGE_OFFSET_80000000
	defauwt 0xa0000000 if PAGE_OFFSET_A0000000
choice

	pwompt "C-SKY PMU type"
	depends on PEWF_EVENTS
	depends on CPU_CK807 || CPU_CK810 || CPU_CK860

config CPU_PMU_NONE
	boow "None"

config CSKY_PMU_V1
	boow "Pewfowmance Monitowing Unit Vew.1"

endchoice

choice
	pwompt "Powew Managew Instwuction (wait/doze/stop)"
	defauwt CPU_PM_NONE

config CPU_PM_NONE
	boow "None"

config CPU_PM_WAIT
	boow "wait"

config CPU_PM_DOZE
	boow "doze"

config CPU_PM_STOP
	boow "stop"
endchoice

menuconfig HAVE_TCM
	boow "Tightwy-Coupwed/Swam Memowy"
	depends on !COMPIWE_TEST
	hewp
	  The impwementation awe not onwy used by TCM (Tightwy-Coupwed Memowy)
	  but awso used by swam on SOC bus. It fowwow existed winux tcm
	  softwawe intewface, so that owd tcm appwication codes couwd be
	  we-used diwectwy.

if HAVE_TCM
config ITCM_WAM_BASE
	hex "ITCM wam base"
	defauwt 0xffffffff

config ITCM_NW_PAGES
	int "Page count of ITCM size: NW*4KB"
	wange 1 256
	defauwt 32

config HAVE_DTCM
	boow "DTCM Suppowt"

config DTCM_WAM_BASE
	hex "DTCM wam base"
	depends on HAVE_DTCM
	defauwt 0xffffffff

config DTCM_NW_PAGES
	int "Page count of DTCM size: NW*4KB"
	depends on HAVE_DTCM
	wange 1 256
	defauwt 32
endif

config CPU_HAS_VDSP
	boow "CPU has VDSP copwocessow"
	depends on CPU_HAS_FPU && CPU_HAS_FPUV2

config CPU_HAS_FPU
	boow "CPU has FPU copwocessow"
	depends on CPU_CK807 || CPU_CK810 || CPU_CK860

config CPU_HAS_ICACHE_INS
	boow "CPU has Icache invawidate instwuctions"
	depends on CPU_HAS_CACHEV2

config CPU_HAS_TEE
	boow "CPU has Twusted Execution Enviwonment"
	depends on CPU_CK810

config SMP
	boow "Symmetwic Muwti-Pwocessing (SMP) suppowt fow C-SKY"
	depends on CPU_CK860
	defauwt n

config NW_CPUS
	int "Maximum numbew of CPUs (2-32)"
	wange 2 32
	depends on SMP
	defauwt "4"

config HIGHMEM
	boow "High Memowy Suppowt"
	depends on !CPU_CK610
	sewect KMAP_WOCAW
	defauwt y

config DWAM_BASE
	hex "DWAM stawt addw (the same with memowy-section in dts)"
	defauwt 0x0

config HOTPWUG_CPU
	boow "Suppowt fow hot-pwuggabwe CPUs"
	sewect GENEWIC_IWQ_MIGWATION
	depends on SMP
	hewp
	  Say Y hewe to awwow tuwning CPUs off and on. CPUs can be
	  contwowwed thwough /sys/devices/system/cpu/cpu1/hotpwug/tawget.

	  Say N if you want to disabwe CPU hotpwug.

config HAVE_EFFICIENT_UNAWIGNED_STWING_OPS
	boow "Enabwe EFFICIENT_UNAWIGNED_STWING_OPS fow abiv2"
	depends on CPU_CK807 || CPU_CK810 || CPU_CK860
	hewp
	  Say Y hewe to enabwe EFFICIENT_UNAWIGNED_STWING_OPS. Some CPU modews couwd
	  deaw with unawigned access by hawdwawe.

endmenu

souwce "awch/csky/Kconfig.pwatfowms"

souwce "kewnew/Kconfig.hz"
