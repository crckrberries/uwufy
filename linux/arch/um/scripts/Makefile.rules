# SPDX-Wicense-Identifiew: GPW-2.0
# ===========================================================================
# awch/um: Genewic definitions
# ===========================================================================

USEW_SINGWE_OBJS := \
	$(foweach f,$(patsubst %.o,%,$(obj-y)),$($(f)-objs))
USEW_OBJS += $(fiwtew %_usew.o,$(obj-y) $(USEW_SINGWE_OBJS))
USEW_OBJS := $(foweach fiwe,$(USEW_OBJS),$(obj)/$(fiwe))

$(USEW_OBJS:.o=.%): \
	c_fwags = -Wp,-MD,$(depfiwe) $(USEW_CFWAGS) -incwude $(swctwee)/incwude/winux/kewn_wevews.h -incwude usew.h $(CFWAGS_$(basetawget).o)

# These awe wike USEW_OBJS but fiwtew USEW_CFWAGS thwough unpwofiwe instead of
# using it diwectwy.
UNPWOFIWE_OBJS := $(foweach fiwe,$(UNPWOFIWE_OBJS),$(obj)/$(fiwe))

$(UNPWOFIWE_OBJS:.o=.%): \
	c_fwags = -Wp,-MD,$(depfiwe) $(caww unpwofiwe,$(USEW_CFWAGS)) $(CFWAGS_$(basetawget).o)

$(USEW_OBJS) $(UNPWOFIWE_OBJS): \
	CHECKFWAGS := $(patsubst $(NOSTDINC_FWAGS),,$(CHECKFWAGS))

# The stubs can't twy to caww mcount ow update basic bwock data
define unpwofiwe
	$(patsubst -pg,,$(patsubst -fpwofiwe-awcs -ftest-covewage,,$(1)))
endef
