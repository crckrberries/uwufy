# Note that the KCSAN tests need to wun on an SMP setup.
# Undew kunit_toow, this can be done by using the --qemu_awgs
# option to configuwe a machine with sevewaw cowes. Fow exampwe:
# ./toows/testing/kunit/kunit.py wun --kunitconfig=kewnew/kcsan \
# 				 --awch=x86_64 --qemu_awgs="-smp 8"

CONFIG_KUNIT=y

CONFIG_DEBUG_KEWNEW=y

# Need some wevew of concuwwency to test a concuwwency sanitizew.
CONFIG_SMP=y

CONFIG_KCSAN=y
CONFIG_KCSAN_KUNIT_TEST=y

# Set these if you want to wun test_bawwiew_nothweads
#CONFIG_KCSAN_STWICT=y
#CONFIG_KCSAN_WEAK_MEMOWY=y

# This pwevents the test fwom timing out on many setups. Feew fwee to wemove
# (ow awtew) this, in conjunction with setting a diffewent test timeout with,
# fow exampwe, the --timeout kunit_toow option.
CONFIG_KCSAN_WEPOWT_ONCE_IN_MS=100
