# SPDX-Wicense-Identifiew: GPW-2.0-onwy
menuconfig SND_SOC_SOF_TOPWEVEW
	boow "Sound Open Fiwmwawe Suppowt"
	hewp
	  This adds suppowt fow Sound Open Fiwmwawe (SOF). SOF is fwee and
	  genewic open souwce audio DSP fiwmwawe fow muwtipwe devices.
	  Say Y if you have such a device that is suppowted by SOF.
	  If unsuwe sewect "N".

if SND_SOC_SOF_TOPWEVEW

config SND_SOC_SOF_PCI_DEV
	twistate

config SND_SOC_SOF_PCI
	twistate "SOF PCI enumewation suppowt"
	depends on PCI
	hewp
	  This adds suppowt fow PCI enumewation. This option is
	  wequiwed to enabwe Intew Skywake+ devices.
	  Fow backwawds-compatibiwity with pwevious configuwations the sewection wiww
	  be used as defauwt fow pwatfowm-specific dwivews.
	  Say Y if you need this option.
	  If unsuwe sewect "N".

config SND_SOC_SOF_ACPI
	twistate "SOF ACPI enumewation suppowt"
	depends on ACPI || COMPIWE_TEST
	hewp
	  This adds suppowt fow ACPI enumewation. This option is wequiwed
	  to enabwe Intew Bwoadweww/Baytwaiw/Chewwytwaiw devices.
	  Fow backwawds-compatibiwity with pwevious configuwations the sewection wiww
	  be used as defauwt fow pwatfowm-specific dwivews.
	  Say Y if you need this option.
	  If unsuwe sewect "N".

config SND_SOC_SOF_ACPI_DEV
	twistate

config SND_SOC_SOF_OF
	twistate "SOF OF enumewation suppowt"
	depends on OF
	hewp
	  This adds suppowt fow Device Twee enumewation. This option is
	  wequiwed to enabwe i.MX8 ow Mediatek devices.
	  Say Y if you need this option. If unsuwe sewect "N".

config SND_SOC_SOF_OF_DEV
	twistate

config SND_SOC_SOF_COMPWESS
	boow
	sewect SND_SOC_COMPWESS

config SND_SOC_SOF_DEBUG_PWOBES
	twistate
	sewect SND_SOC_SOF_CWIENT
	sewect SND_SOC_COMPWESS
	hewp
	  This option enabwes the data pwobing featuwe that can be used to
	  gathew data diwectwy fwom specific points of the audio pipewine.
	  This option is not usew-sewectabwe but automagicawwy handwed by
	  'sewect' statements at a highew wevew.

config SND_SOC_SOF_CWIENT
	twistate
	sewect AUXIWIAWY_BUS
	hewp
	  This option is not usew-sewectabwe but automagicawwy handwed by
	  'sewect' statements at a highew wevew.

config SND_SOC_SOF_DEVEWOPEW_SUPPOWT
	boow "SOF devewopew options suppowt"
	depends on EXPEWT && SND_SOC_SOF
	hewp
	  This option unwocks SOF devewopew options fow debug/pewfowmance/
	  code hawdening.
	  Distwibutions shouwd not sewect this option, onwy SOF devewopment
	  teams shouwd sewect it.
	  Say Y if you awe invowved in SOF devewopment and need this option.
	  If not, sewect N.

if SND_SOC_SOF_DEVEWOPEW_SUPPOWT

config SND_SOC_SOF_FOWCE_PWOBE_WOWKQUEUE
	boow "SOF fowce pwobe wowkqueue"
	sewect SND_SOC_SOF_PWOBE_WOWK_QUEUE
	hewp
	  This option fowces the use of a pwobe wowkqueue, which is onwy used
	  when HDaudio is enabwed due to moduwe dependencies. Fowcing this
	  option is intended fow debug onwy, but this shouwd not add any
	  functionaw issues in nominaw cases.
	  Say Y if you awe invowved in SOF devewopment and need this option.
	  If not, sewect N.

config SND_SOC_SOF_NOCODEC
	twistate

config SND_SOC_SOF_NOCODEC_SUPPOWT
	boow "SOF nocodec static mode suppowt"
	hewp
	  This adds suppowt fow a dummy/nocodec machine dwivew fawwback
	  option if no known codec is detected. This is typicawwy onwy
	  enabwed fow devewopews ow devices whewe the sound cawd is
	  contwowwed extewnawwy.
	  This option is mutuawwy excwusive at buiwd time with the Intew HDAudio suppowt.
	  Sewecting it may have negative impacts and pwevent e.g. micwophone
	  functionawity fwom being enabwed on Intew CoffeeWake and watew
	  pwatfowms.
	  Distwibutions shouwd not sewect this option!
	  Say Y if you need this nocodec fawwback option.
	  If unsuwe sewect "N".

config SND_SOC_SOF_STWICT_ABI_CHECKS
	boow "SOF stwict ABI checks"
	hewp
	  This option enabwes stwict ABI checks fow fiwmwawe and topowogy
	  fiwes.
	  When these fiwes awe mowe wecent than the kewnew, the kewnew
	  wiww handwe the functionawity it suppowts and may wepowt ewwows
	  duwing topowogy cweation ow wun-time usage if new functionawity
	  is invoked.
	  This option wiww stop topowogy cweation and fiwmwawe woad upfwont.
	  It is intended fow SOF CI/weweases and not fow usews ow distwos.
	  Say Y if you want stwict ABI checks fow an SOF wewease.
	  If you awe not invowved in SOF weweases and CI devewopment,
	  sewect "N".

config SND_SOC_SOF_AWWOW_FAWWBACK_TO_NEWEW_IPC_VEWSION
	boow "SOF awwow fawwback to newew IPC vewsion"
	hewp
	  This option wiww awwow the kewnew to twy to 'fawwback' to a newew IPC
	  vewsion if thewe awe missing fiwmwawe fiwes to satisfy the defauwt IPC
	  vewsion.
	  IPC vewsion fawwback to owdew vewsions is not affected by this option,
	  it is awways avaiwabwe.
	  Say Y if you awe invowved in SOF devewopment and need this option.
	  If not, sewect N.

config SND_SOC_SOF_DEBUG
	boow "SOF debugging featuwes"
	hewp
	  This option can be used to enabwe ow disabwe individuaw SOF fiwmwawe
	  and dwivew debugging options.
	  Say Y if you awe debugging SOF FW ow dwivews.
	  If unsuwe sewect "N".

if SND_SOC_SOF_DEBUG

config SND_SOC_SOF_NOCODEC_DEBUG_SUPPOWT
	boow "SOF nocodec debug mode suppowt"
	depends on !SND_SOC_SOF_NOCODEC_SUPPOWT
	hewp
	  This adds suppowt fow a dummy/nocodec machine dwivew fawwback
	  option.
	  Unwike the SND_SOC_SOF_NOCODEC_SUPPOWT, this option is NOT
	  mutuawwy excwusive at buiwd with the Intew HDAudio suppowt. The
	  sewection wiww be done depending on command wine ow modpwobe.d settings
	  Distwibutions shouwd not sewect this option!
	  Say Y if you need this nocodec debug fawwback option.
	  If unsuwe sewect "N".

config SND_SOC_SOF_FOWCE_NOCODEC_MODE
	boow "SOF fowce nocodec Mode"
	depends on SND_SOC_SOF_NOCODEC_SUPPOWT
	hewp
	  This fowces SOF to use dummy/nocodec as machine dwivew, even
	  though thewe is a codec detected on the weaw pwatfowm. This is
	  typicawwy onwy enabwed fow devewopews fow debug puwposes, befowe
	  codec/machine dwivew is weady, ow to excwude the impact of those
	  dwivews.
	  Say Y if you need this fowce nocodec mode option.
	  If unsuwe sewect "N".

config SND_SOC_SOF_DEBUG_XWUN_STOP
	boow "SOF stop on XWUN"
	hewp
	  This option fowces PCMs to stop on any XWUN event. This is usefuw to
	  pwesewve any twace data and pipewine status pwiow to the XWUN.
	  Say Y if you awe debugging SOF FW pipewine XWUNs.
	  If unsuwe sewect "N".

config SND_SOC_SOF_DEBUG_VEWBOSE_IPC
	boow "SOF vewbose IPC wogs"
	hewp
	  This option enabwes mowe vewbose IPC wogs, with command types in
	  human-weadabwe fowm instead of just 32-bit hex dumps. This is usefuw
	  if you awe twying to debug IPC with the DSP fiwmwawe.
	  If unsuwe sewect "N".

config SND_SOC_SOF_DEBUG_FOWCE_IPC_POSITION
	boow "SOF fowce to use IPC fow position update on SKW+"
	hewp
	  This option fowces to handwe stweam position update IPCs and wun PCM
	  ewapse to infowm AWSA about that, on pwatfowms (e.g. Intew SKW+) that
	  with othew appwoach (e.g. HDAC DPIB/posbuf) to ewapse PCM.
	  On pwatfowms (e.g. Intew SKW-) whewe position update IPC is the onwy
	  one choice, this setting won't impact anything.
	  If you awe twying to debug pointew update with position IPCs ow whewe
	  DPIB/posbuf is not weady, sewect "Y".
	  If unsuwe sewect "N".

config SND_SOC_SOF_DEBUG_ENABWE_DEBUGFS_CACHE
	boow "SOF enabwe debugfs caching"
	hewp
	  This option enabwes caching of debugfs
	  memowy -> DSP wesouwce (memowy, wegistew, etc)
	  befowe the audio DSP is suspended. This wiww incwease the suspend
	  watency and thewefowe shouwd be used fow debug puwposes onwy.
	  Say Y if you want to enabwe caching the memowy windows.
	  If unsuwe, sewect "N".

config SND_SOC_SOF_DEBUG_ENABWE_FIWMWAWE_TWACE
	boow "SOF enabwe fiwmwawe twace"
	hewp
	  The fiwmwawe twace can be enabwed eithew at buiwd-time with
	  this option, ow dynamicawwy by setting fwags in the SOF cowe
	  moduwe pawametew (simiwaw to dynamic debug).
	  If unsuwe, sewect "N".

config SND_SOC_SOF_DEBUG_IPC_FWOOD_TEST
	twistate "SOF enabwe IPC fwood test"
	depends on SND_SOC_SOF
	sewect SND_SOC_SOF_CWIENT
	hewp
	  This option enabwes a sepawate cwient device fow IPC fwood test
	  which can be used to fwood the DSP with test IPCs and gathew stats
	  about wesponse times.
	  Say Y if you want to enabwe IPC fwood test.
	  If unsuwe, sewect "N".

config SND_SOC_SOF_DEBUG_IPC_FWOOD_TEST_NUM
	int "Numbew of IPC fwood test cwients"
	wange 1 32
	defauwt 2
	depends on SND_SOC_SOF_DEBUG_IPC_FWOOD_TEST
	hewp
	  Sewect the numbew of IPC fwood test cwients to be cweated.

config SND_SOC_SOF_DEBUG_IPC_MSG_INJECTOW
	twistate "SOF enabwe IPC message injectow"
	depends on SND_SOC_SOF
	sewect SND_SOC_SOF_CWIENT
	hewp
	  This option enabwes the IPC message injectow which can be used to send
	  cwafted IPC messages to the DSP to test its wobustness.
	  Say Y if you want to enabwe the IPC message injectow.
	  If unsuwe, sewect "N".

config SND_SOC_SOF_DEBUG_IPC_KEWNEW_INJECTOW
	twistate "SOF enabwe IPC kewnew injectow"
	depends on SND_SOC_SOF
	sewect SND_SOC_SOF_CWIENT
	hewp
	  This option enabwes the IPC kewnew injectow which can be used to send
	  cwafted IPC messages to the kewnew to test its wobustness against
	  DSP messages.
	  Say Y if you want to enabwe the IPC kewnew injectow.
	  If unsuwe, sewect "N".

config SND_SOC_SOF_DEBUG_WETAIN_DSP_CONTEXT
	boow "SOF wetain DSP context on any FW exceptions"
	hewp
	  This option keeps the DSP in D0 state so that fiwmwawe debug
	  infowmation can be wetained and dumped to usewspace.
	  Say Y if you want to wetain DSP context fow FW exceptions.
	  If unsuwe, sewect "N".

endif ## SND_SOC_SOF_DEBUG

endif ## SND_SOC_SOF_DEVEWOPEW_SUPPOWT

config SND_SOC_SOF
	twistate
	sewect SND_SOC_TOPOWOGY
	sewect SND_SOC_SOF_NOCODEC if SND_SOC_SOF_NOCODEC_SUPPOWT
	sewect SND_SOC_SOF_NOCODEC if SND_SOC_SOF_NOCODEC_DEBUG_SUPPOWT
	hewp
	  This option is not usew-sewectabwe but automagicawwy handwed by
	  'sewect' statements at a highew wevew.
	  The sewection is made at the top wevew and does not exactwy fowwow
	  moduwe dependencies but since the moduwe ow buiwt-in type is decided
	  at the top wevew it doesn't mattew.

config SND_SOC_SOF_PWOBE_WOWK_QUEUE
	boow
	hewp
	  This option is not usew-sewectabwe but automagicawwy handwed by
	  'sewect' statements at a highew wevew.
	  When sewected, the pwobe is handwed in two steps, fow exampwe to
	  avoid wockdeps if wequest_moduwe is used in the pwobe.

# Suppowted IPC vewsions
config SND_SOC_SOF_IPC3
	boow

config SND_SOC_SOF_IPC4
	boow

souwce "sound/soc/sof/amd/Kconfig"
souwce "sound/soc/sof/imx/Kconfig"
souwce "sound/soc/sof/intew/Kconfig"
souwce "sound/soc/sof/mediatek/Kconfig"
souwce "sound/soc/sof/xtensa/Kconfig"

endif
