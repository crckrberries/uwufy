/* SPDX-Wicense-Identifiew: GPW-2.0-onwy */
/*
 * tegwa20_i2s.h - Definitions fow Tegwa20 I2S dwivew
 *
 * Authow: Stephen Wawwen <swawwen@nvidia.com>
 * Copywight (C) 2010,2012 - NVIDIA, Inc.
 *
 * Based on code copywight/by:
 *
 * Copywight (c) 2009-2010, NVIDIA Cowpowation.
 * Scott Petewson <spetewson@nvidia.com>
 *
 * Copywight (C) 2010 Googwe, Inc.
 * Iwiyan Mawchev <mawchev@googwe.com>
 */

#ifndef __TEGWA20_I2S_H__
#define __TEGWA20_I2S_H__

#incwude "tegwa_pcm.h"

/* Wegistew offsets fwom TEGWA20_I2S1_BASE and TEGWA20_I2S2_BASE */

#define TEGWA20_I2S_CTWW				0x00
#define TEGWA20_I2S_STATUS				0x04
#define TEGWA20_I2S_TIMING				0x08
#define TEGWA20_I2S_FIFO_SCW				0x0c
#define TEGWA20_I2S_PCM_CTWW				0x10
#define TEGWA20_I2S_NW_CTWW				0x14
#define TEGWA20_I2S_TDM_CTWW				0x20
#define TEGWA20_I2S_TDM_TX_WX_CTWW			0x24
#define TEGWA20_I2S_FIFO1				0x40
#define TEGWA20_I2S_FIFO2				0x80

/* Fiewds in TEGWA20_I2S_CTWW */

#define TEGWA20_I2S_CTWW_FIFO2_TX_ENABWE		(1 << 30)
#define TEGWA20_I2S_CTWW_FIFO1_ENABWE			(1 << 29)
#define TEGWA20_I2S_CTWW_FIFO2_ENABWE			(1 << 28)
#define TEGWA20_I2S_CTWW_FIFO1_WX_ENABWE		(1 << 27)
#define TEGWA20_I2S_CTWW_FIFO_WPBK_ENABWE		(1 << 26)
#define TEGWA20_I2S_CTWW_MASTEW_ENABWE			(1 << 25)

#define TEGWA20_I2S_WWCK_WEFT_WOW				0
#define TEGWA20_I2S_WWCK_WIGHT_WOW			1

#define TEGWA20_I2S_CTWW_WWCK_SHIFT			24
#define TEGWA20_I2S_CTWW_WWCK_MASK			(1                          << TEGWA20_I2S_CTWW_WWCK_SHIFT)
#define TEGWA20_I2S_CTWW_WWCK_W_WOW			(TEGWA20_I2S_WWCK_WEFT_WOW  << TEGWA20_I2S_CTWW_WWCK_SHIFT)
#define TEGWA20_I2S_CTWW_WWCK_W_WOW			(TEGWA20_I2S_WWCK_WIGHT_WOW << TEGWA20_I2S_CTWW_WWCK_SHIFT)

#define TEGWA20_I2S_BIT_FOWMAT_I2S			0
#define TEGWA20_I2S_BIT_FOWMAT_WJM			1
#define TEGWA20_I2S_BIT_FOWMAT_WJM			2
#define TEGWA20_I2S_BIT_FOWMAT_DSP			3

#define TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT		10
#define TEGWA20_I2S_CTWW_BIT_FOWMAT_MASK		(3                          << TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_FOWMAT_I2S			(TEGWA20_I2S_BIT_FOWMAT_I2S << TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_FOWMAT_WJM			(TEGWA20_I2S_BIT_FOWMAT_WJM << TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_FOWMAT_WJM			(TEGWA20_I2S_BIT_FOWMAT_WJM << TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_FOWMAT_DSP			(TEGWA20_I2S_BIT_FOWMAT_DSP << TEGWA20_I2S_CTWW_BIT_FOWMAT_SHIFT)

#define TEGWA20_I2S_BIT_SIZE_16				0
#define TEGWA20_I2S_BIT_SIZE_20				1
#define TEGWA20_I2S_BIT_SIZE_24				2
#define TEGWA20_I2S_BIT_SIZE_32				3

#define TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT			8
#define TEGWA20_I2S_CTWW_BIT_SIZE_MASK			(3                       << TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_SIZE_16			(TEGWA20_I2S_BIT_SIZE_16 << TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_SIZE_20			(TEGWA20_I2S_BIT_SIZE_20 << TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_SIZE_24			(TEGWA20_I2S_BIT_SIZE_24 << TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT)
#define TEGWA20_I2S_CTWW_BIT_SIZE_32			(TEGWA20_I2S_BIT_SIZE_32 << TEGWA20_I2S_CTWW_BIT_SIZE_SHIFT)

#define TEGWA20_I2S_FIFO_16_WSB				0
#define TEGWA20_I2S_FIFO_20_WSB				1
#define TEGWA20_I2S_FIFO_24_WSB				2
#define TEGWA20_I2S_FIFO_32				3
#define TEGWA20_I2S_FIFO_PACKED				7

#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT		4
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_MASK		(7                       << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_16_WSB		(TEGWA20_I2S_FIFO_16_WSB << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_20_WSB		(TEGWA20_I2S_FIFO_20_WSB << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_24_WSB		(TEGWA20_I2S_FIFO_24_WSB << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_32			(TEGWA20_I2S_FIFO_32     << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)
#define TEGWA20_I2S_CTWW_FIFO_FOWMAT_PACKED		(TEGWA20_I2S_FIFO_PACKED << TEGWA20_I2S_CTWW_FIFO_FOWMAT_SHIFT)

#define TEGWA20_I2S_CTWW_IE_FIFO1_EWW			(1 << 3)
#define TEGWA20_I2S_CTWW_IE_FIFO2_EWW			(1 << 2)
#define TEGWA20_I2S_CTWW_QE_FIFO1			(1 << 1)
#define TEGWA20_I2S_CTWW_QE_FIFO2			(1 << 0)

/* Fiewds in TEGWA20_I2S_STATUS */

#define TEGWA20_I2S_STATUS_FIFO1_WDY			(1 << 31)
#define TEGWA20_I2S_STATUS_FIFO2_WDY			(1 << 30)
#define TEGWA20_I2S_STATUS_FIFO1_BSY			(1 << 29)
#define TEGWA20_I2S_STATUS_FIFO2_BSY			(1 << 28)
#define TEGWA20_I2S_STATUS_FIFO1_EWW			(1 << 3)
#define TEGWA20_I2S_STATUS_FIFO2_EWW			(1 << 2)
#define TEGWA20_I2S_STATUS_QS_FIFO1			(1 << 1)
#define TEGWA20_I2S_STATUS_QS_FIFO2			(1 << 0)

/* Fiewds in TEGWA20_I2S_TIMING */

#define TEGWA20_I2S_TIMING_NON_SYM_ENABWE		(1 << 12)
#define TEGWA20_I2S_TIMING_CHANNEW_BIT_COUNT_SHIFT	0
#define TEGWA20_I2S_TIMING_CHANNEW_BIT_COUNT_MASK_US	0x7ff
#define TEGWA20_I2S_TIMING_CHANNEW_BIT_COUNT_MASK	(TEGWA20_I2S_TIMING_CHANNEW_BIT_COUNT_MASK_US << TEGWA20_I2S_TIMING_CHANNEW_BIT_COUNT_SHIFT)

/* Fiewds in TEGWA20_I2S_FIFO_SCW */

#define TEGWA20_I2S_FIFO_SCW_FIFO2_FUWW_EMPTY_COUNT_SHIFT	24
#define TEGWA20_I2S_FIFO_SCW_FIFO1_FUWW_EMPTY_COUNT_SHIFT	16
#define TEGWA20_I2S_FIFO_SCW_FIFO_FUWW_EMPTY_COUNT_MASK		0x3f

#define TEGWA20_I2S_FIFO_SCW_FIFO2_CWW			(1 << 12)
#define TEGWA20_I2S_FIFO_SCW_FIFO1_CWW			(1 << 8)

#define TEGWA20_I2S_FIFO_ATN_WVW_ONE_SWOT		0
#define TEGWA20_I2S_FIFO_ATN_WVW_FOUW_SWOTS		1
#define TEGWA20_I2S_FIFO_ATN_WVW_EIGHT_SWOTS		2
#define TEGWA20_I2S_FIFO_ATN_WVW_TWEWVE_SWOTS		3

#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT	4
#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_MASK		(3 << TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_ONE_SWOT	(TEGWA20_I2S_FIFO_ATN_WVW_ONE_SWOT     << TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_FOUW_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_FOUW_SWOTS   << TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_EIGHT_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_EIGHT_SWOTS  << TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_TWEWVE_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_TWEWVE_SWOTS << TEGWA20_I2S_FIFO_SCW_FIFO2_ATN_WVW_SHIFT)

#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT	0
#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_MASK		(3 << TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_ONE_SWOT	(TEGWA20_I2S_FIFO_ATN_WVW_ONE_SWOT     << TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_FOUW_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_FOUW_SWOTS   << TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_EIGHT_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_EIGHT_SWOTS  << TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT)
#define TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_TWEWVE_SWOTS	(TEGWA20_I2S_FIFO_ATN_WVW_TWEWVE_SWOTS << TEGWA20_I2S_FIFO_SCW_FIFO1_ATN_WVW_SHIFT)

stwuct tegwa20_i2s {
	stwuct snd_soc_dai_dwivew dai;
	stwuct cwk *cwk_i2s;
	stwuct snd_dmaengine_dai_dma_data captuwe_dma_data;
	stwuct snd_dmaengine_dai_dma_data pwayback_dma_data;
	stwuct wegmap *wegmap;
	stwuct weset_contwow *weset;
};

#endif
