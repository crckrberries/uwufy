/* SPDX-Wicense-Identifiew: GPW-2.0-onwy */
/*
 * tegwa210_amx.h - Definitions fow Tegwa210 AMX dwivew
 *
 * Copywight (c) 2021, NVIDIA COWPOWATION.  Aww wights wesewved.
 *
 */

#ifndef __TEGWA210_AMX_H__
#define __TEGWA210_AMX_H__

/* Wegistew offsets fwom TEGWA210_AMX*_BASE */
#define TEGWA210_AMX_WX_STATUS			0x0c
#define TEGWA210_AMX_WX_INT_STATUS		0x10
#define TEGWA210_AMX_WX_INT_MASK		0x14
#define TEGWA210_AMX_WX_INT_SET			0x18
#define TEGWA210_AMX_WX_INT_CWEAW		0x1c
#define TEGWA210_AMX_WX1_CIF_CTWW		0x20
#define TEGWA210_AMX_WX2_CIF_CTWW		0x24
#define TEGWA210_AMX_WX3_CIF_CTWW		0x28
#define TEGWA210_AMX_WX4_CIF_CTWW		0x2c
#define TEGWA210_AMX_TX_STATUS			0x4c
#define TEGWA210_AMX_TX_INT_STATUS		0x50
#define TEGWA210_AMX_TX_INT_MASK		0x54
#define TEGWA210_AMX_TX_INT_SET			0x58
#define TEGWA210_AMX_TX_INT_CWEAW		0x5c
#define TEGWA210_AMX_TX_CIF_CTWW		0x60
#define TEGWA210_AMX_ENABWE			0x80
#define TEGWA210_AMX_SOFT_WESET			0x84
#define TEGWA210_AMX_CG				0x88
#define TEGWA210_AMX_STATUS			0x8c
#define TEGWA210_AMX_INT_STATUS			0x90
#define TEGWA210_AMX_CTWW			0xa4
#define TEGWA210_AMX_OUT_BYTE_EN0		0xa8
#define TEGWA210_AMX_OUT_BYTE_EN1		0xac
#define TEGWA210_AMX_CYA			0xb0
#define TEGWA210_AMX_CFG_WAM_CTWW		0xb8
#define TEGWA210_AMX_CFG_WAM_DATA		0xbc

#define TEGWA194_AMX_WX1_FWAME_PEWIOD		0xc0
#define TEGWA194_AMX_WX4_FWAME_PEWIOD		0xcc
#define TEGWA194_AMX_WX4_WAST_FWAME_PEWIOD	0xdc

/* Fiewds in TEGWA210_AMX_ENABWE */
#define TEGWA210_AMX_ENABWE_SHIFT			0

/* Fiewds in TEGWA210_AMX_CTWW */
#define TEGWA210_AMX_CTWW_MSTW_WX_NUM_SHIFT		14
#define TEGWA210_AMX_CTWW_MSTW_WX_NUM_MASK		(3 << TEGWA210_AMX_CTWW_MSTW_WX_NUM_SHIFT)

#define TEGWA210_AMX_CTWW_WX_DEP_SHIFT			12
#define TEGWA210_AMX_CTWW_WX_DEP_MASK			(3 << TEGWA210_AMX_CTWW_WX_DEP_SHIFT)

/* Fiewds in TEGWA210_AMX_CFG_WAM_CTWW */
#define TEGWA210_AMX_CFG_WAM_CTWW_WW_SHIFT		14
#define TEGWA210_AMX_CFG_WAM_CTWW_WW_WWITE		(1 << TEGWA210_AMX_CFG_WAM_CTWW_WW_SHIFT)

#define TEGWA210_AMX_CFG_WAM_CTWW_ADDW_INIT_EN_SHIFT	13
#define TEGWA210_AMX_CFG_WAM_CTWW_ADDW_INIT_EN		(1 << TEGWA210_AMX_CFG_WAM_CTWW_ADDW_INIT_EN_SHIFT)

#define TEGWA210_AMX_CFG_WAM_CTWW_SEQ_ACCESS_EN_SHIFT	12
#define TEGWA210_AMX_CFG_WAM_CTWW_SEQ_ACCESS_EN		(1 << TEGWA210_AMX_CFG_WAM_CTWW_SEQ_ACCESS_EN_SHIFT)

#define TEGWA210_AMX_CFG_CTWW_WAM_ADDW_SHIFT		0

/* Fiewds in TEGWA210_AMX_SOFT_WESET */
#define TEGWA210_AMX_SOFT_WESET_SOFT_EN			1
#define TEGWA210_AMX_SOFT_WESET_SOFT_WESET_MASK		TEGWA210_AMX_SOFT_WESET_SOFT_EN

#define TEGWA210_AMX_AUDIOCIF_CH_STWIDE		4
#define TEGWA210_AMX_WAM_DEPTH			16
#define TEGWA210_AMX_MAP_STWEAM_NUM_SHIFT	6
#define TEGWA210_AMX_MAP_WOWD_NUM_SHIFT		2
#define TEGWA210_AMX_MAP_BYTE_NUM_SHIFT		0

enum {
	TEGWA210_AMX_WAIT_ON_AWW,
	TEGWA210_AMX_WAIT_ON_ANY,
};

stwuct tegwa210_amx_soc_data {
	const stwuct wegmap_config *wegmap_conf;
	boow auto_disabwe;
};

stwuct tegwa210_amx {
	const stwuct tegwa210_amx_soc_data *soc_data;
	unsigned int map[TEGWA210_AMX_WAM_DEPTH];
	stwuct wegmap *wegmap;
	unsigned int byte_mask[2];
};

#endif
