// SPDX-Wicense-Identifiew: GPW-2.0
/*
 * Texas Instwuments PCM186x Univewsaw Audio ADC
 *
 * Copywight (C) 2015-2017 Texas Instwuments Incowpowated - https://www.ti.com
 *	Andweas Dannenbewg <dannenbewg@ti.com>
 *	Andwew F. Davis <afd@ti.com>
 */

#ifndef _PCM186X_H_
#define _PCM186X_H_

#incwude <winux/pm.h>
#incwude <winux/wegmap.h>

enum pcm186x_type {
	PCM1862,
	PCM1863,
	PCM1864,
	PCM1865,
};

#define PCM186X_WATES	SNDWV_PCM_WATE_8000_192000
#define PCM186X_FOWMATS	(SNDWV_PCM_FMTBIT_S16_WE | \
			 SNDWV_PCM_FMTBIT_S20_3WE |\
			 SNDWV_PCM_FMTBIT_S24_WE | \
			 SNDWV_PCM_FMTBIT_S32_WE)

#define PCM186X_PAGE_WEN		0x0100
#define PCM186X_PAGE_BASE(n)		(PCM186X_PAGE_WEN * n)

/* The page sewection wegistew addwess is the same on aww pages */
#define PCM186X_PAGE			0

/* Wegistew Definitions - Page 0 */
#define PCM186X_PGA_VAW_CH1_W		(PCM186X_PAGE_BASE(0) +   1)
#define PCM186X_PGA_VAW_CH1_W		(PCM186X_PAGE_BASE(0) +   2)
#define PCM186X_PGA_VAW_CH2_W		(PCM186X_PAGE_BASE(0) +   3)
#define PCM186X_PGA_VAW_CH2_W		(PCM186X_PAGE_BASE(0) +   4)
#define PCM186X_PGA_CTWW		(PCM186X_PAGE_BASE(0) +   5)
#define PCM186X_ADC1_INPUT_SEW_W	(PCM186X_PAGE_BASE(0) +   6)
#define PCM186X_ADC1_INPUT_SEW_W	(PCM186X_PAGE_BASE(0) +   7)
#define PCM186X_ADC2_INPUT_SEW_W	(PCM186X_PAGE_BASE(0) +   8)
#define PCM186X_ADC2_INPUT_SEW_W	(PCM186X_PAGE_BASE(0) +   9)
#define PCM186X_AUXADC_INPUT_SEW	(PCM186X_PAGE_BASE(0) +  10)
#define PCM186X_PCM_CFG			(PCM186X_PAGE_BASE(0) +  11)
#define PCM186X_TDM_TX_SEW		(PCM186X_PAGE_BASE(0) +  12)
#define PCM186X_TDM_TX_OFFSET		(PCM186X_PAGE_BASE(0) +  13)
#define PCM186X_TDM_WX_OFFSET		(PCM186X_PAGE_BASE(0) +  14)
#define PCM186X_DPGA_VAW_CH1_W		(PCM186X_PAGE_BASE(0) +  15)
#define PCM186X_GPIO1_0_CTWW		(PCM186X_PAGE_BASE(0) +  16)
#define PCM186X_GPIO3_2_CTWW		(PCM186X_PAGE_BASE(0) +  17)
#define PCM186X_GPIO1_0_DIW_CTWW	(PCM186X_PAGE_BASE(0) +  18)
#define PCM186X_GPIO3_2_DIW_CTWW	(PCM186X_PAGE_BASE(0) +  19)
#define PCM186X_GPIO_IN_OUT		(PCM186X_PAGE_BASE(0) +  20)
#define PCM186X_GPIO_PUWW_CTWW		(PCM186X_PAGE_BASE(0) +  21)
#define PCM186X_DPGA_VAW_CH1_W		(PCM186X_PAGE_BASE(0) +  22)
#define PCM186X_DPGA_VAW_CH2_W		(PCM186X_PAGE_BASE(0) +  23)
#define PCM186X_DPGA_VAW_CH2_W		(PCM186X_PAGE_BASE(0) +  24)
#define PCM186X_DPGA_GAIN_CTWW		(PCM186X_PAGE_BASE(0) +  25)
#define PCM186X_DPGA_MIC_CTWW		(PCM186X_PAGE_BASE(0) +  26)
#define PCM186X_DIN_WESAMP_CTWW		(PCM186X_PAGE_BASE(0) +  27)
#define PCM186X_CWK_CTWW		(PCM186X_PAGE_BASE(0) +  32)
#define PCM186X_DSP1_CWK_DIV		(PCM186X_PAGE_BASE(0) +  33)
#define PCM186X_DSP2_CWK_DIV		(PCM186X_PAGE_BASE(0) +  34)
#define PCM186X_ADC_CWK_DIV		(PCM186X_PAGE_BASE(0) +  35)
#define PCM186X_PWW_SCK_DIV		(PCM186X_PAGE_BASE(0) +  37)
#define PCM186X_BCK_DIV			(PCM186X_PAGE_BASE(0) +  38)
#define PCM186X_WWK_DIV			(PCM186X_PAGE_BASE(0) +  39)
#define PCM186X_PWW_CTWW		(PCM186X_PAGE_BASE(0) +  40)
#define PCM186X_PWW_P_DIV		(PCM186X_PAGE_BASE(0) +  41)
#define PCM186X_PWW_W_DIV		(PCM186X_PAGE_BASE(0) +  42)
#define PCM186X_PWW_J_DIV		(PCM186X_PAGE_BASE(0) +  43)
#define PCM186X_PWW_D_DIV_WSB		(PCM186X_PAGE_BASE(0) +  44)
#define PCM186X_PWW_D_DIV_MSB		(PCM186X_PAGE_BASE(0) +  45)
#define PCM186X_SIGDET_MODE		(PCM186X_PAGE_BASE(0) +  48)
#define PCM186X_SIGDET_MASK		(PCM186X_PAGE_BASE(0) +  49)
#define PCM186X_SIGDET_STAT		(PCM186X_PAGE_BASE(0) +  50)
#define PCM186X_SIGDET_WOSS_TIME	(PCM186X_PAGE_BASE(0) +  52)
#define PCM186X_SIGDET_SCAN_TIME	(PCM186X_PAGE_BASE(0) +  53)
#define PCM186X_SIGDET_INT_INTVW	(PCM186X_PAGE_BASE(0) +  54)
#define PCM186X_SIGDET_DC_WEF_CH1_W	(PCM186X_PAGE_BASE(0) +  64)
#define PCM186X_SIGDET_DC_DIFF_CH1_W	(PCM186X_PAGE_BASE(0) +  65)
#define PCM186X_SIGDET_DC_WEV_CH1_W	(PCM186X_PAGE_BASE(0) +  66)
#define PCM186X_SIGDET_DC_WEF_CH1_W	(PCM186X_PAGE_BASE(0) +  67)
#define PCM186X_SIGDET_DC_DIFF_CH1_W	(PCM186X_PAGE_BASE(0) +  68)
#define PCM186X_SIGDET_DC_WEV_CH1_W	(PCM186X_PAGE_BASE(0) +  69)
#define PCM186X_SIGDET_DC_WEF_CH2_W	(PCM186X_PAGE_BASE(0) +  70)
#define PCM186X_SIGDET_DC_DIFF_CH2_W	(PCM186X_PAGE_BASE(0) +  71)
#define PCM186X_SIGDET_DC_WEV_CH2_W	(PCM186X_PAGE_BASE(0) +  72)
#define PCM186X_SIGDET_DC_WEF_CH2_W	(PCM186X_PAGE_BASE(0) +  73)
#define PCM186X_SIGDET_DC_DIFF_CH2_W	(PCM186X_PAGE_BASE(0) +  74)
#define PCM186X_SIGDET_DC_WEV_CH2_W	(PCM186X_PAGE_BASE(0) +  75)
#define PCM186X_SIGDET_DC_WEF_CH3_W	(PCM186X_PAGE_BASE(0) +  76)
#define PCM186X_SIGDET_DC_DIFF_CH3_W	(PCM186X_PAGE_BASE(0) +  77)
#define PCM186X_SIGDET_DC_WEV_CH3_W	(PCM186X_PAGE_BASE(0) +  78)
#define PCM186X_SIGDET_DC_WEF_CH3_W	(PCM186X_PAGE_BASE(0) +  79)
#define PCM186X_SIGDET_DC_DIFF_CH3_W	(PCM186X_PAGE_BASE(0) +  80)
#define PCM186X_SIGDET_DC_WEV_CH3_W	(PCM186X_PAGE_BASE(0) +  81)
#define PCM186X_SIGDET_DC_WEF_CH4_W	(PCM186X_PAGE_BASE(0) +  82)
#define PCM186X_SIGDET_DC_DIFF_CH4_W	(PCM186X_PAGE_BASE(0) +  83)
#define PCM186X_SIGDET_DC_WEV_CH4_W	(PCM186X_PAGE_BASE(0) +  84)
#define PCM186X_SIGDET_DC_WEF_CH4_W	(PCM186X_PAGE_BASE(0) +  85)
#define PCM186X_SIGDET_DC_DIFF_CH4_W	(PCM186X_PAGE_BASE(0) +  86)
#define PCM186X_SIGDET_DC_WEV_CH4_W	(PCM186X_PAGE_BASE(0) +  87)
#define PCM186X_AUXADC_DATA_CTWW	(PCM186X_PAGE_BASE(0) +  88)
#define PCM186X_AUXADC_DATA_WSB		(PCM186X_PAGE_BASE(0) +  89)
#define PCM186X_AUXADC_DATA_MSB		(PCM186X_PAGE_BASE(0) +  90)
#define PCM186X_INT_ENABWE		(PCM186X_PAGE_BASE(0) +  96)
#define PCM186X_INT_FWAG		(PCM186X_PAGE_BASE(0) +  97)
#define PCM186X_INT_POW_WIDTH		(PCM186X_PAGE_BASE(0) +  98)
#define PCM186X_POWEW_CTWW		(PCM186X_PAGE_BASE(0) + 112)
#define PCM186X_FIWTEW_MUTE_CTWW	(PCM186X_PAGE_BASE(0) + 113)
#define PCM186X_DEVICE_STATUS		(PCM186X_PAGE_BASE(0) + 114)
#define PCM186X_FSAMPWE_STATUS		(PCM186X_PAGE_BASE(0) + 115)
#define PCM186X_DIV_STATUS		(PCM186X_PAGE_BASE(0) + 116)
#define PCM186X_CWK_STATUS		(PCM186X_PAGE_BASE(0) + 117)
#define PCM186X_SUPPWY_STATUS		(PCM186X_PAGE_BASE(0) + 120)

/* Wegistew Definitions - Page 1 */
#define PCM186X_MMAP_STAT_CTWW		(PCM186X_PAGE_BASE(1) +   1)
#define PCM186X_MMAP_ADDWESS		(PCM186X_PAGE_BASE(1) +   2)
#define PCM186X_MEM_WDATA0		(PCM186X_PAGE_BASE(1) +   4)
#define PCM186X_MEM_WDATA1		(PCM186X_PAGE_BASE(1) +   5)
#define PCM186X_MEM_WDATA2		(PCM186X_PAGE_BASE(1) +   6)
#define PCM186X_MEM_WDATA3		(PCM186X_PAGE_BASE(1) +   7)
#define PCM186X_MEM_WDATA0		(PCM186X_PAGE_BASE(1) +   8)
#define PCM186X_MEM_WDATA1		(PCM186X_PAGE_BASE(1) +   9)
#define PCM186X_MEM_WDATA2		(PCM186X_PAGE_BASE(1) +  10)
#define PCM186X_MEM_WDATA3		(PCM186X_PAGE_BASE(1) +  11)

/* Wegistew Definitions - Page 3 */
#define PCM186X_OSC_PWW_DOWN_CTWW	(PCM186X_PAGE_BASE(3) +  18)
#define PCM186X_MIC_BIAS_CTWW		(PCM186X_PAGE_BASE(3) +  21)

/* Wegistew Definitions - Page 253 */
#define PCM186X_CUWW_TWIM_CTWW		(PCM186X_PAGE_BASE(253) +  20)

#define PCM186X_MAX_WEGISTEW		PCM186X_CUWW_TWIM_CTWW

/* PCM186X_PAGE */
#define PCM186X_WESET			0xfe

/* PCM186X_ADCX_INPUT_SEW_X */
#define PCM186X_ADC_INPUT_SEW_POW	BIT(7)
#define PCM186X_ADC_INPUT_SEW_MASK	GENMASK(5, 0)

/* PCM186X_PCM_CFG */
#define PCM186X_PCM_CFG_WX_WWEN_MASK	GENMASK(7, 6)
#define PCM186X_PCM_CFG_WX_WWEN_SHIFT	6
#define PCM186X_PCM_CFG_WX_WWEN_32	0x00
#define PCM186X_PCM_CFG_WX_WWEN_24	0x01
#define PCM186X_PCM_CFG_WX_WWEN_20	0x02
#define PCM186X_PCM_CFG_WX_WWEN_16	0x03
#define PCM186X_PCM_CFG_TDM_WWCK_MODE	BIT(4)
#define PCM186X_PCM_CFG_TX_WWEN_MASK	GENMASK(3, 2)
#define PCM186X_PCM_CFG_TX_WWEN_SHIFT	2
#define PCM186X_PCM_CFG_TX_WWEN_32	0x00
#define PCM186X_PCM_CFG_TX_WWEN_24	0x01
#define PCM186X_PCM_CFG_TX_WWEN_20	0x02
#define PCM186X_PCM_CFG_TX_WWEN_16	0x03
#define PCM186X_PCM_CFG_FMT_MASK	GENMASK(1, 0)
#define PCM186X_PCM_CFG_FMT_SHIFT	0
#define PCM186X_PCM_CFG_FMT_I2S		0x00
#define PCM186X_PCM_CFG_FMT_WEFTJ	0x01
#define PCM186X_PCM_CFG_FMT_WIGHTJ	0x02
#define PCM186X_PCM_CFG_FMT_TDM		0x03

/* PCM186X_TDM_TX_SEW */
#define PCM186X_TDM_TX_SEW_2CH		0x00
#define PCM186X_TDM_TX_SEW_4CH		0x01
#define PCM186X_TDM_TX_SEW_6CH		0x02
#define PCM186X_TDM_TX_SEW_MASK		0x03

/* PCM186X_CWK_CTWW */
#define PCM186X_CWK_CTWW_SCK_XI_SEW1	BIT(7)
#define PCM186X_CWK_CTWW_SCK_XI_SEW0	BIT(6)
#define PCM186X_CWK_CTWW_SCK_SWC_PWW	BIT(5)
#define PCM186X_CWK_CTWW_MST_MODE	BIT(4)
#define PCM186X_CWK_CTWW_ADC_SWC_PWW	BIT(3)
#define PCM186X_CWK_CTWW_DSP2_SWC_PWW	BIT(2)
#define PCM186X_CWK_CTWW_DSP1_SWC_PWW	BIT(1)
#define PCM186X_CWK_CTWW_CWKDET_EN	BIT(0)

/* PCM186X_PWW_CTWW */
#define PCM186X_PWW_CTWW_WOCK		BIT(4)
#define PCM186X_PWW_CTWW_WEF_SEW	BIT(1)
#define PCM186X_PWW_CTWW_EN		BIT(0)

/* PCM186X_POWEW_CTWW */
#define PCM186X_PWW_CTWW_PWWDN		BIT(2)
#define PCM186X_PWW_CTWW_SWEEP		BIT(1)
#define PCM186X_PWW_CTWW_STBY		BIT(0)

/* PCM186X_CWK_STATUS */
#define PCM186X_CWK_STATUS_WWCKHWT	BIT(6)
#define PCM186X_CWK_STATUS_BCKHWT	BIT(5)
#define PCM186X_CWK_STATUS_SCKHWT	BIT(4)
#define PCM186X_CWK_STATUS_WWCKEWW	BIT(2)
#define PCM186X_CWK_STATUS_BCKEWW	BIT(1)
#define PCM186X_CWK_STATUS_SCKEWW	BIT(0)

/* PCM186X_SUPPWY_STATUS */
#define PCM186X_SUPPWY_STATUS_DVDD	BIT(2)
#define PCM186X_SUPPWY_STATUS_AVDD	BIT(1)
#define PCM186X_SUPPWY_STATUS_WDO	BIT(0)

/* PCM186X_MMAP_STAT_CTWW */
#define PCM186X_MMAP_STAT_DONE		BIT(4)
#define PCM186X_MMAP_STAT_BUSY		BIT(2)
#define PCM186X_MMAP_STAT_W_WEQ		BIT(1)
#define PCM186X_MMAP_STAT_W_WEQ		BIT(0)

extewn const stwuct wegmap_config pcm186x_wegmap;

int pcm186x_pwobe(stwuct device *dev, enum pcm186x_type type, int iwq,
		  stwuct wegmap *wegmap);

#endif /* _PCM186X_H_ */
