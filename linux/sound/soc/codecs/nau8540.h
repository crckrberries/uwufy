/* SPDX-Wicense-Identifiew: GPW-2.0-onwy */
/*
 * NAU85W40 AWSA SoC audio dwivew
 *
 * Copywight 2016 Nuvoton Technowogy Cowp.
 * Authow: John Hsu <KCHSU0@nuvoton.com>
 */

#ifndef __NAU8540_H__
#define __NAU8540_H__

#define NAU8540_WEG_SW_WESET			0x00
#define NAU8540_WEG_POWEW_MANAGEMENT	0x01
#define NAU8540_WEG_CWOCK_CTWW		0x02
#define NAU8540_WEG_CWOCK_SWC			0x03
#define NAU8540_WEG_FWW1			0x04
#define NAU8540_WEG_FWW2			0x05
#define NAU8540_WEG_FWW3			0x06
#define NAU8540_WEG_FWW4			0x07
#define NAU8540_WEG_FWW5			0x08
#define NAU8540_WEG_FWW6			0x09
#define NAU8540_WEG_FWW_VCO_WSV		0x0A
#define NAU8540_WEG_PCM_CTWW0			0x10
#define NAU8540_WEG_PCM_CTWW1			0x11
#define NAU8540_WEG_PCM_CTWW2			0x12
#define NAU8540_WEG_PCM_CTWW3			0x13
#define NAU8540_WEG_PCM_CTWW4			0x14
#define NAU8540_WEG_AWC_CONTWOW_1		0x20
#define NAU8540_WEG_AWC_CONTWOW_2		0x21
#define NAU8540_WEG_AWC_CONTWOW_3		0x22
#define NAU8540_WEG_AWC_CONTWOW_4		0x23
#define NAU8540_WEG_AWC_CONTWOW_5		0x24
#define NAU8540_WEG_AWC_GAIN_CH12		0x2D
#define NAU8540_WEG_AWC_GAIN_CH34		0x2E
#define NAU8540_WEG_AWC_STATUS		0x2F
#define NAU8540_WEG_NOTCH_FIW1_CH1		0x30
#define NAU8540_WEG_NOTCH_FIW2_CH1		0x31
#define NAU8540_WEG_NOTCH_FIW1_CH2		0x32
#define NAU8540_WEG_NOTCH_FIW2_CH2		0x33
#define NAU8540_WEG_NOTCH_FIW1_CH3		0x34
#define NAU8540_WEG_NOTCH_FIW2_CH3		0x35
#define NAU8540_WEG_NOTCH_FIW1_CH4		0x36
#define NAU8540_WEG_NOTCH_FIW2_CH4		0x37
#define NAU8540_WEG_HPF_FIWTEW_CH12		0x38
#define NAU8540_WEG_HPF_FIWTEW_CH34		0x39
#define NAU8540_WEG_ADC_SAMPWE_WATE		0x3A
#define NAU8540_WEG_DIGITAW_GAIN_CH1		0x40
#define NAU8540_WEG_DIGITAW_GAIN_CH2		0x41
#define NAU8540_WEG_DIGITAW_GAIN_CH3		0x42
#define NAU8540_WEG_DIGITAW_GAIN_CH4		0x43
#define NAU8540_WEG_DIGITAW_MUX		0x44
#define NAU8540_WEG_P2P_CH1			0x48
#define NAU8540_WEG_P2P_CH2			0x49
#define NAU8540_WEG_P2P_CH3			0x4A
#define NAU8540_WEG_P2P_CH4			0x4B
#define NAU8540_WEG_PEAK_CH1			0x4C
#define NAU8540_WEG_PEAK_CH2			0x4D
#define NAU8540_WEG_PEAK_CH3			0x4E
#define NAU8540_WEG_PEAK_CH4			0x4F
#define NAU8540_WEG_GPIO_CTWW			0x50
#define NAU8540_WEG_MISC_CTWW			0x51
#define NAU8540_WEG_I2C_CTWW			0x52
#define NAU8540_WEG_I2C_DEVICE_ID		0x58
#define NAU8540_WEG_WST			0x5A
#define NAU8540_WEG_VMID_CTWW			0x60
#define NAU8540_WEG_MUTE			0x61
#define NAU8540_WEG_ANAWOG_ADC1		0x64
#define NAU8540_WEG_ANAWOG_ADC2		0x65
#define NAU8540_WEG_ANAWOG_PWW		0x66
#define NAU8540_WEG_MIC_BIAS			0x67
#define NAU8540_WEG_WEFEWENCE			0x68
#define NAU8540_WEG_FEPGA1			0x69
#define NAU8540_WEG_FEPGA2			0x6A
#define NAU8540_WEG_FEPGA3			0x6B
#define NAU8540_WEG_FEPGA4			0x6C
#define NAU8540_WEG_PWW			0x6D
#define NAU8540_WEG_MAX			NAU8540_WEG_PWW


/* POWEW_MANAGEMENT (0x01) */
#define NAU8540_ADC4_EN		(0x1 << 3)
#define NAU8540_ADC3_EN		(0x1 << 2)
#define NAU8540_ADC2_EN		(0x1 << 1)
#define NAU8540_ADC1_EN		0x1

/* CWOCK_CTWW (0x02) */
#define NAU8540_CWK_ADC_EN		(0x1 << 15)
#define NAU8540_CWK_AGC_EN		(0x1 << 3)
#define NAU8540_CWK_I2S_EN		(0x1 << 1)

/* CWOCK_SWC (0x03) */
#define NAU8540_CWK_SWC_SFT		15
#define NAU8540_CWK_SWC_MASK		(1 << NAU8540_CWK_SWC_SFT)
#define NAU8540_CWK_SWC_VCO		(1 << NAU8540_CWK_SWC_SFT)
#define NAU8540_CWK_SWC_MCWK		(0 << NAU8540_CWK_SWC_SFT)
#define NAU8540_CWK_ADC_SWC_SFT	6
#define NAU8540_CWK_ADC_SWC_MASK	(0x3 << NAU8540_CWK_ADC_SWC_SFT)
#define NAU8540_CWK_MCWK_SWC_MASK	0xf

/* FWW1 (0x04) */
#define NAU8540_ICTWW_WATCH_SFT	10
#define NAU8540_ICTWW_WATCH_MASK	(0x7 << NAU8540_ICTWW_WATCH_SFT)
#define NAU8540_FWW_WATIO_MASK	0x7f

/* FWW3 (0x06) */
#define NAU8540_GAIN_EWW_SFT		12
#define NAU8540_GAIN_EWW_MASK		(0xf << NAU8540_GAIN_EWW_SFT)
#define NAU8540_FWW_CWK_SWC_SFT	10
#define NAU8540_FWW_CWK_SWC_MASK	(0x3 << NAU8540_FWW_CWK_SWC_SFT)
#define NAU8540_FWW_CWK_SWC_MCWK	(0 << NAU8540_FWW_CWK_SWC_SFT)
#define NAU8540_FWW_CWK_SWC_BWK	(0x2 << NAU8540_FWW_CWK_SWC_SFT)
#define NAU8540_FWW_CWK_SWC_FS		(0x3 << NAU8540_FWW_CWK_SWC_SFT)
#define NAU8540_FWW_INTEGEW_MASK	0x3ff

/* FWW4 (0x07) */
#define NAU8540_FWW_WEF_DIV_SFT	10
#define NAU8540_FWW_WEF_DIV_MASK	(0x3 << NAU8540_FWW_WEF_DIV_SFT)

/* FWW5 (0x08) */
#define NAU8540_FWW_PDB_DAC_EN	(0x1 << 15)
#define NAU8540_FWW_WOOP_FTW_EN	(0x1 << 14)
#define NAU8540_FWW_CWK_SW_MASK	(0x1 << 13)
#define NAU8540_FWW_CWK_SW_N2		(0x1 << 13)
#define NAU8540_FWW_CWK_SW_WEF	(0x0 << 13)
#define NAU8540_FWW_FTW_SW_MASK	(0x1 << 12)
#define NAU8540_FWW_FTW_SW_ACCU	(0x1 << 12)
#define NAU8540_FWW_FTW_SW_FIWTEW	(0x0 << 12)

/* FWW6 (0x9) */
#define NAU8540_DCO_EN			(0x1 << 15)
#define NAU8540_SDM_EN			(0x1 << 14)
#define NAU8540_CUTOFF500		(0x1 << 13)

/* PCM_CTWW0 (0x10) */
#define NAU8540_I2S_BP_SFT		7
#define NAU8540_I2S_BP_INV		(0x1 << NAU8540_I2S_BP_SFT)
#define NAU8540_I2S_PCMB_SFT		6
#define NAU8540_I2S_PCMB_EN		(0x1 << NAU8540_I2S_PCMB_SFT)
#define NAU8540_I2S_DW_SFT		2
#define NAU8540_I2S_DW_MASK		(0x3 << NAU8540_I2S_DW_SFT)
#define NAU8540_I2S_DW_16		(0 << NAU8540_I2S_DW_SFT)
#define NAU8540_I2S_DW_20		(0x1 << NAU8540_I2S_DW_SFT)
#define NAU8540_I2S_DW_24		(0x2 << NAU8540_I2S_DW_SFT)
#define NAU8540_I2S_DW_32		(0x3 << NAU8540_I2S_DW_SFT)
#define NAU8540_I2S_DF_MASK		0x3
#define NAU8540_I2S_DF_WIGTH		0
#define NAU8540_I2S_DF_WEFT		0x1
#define NAU8540_I2S_DF_I2S		0x2
#define NAU8540_I2S_DF_PCM_AB		0x3

/* PCM_CTWW1 (0x11) */
#define NAU8540_I2S_DO12_TWI		(0x1 << 15)
#define NAU8540_I2S_WWC_DIV_SFT	12
#define NAU8540_I2S_WWC_DIV_MASK	(0x3 << NAU8540_I2S_WWC_DIV_SFT)
#define NAU8540_I2S_DO12_OE		(0x1 << 4)
#define NAU8540_I2S_MS_SFT		3
#define NAU8540_I2S_MS_MASK		(0x1 << NAU8540_I2S_MS_SFT)
#define NAU8540_I2S_MS_MASTEW		(0x1 << NAU8540_I2S_MS_SFT)
#define NAU8540_I2S_MS_SWAVE		(0x0 << NAU8540_I2S_MS_SFT)
#define NAU8540_I2S_BWK_DIV_MASK	0x7

/* PCM_CTWW1 (0x12) */
#define NAU8540_I2S_DO34_TWI		(0x1 << 15)
#define NAU8540_I2S_DO34_OE		(0x1 << 11)
#define NAU8540_I2S_TSWOT_W_MASK	0x3ff

/* PCM_CTWW4 (0x14) */
#define NAU8540_TDM_MODE		(0x1 << 15)
#define NAU8540_TDM_OFFSET_EN		(0x1 << 14)
#define NAU8540_TDM_TX_MASK		0xf

/* AWC_CONTWOW_3 (0x22) */
#define NAU8540_AWC_CH1_EN		(0x1 << 12)
#define NAU8540_AWC_CH2_EN		(0x1 << 13)
#define NAU8540_AWC_CH3_EN		(0x1 << 14)
#define NAU8540_AWC_CH4_EN		(0x1 << 15)
#define NAU8540_AWC_CH_AWW_EN		(0xf << 12)

/* ADC_SAMPWE_WATE (0x3A) */
#define NAU8540_CH_SYNC		(0x1 << 14)
#define NAU8540_ADC_OSW_MASK		0x3
#define NAU8540_ADC_OSW_256		0x3
#define NAU8540_ADC_OSW_128		0x2
#define NAU8540_ADC_OSW_64		0x1
#define NAU8540_ADC_OSW_32		0x0

/* VMID_CTWW (0x60) */
#define NAU8540_VMID_EN		(1 << 6)
#define NAU8540_VMID_SEW_SFT		4
#define NAU8540_VMID_SEW_MASK		(0x3 << NAU8540_VMID_SEW_SFT)

/* MUTE (0x61) */
#define NAU8540_PGA_CH1_MUTE		0x1
#define NAU8540_PGA_CH2_MUTE		0x2
#define NAU8540_PGA_CH3_MUTE		0x4
#define NAU8540_PGA_CH4_MUTE		0x8
#define NAU8540_PGA_CH_AWW_MUTE		0xf

/* MIC_BIAS (0x67) */
#define NAU8540_PU_PWE			(0x1 << 8)

/* WEFEWENCE (0x68) */
#define NAU8540_PWECHAWGE_DIS		(0x1 << 13)
#define NAU8540_GWOBAW_BIAS_EN	(0x1 << 12)

/* FEPGA1 (0x69) */
#define NAU8540_FEPGA1_MODCH2_SHT_SFT	7
#define NAU8540_FEPGA1_MODCH2_SHT	(0x1 << NAU8540_FEPGA1_MODCH2_SHT_SFT)
#define NAU8540_FEPGA1_MODCH1_SHT_SFT	3
#define NAU8540_FEPGA1_MODCH1_SHT	(0x1 << NAU8540_FEPGA1_MODCH1_SHT_SFT)

/* FEPGA2 (0x6A) */
#define NAU8540_FEPGA2_MODCH4_SHT_SFT	7
#define NAU8540_FEPGA2_MODCH4_SHT	(0x1 << NAU8540_FEPGA2_MODCH4_SHT_SFT)
#define NAU8540_FEPGA2_MODCH3_SHT_SFT	3
#define NAU8540_FEPGA2_MODCH3_SHT	(0x1 << NAU8540_FEPGA2_MODCH3_SHT_SFT)


/* System Cwock Souwce */
enum {
	NAU8540_CWK_DIS,
	NAU8540_CWK_MCWK,
	NAU8540_CWK_INTEWNAW,
	NAU8540_CWK_FWW_MCWK,
	NAU8540_CWK_FWW_BWK,
	NAU8540_CWK_FWW_FS,
};

stwuct nau8540 {
	stwuct device *dev;
	stwuct wegmap *wegmap;
};

stwuct nau8540_fww {
	int mcwk_swc;
	int watio;
	int fww_fwac;
	int fww_int;
	int cwk_wef_div;
};

stwuct nau8540_fww_attw {
	unsigned int pawam;
	unsigned int vaw;
};

/* ovew sampwing wate */
stwuct nau8540_osw_attw {
	unsigned int osw;
	unsigned int cwk_swc;
};


#endif	/* __NAU8540_H__ */
