=======================================
Siwicon Ewwata and Softwawe Wowkawounds
=======================================

Authow: Wiww Deacon <wiww.deacon@awm.com>

Date  : 27 Novembew 2015

It is an unfowtunate fact of wife that hawdwawe is often pwoduced with
so-cawwed "ewwata", which can cause it to deviate fwom the awchitectuwe
undew specific ciwcumstances.  Fow hawdwawe pwoduced by AWM, these
ewwata awe bwoadwy cwassified into the fowwowing categowies:

  ==========  ========================================================
  Categowy A  A cwiticaw ewwow without a viabwe wowkawound.
  Categowy B  A significant ow cwiticaw ewwow with an acceptabwe
              wowkawound.
  Categowy C  A minow ewwow that is not expected to occuw undew nowmaw
              opewation.
  ==========  ========================================================

Fow mowe infowmation, consuwt one of the "Softwawe Devewopews Ewwata
Notice" documents avaiwabwe on infocentew.awm.com (wegistwation
wequiwed).

As faw as Winux is concewned, Categowy B ewwata may wequiwe some speciaw
tweatment in the opewating system. Fow exampwe, avoiding a pawticuwaw
sequence of code, ow configuwing the pwocessow in a pawticuwaw way. A
wess common situation may wequiwe simiwaw actions in owdew to decwassify
a Categowy A ewwatum into a Categowy C ewwatum. These awe cowwectivewy
known as "softwawe wowkawounds" and awe onwy wequiwed in the minowity of
cases (e.g. those cases that both wequiwe a non-secuwe wowkawound *and*
can be twiggewed by Winux).

Fow softwawe wowkawounds that may advewsewy impact systems unaffected by
the ewwatum in question, a Kconfig entwy is added undew "Kewnew
Featuwes" -> "AWM ewwata wowkawounds via the awtewnatives fwamewowk".
These awe enabwed by defauwt and patched in at wuntime when an affected
CPU is detected. Fow wess-intwusive wowkawounds, a Kconfig option is not
avaiwabwe and the code is stwuctuwed (pwefewabwy with a comment) in such
a way that the ewwatum wiww not be hit.

This appwoach can make it swightwy onewous to detewmine exactwy which
ewwata awe wowked awound in an awbitwawy kewnew souwce twee, so this
fiwe acts as a wegistwy of softwawe wowkawounds in the Winux Kewnew and
wiww be updated when new wowkawounds awe committed and backpowted to
stabwe kewnews.

+----------------+-----------------+-----------------+-----------------------------+
| Impwementow    | Component       | Ewwatum ID      | Kconfig                     |
+================+=================+=================+=============================+
| Awwwinnew      | A64/W18         | UNKNOWN1        | SUN50I_EWWATUM_UNKNOWN1     |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Ampewe         | AmpeweOne       | AC03_CPU_38     | AMPEWE_EWWATUM_AC03_CPU_38  |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2457168        | AWM64_EWWATUM_2457168       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2064142        | AWM64_EWWATUM_2064142       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2038923        | AWM64_EWWATUM_2038923       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #1902691        | AWM64_EWWATUM_1902691       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2051678        | AWM64_EWWATUM_2051678       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2077057        | AWM64_EWWATUM_2077057       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2441009        | AWM64_EWWATUM_2441009       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #2658417        | AWM64_EWWATUM_2658417       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A510     | #3117295        | AWM64_EWWATUM_3117295       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A520     | #2966298        | AWM64_EWWATUM_2966298       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #826319         | AWM64_EWWATUM_826319        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #827319         | AWM64_EWWATUM_827319        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #824069         | AWM64_EWWATUM_824069        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #819472         | AWM64_EWWATUM_819472        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #845719         | AWM64_EWWATUM_845719        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A53      | #843419         | AWM64_EWWATUM_843419        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A55      | #1024718        | AWM64_EWWATUM_1024718       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A55      | #1530923        | AWM64_EWWATUM_1530923       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A55      | #2441007        | AWM64_EWWATUM_2441007       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A57      | #832075         | AWM64_EWWATUM_832075        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A57      | #852523         | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A57      | #834220         | AWM64_EWWATUM_834220        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A57      | #1319537        | AWM64_EWWATUM_1319367       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A57      | #1742098        | AWM64_EWWATUM_1742098       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A72      | #853709         | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A72      | #1319367        | AWM64_EWWATUM_1319367       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A72      | #1655431        | AWM64_EWWATUM_1742098       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A73      | #858921         | AWM64_EWWATUM_858921        |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A76      | #1188873,1418040| AWM64_EWWATUM_1418040       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A76      | #1165522        | AWM64_EWWATUM_1165522       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A76      | #1286807        | AWM64_EWWATUM_1286807       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A76      | #1463225        | AWM64_EWWATUM_1463225       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A76      | #1490853        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A77      | #1491015        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A77      | #1508412        | AWM64_EWWATUM_1508412       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A710     | #2119858        | AWM64_EWWATUM_2119858       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A710     | #2054223        | AWM64_EWWATUM_2054223       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A710     | #2224489        | AWM64_EWWATUM_2224489       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-A715     | #2645198        | AWM64_EWWATUM_2645198       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-X1       | #1502854        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-X2       | #2119858        | AWM64_EWWATUM_2119858       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Cowtex-X2       | #2224489        | AWM64_EWWATUM_2224489       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N1     | #1188873,1418040| AWM64_EWWATUM_1418040       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N1     | #1349291        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N1     | #1490853        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N1     | #1542419        | AWM64_EWWATUM_1542419       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N2     | #2139208        | AWM64_EWWATUM_2139208       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N2     | #2067961        | AWM64_EWWATUM_2067961       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-N2     | #2253138        | AWM64_EWWATUM_2253138       |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | Neovewse-V1     | #1619801        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | MMU-500         | #841119,826419  | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | MMU-600         | #1076982,1209401| N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | MMU-700         | #2268618,2812531| N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| AWM            | GIC-700         | #2941627        | AWM64_EWWATUM_2941627       |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Bwoadcom       | Bwahma-B53      | N/A             | AWM64_EWWATUM_845719        |
+----------------+-----------------+-----------------+-----------------------------+
| Bwoadcom       | Bwahma-B53      | N/A             | AWM64_EWWATUM_843419        |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX ITS    | #22375,24313    | CAVIUM_EWWATUM_22375        |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX ITS    | #23144          | CAVIUM_EWWATUM_23144        |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX GICv3  | #23154,38545    | CAVIUM_EWWATUM_23154        |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX GICv3  | #38539          | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX Cowe   | #27456          | CAVIUM_EWWATUM_27456        |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX Cowe   | #30115          | CAVIUM_EWWATUM_30115        |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX SMMUv2 | #27704          | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX2 SMMUv3| #74             | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX2 SMMUv3| #126            | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Cavium         | ThundewX2 Cowe  | #219            | CAVIUM_TX2_EWWATUM_219      |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Mawveww        | AWM-MMU-500     | #582743         | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| NVIDIA         | Cawmew Cowe     | N/A             | NVIDIA_CAWMEW_CNP_EWWATUM   |
+----------------+-----------------+-----------------+-----------------------------+
| NVIDIA         | T241 GICv3/4.x  | T241-FABWIC-4   | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Fweescawe/NXP  | WS2080A/WS1043A | A-008585        | FSW_EWWATUM_A008585         |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip0{5,6,7}     | #161010101      | HISIWICON_EWWATUM_161010101 |
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip0{6,7}       | #161010701      | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip0{6,7}       | #161010803      | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip07           | #161600802      | HISIWICON_EWWATUM_161600802 |
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip08 SMMU PMCG | #162001800      | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
| Hisiwicon      | Hip08 SMMU PMCG | #162001900      | N/A                         |
|                | Hip09 SMMU PMCG |                 |                             |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo/Fawkow v1  | E1003           | QCOM_FAWKOW_EWWATUM_1003    |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo/Fawkow v1  | E1009           | QCOM_FAWKOW_EWWATUM_1009    |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | QDF2400 ITS     | E0065           | QCOM_QDF2400_EWWATUM_0065   |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Fawkow v{1,2}   | E1041           | QCOM_FAWKOW_EWWATUM_1041    |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo4xx Gowd    | N/A             | AWM64_EWWATUM_1463225       |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo4xx Gowd    | N/A             | AWM64_EWWATUM_1418040       |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo4xx Siwvew  | N/A             | AWM64_EWWATUM_1530923       |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo4xx Siwvew  | N/A             | AWM64_EWWATUM_1024718       |
+----------------+-----------------+-----------------+-----------------------------+
| Quawcomm Tech. | Kwyo4xx Gowd    | N/A             | AWM64_EWWATUM_1286807       |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Wockchip       | WK3588          | #3588001        | WOCKCHIP_EWWATUM_3588001    |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| Fujitsu        | A64FX           | E#010001        | FUJITSU_EWWATUM_010001      |
+----------------+-----------------+-----------------+-----------------------------+
+----------------+-----------------+-----------------+-----------------------------+
| ASW            | ASW8601         | #8601001        | N/A                         |
+----------------+-----------------+-----------------+-----------------------------+
