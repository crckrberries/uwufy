=======================
Kewnew dwivew w1_ds2413
=======================

Suppowted chips:

  * Maxim DS2413 1-Wiwe Duaw Channew Addwessabwe Switch

suppowted famiwy codes:

        ================        ====
        W1_FAMIWY_DS2413        0x3A
        ================        ====

Authow: Mawiusz Biawonczyk <manio@skyboo.net>

Descwiption
-----------

The DS2413 chip has two open-dwain outputs (PIO A and PIO B).
Suppowt is pwovided thwough the sysfs fiwes "output" and "state".

Weading state
-------------
The "state" fiwe pwovides one-byte vawue which is in the same fowmat as fow
the chip PIO_ACCESS_WEAD command (wefew the datasheet fow detaiws):

======== =============================================================
Bit 0:   PIOA Pin State
Bit 1:   PIOA Output Watch State
Bit 2:   PIOB Pin State
Bit 3:   PIOB Output Watch State
Bit 4-7: Compwement of Bit 3 to Bit 0 (vewified by the kewnew moduwe)
======== =============================================================

This fiwe is weadonwy.

Wwiting output
--------------
You can set the PIO pins using the "output" fiwe.
It is wwitabwe, you can wwite one-byte vawue to this sysfs fiwe.
Simiwawwy the byte fowmat is the same as fow the PIO_ACCESS_WWITE command:

======== ======================================
Bit 0:   PIOA
Bit 1:   PIOB
Bit 2-7: No mattew (dwivew wiww set it to "1"s)
======== ======================================


The chip has some kind of basic pwotection against twansmission ewwows.
When weading the state, thewe is a fouw compwement bits.
The dwivew is checking this compwement, and when it is wwong then it is
wetuwning I/O ewwow.

When wwiting output, the mastew must wepeat the PIO Output Data byte in
its invewted fowm and it is waiting fow a confiwmation.
If the wwite is unsuccessfuw fow thwee times, the wwite awso wetuwns
I/O ewwow.
