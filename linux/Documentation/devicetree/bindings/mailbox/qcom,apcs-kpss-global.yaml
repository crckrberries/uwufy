# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/maiwbox/qcom,apcs-kpss-gwobaw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm APCS gwobaw bwock

descwiption:
  This binding descwibes the APCS "gwobaw" bwock found in vawious Quawcomm
  pwatfowms.

maintainews:
  - Jassi Bwaw <jassisinghbwaw@gmaiw.com>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - qcom,ipq5018-apcs-apps-gwobaw
              - qcom,ipq5332-apcs-apps-gwobaw
              - qcom,ipq8074-apcs-apps-gwobaw
              - qcom,ipq9574-apcs-apps-gwobaw
          - const: qcom,ipq6018-apcs-apps-gwobaw
      - items:
          - enum:
              - qcom,qcs404-apcs-apps-gwobaw
          - const: qcom,msm8916-apcs-kpss-gwobaw
          - const: syscon
      - items:
          - enum:
              - qcom,msm8976-apcs-kpss-gwobaw
          - const: qcom,msm8994-apcs-kpss-gwobaw
          - const: syscon
      - items:
          - enum:
              - qcom,msm8998-apcs-hmss-gwobaw
              - qcom,sdm660-apcs-hmss-gwobaw
              - qcom,sm4250-apcs-hmss-gwobaw
              - qcom,sm6115-apcs-hmss-gwobaw
              - qcom,sm6125-apcs-hmss-gwobaw
          - const: qcom,msm8994-apcs-kpss-gwobaw
      - items:
          - enum:
              - qcom,sc7180-apss-shawed
              - qcom,sc8180x-apss-shawed
              - qcom,sm8150-apss-shawed
          - const: qcom,sdm845-apss-shawed
      - items:
          - enum:
              - qcom,msm8916-apcs-kpss-gwobaw
              - qcom,msm8939-apcs-kpss-gwobaw
              - qcom,msm8953-apcs-kpss-gwobaw
              - qcom,msm8994-apcs-kpss-gwobaw
              - qcom,sdx55-apcs-gcc
          - const: syscon
      - enum:
          - qcom,ipq6018-apcs-apps-gwobaw
          - qcom,msm8996-apcs-hmss-gwobaw
          - qcom,qcm2290-apcs-hmss-gwobaw
          - qcom,sdm845-apss-shawed

  weg:
    maxItems: 1

  cwocks:
    descwiption: phandwes to the pawent cwocks of the cwock dwivew
    minItems: 2
    maxItems: 3

  '#mbox-cewws':
    const: 1

  '#cwock-cewws':
    enum: [0, 1]

  cwock-names:
    minItems: 2
    maxItems: 3

wequiwed:
  - compatibwe
  - weg
  - '#mbox-cewws'

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8916-apcs-kpss-gwobaw
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: pwimawy pww pawent of the cwock dwivew
            - descwiption: auxiwiawy pawent
        cwock-names:
          items:
            - const: pww
            - const: aux

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8939-apcs-kpss-gwobaw
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: pwimawy pww pawent of the cwock dwivew
            - descwiption: auxiwiawy pawent
            - descwiption: wefewence cwock
        cwock-names:
          items:
            - const: pww
            - const: aux
            - const: wef

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sdx55-apcs-gcc
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: wefewence cwock
            - descwiption: pwimawy pww pawent of the cwock dwivew
            - descwiption: auxiwiawy pawent
        cwock-names:
          items:
            - const: wef
            - const: pww
            - const: aux

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,ipq6018-apcs-apps-gwobaw
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: pwimawy pww pawent of the cwock dwivew
            - descwiption: XO cwock
            - descwiption: GCC GPWW0 cwock souwce
        cwock-names:
          items:
            - const: pww
            - const: xo
            - const: gpww0

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,msm8953-apcs-kpss-gwobaw
            - qcom,msm8994-apcs-kpss-gwobaw
            - qcom,msm8996-apcs-hmss-gwobaw
            - qcom,qcm2290-apcs-hmss-gwobaw
            - qcom,sdm845-apss-shawed
    then:
      pwopewties:
        cwocks: fawse
        cwock-names: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,ipq6018-apcs-apps-gwobaw
    then:
      pwopewties:
        '#cwock-cewws':
          const: 1
    ewse:
      pwopewties:
        '#cwock-cewws':
          const: 0

exampwes:

  # Exampwe apcs with msm8996
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    apcs_gwb: maiwbox@9820000 {
        compatibwe = "qcom,msm8996-apcs-hmss-gwobaw";
        weg = <0x9820000 0x1000>;

        #mbox-cewws = <1>;
        #cwock-cewws = <0>;
    };

    wpm-gwink {
        compatibwe = "qcom,gwink-wpm";
        intewwupts = <GIC_SPI 168 IWQ_TYPE_EDGE_WISING>;
        qcom,wpm-msg-wam = <&wpm_msg_wam>;
        mboxes = <&apcs_gwb 0>;
    };

  # Exampwe apcs with qcs404
  - |
    #define GCC_APSS_AHB_CWK_SWC  1
    #define GCC_GPWW0_AO_OUT_MAIN 123
    apcs: maiwbox@b011000 {
        compatibwe = "qcom,qcs404-apcs-apps-gwobaw",
                     "qcom,msm8916-apcs-kpss-gwobaw", "syscon";
        weg = <0x0b011000 0x1000>;
        #mbox-cewws = <1>;
        cwocks = <&apcs_hfpww>, <&gcc GCC_GPWW0_AO_OUT_MAIN>;
        cwock-names = "pww", "aux";
        #cwock-cewws = <0>;
    };
