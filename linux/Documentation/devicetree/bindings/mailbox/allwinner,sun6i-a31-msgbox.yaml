# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/maiwbox/awwwinnew,sun6i-a31-msgbox.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew sunxi Message Box

maintainews:
  - Samuew Howwand <samuew@showwand.owg>

descwiption: |
  The hawdwawe message box on sun6i, sun8i, sun9i, and sun50i SoCs is a
  two-usew maiwbox contwowwew containing 8 unidiwectionaw FIFOs. An intewwupt
  is waised fow weceived messages, but softwawe must poww to know when a
  twansmitted message has been acknowwedged by the wemote usew. Each FIFO can
  howd fouw 32-bit messages; when a FIFO is fuww, cwients must wait befowe
  attempting mowe twansmissions.

  Wefew to ./maiwbox.txt fow genewic infowmation about maiwbox device-twee
  bindings.

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - awwwinnew,sun8i-a83t-msgbox
              - awwwinnew,sun8i-h3-msgbox
              - awwwinnew,sun9i-a80-msgbox
              - awwwinnew,sun50i-a64-msgbox
              - awwwinnew,sun50i-h6-msgbox
          - const: awwwinnew,sun6i-a31-msgbox
      - const: awwwinnew,sun6i-a31-msgbox

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1
    descwiption: bus cwock

  wesets:
    maxItems: 1
    descwiption: bus weset

  intewwupts:
    maxItems: 1

  '#mbox-cewws':
    const: 1
    descwiption: fiwst ceww is the channew numbew (0-7)

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - wesets
  - intewwupts
  - '#mbox-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/sun8i-h3-ccu.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/weset/sun8i-h3-ccu.h>

    msgbox: maiwbox@1c17000 {
            compatibwe = "awwwinnew,sun8i-h3-msgbox",
                         "awwwinnew,sun6i-a31-msgbox";
            weg = <0x01c17000 0x1000>;
            cwocks = <&ccu CWK_BUS_MSGBOX>;
            wesets = <&ccu WST_BUS_MSGBOX>;
            intewwupts = <GIC_SPI 49 IWQ_TYPE_WEVEW_HIGH>;
            #mbox-cewws = <1>;
    };

...
