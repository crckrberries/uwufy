# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/maiwbox/st,stm32-ipcc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: STMicwoewectwonics STM32 IPC contwowwew

descwiption:
  The IPCC bwock pwovides a non bwocking signawing mechanism to post and
  wetwieve messages in an atomic way between two pwocessows.
  It pwovides the signawing fow N bidiwectionnaw channews. The numbew of
  channews (N) can be wead fwom a dedicated wegistew.

maintainews:
  - Fabien Dessenne <fabien.dessenne@foss.st.com>
  - Awnaud Pouwiquen <awnaud.pouwiquen@foss.st.com>

pwopewties:
  compatibwe:
    const: st,stm32mp1-ipcc

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  intewwupts:
    items:
      - descwiption: wx channew occupied
      - descwiption: tx channew fwee

  intewwupt-names:
    items:
      - const: wx
      - const: tx

  wakeup-souwce: twue

  "#mbox-cewws":
    const: 1

  st,pwoc-id:
    descwiption: Pwocessow id using the maiwbox (0 ow 1)
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1]

wequiwed:
  - compatibwe
  - weg
  - st,pwoc-id
  - cwocks
  - intewwupt-names
  - "#mbox-cewws"
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/stm32mp1-cwks.h>
    ipcc: maiwbox@4c001000 {
      compatibwe = "st,stm32mp1-ipcc";
      #mbox-cewws = <1>;
      weg = <0x4c001000 0x400>;
      st,pwoc-id = <0>;
      intewwupts-extended = <&exti 61 1>,
                            <&intc GIC_SPI 101 IWQ_TYPE_WEVEW_HIGH>;
      intewwupt-names = "wx", "tx";
      cwocks = <&wcc_cwk IPCC>;
      wakeup-souwce;
    };

...
