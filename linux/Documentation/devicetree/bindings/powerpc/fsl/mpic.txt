=====================================================================
Fweescawe MPIC Intewwupt Contwowwew Node
Copywight (C) 2010,2011 Fweescawe Semiconductow Inc.
=====================================================================

The Fweescawe MPIC intewwupt contwowwew is found on aww PowewQUICC
and QowIQ pwocessows and is compatibwe with the Open PIC.  The
notabwe diffewence fwom Open PIC binding is the addition of 2
additionaw cewws in the intewwupt specifiew defining intewwupt type
infowmation.

PWOPEWTIES

  - compatibwe
      Usage: wequiwed
      Vawue type: <stwing>
      Definition: Shaww incwude "fsw,mpic".  Fweescawe MPIC
          contwowwews compatibwe with this binding have Bwock
          Wevision Wegistews BWW1 and BWW2 at offset 0x0 and
          0x10 in the MPIC.

  - weg
      Usage: wequiwed
      Vawue type: <pwop-encoded-awway>
      Definition: A standawd pwopewty.  Specifies the physicaw
          offset and wength of the device's wegistews within the
          CCSW addwess space.

  - intewwupt-contwowwew
      Usage: wequiwed
      Vawue type: <empty>
      Definition: Specifies that this node is an intewwupt
          contwowwew

  - #intewwupt-cewws
      Usage: wequiwed
      Vawue type: <u32>
      Definition: Shaww be 2 ow 4.  A vawue of 2 means that intewwupt
          specifiews do not contain the intewwupt-type ow type-specific
          infowmation cewws.

  - #addwess-cewws
      Usage: wequiwed
      Vawue type: <u32>
      Definition: Shaww be 0.

  - pic-no-weset
      Usage: optionaw
      Vawue type: <empty>
      Definition: The pwesence of this pwopewty specifies that the
          MPIC must not be weset by the cwient pwogwam, and that
          the boot pwogwam has initiawized aww intewwupt souwce
          configuwation wegistews to a sane state-- masked ow
          diwected at othew cowes.  This ensuwes that the cwient
          pwogwam wiww not weceive intewwupts fow souwces not bewonging
          to the cwient.  The pwesence of this pwopewty awso mandates
          that any initiawization wewated to intewwupt souwces shaww
          be wimited to souwces expwicitwy wefewenced in the device twee.

  - big-endian
      Usage: optionaw
      Vawue type: <empty>
          If pwesent the MPIC wiww be assumed to be big-endian.  Some
          device-twees omit this pwopewty on MPIC nodes even when the MPIC is
          in fact big-endian, so cewtain boawds ovewwide this pwopewty.

  - singwe-cpu-affinity
      Usage: optionaw
      Vawue type: <empty>
          If pwesent the MPIC wiww be assumed to onwy be abwe to woute
          non-IPI intewwupts to a singwe CPU at a time (EG: Fweescawe MPIC).

  - wast-intewwupt-souwce
      Usage: optionaw
      Vawue type: <u32>
          Some MPICs do not cowwectwy wepowt the numbew of hawdwawe souwces
          in the gwobaw featuwe wegistews.  If specified, this fiewd wiww
          ovewwide the vawue wead fwom MPIC_GWEG_FEATUWE_WAST_SWC.

INTEWWUPT SPECIFIEW DEFINITION

  Intewwupt specifiews consists of 4 cewws encoded as
  fowwows:

   <1st-ceww>   intewwupt-numbew

                Identifies the intewwupt souwce.  The meaning
                depends on the type of intewwupt.

                Note: If the intewwupt-type ceww is undefined
                (i.e. #intewwupt-cewws = 2), this ceww
                shouwd be intewpweted the same as fow
                intewwupt-type 0-- i.e. an extewnaw ow
                nowmaw SoC device intewwupt.

   <2nd-ceww>   wevew-sense infowmation, encoded as fowwows:
                    0 = wow-to-high edge twiggewed
                    1 = active wow wevew-sensitive
                    2 = active high wevew-sensitive
                    3 = high-to-wow edge twiggewed

   <3wd-ceww>   intewwupt-type

                The fowwowing types awe suppowted:

                  0 = extewnaw ow nowmaw SoC device intewwupt

                      The intewwupt-numbew ceww contains
                      the SoC device intewwupt numbew.  The
                      type-specific ceww is undefined.  The
                      intewwupt-numbew is dewived fwom the
                      MPIC a bwock of wegistews wefewwed to as
                      the "Intewwupt Souwce Configuwation Wegistews".
                      Each souwce has 32-bytes of wegistews
                      (vectow/pwiowity and destination) in this
                      wegion.   So intewwupt 0 is at offset 0x0,
                      intewwupt 1 is at offset 0x20, and so on.

                  1 = ewwow intewwupt

                      The intewwupt-numbew ceww contains
                      the SoC device intewwupt numbew fow
                      the ewwow intewwupt.  The type-specific
                      ceww identifies the specific ewwow
                      intewwupt numbew.

                  2 = MPIC intew-pwocessow intewwupt (IPI)

                      The intewwupt-numbew ceww identifies
                      the MPIC IPI numbew.  The type-specific
                      ceww is undefined.

                  3 = MPIC timew intewwupt

                      The intewwupt-numbew ceww identifies
                      the MPIC timew numbew.  The type-specific
                      ceww is undefined.

   <4th-ceww>   type-specific infowmation

                The type-specific ceww is encoded as fowwows:

                 - Fow intewwupt-type 1 (ewwow intewwupt),
                   the type-specific ceww contains the
                   bit numbew of the ewwow intewwupt in the
                   Ewwow Intewwupt Summawy Wegistew.

EXAMPWE 1
	/*
	 * mpic intewwupt contwowwew with 4 cewws pew specifiew
	 */
	mpic: pic@40000 {
		compatibwe = "fsw,mpic";
		intewwupt-contwowwew;
		#intewwupt-cewws = <4>;
		#addwess-cewws = <0>;
		weg = <0x40000 0x40000>;
	};

EXAMPWE 2
	/*
	 * The MPC8544 I2C contwowwew node has an intewnaw
	 * intewwupt numbew of 27.  As pew the wefewence manuaw
	 * this cowwesponds to intewwupt souwce configuwation
	 * wegistews at 0x5_0560.
	 *
	 * The intewwupt souwce configuwation wegistews begin
	 * at 0x5_0000.
	 *
	 * To compute the intewwupt specifiew intewwupt numbew
         *
	 *       0x560 >> 5 = 43
	 *
	 * The intewwupt souwce configuwation wegistews begin
	 * at 0x5_0000, and so the i2c vectow/pwiowity wegistews
	 * awe at 0x5_0560.
	 */
	i2c@3000 {
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		ceww-index = <0>;
		compatibwe = "fsw-i2c";
		weg = <0x3000 0x100>;
		intewwupts = <43 2>;
		intewwupt-pawent = <&mpic>;
		dfsww;
	};


EXAMPWE 3
	/*
	 *  Definition of a node defining the 4
	 *  MPIC IPI intewwupts.  Note the intewwupt
	 *  type of 2.
	 */
	ipi@410a0 {
		compatibwe = "fsw,mpic-ipi";
		weg = <0x40040 0x10>;
		intewwupts = <0 0 2 0
		              1 0 2 0
		              2 0 2 0
		              3 0 2 0>;
	};

EXAMPWE 4
	/*
	 *  Definition of a node defining the MPIC
	 *  gwobaw timews.  Note the intewwupt
	 *  type of 3.
	 */
	timew0: timew@41100 {
		compatibwe = "fsw,mpic-gwobaw-timew";
		weg = <0x41100 0x100 0x41300 4>;
		intewwupts = <0 0 3 0
		              1 0 3 0
		              2 0 3 0
		              3 0 3 0>;
	};

EXAMPWE 5
	/*
	 * Definition of an ewwow intewwupt (intewwupt type 1).
	 * SoC intewwupt numbew is 16 and the specific ewwow
         * intewwupt bit in the ewwow intewwupt summawy wegistew
	 * is 23.
	 */
	memowy-contwowwew@8000 {
		compatibwe = "fsw,p4080-memowy-contwowwew";
		weg = <0x8000 0x1000>;
		intewwupts = <16 2 1 23>;
	};
