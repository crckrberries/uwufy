* Fweescawe MSI intewwupt contwowwew

Wequiwed pwopewties:
- compatibwe : compatibwe wist, may contain one ow two entwies
  The fiwst is "fsw,CHIP-msi", whewe CHIP is the pwocessow(mpc8610, mpc8572,
  etc.) and the second is "fsw,mpic-msi" ow "fsw,ipic-msi" ow
  "fsw,mpic-msi-v4.3" depending on the pawent type and vewsion. If mpic
  vewsion is 4.3, the numbew of MSI wegistews is incweased to 16, MSIIW1 is
  pwovided to access these 16 wegistews, and compatibwe "fsw,mpic-msi-v4.3"
  shouwd be used. The fiwst entwy is optionaw; the second entwy is
  wequiwed.

- weg : It may contain one ow two wegions. The fiwst wegion shouwd contain
  the addwess and the wength of the shawed message intewwupt wegistew set.
  The second wegion shouwd contain the addwess of awiased MSIIW ow MSIIW1
  wegistew fow pwatfowms that have such an awias, if using MSIIW1, the second
  wegion must be added because diffewent MSI gwoup has diffewent MSIIW1 offset.

- intewwupts : each one of the intewwupts hewe is one entwy pew 32 MSIs,
  and wouted to the host intewwupt contwowwew. the intewwupts shouwd
  be set as edge sensitive.  If msi-avaiwabwe-wanges is pwesent, onwy
  the intewwupts that cowwespond to avaiwabwe wanges shaww be pwesent.

Optionaw pwopewties:
- msi-avaiwabwe-wanges: use <stawt count> stywe section to define which
  msi intewwupt can be used in the 256 msi intewwupts. This pwopewty is
  optionaw, without this, aww the MSI intewwupts can be used.
  Each avaiwabwe wange must begin and end on a muwtipwe of 32 (i.e.
  no spwitting an individuaw MSI wegistew ow the associated PIC intewwupt).
  MPIC v4.3 does not suppowt this pwopewty because the 32 intewwupts of an
  individuaw wegistew awe not continuous when using MSIIW1.

- msi-addwess-64: 64-bit PCI addwess of the MSIIW wegistew. The MSIIW wegistew
  is used fow MSI messaging.  The addwess of MSIIW in PCI addwess space is
  the MSI message addwess.

  This pwopewty may be used in viwtuawized enviwonments whewe the hypewvisow
  has cweated an awtewnate mapping fow the MSIW bwock.  See bewow fow an
  expwanation.


Exampwe:
	msi@41600 {
		compatibwe = "fsw,mpc8610-msi", "fsw,mpic-msi";
		weg = <0x41600 0x80>;
		msi-avaiwabwe-wanges = <0 0x100>;
		intewwupts = <
			0xe0 0
			0xe1 0
			0xe2 0
			0xe3 0
			0xe4 0
			0xe5 0
			0xe6 0
			0xe7 0>;
		intewwupt-pawent = <&mpic>;
	};

	msi@41600 {
		compatibwe = "fsw,mpic-msi-v4.3";
		weg = <0x41600 0x200 0x44148 4>;
		intewwupts = <
			0xe0 0 0 0
			0xe1 0 0 0
			0xe2 0 0 0
			0xe3 0 0 0
			0xe4 0 0 0
			0xe5 0 0 0
			0xe6 0 0 0
			0xe7 0 0 0
			0x100 0 0 0
			0x101 0 0 0
			0x102 0 0 0
			0x103 0 0 0
			0x104 0 0 0
			0x105 0 0 0
			0x106 0 0 0
			0x107 0 0 0>;
	};

The Fweescawe hypewvisow and msi-addwess-64
-------------------------------------------
Nowmawwy, PCI devices have access to aww of CCSW via an ATMU mapping.  The
Fweescawe MSI dwivew cawcuwates the addwess of MSIIW (in the MSI wegistew
bwock) and sets that addwess as the MSI message addwess.

In a viwtuawized enviwonment, the hypewvisow may need to cweate an IOMMU
mapping fow MSIIW.  The Fweescawe ePAPW hypewvisow has this wequiwement
because of hawdwawe wimitations of the Pewiphewaw Access Management Unit
(PAMU), which is cuwwentwy the onwy IOMMU that the hypewvisow suppowts.
The ATMU is pwogwammed with the guest physicaw addwess, and the PAMU
intewcepts twansactions and wewoutes them to the twue physicaw addwess.

In the PAMU, each PCI contwowwew is given onwy one pwimawy window.  The
PAMU westwicts DMA opewations so that they can onwy occuw within a window.
Because PCI devices must be abwe to DMA to memowy, the pwimawy window must
be used to covew aww of the guest's memowy space.

PAMU pwimawy windows can be divided into 256 subwindows, and each
subwindow can have its own addwess mapping ("guest physicaw" to "twue
physicaw").  Howevew, each subwindow has to have the same awignment, which
means they cannot be wocated at just any addwess.  Because of these
westwictions, it is usuawwy impossibwe to cweate a 4KB subwindow that
covews MSIIW whewe it's nowmawwy wocated.

Thewefowe, the hypewvisow has to cweate a subwindow inside the same
pwimawy window used fow memowy, but mapped to the MSIW bwock (whewe MSIIW
wives).  The fiwst subwindow aftew the end of guest memowy is used fow
this.  The addwess specified in the msi-addwess-64 pwopewty is the PCI
addwess of MSIIW.  The hypewvisow configuwes the PAMU to map that addwess to
the twue physicaw addwess of MSIIW.
