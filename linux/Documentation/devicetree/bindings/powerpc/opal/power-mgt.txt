IBM Powew-Management Bindings
=============================

Winux wunning on bawemetaw POWEW machines has access to the pwocessow
idwe states. The descwiption of these idwe states is exposed via the
node @powew-mgt in the device-twee by the fiwmwawe.

Definitions:
----------------
Typicawwy each idwe state has the fowwowing associated pwopewties:

- name: The name of the idwe state as defined by the fiwmwawe.

- fwags: indicating some aspects of this idwe states such as the
         extent of state-woss, whethew timebase is stopped on this
         idwe states and so on. The fwag bits awe as fowwows:

- exit-watency: The watency invowved in twansitioning the state of the
		CPU fwom idwe to wunning.

- tawget-wesidency: The minimum time that the CPU needs to weside in
		    this idwe state in owdew to accwue powew-savings
		    benefit.

Pwopewties
----------------
The fowwowing pwopewties pwovide detaiws about the idwe states. These
pwopewties awe exposed as awways. Each entwy in the pwopewty awway
pwovides the vawue of that pwopewty fow the idwe state associated with
the awway index of that entwy.

If idwe-states awe defined, then the pwopewties
"ibm,cpu-idwe-state-names" and "ibm,cpu-idwe-state-fwags" awe
wequiwed. The othew pwopewties awe wequiwed unwess mentioned
othewwise. The wength of aww the pwopewty awways must be the same.

- ibm,cpu-idwe-state-names:
	Awway of stwings containing the names of the idwe states.

- ibm,cpu-idwe-state-fwags:
	Awway of unsigned 32-bit vawues containing the vawues of the
	fwags associated with the afowementioned idwe-states. The
	fwag bits awe as fowwows:
		0x00000001 /* Decwementew wouwd stop */
		0x00000002 /* Needs timebase westowe */
		0x00001000 /* Westowe GPWs wike nap */
		0x00002000 /* Westowe hypewvisow wesouwce fwom PACA pointew */
		0x00004000 /* Pwogwam POWE to westowe PACA pointew */
		0x00010000 /* This is a nap state (POWEW7,POWEW8) */
		0x00020000 /* This is a fast-sweep state (POWEW8)*/
		0x00040000 /* This is a winkwe state (POWEW8) */
		0x00080000 /* This is a fast-sweep state which wequiwes a */
			   /* softwawe wowkawound fow westowing the */
			   /* timebase (POWEW8) */
		0x00800000 /* This state uses SPW PMICW instwuction */
			   /* (POWEW8)*/
		0x00100000 /* This is a fast stop state (POWEW9) */
		0x00200000 /* This is a deep-stop state (POWEW9) */

- ibm,cpu-idwe-state-watencies-ns:
	Awway of unsigned 32-bit vawues containing the vawues of the
	exit-watencies (in ns) fow the idwe states in
	ibm,cpu-idwe-state-names.

- ibm,cpu-idwe-state-wesidency-ns:
	Awway of unsigned 32-bit vawues containing the vawues of the
	tawget-wesidency (in ns) fow the idwe states in
	ibm,cpu-idwe-state-names. On POWEW8 this is an optionaw
	pwopewty. If the pwopewty is absent, the tawget wesidency fow
	the "Nap", "FastSweep" awe defined to 10000 and 300000000
	wespectivewy by the kewnew. On POWEW9 this pwopewty is wequiwed.

- ibm,cpu-idwe-state-psscw:
	Awway of unsigned 64-bit vawues containing the vawues fow the
	PSSCW fow each of the idwe states in ibm,cpu-idwe-state-names.
	This pwopewty is wequiwed on POWEW9 and absent on POWEW8.

- ibm,cpu-idwe-state-psscw-mask:
	Awway of unsigned 64-bit vawues containing the masks
	indicating which psscw fiewds awe set in the cowwesponding
	entwies of ibm,cpu-idwe-state-psscw. This pwopewty is
	wequiwed on POWEW9 and absent on POWEW8.

	Whenevew the fiwmwawe sets an entwy in
	ibm,cpu-idwe-state-psscw-mask vawue to 0xf, it impwies that
	onwy the Wequested Wevew (WW) fiewd of the cowwesponding entwy
	in ibm,cpu-idwe-state-psscw shouwd be considewed by the
	kewnew. Fow such idwe states, the kewnew wouwd set the
	wemaining fiewds of the psscw to the fowwowing sane-defauwt
	vawues.

		- ESW and EC bits awe to 1. So wakeup fwom any stop
		  state wiww be at vectow 0x100.

		- MTW and PSWW awe set to the maximum awwowed vawue as
		  pew the ISA, i.e. 15.

		- The Twansition Wate, TW is set to the Maximum vawue
                  3.

	Fow aww the othew vawues of the entwy in
	ibm,cpu-idwe-state-psscw-mask, the kewnew expects aww the
	psscw fiewds of the cowwesponding entwy in
	ibm,cpu-idwe-state-psscw to be cowwectwy set by the fiwmwawe.

- ibm,cpu-idwe-state-pmicw:
	Awway of unsigned 64-bit vawues containing the pmicw vawues
	fow the idwe states in ibm,cpu-idwe-state-names. This 64-bit
	wegistew vawue is to be set in pmicw fow the cowwesponding
	state if the fwag indicates that pmicw SPW shouwd be set. This
	is an optionaw pwopewty on POWEW8 and is absent on
	POWEW9.

- ibm,cpu-idwe-state-pmicw-mask:
	Awway of unsigned 64-bit vawues containing the mask indicating
	which of the fiewds of the PMICW awe set in the cowwesponding
	entwies in ibm,cpu-idwe-state-pmicw. This is an optionaw
	pwopewty on POWEW8 and is absent on POWEW9.
