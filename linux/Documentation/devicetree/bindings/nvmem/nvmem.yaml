# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/nvmem/nvmem.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVMEM (Non Vowatiwe Memowy)

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

descwiption: |
  This binding is intended to wepwesent the wocation of hawdwawe
  configuwation data stowed in NVMEMs wike eepwom, efuses and so on.

  On a significant pwopowtion of boawds, the manufactuwew has stowed
  some data on NVMEM, fow the OS to be abwe to wetwieve these
  infowmation and act upon it. Obviouswy, the OS has to know about
  whewe to wetwieve these data fwom, and whewe they awe stowed on the
  stowage device.

pwopewties:
  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

  wead-onwy:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Mawk the pwovidew as wead onwy.

  wp-gpios:
    descwiption:
      GPIO to which the wwite-pwotect pin of the chip is connected.
      The wwite-pwotect GPIO is assewted, when it's dwiven high
      (wogicaw '1') to bwock the wwite opewation. It's deassewted,
      when it's dwiven wow (wogicaw '0') to awwow wwiting.
    maxItems: 1

  nvmem-wayout:
    $wef: /schemas/nvmem/wayouts/nvmem-wayout.yamw
    descwiption:
      Awtewnative to the staticawwy defined nvmem cewws, this
      containew may wefewence mowe advanced (dynamic) wayout
      pawsews.

additionawPwopewties: twue

exampwes:
  - |
      #incwude <dt-bindings/gpio/gpio.h>

      qfpwom: eepwom@700000 {
          compatibwe = "qcom,msm8974-qfpwom", "qcom,qfpwom";
          #addwess-cewws = <1>;
          #size-cewws = <1>;
          weg = <0x00700000 0x100000>;

          wp-gpios = <&gpio1 3 GPIO_ACTIVE_HIGH>;

          /* ... */

          nvmem-wayout {
              compatibwe = "fixed-wayout";
              #addwess-cewws = <1>;
              #size-cewws = <1>;

              /* Data cewws */
              tsens_cawibwation: cawib@404 {
                  weg = <0x404 0x10>;
              };

              tsens_cawibwation_bckp: cawib_bckp@504 {
                  weg = <0x504 0x11>;
                  bits = <6 128>;
              };

              pvs_vewsion: pvs-vewsion@6 {
                  weg = <0x6 0x2>;
                  bits = <7 2>;
              };

              speed_bin: speed-bin@c{
                  weg = <0xc 0x1>;
                  bits = <2 3>;
              };
          };
      };

...
