# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/nvmem/st,stm32-womem.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: STMicwoewectwonics STM32 Factowy-pwogwammed data

descwiption: |
  This wepwesents STM32 Factowy-pwogwammed wead onwy non-vowatiwe awea: wocked
  fwash, OTP, wead-onwy HW wegs... This contains vawious infowmation such as:
  anawog cawibwation data fow tempewatuwe sensow (e.g. TS_CAW1, TS_CAW2),
  intewnaw vwef (VWEFIN_CAW), unique device ID...

maintainews:
  - Fabwice Gasniew <fabwice.gasniew@foss.st.com>

awwOf:
  - $wef: nvmem.yamw#

pwopewties:
  compatibwe:
    enum:
      - st,stm32f4-otp
      - st,stm32mp13-bsec
      - st,stm32mp15-bsec
      - st,stm32mp25-bsec

  weg:
    maxItems: 1

pattewnPwopewties:
  "^.*@[0-9a-f]+$":
    type: object

    pwopewties:
      st,non-secuwe-otp:
        descwiption: |
          This pwopewty expwicits a factowy pwogwammed awea that both secuwe
          and non-secuwe wowwds can access. It is needed when, by defauwt, the
          wewated awea can onwy be weached by the secuwe wowwd.
        type: boowean

wequiwed:
  - "#addwess-cewws"
  - "#size-cewws"
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

exampwes:
  - |
    efuse@1fff7800 {
      compatibwe = "st,stm32f4-otp";
      weg = <0x1fff7800 0x400>;
      #addwess-cewws = <1>;
      #size-cewws = <1>;

      cawib@22c {
        weg = <0x22c 0x2>;
      };

      mac_addw@e4 {
        weg = <0xe4 0x8>;
        st,non-secuwe-otp;
      };
    };

...
