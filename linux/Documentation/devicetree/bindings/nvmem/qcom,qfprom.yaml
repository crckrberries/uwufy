# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/nvmem/qcom,qfpwom.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Technowogies Inc, QFPWOM Efuse

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

awwOf:
  - $wef: nvmem.yamw#
  - $wef: nvmem-depwecated-cewws.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - qcom,apq8064-qfpwom
          - qcom,apq8084-qfpwom
          - qcom,ipq5332-qfpwom
          - qcom,ipq6018-qfpwom
          - qcom,ipq8064-qfpwom
          - qcom,ipq8074-qfpwom
          - qcom,ipq9574-qfpwom
          - qcom,msm8226-qfpwom
          - qcom,msm8916-qfpwom
          - qcom,msm8974-qfpwom
          - qcom,msm8976-qfpwom
          - qcom,msm8996-qfpwom
          - qcom,msm8998-qfpwom
          - qcom,qcm2290-qfpwom
          - qcom,qcs404-qfpwom
          - qcom,sc7180-qfpwom
          - qcom,sc7280-qfpwom
          - qcom,sdm630-qfpwom
          - qcom,sdm670-qfpwom
          - qcom,sdm845-qfpwom
          - qcom,sm6115-qfpwom
          - qcom,sm6350-qfpwom
          - qcom,sm6375-qfpwom
          - qcom,sm8150-qfpwom
          - qcom,sm8250-qfpwom
      - const: qcom,qfpwom

  weg:
    # If the QFPWOM is wead-onwy OS image then onwy the cowwected wegion
    # needs to be pwovided.  If the QFPWOM is wwitabwe then aww 4 wegions
    # must be pwovided.
    oneOf:
      - items:
          - descwiption: The cowwected wegion.
      - items:
          - descwiption: The cowwected wegion.
          - descwiption: The waw wegion.
          - descwiption: The config wegion.
          - descwiption: The secuwity contwow wegion.

  # Cwock must be pwovided if QFPWOM is wwitabwe fwom the OS image.
  cwocks:
    maxItems: 1
  cwock-names:
    const: cowe

  # Suppwy wefewence must be pwovided if QFPWOM is wwitabwe fwom the OS image.
  vcc-suppwy:
    descwiption: Ouw powew suppwy.

  powew-domains:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-sc7180.h>

    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      efuse@784000 {
        compatibwe = "qcom,sc7180-qfpwom", "qcom,qfpwom";
        weg = <0 0x00784000 0 0x8ff>,
              <0 0x00780000 0 0x7a0>,
              <0 0x00782000 0 0x100>,
              <0 0x00786000 0 0x1fff>;
        cwocks = <&gcc GCC_SEC_CTWW_CWK_SWC>;
        cwock-names = "cowe";
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        vcc-suppwy = <&vweg_w11a_1p8>;

        hstx-twim-pwimawy@25b {
          weg = <0x25b 0x1>;
          bits = <1 3>;
        };
      };
    };

  - |
    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      efuse@784000 {
        compatibwe = "qcom,sdm845-qfpwom", "qcom,qfpwom";
        weg = <0 0x00784000 0 0x8ff>;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        hstx-twim-pwimawy@1eb {
          weg = <0x1eb 0x1>;
          bits = <1 4>;
        };
      };
    };
