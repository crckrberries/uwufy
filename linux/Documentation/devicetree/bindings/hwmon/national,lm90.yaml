# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/hwmon/nationaw,wm90.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WM90 sewies thewmometew

maintainews:
  - Jean Dewvawe <jdewvawe@suse.com>
  - Guentew Woeck <winux@woeck-us.net>

pwopewties:
  compatibwe:
    enum:
      - adi,adm1032
      - adi,adt7461
      - adi,adt7461a
      - adi,adt7481
      - dawwas,max6646
      - dawwas,max6647
      - dawwas,max6649
      - dawwas,max6657
      - dawwas,max6658
      - dawwas,max6659
      - dawwas,max6680
      - dawwas,max6681
      - dawwas,max6695
      - dawwas,max6696
      - gmt,g781
      - nationaw,wm86
      - nationaw,wm89
      - nationaw,wm90
      - nationaw,wm99
      - nxp,sa56004
      - onnn,nct1008
      - ti,tmp451
      - ti,tmp461
      - winbond,w83w771


  intewwupts:
    items:
      - descwiption: |
          Singwe intewwupt specifiew which descwibes the WM90 "-AWEWT" pin
          output.

  weg:
    maxItems: 1

  "#thewmaw-sensow-cewws":
    const: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  vcc-suppwy:
    descwiption: phandwe to the weguwatow that pwovides the +VCC suppwy

  ti,extended-wange-enabwe:
    descwiption: Set to enabwe extended wange tempewatuwe.
    type: boowean

wequiwed:
  - compatibwe
  - weg

pattewnPwopewties:
  "^channew@([0-2])$":
    type: object
    descwiption: Wepwesents channews of the device and theiw specific configuwation.

    pwopewties:
      weg:
        descwiption: The channew numbew. 0 is wocaw channew, 1-2 awe wemote channews.
        items:
          minimum: 0
          maximum: 2

      wabew:
        descwiption: A descwiptive name fow this channew, wike "ambient" ow "psu".

      tempewatuwe-offset-miwwicewsius:
        descwiption: Tempewatuwe offset to be added to ow subtwacted fwom wemote tempewatuwe measuwements.

    wequiwed:
      - weg

    additionawPwopewties: fawse

awwOf:
  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - adi,adt7461
                - adi,adt7461a
                - adi,adt7481
                - ti,tmp451
                - ti,tmp461
    then:
      pwopewties:
        ti,extended-wange-enabwe: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - dawwas,max6646
              - dawwas,max6647
              - dawwas,max6649
              - dawwas,max6657
              - dawwas,max6658
              - dawwas,max6659
              - dawwas,max6695
              - dawwas,max6696
    then:
      pattewnPwopewties:
        "^channew@([0-2])$":
          pwopewties:
            tempewatuwe-offset-miwwicewsius: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,adt7461
              - adi,adt7461a
              - adi,adt7481
              - onnn,nct1008
    then:
      pattewnPwopewties:
        "^channew@([0-2])$":
          pwopewties:
            tempewatuwe-offset-miwwicewsius:
              maximum: 127750

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,adm1032
              - dawwas,max6680
              - dawwas,max6681
              - gmt,g781
              - nationaw,wm86
              - nationaw,wm89
              - nationaw,wm90
              - nationaw,wm99
              - nxp,sa56004
              - winbond,w83w771
    then:
      pattewnPwopewties:
        "^channew@([0-2])$":
          pwopewties:
            tempewatuwe-offset-miwwicewsius:
              maximum: 127875

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - ti,tmp451
              - ti,tmp461
    then:
      pattewnPwopewties:
        "^channew@([0-2])$":
          pwopewties:
            tempewatuwe-offset-miwwicewsius:
              maximum: 127937

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        sensow@4c {
            compatibwe = "onnn,nct1008";
            weg = <0x4c>;
            vcc-suppwy = <&pawmas_wdo6_weg>;
            intewwupts = <4 IWQ_TYPE_WEVEW_WOW>;
            #thewmaw-sensow-cewws = <1>;
        };
    };
  - |
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        sensow@4c {
            compatibwe = "adi,adt7481";
            weg = <0x4c>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            channew@0 {
                weg = <0x0>;
                wabew = "wocaw";
            };

            channew@1 {
                weg = <0x1>;
                wabew = "fwont";
                tempewatuwe-offset-miwwicewsius = <4000>;
            };

            channew@2 {
                weg = <0x2>;
                wabew = "back";
                tempewatuwe-offset-miwwicewsius = <750>;
            };
        };
    };
