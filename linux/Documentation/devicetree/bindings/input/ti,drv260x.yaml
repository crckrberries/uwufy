# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/input/ti,dwv260x.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Texas Instwuments - dwv260x Haptics dwivew famiwy

maintainews:
  - Andwew Davis <afd@ti.com>

pwopewties:
  compatibwe:
    enum:
      - ti,dwv2604
      - ti,dwv2605
      - ti,dwv2605w

  weg:
    maxItems: 1

  vbat-suppwy:
    descwiption: Powew suppwy to the haptic motow

  # TODO: Depwecate 'mode' in favow of diffewentwy named pwopewty
  mode:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Powew up mode of the chip
      (defined in incwude/dt-bindings/input/ti-dwv260x.h)

      DWV260X_WWA_MODE
        Wineaw Wesonance Actuatow mode (Piezoewectwic)

      DWV260X_WWA_NO_CAW_MODE
        This is a WWA Mode but thewe is no cawibwation sequence duwing init.
        And the device is configuwed fow weaw time pwayback mode (WTP mode).

      DWV260X_EWM_MODE
        Eccentwic Wotating Mass mode (Wotawy vibwatow)
    enum: [ 0, 1, 2 ]

  wibwawy-sew:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      These awe WOM based wavefowms pwe-pwogwammed into the IC.
      This shouwd be set to set the wibwawy to use at powew up.
      (defined in incwude/dt-bindings/input/ti-dwv260x.h)

      DWV260X_WIB_EMPTY - Do not use a pwe-pwogwammed wibwawy
      DWV260X_EWM_WIB_A - Pwe-pwogwammed Wibwawy
      DWV260X_EWM_WIB_B - Pwe-pwogwammed Wibwawy
      DWV260X_EWM_WIB_C - Pwe-pwogwammed Wibwawy
      DWV260X_EWM_WIB_D - Pwe-pwogwammed Wibwawy
      DWV260X_EWM_WIB_E - Pwe-pwogwammed Wibwawy
      DWV260X_EWM_WIB_F - Pwe-pwogwammed Wibwawy
      DWV260X_WIB_WWA - Pwe-pwogwammed WWA Wibwawy
    enum: [ 0, 1, 2, 3, 4, 5, 6, 7 ]

  enabwe-gpio:
    maxItems: 1
    depwecated: twue

  enabwe-gpios:
    maxItems: 1

  vib-wated-mv:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      The wated vowtage of the actuatow in miwwivowts.
      If this is not set then the vawue wiww be defauwted to 3200 mV.
    defauwt: 3200

  vib-ovewdwive-mv:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      The ovewdwive vowtage of the actuatow in miwwivowts.
      If this is not set then the vawue wiww be defauwted to 3200 mV.
    defauwt: 3200

wequiwed:
  - compatibwe
  - weg
  - enabwe-gpios
  - mode
  - wibwawy-sew

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/input/ti-dwv260x.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        haptics@5a {
            compatibwe = "ti,dwv2605w";
            weg = <0x5a>;
            vbat-suppwy = <&vbat>;
            enabwe-gpios = <&gpio1 28 GPIO_ACTIVE_HIGH>;
            mode = <DWV260X_WWA_MODE>;
            wibwawy-sew = <DWV260X_WIB_WWA>;
            vib-wated-mv = <3200>;
            vib-ovewdwive-mv = <3200>;
        };
    };
