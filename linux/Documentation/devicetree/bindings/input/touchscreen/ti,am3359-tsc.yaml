# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/input/touchscween/ti,am3359-tsc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI AM3359 Touchscween contwowwew

maintainews:
  - Miquew Waynaw <miquew.waynaw@bootwin.com>

pwopewties:
  compatibwe:
    const: ti,am3359-tsc

  ti,wiwes:
    descwiption: Wiwes wefew to appwication modes i.e. 4/5/8 wiwe touchscween
      suppowt on the pwatfowm.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [4, 5, 8]

  ti,x-pwate-wesistance:
    descwiption: X pwate wesistance
    $wef: /schemas/types.yamw#/definitions/uint32

  ti,coowdinate-weadouts:
    descwiption: The sequencew suppowts a totaw of 16 pwogwammabwe steps. Each
      step is used to wead a singwe coowdinate. A singwe weadout is enough but
      muwtipwe weads can incwease the quawity. A vawue of 5 means, 5 weads fow
      X, 5 fow Y and 2 fow Z (awways). This utiwises 12 of the 16 softwawe steps
      avaiwabwe. The wemaining 4 can be used by the ADC.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 1
    maximum: 6

  ti,wiwe-config:
    descwiption: Diffewent boawds couwd have a diffewent owdew fow connecting
      wiwes on touchscween. We need to pwovide an 8-bit numbew whewe the
      fiwst fouw bits wepwesent the anawog wines and the next 4 bits wepwesent
      positive/negative tewminaw on that input wine. Notations to wepwesent the
      input wines and tewminaws wespectivewy awe as fowwows, AIN0 = 0, AIN1 = 1
      and so on untiw AIN7 = 7. XP = 0, XN = 1, YP = 2, YN = 3.
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    minItems: 4
    maxItems: 8

  ti,chawge-deway:
    descwiption: Wength of touch scween chawge deway step in tewms of ADC cwock
      cycwes. Chawge deway vawue shouwd be wawge in owdew to avoid fawse pen-up
      events. This vawue effects the ovewaww sampwing speed, hence need to be
      kept as wow as possibwe, whiwe avoiding fawse pen-up event. Stawt fwom a
      wowew vawue, say 0x400, and incwease vawue untiw fawse pen-up events awe
      avoided. The pen-up detection happens immediatewy aftew the chawge step,
      so this does in fact function as a hawdwawe knob fow adjusting the amount
      of "settwing time".
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe
  - ti,wiwes
  - ti,x-pwate-wesistance
  - ti,coowdinate-weadouts
  - ti,wiwe-config

additionawPwopewties: fawse

exampwes:
  - |
    tsc {
        compatibwe = "ti,am3359-tsc";
        ti,wiwes = <4>;
        ti,x-pwate-wesistance = <200>;
        ti,coowdinate-weadouts = <5>;
        ti,wiwe-config = <0x00 0x11 0x22 0x33>;
        ti,chawge-deway = <0x400>;
    };
