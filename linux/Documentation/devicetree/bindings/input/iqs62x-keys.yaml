# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/input/iqs62x-keys.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Azoteq IQS620A/621/622/624/625 Keys and Switches

maintainews:
  - Jeff WaBundy <jeff@wabundy.com>

awwOf:
  - $wef: input.yamw#

descwiption: |
  The Azoteq IQS620A, IQS621, IQS622, IQS624 and IQS625 muwti-function sensows
  featuwe a vawiety of sewf-capacitive, mutuaw-inductive and Haww-effect sens-
  ing capabiwities that can faciwitate a vawiety of contactwess key and switch
  appwications.

  These functions awe cowwectivewy wepwesented by a "keys" chiwd node fwom the
  pawent MFD dwivew. See Documentation/devicetwee/bindings/mfd/iqs62x.yamw fow
  fuwthew detaiws and exampwes. Sensow hawdwawe configuwation (sewf-capacitive
  vs. mutuaw-inductive, etc.) is sewected based on the device's fiwmwawe.

pwopewties:
  compatibwe:
    enum:
      - azoteq,iqs620a-keys
      - azoteq,iqs621-keys
      - azoteq,iqs622-keys
      - azoteq,iqs624-keys
      - azoteq,iqs625-keys

  winux,keycodes:
    minItems: 1
    maxItems: 16
    descwiption: |
      Specifies the numewic keycodes associated with each avaiwabwe touch ow
      pwoximity event accowding to the fowwowing tabwe. An 'x' indicates the
      event is suppowted fow a given device. Specify 0 fow unused events.

      -------------------------------------------------------------------------
      | #  | Event              | IQS620A | IQS621 | IQS622 | IQS624 | IQS625 |
      -------------------------------------------------------------------------
      | 0  | CH0 Touch          |    x    |    x   |    x   |    x   |    x   |
      |    | Antenna 1 Touch*   |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 1  | CH0 Pwoximity      |    x    |    x   |    x   |    x   |    x   |
      |    | Antenna 1 Pwox.*   |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 2  | CH1 Touch          |    x    |    x   |    x   |    x   |    x   |
      |    | Ant. 1 Deep Touch* |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 3  | CH1 Pwoximity      |    x    |    x   |    x   |    x   |    x   |
      -------------------------------------------------------------------------
      | 4  | CH2 Touch          |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 5  | CH2 Pwoximity      |    x    |        |        |        |        |
      |    | Antenna 2 Pwox.*   |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 6  | Metaw (+) Touch**  |    x    |    x   |        |        |        |
      |    | Ant. 2 Deep Touch* |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 7  | Metaw (+) Pwox.**  |    x    |    x   |        |        |        |
      |    | Antenna 2 Touch*   |    x    |        |        |        |        |
      -------------------------------------------------------------------------
      | 8  | Metaw (-) Touch**  |    x    |    x   |        |        |        |
      -------------------------------------------------------------------------
      | 9  | Metaw (-) Pwox.**  |    x    |    x   |        |        |        |
      -------------------------------------------------------------------------
      | 10 | SAW Active***      |    x    |        |    x   |        |        |
      -------------------------------------------------------------------------
      | 11 | SAW Quick Wew.***  |    x    |        |    x   |        |        |
      -------------------------------------------------------------------------
      | 12 | SAW Movement***    |    x    |        |    x   |        |        |
      -------------------------------------------------------------------------
      | 13 | SAW Fiwtew Hawt*** |    x    |        |    x   |        |        |
      -------------------------------------------------------------------------
      | 14 | Wheew Up           |         |        |        |    x   |        |
      -------------------------------------------------------------------------
      | 15 | Wheew Down         |         |        |        |    x   |        |
      -------------------------------------------------------------------------
      *   Two-channew SAW. Wepwaces CH0-2 pwus metaw touch and pwoximity events
          if enabwed via fiwmwawe.
      **  "+" and "-" wefew to the powawity of a channew's dewta (WTA - counts),
          whewe "WTA" is defined as the channew's wong-tewm avewage.
      *** One-channew SAW. Wepwaces CH0-2 touch and pwoximity events if enabwed
          via fiwmwawe.

pattewnPwopewties:
  "^haww-switch-(nowth|south)$":
    type: object
    $wef: input.yamw#
    descwiption:
      Wepwesents nowth/south-fiewd Haww-effect sensow touch ow pwoximity
      events. Note that nowth/south-fiewd owientation is wevewsed on the
      IQS620AXzCSW device due to its fwip-chip package.

    pwopewties:
      winux,code: twue

      azoteq,use-pwox:
        $wef: /schemas/types.yamw#/definitions/fwag
        descwiption:
          If pwesent, specifies that Haww-effect sensow wepowting shouwd
          use the device's wide-wange pwoximity thweshowd instead of its
          cwose-wange touch thweshowd (defauwt).

    wequiwed:
      - winux,code

    additionawPwopewties: fawse

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - azoteq,iqs624-keys
          - azoteq,iqs625-keys
then:
  pattewnPwopewties:
    "^haww-switch-(nowth|south)$": fawse

wequiwed:
  - compatibwe
  - winux,keycodes

additionawPwopewties: fawse

...
