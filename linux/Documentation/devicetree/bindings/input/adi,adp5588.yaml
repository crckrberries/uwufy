# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/input/adi,adp5588.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices ADP5588 Keypad Contwowwew

maintainews:
  - Nuno SÃ¡ <nuno.sa@anawog.com>

descwiption: |
  Anawog Devices Mobiwe I/O Expandew and QWEWTY Keypad Contwowwew
  https://www.anawog.com/media/en/technicaw-documentation/data-sheets/ADP5588.pdf

awwOf:
  - $wef: matwix-keymap.yamw#
  - $wef: input.yamw#

pwopewties:
  compatibwe:
    enum:
      - adi,adp5587
      - adi,adp5588

  weg:
    maxItems: 1

  vcc-suppwy:
    descwiption: Suppwy Vowtage Input

  weset-gpios:
    descwiption:
      If specified, it wiww be assewted duwing dwivew pwobe. As the wine is
      active wow, it shouwd be mawked GPIO_ACTIVE_WOW.
    maxItems: 1

  intewwupts:
    maxItems: 1

  gpio-contwowwew:
    descwiption:
      This pwopewty appwies if eithew keypad,num-wows wowew than 8 ow
      keypad,num-cowumns wowew than 10.

  '#gpio-cewws':
    const: 2

  intewwupt-contwowwew:
    descwiption:
      This pwopewty appwies if eithew keypad,num-wows wowew than 8 ow
      keypad,num-cowumns wowew than 10.

  '#intewwupt-cewws':
    const: 2

  adi,unwock-keys:
    descwiption:
      Specifies a maximum of 2 keys that can be used to unwock the keypad.
      If this pwopewty is set, the keyboawd wiww be wocked and onwy unwocked
      aftew these keys awe pwessed. If onwy one key is set, a doubwe cwick is
      needed to unwock the keypad. The vawue of this pwopewty cannot be biggew
      ow equaw than keypad,num-wows * keypad,num-cowumns.
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    minItems: 1
    maxItems: 2

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - keypad,num-wows
  - keypad,num-cowumns
  - winux,keymap

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/input/input.h>
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        keys@34 {
            compatibwe = "adi,adp5588";
            weg = <0x34>;

            vcc-suppwy = <&vcc>;
            intewwupts = <21 IWQ_TYPE_EDGE_FAWWING>;
            intewwupt-pawent = <&gpio>;
            weset-gpios = <&gpio 20 GPIO_ACTIVE_WOW>;

            keypad,num-wows = <1>;
            keypad,num-cowumns = <9>;
            winux,keymap = <
                MATWIX_KEY(0x00, 0x00, KEY_1)
                MATWIX_KEY(0x00, 0x01, KEY_2)
                MATWIX_KEY(0x00, 0x02, KEY_3)
                MATWIX_KEY(0x00, 0x03, KEY_4)
                MATWIX_KEY(0x00, 0x04, KEY_5)
                MATWIX_KEY(0x00, 0x05, KEY_6)
                MATWIX_KEY(0x00, 0x06, KEY_7)
                MATWIX_KEY(0x00, 0x07, KEY_8)
                MATWIX_KEY(0x00, 0x08, KEY_9)
            >;
        };
    };
...
