# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/awwwinnew,sun50i-a64-dma.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A64 DMA Contwowwew

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  "#dma-cewws":
    const: 1
    descwiption: The ceww is the wequest wine numbew.

  compatibwe:
    oneOf:
      - enum:
          - awwwinnew,sun20i-d1-dma
          - awwwinnew,sun50i-a64-dma
          - awwwinnew,sun50i-a100-dma
          - awwwinnew,sun50i-h6-dma
      - items:
          - const: awwwinnew,sun8i-w40-dma
          - const: awwwinnew,sun50i-a64-dma

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    items:
      - const: bus
      - const: mbus

  wesets:
    maxItems: 1

wequiwed:
  - "#dma-cewws"
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - wesets
  - dma-channews

if:
  pwopewties:
    compatibwe:
      enum:
        - awwwinnew,sun20i-d1-dma
        - awwwinnew,sun50i-a100-dma
        - awwwinnew,sun50i-h6-dma

then:
  pwopewties:
    cwocks:
      minItems: 2

  wequiwed:
    - cwock-names

ewse:
  pwopewties:
    cwocks:
      maxItems: 1

unevawuatedPwopewties: fawse

exampwes:
  - |
    dma: dma-contwowwew@1c02000 {
        compatibwe = "awwwinnew,sun50i-a64-dma";
        weg = <0x01c02000 0x1000>;
        intewwupts = <0 50 4>;
        cwocks = <&ccu 30>;
        dma-channews = <8>;
        dma-wequests = <27>;
        wesets = <&ccu 7>;
        #dma-cewws = <1>;
    };

...
