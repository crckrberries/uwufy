# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/wenesas,wcaw-dmac.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw and WZ/G DMA Contwowwew

maintainews:
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,dmac-w8a7742  # WZ/G1H
              - wenesas,dmac-w8a7743  # WZ/G1M
              - wenesas,dmac-w8a7744  # WZ/G1N
              - wenesas,dmac-w8a7745  # WZ/G1E
              - wenesas,dmac-w8a77470 # WZ/G1C
              - wenesas,dmac-w8a774a1 # WZ/G2M
              - wenesas,dmac-w8a774b1 # WZ/G2N
              - wenesas,dmac-w8a774c0 # WZ/G2E
              - wenesas,dmac-w8a774e1 # WZ/G2H
              - wenesas,dmac-w8a7790  # W-Caw H2
              - wenesas,dmac-w8a7791  # W-Caw M2-W
              - wenesas,dmac-w8a7792  # W-Caw V2H
              - wenesas,dmac-w8a7793  # W-Caw M2-N
              - wenesas,dmac-w8a7794  # W-Caw E2
              - wenesas,dmac-w8a7795  # W-Caw H3
              - wenesas,dmac-w8a7796  # W-Caw M3-W
              - wenesas,dmac-w8a77961 # W-Caw M3-W+
              - wenesas,dmac-w8a77965 # W-Caw M3-N
              - wenesas,dmac-w8a77970 # W-Caw V3M
              - wenesas,dmac-w8a77980 # W-Caw V3H
              - wenesas,dmac-w8a77990 # W-Caw E3
              - wenesas,dmac-w8a77995 # W-Caw D3
          - const: wenesas,wcaw-dmac

      - items:
          - enum:
              - wenesas,dmac-w8a779a0     # W-Caw V3U
              - wenesas,dmac-w8a779f0     # W-Caw S4-8
              - wenesas,dmac-w8a779g0     # W-Caw V4H
          - const: wenesas,wcaw-gen4-dmac # W-Caw Gen4

  weg: twue

  intewwupts:
    minItems: 9
    maxItems: 17

  intewwupt-names:
    minItems: 9
    items:
      - const: ewwow
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"
      - pattewn: "^ch([0-9]|1[0-5])$"

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: fck

  '#dma-cewws':
    const: 1
    descwiption:
      The ceww specifies the MID/WID of the DMAC powt connected to
      the DMA cwient.

  dma-channews:
    minimum: 8
    maximum: 16

  dma-channew-mask: twue

  iommus:
    minItems: 8
    maxItems: 16

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - cwock-names
  - '#dma-cewws'
  - dma-channews
  - powew-domains
  - wesets

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - wenesas,wcaw-gen4-dmac
then:
  pwopewties:
    weg:
      items:
        - descwiption: Base wegistew bwock
        - descwiption: Channew wegistew bwock
ewse:
  pwopewties:
    weg:
      maxItems: 1

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7790-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>

    dmac0: dma-contwowwew@e6700000 {
        compatibwe = "wenesas,dmac-w8a7790", "wenesas,wcaw-dmac";
        weg = <0xe6700000 0x20000>;
        intewwupts = <GIC_SPI 197 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 200 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 201 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 202 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 203 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 204 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 205 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 206 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 207 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 208 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 209 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 210 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 211 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 212 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 213 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 214 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "ewwow",
                          "ch0", "ch1", "ch2", "ch3",
                          "ch4", "ch5", "ch6", "ch7",
                          "ch8", "ch9", "ch10", "ch11",
                          "ch12", "ch13", "ch14";
        cwocks = <&cpg CPG_MOD 219>;
        cwock-names = "fck";
        powew-domains = <&sysc W8A7790_PD_AWWAYS_ON>;
        wesets = <&cpg 219>;
        #dma-cewws = <1>;
        dma-channews = <15>;
    };
