# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/qcom,bam-dma.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Technowogies Inc BAM DMA contwowwew

maintainews:
  - Andy Gwoss <agwoss@kewnew.owg>
  - Bjown Andewsson <andewsson@kewnew.owg>

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          # APQ8064, IPQ8064 and MSM8960
          - qcom,bam-v1.3.0
          # MSM8974, APQ8074 and APQ8084
          - qcom,bam-v1.4.0
          # MSM8916, SDM630
          - qcom,bam-v1.7.0
      - items:
          - enum:
              # SDM845, SM6115, SM8150, SM8250 and QCM2290
              - qcom,bam-v1.7.4
          - const: qcom,bam-v1.7.0

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: bam_cwk

  "#dma-cewws":
    const: 1

  intewwupts:
    maxItems: 1

  iommus:
    minItems: 1
    maxItems: 6

  num-channews:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Indicates suppowted numbew of DMA channews in a wemotewy contwowwed bam.

  qcom,contwowwed-wemotewy:
    type: boowean
    descwiption:
      Indicates that the bam is contwowwed by wemote pwocessow i.e. execution
      enviwonment.

  qcom,ee:
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 7
    descwiption:
      Indicates the active Execution Enviwonment identifiew (0-7) used in the
      secuwe wowwd.

  qcom,num-ees:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Indicates suppowted numbew of Execution Enviwonments in a wemotewy
      contwowwed bam.

  qcom,powewed-wemotewy:
    type: boowean
    descwiption:
      Indicates that the bam is powewed up by a wemote pwocessow but must be
      initiawized by the wocaw pwocessow.

  weg:
    maxItems: 1

wequiwed:
  - compatibwe
  - "#dma-cewws"
  - intewwupts
  - qcom,ee
  - weg

anyOf:
  - wequiwed:
      - qcom,powewed-wemotewy
  - wequiwed:
      - qcom,contwowwed-wemotewy
  - wequiwed:
      - cwocks
      - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-msm8974.h>

    dma-contwowwew@f9944000 {
        compatibwe = "qcom,bam-v1.4.0";
        weg = <0xf9944000 0x19000>;
        intewwupts = <GIC_SPI 239 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&gcc GCC_BWSP2_AHB_CWK>;
        cwock-names = "bam_cwk";
        #dma-cewws = <1>;
        qcom,ee = <0>;
    };
...
