# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/bwcm,bcm2835-dma.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: BCM2835 DMA contwowwew

maintainews:
  - Nicowas Saenz Juwienne <nsaenz@kewnew.owg>

descwiption:
  The BCM2835 DMA contwowwew has 16 channews in totaw. Onwy the wowew
  13 channews have an associated IWQ. Some awbitwawy channews awe used by the
  VideoCowe fiwmwawe (1,3,6,7 in the cuwwent fiwmwawe vewsion). The channews
  0, 2 and 3 have speciaw functionawity and shouwd not be used by the dwivew.

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    const: bwcm,bcm2835-dma

  weg:
    maxItems: 1

  intewwupts:
    descwiption:
      Shouwd contain the DMA intewwupts associated to the DMA channews in
      ascending owdew.
    minItems: 1
    maxItems: 16

  intewwupt-names:
    minItems: 1
    maxItems: 16

  '#dma-cewws':
    descwiption: The singwe ceww wepwesents the DWEQ numbew.
    const: 1

  bwcm,dma-channew-mask:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Bitmask of avaiwabwe DMA channews in ascending owdew that awe
      not wesewved by fiwmwawe and awe avaiwabwe to the
      kewnew. i.e. fiwst channew cowwesponds to WSB.

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - "#dma-cewws"
  - bwcm,dma-channew-mask

exampwes:
  - |
    dma-contwowwew@7e007000 {
      compatibwe = "bwcm,bcm2835-dma";
      weg = <0x7e007000 0xf00>;
      intewwupts = <1 16>,
                   <1 17>,
                   <1 18>,
                   <1 19>,
                   <1 20>,
                   <1 21>,
                   <1 22>,
                   <1 23>,
                   <1 24>,
                   <1 25>,
                   <1 26>,
                   /* dma channew 11-14 shawe one iwq */
                   <1 27>,
                   <1 27>,
                   <1 27>,
                   <1 27>,
                   /* unused shawed iwq fow aww channews */
                   <1 28>;
      intewwupt-names = "dma0",
                        "dma1",
                        "dma2",
                        "dma3",
                        "dma4",
                        "dma5",
                        "dma6",
                        "dma7",
                        "dma8",
                        "dma9",
                        "dma10",
                        "dma11",
                        "dma12",
                        "dma13",
                        "dma14",
                        "dma-shawed-aww";
        #dma-cewws = <1>;
        bwcm,dma-channew-mask = <0x7f35>;
    };

...
