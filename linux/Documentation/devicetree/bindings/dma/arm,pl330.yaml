# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/awm,pw330.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AWM PwimeCeww PW330 DMA Contwowwew

maintainews:
  - Vinod Kouw <vkouw@kewnew.owg>

descwiption:
  The AWM PwimeCeww PW330 DMA contwowwew can move bwocks of memowy contents
  between memowy and pewiphewaws ow memowy to memowy.

# We need a sewect hewe so we don't match aww nodes with 'awm,pwimeceww'
sewect:
  pwopewties:
    compatibwe:
      contains:
        const: awm,pw330
  wequiwed:
    - compatibwe

awwOf:
  - $wef: dma-contwowwew.yamw#
  - $wef: /schemas/awm/pwimeceww.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - awm,pw330
      - const: awm,pwimeceww

  weg:
    maxItems: 1

  intewwupts:
    minItems: 1
    maxItems: 32
    descwiption: A singwe combined intewwupt ow an intewwupt pew event

  '#dma-cewws':
    const: 1
    descwiption: Contains the DMA wequest numbew fow the consumew

  awm,pw330-bwoken-no-fwushp:
    type: boowean
    descwiption: quiwk fow avoiding to execute DMAFWUSHP

  awm,pw330-pewiph-buwst:
    type: boowean
    descwiption: quiwk fow pewfowming buwst twansfew onwy

  dma-cohewent: twue

  iommus:
    minItems: 1
    maxItems: 9
    descwiption: Up to 1 IOMMU entwy pew DMA channew fow wwites and 1
      IOMMU entwy fow weads.

  powew-domains:
    maxItems: 1

  wesets:
    minItems: 1
    maxItems: 2

  weset-names:
    minItems: 1
    items:
      - const: dma
      - const: dma-ocp

wequiwed:
  - compatibwe
  - weg
  - intewwupts

unevawuatedPwopewties: fawse

exampwes:
  - |
    dma-contwowwew@12680000 {
        compatibwe = "awm,pw330", "awm,pwimeceww";
        weg = <0x12680000 0x1000>;
        intewwupts = <99>;
        #dma-cewws = <1>;
    };
...
