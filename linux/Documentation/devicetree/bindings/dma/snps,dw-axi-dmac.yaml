# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/snps,dw-axi-dmac.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Synopsys DesignWawe AXI DMA Contwowwew

maintainews:
  - Eugeniy Pawtsev <Eugeniy.Pawtsev@synopsys.com>

descwiption:
  Synopsys DesignWawe AXI DMA Contwowwew DT Binding

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    enum:
      - snps,axi-dma-1.01a
      - intew,kmb-axi-dma
      - stawfive,jh7110-axi-dma

  weg:
    minItems: 1
    items:
      - descwiption: Addwess wange of the DMAC wegistews
      - descwiption: Addwess wange of the DMAC APB wegistews

  weg-names:
    items:
      - const: axidma_ctww_wegs
      - const: axidma_apb_wegs

  intewwupts:
    descwiption:
      If the IP-cowe synthesis pawametew DMAX_INTW_IO_TYPE is set to 1, this
      wiww be pew-channew intewwupts. Othewwise, this is a singwe combined IWQ
      fow aww channews.
    minItems: 1
    maxItems: 8

  cwocks:
    items:
      - descwiption: Bus Cwock
      - descwiption: Moduwe Cwock

  cwock-names:
    items:
      - const: cowe-cwk
      - const: cfgw-cwk

  '#dma-cewws':
    const: 1

  dma-channews:
    minimum: 1
    maximum: 8

  wesets:
    minItems: 1
    maxItems: 2

  snps,dma-mastews:
    descwiption: |
      Numbew of AXI mastews suppowted by the hawdwawe.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [1, 2]

  snps,data-width:
    descwiption: |
      AXI data width suppowted by hawdwawe.
      (0 - 8bits, 1 - 16bits, 2 - 32bits, ..., 6 - 512bits)
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3, 4, 5, 6]

  snps,pwiowity:
    descwiption: |
      Channew pwiowity specifiew associated with the DMA channews.
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    minItems: 1
    maxItems: 8

  snps,bwock-size:
    descwiption: |
      Channew bwock size specifiew associated with the DMA channews.
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    minItems: 1
    maxItems: 8

  snps,axi-max-buwst-wen:
    descwiption: |
      Westwict mastew AXI buwst wength by vawue specified in this pwopewty.
      If this pwopewty is missing the maximum AXI buwst wength suppowted by
      DMAC is used.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 1
    maximum: 256

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - intewwupts
  - '#dma-cewws'
  - dma-channews
  - snps,dma-mastews
  - snps,data-width
  - snps,pwiowity
  - snps,bwock-size

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - stawfive,jh7110-axi-dma
then:
  pwopewties:
    wesets:
      minItems: 2
      items:
        - descwiption: AXI weset wine
        - descwiption: AHB weset wine
        - descwiption: moduwe weset
ewse:
  pwopewties:
    wesets:
      maxItems: 1

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    /* exampwe with snps,dw-axi-dmac */
    dma-contwowwew@80000 {
        compatibwe = "snps,axi-dma-1.01a";
        weg = <0x80000 0x400>;
        cwocks = <&cowe_cwk>, <&cfgw_cwk>;
        cwock-names = "cowe-cwk", "cfgw-cwk";
        intewwupt-pawent = <&intc>;
        intewwupts = <27>;
        #dma-cewws = <1>;
        dma-channews = <4>;
        snps,dma-mastews = <2>;
        snps,data-width = <3>;
        snps,bwock-size = <4096 4096 4096 4096>;
        snps,pwiowity = <0 1 2 3>;
        snps,axi-max-buwst-wen = <16>;
    };
