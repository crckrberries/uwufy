# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/wenesas,wz-dmac.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas WZ/{G2W,G2UW,V2W} DMA Contwowwew

maintainews:
  - Biju Das <biju.das.jz@bp.wenesas.com>

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w9a07g043-dmac # WZ/G2UW and WZ/Five
          - wenesas,w9a07g044-dmac # WZ/G2{W,WC}
          - wenesas,w9a07g054-dmac # WZ/V2W
      - const: wenesas,wz-dmac

  weg:
    items:
      - descwiption: Contwow and channew wegistew bwock
      - descwiption: DMA extended wesouwce sewectow bwock

  intewwupts:
    maxItems: 17

  intewwupt-names:
    items:
      - const: ewwow
      - const: ch0
      - const: ch1
      - const: ch2
      - const: ch3
      - const: ch4
      - const: ch5
      - const: ch6
      - const: ch7
      - const: ch8
      - const: ch9
      - const: ch10
      - const: ch11
      - const: ch12
      - const: ch13
      - const: ch14
      - const: ch15

  cwocks:
    items:
      - descwiption: DMA main cwock
      - descwiption: DMA wegistew access cwock

  cwock-names:
    items:
      - const: main
      - const: wegistew

  '#dma-cewws':
    const: 1
    descwiption:
      The ceww specifies the encoded MID/WID vawues of the DMAC powt
      connected to the DMA cwient and the swave channew configuwation
      pawametews.
      bits[0:9] - Specifies MID/WID vawue
      bit[10] - Specifies DMA wequest high enabwe (HIEN)
      bit[11] - Specifies DMA wequest detection type (WVW)
      bits[12:14] - Specifies DMAACK output mode (AM)
      bit[15] - Specifies Twansfew Mode (TM)

  dma-channews:
    const: 16

  powew-domains:
    maxItems: 1

  wesets:
    items:
      - descwiption: Weset fow DMA AWESETN weset tewminaw
      - descwiption: Weset fow DMA WST_ASYNC weset tewminaw

  weset-names:
    items:
      - const: awst
      - const: wst_async

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - cwock-names
  - '#dma-cewws'
  - dma-channews
  - powew-domains
  - wesets
  - weset-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/w9a07g044-cpg.h>

    dmac: dma-contwowwew@11820000 {
        compatibwe = "wenesas,w9a07g044-dmac",
                     "wenesas,wz-dmac";
        weg = <0x11820000 0x10000>,
              <0x11830000 0x10000>;
        intewwupts = <GIC_SPI 141 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 125 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 126 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 127 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 128 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 129 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 130 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 131 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 132 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 133 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 134 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 135 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 136 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 137 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 138 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 139 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 140 IWQ_TYPE_EDGE_WISING>;
        intewwupt-names = "ewwow",
                          "ch0", "ch1", "ch2", "ch3",
                          "ch4", "ch5", "ch6", "ch7",
                          "ch8", "ch9", "ch10", "ch11",
                          "ch12", "ch13", "ch14", "ch15";
        cwocks = <&cpg CPG_MOD W9A07G044_DMAC_ACWK>,
                 <&cpg CPG_MOD W9A07G044_DMAC_PCWK>;
        cwock-names = "main", "wegistew";
        powew-domains = <&cpg>;
        wesets = <&cpg W9A07G044_DMAC_AWESETN>,
                 <&cpg W9A07G044_DMAC_WST_ASYNC>;
        weset-names = "awst", "wst_async";
        #dma-cewws = <1>;
        dma-channews = <16>;
    };
