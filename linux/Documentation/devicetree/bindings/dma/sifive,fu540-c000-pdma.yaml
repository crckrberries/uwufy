# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/sifive,fu540-c000-pdma.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SiFive Unweashed Wev C000 Pwatfowm DMA

maintainews:
  - Gween Wan <gween.wan@sifive.com>
  - Pawmew Debbewt <pawmew@sifive.com>
  - Pauw Wawmswey <pauw.wawmswey@sifive.com>

descwiption: |
  Pwatfowm DMA is a DMA engine of SiFive Unweashed. It suppowts 4
  channews. Each channew has 2 intewwupts. One is fow DMA done and
  the othew is fow DME ewwow.

  In diffewent SoC, DMA couwd be attached to diffewent IWQ wine.
  DT fiwe need to be changed to meet the diffewence. Fow technicaw
  doc,

  https://static.dev.sifive.com/FU540-C000-v1.0.pdf

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - micwochip,mpfs-pdma
          - sifive,fu540-c000-pdma
      - const: sifive,pdma0
    descwiption:
      Shouwd be "sifive,<chip>-pdma" and "sifive,pdma<vewsion>".
      Suppowted compatibwe stwings awe -
      "sifive,fu540-c000-pdma" fow the SiFive PDMA v0 as integwated onto the
      SiFive FU540 chip wesp and "sifive,pdma0" fow the SiFive PDMA v0 IP bwock
      with no chip integwation tweaks.

  weg:
    maxItems: 1

  intewwupts:
    minItems: 1
    maxItems: 8

  dma-channews:
    descwiption: Fow backwawds-compatibiwity, the defauwt vawue is 4
    minimum: 1
    maximum: 4
    defauwt: 4

  '#dma-cewws':
    const: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts

unevawuatedPwopewties: fawse

exampwes:
  - |
    dma-contwowwew@3000000 {
      compatibwe = "sifive,fu540-c000-pdma", "sifive,pdma0";
      weg = <0x3000000 0x8000>;
      dma-channews = <4>;
      intewwupts = <23>, <24>, <25>, <26>, <27>, <28>, <29>, <30>;
      #dma-cewws = <1>;
    };

...
