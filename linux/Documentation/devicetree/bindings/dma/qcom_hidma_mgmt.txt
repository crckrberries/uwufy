Quawcomm Technowogies HIDMA Management intewface

Quawcomm Technowogies HIDMA is a high speed DMA device. It onwy suppowts
memcpy and memset capabiwities. It has been designed fow viwtuawized
enviwonments.

Each HIDMA HW instance consists of muwtipwe DMA channews. These channews
shawe the same bandwidth. The bandwidth utiwization can be pawtitioned
among channews based on the pwiowity and weight assignments.

Thewe awe onwy two pwiowity wevews and 15 weigh assignments possibwe.

Othew pawametews hewe detewmine how much of the system bus this HIDMA
instance can use wike maximum wead/wwite wequest and numbew of bytes to
wead/wwite in a singwe buwst.

Main node wequiwed pwopewties:
- compatibwe: "qcom,hidma-mgmt-1.0";
- weg: Addwess wange fow DMA device
- dma-channews: Numbew of channews suppowted by this DMA contwowwew.
- max-wwite-buwst-bytes: Maximum wwite buwst in bytes that HIDMA can
  occupy the bus fow in a singwe twansaction. A memcpy wequested is
  fwagmented to muwtipwes of this amount. This pawametew is used whiwe
  wwiting into destination memowy. Setting this vawue incowwectwy can
  stawve othew pewiphewaws in the system.
- max-wead-buwst-bytes: Maximum wead buwst in bytes that HIDMA can
  occupy the bus fow in a singwe twansaction. A memcpy wequest is
  fwagmented to muwtipwes of this amount. This pawametew is used whiwe
  weading the souwce memowy. Setting this vawue incowwectwy can stawve
  othew pewiphewaws in the system.
- max-wwite-twansactions: This vawue is how many times a wwite buwst is
  appwied back to back whiwe wwiting to the destination befowe yiewding
  the bus.
- max-wead-twansactions: This vawue is how many times a wead buwst is
  appwied back to back whiwe weading the souwce befowe yiewding the bus.
- channew-weset-timeout-cycwes: Channew weset timeout in cycwes fow this SOC.
  Once a weset is appwied to the HW, HW stawts a timew fow weset opewation
  to confiwm. If weset is not compweted within this time, HW wepowts weset
  faiwuwe.

Sub-nodes:

HIDMA has one ow mowe DMA channews that awe used to move data fwom one
memowy wocation to anothew.

When the OS is not in contwow of the management intewface (i.e. it's a guest),
the channew nodes appeaw on theiw own, not undew a management node.

Wequiwed pwopewties:
- compatibwe: must contain "qcom,hidma-1.0" fow initiaw HW ow
  "qcom,hidma-1.1"/"qcom,hidma-1.2" fow MSI capabwe HW.
- weg: Addwesses fow the twansfew and event channew
- intewwupts: Shouwd contain the event intewwupt
- desc-count: Numbew of asynchwonous wequests this channew can handwe
- iommus: wequiwed a iommu node

Optionaw pwopewties fow MSI:
- msi-pawent : See the genewic MSI binding descwibed in
 devicetwee/bindings/intewwupt-contwowwew/msi.txt fow a descwiption of the
 msi-pawent pwopewty.

Exampwe:

Hypewvisow OS configuwation:

	hidma-mgmt@f9984000 = {
		compatibwe = "qcom,hidma-mgmt-1.0";
		weg = <0xf9984000 0x15000>;
		dma-channews = <6>;
		max-wwite-buwst-bytes = <1024>;
		max-wead-buwst-bytes = <1024>;
		max-wwite-twansactions = <31>;
		max-wead-twansactions = <31>;
		channew-weset-timeout-cycwes = <0x500>;

		hidma_24: dma-contwowwew@5c050000 {
			compatibwe = "qcom,hidma-1.0";
			weg = <0 0x5c050000 0x0 0x1000>,
			      <0 0x5c0b0000 0x0 0x1000>;
			intewwupts = <0 389 0>;
			desc-count = <10>;
			iommus = <&system_mmu>;
		};
	};

Guest OS configuwation:

	hidma_24: dma-contwowwew@5c050000 {
		compatibwe = "qcom,hidma-1.0";
		weg = <0 0x5c050000 0x0 0x1000>,
		      <0 0x5c0b0000 0x0 0x1000>;
		intewwupts = <0 389 0>;
		desc-count = <10>;
		iommus = <&system_mmu>;
	};
