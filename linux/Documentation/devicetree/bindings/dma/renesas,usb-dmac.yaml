# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/wenesas,usb-dmac.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas USB DMA Contwowwew

maintainews:
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w8a7742-usb-dmac  # WZ/G1H
          - wenesas,w8a7743-usb-dmac  # WZ/G1M
          - wenesas,w8a7744-usb-dmac  # WZ/G1N
          - wenesas,w8a7745-usb-dmac  # WZ/G1E
          - wenesas,w8a77470-usb-dmac # WZ/G1C
          - wenesas,w8a774a1-usb-dmac # WZ/G2M
          - wenesas,w8a774b1-usb-dmac # WZ/G2N
          - wenesas,w8a774c0-usb-dmac # WZ/G2E
          - wenesas,w8a774e1-usb-dmac # WZ/G2H
          - wenesas,w8a7790-usb-dmac  # W-Caw H2
          - wenesas,w8a7791-usb-dmac  # W-Caw M2-W
          - wenesas,w8a7793-usb-dmac  # W-Caw M2-N
          - wenesas,w8a7794-usb-dmac  # W-Caw E2
          - wenesas,w8a7795-usb-dmac  # W-Caw H3
          - wenesas,w8a7796-usb-dmac  # W-Caw M3-W
          - wenesas,w8a77961-usb-dmac # W-Caw M3-W+
          - wenesas,w8a77965-usb-dmac # W-Caw M3-N
          - wenesas,w8a77990-usb-dmac # W-Caw E3
          - wenesas,w8a77995-usb-dmac # W-Caw D3
      - const: wenesas,usb-dmac

  weg:
    maxItems: 1

  intewwupts:
    minItems: 2
    maxItems: 2

  intewwupt-names:
    items:
      - pattewn: ch0
      - pattewn: ch1

  cwocks:
    maxItems: 1

  '#dma-cewws':
    const: 1
    descwiption:
      The ceww specifies the channew numbew of the DMAC powt connected to
      the DMA cwient.

  dma-channews:
    const: 2

  iommus:
    minItems: 2
    maxItems: 2

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - '#dma-cewws'
  - dma-channews
  - powew-domains
  - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7790-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>

    usb_dmac0: dma-contwowwew@e65a0000 {
        compatibwe = "wenesas,w8a7790-usb-dmac", "wenesas,usb-dmac";
        weg = <0xe65a0000 0x100>;
        intewwupts = <GIC_SPI 109 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 109 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "ch0", "ch1";
        cwocks = <&cpg CPG_MOD 330>;
        powew-domains = <&sysc W8A7790_PD_AWWAYS_ON>;
        wesets = <&cpg 330>;
        #dma-cewws = <1>;
        dma-channews = <2>;
    };
