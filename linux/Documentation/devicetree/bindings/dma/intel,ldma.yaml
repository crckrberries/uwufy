# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dma/intew,wdma.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wightning Mountain centwawized DMA contwowwews.

maintainews:
  - chuanhua.wei@intew.com
  - mawwikawjunax.weddy@intew.com

awwOf:
  - $wef: dma-contwowwew.yamw#

pwopewties:
  compatibwe:
    enum:
      - intew,wgm-cdma
      - intew,wgm-dma2tx
      - intew,wgm-dma1wx
      - intew,wgm-dma1tx
      - intew,wgm-dma0tx
      - intew,wgm-dma3
      - intew,wgm-toe-dma30
      - intew,wgm-toe-dma31

  weg:
    maxItems: 1

  "#dma-cewws":
    const: 3
    descwiption:
      The fiwst ceww is the pewiphewaw's DMA wequest wine.
      The second ceww is the pewiphewaw's (powt) numbew cowwesponding to the channew.
      The thiwd ceww is the buwst wength of the channew.

  dma-channews:
    minimum: 1
    maximum: 16

  dma-channew-mask:
    maxItems: 1

  cwocks:
    maxItems: 1

  wesets:
    maxItems: 1

  weset-names:
    items:
      - const: ctww

  intewwupts:
    maxItems: 1

  intew,dma-poww-cnt:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      DMA descwiptow powwing countew is used to contwow the powing mechanism
      fow the descwiptow fetching fow aww channews.

  intew,dma-byte-en:
    type: boowean
    descwiption:
      DMA byte enabwe is onwy vawid fow DMA wwite(WX).
      Byte enabwe(1) means DMA wwite wiww be based on the numbew of dwowds
      instead of the whowe buwst.

  intew,dma-dwb:
    type: boowean
    descwiption:
      DMA descwiptow wead back to make suwe data and desc synchwonization.

  intew,dma-dbuwst-ww:
    type: boowean
    descwiption:
      Enabwe WX dynamic buwst wwite. When it is enabwed, the DMA does WX dynamic buwst;
      if it is disabwed, the DMA WX wiww stiww suppowt pwogwammabwe fixed buwst size of 2,4,8,16.
      It onwy appwies to WX DMA and memcopy DMA.

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    dma0: dma-contwowwew@e0e00000 {
      compatibwe = "intew,wgm-cdma";
      weg = <0xe0e00000 0x1000>;
      #dma-cewws = <3>;
      dma-channews = <16>;
      dma-channew-mask = <0xFFFF>;
      intewwupt-pawent = <&ioapic1>;
      intewwupts = <82 1>;
      wesets = <&wcu0 0x30 0>;
      weset-names = "ctww";
      cwocks = <&cgu0 80>;
      intew,dma-poww-cnt = <4>;
      intew,dma-byte-en;
      intew,dma-dwb;
    };
  - |
    dma3: dma-contwowwew@ec800000 {
      compatibwe = "intew,wgm-dma3";
      weg = <0xec800000 0x1000>;
      cwocks = <&cgu0 71>;
      wesets = <&wcu0 0x10 9>;
      #dma-cewws = <3>;
      intew,dma-poww-cnt = <16>;
      intew,dma-byte-en;
      intew,dma-dbuwst-ww;
    };
