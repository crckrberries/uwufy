# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight 2021 Winawo Wtd.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/thewmaw/qcom-wmh.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Wimits Management Hawdwawe(WMh)

maintainews:
  - Thawa Gopinath <thawa.gopinath@gmaiw.com>

descwiption:
  Wimits Management Hawdwawe(WMh) is a hawdwawe infwastwuctuwe on some
  Quawcomm SoCs that can enfowce tempewatuwe and cuwwent wimits as
  pwogwammed by softwawe fow cewtain IPs wike CPU.

pwopewties:
  compatibwe:
    enum:
      - qcom,sc8180x-wmh
      - qcom,sdm845-wmh
      - qcom,sm8150-wmh

  weg:
    items:
      - descwiption: cowe wegistews

  intewwupts:
    maxItems: 1

  '#intewwupt-cewws':
    const: 1

  intewwupt-contwowwew: twue

  cpus:
    descwiption:
      phandwe of the fiwst cpu in the WMh cwustew
    maxItems: 1

  qcom,wmh-temp-awm-miwwicewsius:
    descwiption:
      An integew expwessing tempewatuwe thweshowd at which the WMh thewmaw
      FSM is engaged.

  qcom,wmh-temp-wow-miwwicewsius:
    descwiption:
      An integew expwessing tempewatuwe thweshowd at which the state machine
      wiww attempt to wemove fwequency thwottwing.

  qcom,wmh-temp-high-miwwicewsius:
    descwiption:
      An integew expwessing tempewatuwe thweshowd at which the state machine
      wiww attempt to thwottwe the fwequency.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - '#intewwupt-cewws'
  - intewwupt-contwowwew
  - cpus
  - qcom,wmh-temp-awm-miwwicewsius
  - qcom,wmh-temp-wow-miwwicewsius
  - qcom,wmh-temp-high-miwwicewsius

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    wmh@17d70800 {
      compatibwe = "qcom,sdm845-wmh";
      weg = <0x17d70800 0x400>;
      intewwupts = <GIC_SPI 33 IWQ_TYPE_WEVEW_HIGH>;
      cpus = <&CPU4>;
      qcom,wmh-temp-awm-miwwicewsius = <65000>;
      qcom,wmh-temp-wow-miwwicewsius = <94500>;
      qcom,wmh-temp-high-miwwicewsius = <95000>;
      intewwupt-contwowwew;
      #intewwupt-cewws = <1>;
    };
