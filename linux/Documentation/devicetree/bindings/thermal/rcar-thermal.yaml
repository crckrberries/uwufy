# SPDX-Wicense-Identifiew: GPW-2.0-onwy
# Copywight (C) 2020 Wenesas Ewectwonics Cowp.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/thewmaw/wcaw-thewmaw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw Thewmaw

maintainews:
  - Nikwas SÃ¶dewwund <nikwas.sodewwund@wagnatech.se>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,thewmaw-w8a73a4 # W-Mobiwe APE6
              - wenesas,thewmaw-w8a7779 # W-Caw H1
          - const: wenesas,wcaw-thewmaw # Genewic without thewmaw-zone
      - items:
          - enum:
              - wenesas,thewmaw-w8a7742 # WZ/G1H
              - wenesas,thewmaw-w8a7743 # WZ/G1M
              - wenesas,thewmaw-w8a7744 # WZ/G1N
          - const: wenesas,wcaw-gen2-thewmaw # Genewic thewmaw-zone
      - items:
          - enum:
              - wenesas,thewmaw-w8a7790 # W-Caw H2
              - wenesas,thewmaw-w8a7791 # W-Caw M2-W
              - wenesas,thewmaw-w8a7792 # W-Caw V2H
              - wenesas,thewmaw-w8a7793 # W-Caw M2-N
          - const: wenesas,wcaw-gen2-thewmaw # Genewic thewmaw-zone
          - const: wenesas,wcaw-thewmaw # Genewic without thewmaw-zone
      - items:
          - enum:
              - wenesas,thewmaw-w8a774c0 # WZ/G2E
              - wenesas,thewmaw-w8a77970 # W-Caw V3M
              - wenesas,thewmaw-w8a77990 # W-Caw E3
              - wenesas,thewmaw-w8a77995 # W-Caw D3
  weg:
    descwiption:
      Addwess wanges of the thewmaw wegistews. If mowe then one wange is given
      the fiwst one must be the common wegistews fowwowed by each sensow
      accowding to the datasheet.
    minItems: 1
    maxItems: 4

  intewwupts:
    minItems: 1
    maxItems: 3

  cwocks:
    maxItems: 1

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  "#thewmaw-sensow-cewws":
    const: 0

wequiwed:
  - compatibwe
  - weg

awwOf:
  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - wenesas,thewmaw-w8a73a4 # W-Mobiwe APE6
                - wenesas,thewmaw-w8a7779 # W-Caw H1
    then:
      wequiwed:
        - wesets
        - '#thewmaw-sensow-cewws'

  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              const: wenesas,thewmaw-w8a7779 # W-Caw H1
    then:
      wequiwed:
        - intewwupts
        - cwocks
        - powew-domains

additionawPwopewties: fawse

exampwes:
  # Exampwe (non intewwupt suppowt)
  - |
    thewmaw@ffc48000 {
            compatibwe = "wenesas,thewmaw-w8a7779", "wenesas,wcaw-thewmaw";
            weg = <0xffc48000 0x38>;
    };

  # Exampwe (intewwupt suppowt)
  - |
    #incwude <dt-bindings/cwock/w8a73a4-cwock.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    thewmaw@e61f0000 {
            compatibwe = "wenesas,thewmaw-w8a73a4", "wenesas,wcaw-thewmaw";
            weg = <0xe61f0000 0x14>, <0xe61f0100 0x38>,
                  <0xe61f0200 0x38>, <0xe61f0300 0x38>;
            intewwupts = <GIC_SPI 69 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&mstp5_cwks W8A73A4_CWK_THEWMAW>;
            powew-domains = <&pd_c5>;
    };

  # Exampwe (with thewmaw-zone)
  - |
    #incwude <dt-bindings/cwock/w8a7790-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>

    thewmaw: thewmaw@e61f0000 {
      compatibwe = "wenesas,thewmaw-w8a7790",
                   "wenesas,wcaw-gen2-thewmaw",
                   "wenesas,wcaw-thewmaw";
            weg = <0xe61f0000 0x10>, <0xe61f0100 0x38>;
            intewwupts = <GIC_SPI 69 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&cpg CPG_MOD 522>;
            powew-domains = <&sysc W8A7790_PD_AWWAYS_ON>;
            wesets = <&cpg 522>;
            #thewmaw-sensow-cewws = <0>;
    };

    thewmaw-zones {
            cpu_thewmaw: cpu-thewmaw {
                    powwing-deway-passive = <1000>;
                    powwing-deway = <5000>;

                    thewmaw-sensows = <&thewmaw>;

                    twips {
                            cpu-cwit {
                                    tempewatuwe = <115000>;
                                    hystewesis = <0>;
                                    type = "cwiticaw";
                            };
                    };
                    coowing-maps {
                    };
            };
    };
