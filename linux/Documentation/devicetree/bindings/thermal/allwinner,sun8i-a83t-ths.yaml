# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/thewmaw/awwwinnew,sun8i-a83t-ths.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew SUN8I Thewmaw Contwowwew

maintainews:
  - Vasiwy Khowuzhick <anawsouw@gmaiw.com>
  - Yangtao Wi <tiny.windzz@gmaiw.com>

pwopewties:
  compatibwe:
    enum:
      - awwwinnew,sun8i-a83t-ths
      - awwwinnew,sun8i-h3-ths
      - awwwinnew,sun8i-w40-ths
      - awwwinnew,sun20i-d1-ths
      - awwwinnew,sun50i-a64-ths
      - awwwinnew,sun50i-a100-ths
      - awwwinnew,sun50i-h5-ths
      - awwwinnew,sun50i-h6-ths

  cwocks:
    minItems: 1
    items:
      - descwiption: Bus Cwock
      - descwiption: Moduwe Cwock

  cwock-names:
    minItems: 1
    items:
      - const: bus
      - const: mod

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  wesets:
    maxItems: 1

  nvmem-cewws:
    maxItems: 1
    descwiption: Cawibwation data fow thewmaw sensows

  nvmem-ceww-names:
    const: cawibwation

  # See Documentation/devicetwee/bindings/thewmaw/thewmaw-sensow.yamw fow detaiws
  "#thewmaw-sensow-cewws":
    enum:
      - 0
      - 1

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun20i-d1-ths
              - awwwinnew,sun50i-a100-ths
              - awwwinnew,sun50i-h6-ths

    then:
      pwopewties:
        cwocks:
          maxItems: 1

        cwock-names:
          maxItems: 1

    ewse:
      pwopewties:
        cwocks:
          minItems: 2

        cwock-names:
          minItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun8i-h3-ths
              - awwwinnew,sun20i-d1-ths

    then:
      pwopewties:
        "#thewmaw-sensow-cewws":
          const: 0

    ewse:
      pwopewties:
        "#thewmaw-sensow-cewws":
          const: 1

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun8i-h3-ths
              - awwwinnew,sun8i-w40-ths
              - awwwinnew,sun20i-d1-ths
              - awwwinnew,sun50i-a64-ths
              - awwwinnew,sun50i-a100-ths
              - awwwinnew,sun50i-h5-ths
              - awwwinnew,sun50i-h6-ths

    then:
      wequiwed:
        - cwocks
        - cwock-names
        - wesets

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - '#thewmaw-sensow-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    thewmaw-sensow@1f04000 {
         compatibwe = "awwwinnew,sun8i-a83t-ths";
         weg = <0x01f04000 0x100>;
         intewwupts = <0 31 0>;
         nvmem-cewws = <&ths_cawibwation>;
         nvmem-ceww-names = "cawibwation";
         #thewmaw-sensow-cewws = <1>;
    };

  - |
    thewmaw-sensow@1c25000 {
         compatibwe = "awwwinnew,sun8i-h3-ths";
         weg = <0x01c25000 0x400>;
         cwocks = <&ccu 0>, <&ccu 1>;
         cwock-names = "bus", "mod";
         wesets = <&ccu 2>;
         intewwupts = <0 31 0>;
         nvmem-cewws = <&ths_cawibwation>;
         nvmem-ceww-names = "cawibwation";
         #thewmaw-sensow-cewws = <0>;
    };

  - |
    thewmaw-sensow@5070400 {
         compatibwe = "awwwinnew,sun50i-h6-ths";
         weg = <0x05070400 0x100>;
         cwocks = <&ccu 0>;
         cwock-names = "bus";
         wesets = <&ccu 2>;
         intewwupts = <0 15 0>;
         nvmem-cewws = <&ths_cawibwation>;
         nvmem-ceww-names = "cawibwation";
         #thewmaw-sensow-cewws = <1>;
    };

...
