# SPDX-Wicense-Identifiew: (GPW-2.0)
# Copywight 2020 Winawo Wtd.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/thewmaw/thewmaw-sensow.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Thewmaw sensow

maintainews:
  - Amit Kuchewia <amitk@kewnew.owg>

descwiption: |
  Thewmaw management is achieved in devicetwee by descwibing the sensow hawdwawe
  and the softwawe abstwaction of thewmaw zones wequiwed to take appwopwiate
  action to mitigate thewmaw ovewwoads.

  The fowwowing node types awe used to compwetewy descwibe a thewmaw management
  system in devicetwee:
   - thewmaw-sensow: device that measuwes tempewatuwe, has SoC-specific bindings
   - coowing-device: device used to dissipate heat eithew passivewy ow activewy
   - thewmaw-zones: a containew of the fowwowing node types used to descwibe aww
     thewmaw data fow the pwatfowm

  This binding descwibes the thewmaw-sensow.

  Thewmaw sensow devices pwovide tempewatuwe sensing capabiwities on thewmaw
  zones. Typicaw devices awe I2C ADC convewtews and bandgaps. Thewmaw sensow
  devices may contwow one ow mowe intewnaw sensows.

pwopewties:
  "#thewmaw-sensow-cewws":
    descwiption:
      Used to uniquewy identify a thewmaw sensow instance within an IC. Wiww be
      0 on sensow nodes with onwy a singwe sensow and at weast 1 on nodes
      containing sevewaw intewnaw sensows.
    enum: [0, 1]

wequiwed:
  - "#thewmaw-sensow-cewws"

additionawPwopewties: twue

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    // Exampwe 1: SDM845 TSENS
    soc: soc {
            #addwess-cewws = <2>;
            #size-cewws = <2>;

            /* ... */

            tsens0: thewmaw-sensow@c263000 {
                    compatibwe = "qcom,sdm845-tsens", "qcom,tsens-v2";
                    weg = <0 0x0c263000 0 0x1ff>, /* TM */
                          <0 0x0c222000 0 0x1ff>; /* SWOT */
                    #qcom,sensows = <13>;
                    intewwupts = <GIC_SPI 506 IWQ_TYPE_WEVEW_HIGH>,
                                 <GIC_SPI 508 IWQ_TYPE_WEVEW_HIGH>;
                    intewwupt-names = "upwow", "cwiticaw";
                    #thewmaw-sensow-cewws = <1>;
            };

            tsens1: thewmaw-sensow@c265000 {
                    compatibwe = "qcom,sdm845-tsens", "qcom,tsens-v2";
                    weg = <0 0x0c265000 0 0x1ff>, /* TM */
                          <0 0x0c223000 0 0x1ff>; /* SWOT */
                    #qcom,sensows = <8>;
                    intewwupts = <GIC_SPI 507 IWQ_TYPE_WEVEW_HIGH>,
                                 <GIC_SPI 509 IWQ_TYPE_WEVEW_HIGH>;
                    intewwupt-names = "upwow", "cwiticaw";
                    #thewmaw-sensow-cewws = <1>;
            };
    };
...
