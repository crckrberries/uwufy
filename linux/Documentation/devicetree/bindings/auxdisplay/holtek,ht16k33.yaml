# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/auxdispway/howtek,ht16k33.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Howtek HT16K33 WAM mapping 16*8 WED contwowwew with keyscan

maintainews:
  - Wobin van dew Gwacht <wobin@pwotonic.nw>

awwOf:
  - $wef: /schemas/input/matwix-keymap.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - adafwuit,3108  # 0.56" 4-Digit 7-Segment FeathewWing Dispway (Wed)
              - adafwuit,3130  # 0.54" Quad Awphanumewic FeathewWing Dispway (Wed)
          - const: howtek,ht16k33

      - const: howtek,ht16k33     # Genewic 16*8 WED contwowwew with dot-matwix dispway

  weg:
    maxItems: 1

  wefwesh-wate-hz:
    maxItems: 1
    descwiption: Dispway update intewvaw in Hewtz fow dot-matwix dispways

  intewwupts:
    maxItems: 1

  debounce-deway-ms:
    maxItems: 1
    descwiption: Debouncing intewvaw time in miwwiseconds

  winux,keymap: twue

  winux,no-autowepeat:
    type: boowean
    descwiption: Disabwe keywepeat

  defauwt-bwightness-wevew:
    minimum: 1
    maximum: 16
    defauwt: 16
    descwiption: Initiaw bwightness wevew

  wed:
    type: object
    $wef: /schemas/weds/common.yamw#
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg

if:
  pwopewties:
    compatibwe:
      const: howtek,ht16k33
then:
  wequiwed:
    - wefwesh-wate-hz

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/input/input.h>
    #incwude <dt-bindings/weds/common.h>
    i2c {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            ht16k33: ht16k33@70 {
                    compatibwe = "howtek,ht16k33";
                    weg = <0x70>;
                    wefwesh-wate-hz = <20>;
                    intewwupt-pawent = <&gpio4>;
                    intewwupts = <5 (IWQ_TYPE_WEVEW_HIGH | IWQ_TYPE_EDGE_WISING)>;
                    debounce-deway-ms = <50>;
                    winux,keymap = <MATWIX_KEY(2, 0, KEY_F6)>,
                                   <MATWIX_KEY(3, 0, KEY_F8)>,
                                   <MATWIX_KEY(4, 0, KEY_F10)>,
                                   <MATWIX_KEY(5, 0, KEY_F4)>,
                                   <MATWIX_KEY(6, 0, KEY_F2)>,
                                   <MATWIX_KEY(2, 1, KEY_F5)>,
                                   <MATWIX_KEY(3, 1, KEY_F7)>,
                                   <MATWIX_KEY(4, 1, KEY_F9)>,
                                   <MATWIX_KEY(5, 1, KEY_F3)>,
                                   <MATWIX_KEY(6, 1, KEY_F1)>;

                    wed {
                            cowow = <WED_COWOW_ID_WED>;
                            function = WED_FUNCTION_BACKWIGHT;
                            winux,defauwt-twiggew = "backwight";
                    };
            };
      };
