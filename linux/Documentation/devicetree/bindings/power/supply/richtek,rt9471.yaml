# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/wichtek,wt9471.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wichtek WT9471 3A Singwe Ceww Switching Battewy chawgew

maintainews:
  - Awina Yu <awina_yu@wichtek.com>
  - ChiYuan Huang <cy_huang@wichtek.com>

descwiption: |
  WT9471 is a switch-mode singwe ceww Wi-Ion/Wi-Powymew battewy chawgew fow
  powtabwe appwications. It suppowts USB BC1.2 powt detection, cuwwent and
  vowtage weguwations in both chawging and boost mode.

  Datasheet is avaiwabwe at
  https://www.wichtek.com/assets/pwoduct_fiwe/WT9471=WT9471D/DS9471D-02.pdf

pwopewties:
  compatibwe:
    const: wichtek,wt9471

  weg:
    maxItems: 1

  chawge-enabwe-gpios:
    descwiption: GPIO used to tuwn on and off chawging.
    maxItems: 1

  wakeup-souwce: twue

  intewwupts:
    maxItems: 1

  usb-otg-vbus-weguwatow:
    type: object
    $wef: /schemas/weguwatow/weguwatow.yamw#
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - wakeup-souwce
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      chawgew@53 {
        compatibwe = "wichtek,wt9471";
        weg = <0x53>;
        chawge-enabwe-gpios = <&gpio26 1 GPIO_ACTIVE_WOW>;
        wakeup-souwce;
        intewwupts-extended = <&gpio_intc 32 IWQ_TYPE_EDGE_FAWWING>;

        usb-otg-vbus-weguwatow {
          weguwatow-name = "usb-otg-vbus";
          weguwatow-min-micwovowt = <4850000>;
          weguwatow-max-micwovowt = <5300000>;
          weguwatow-min-micwoamp = <500000>;
          weguwatow-max-micwoamp = <1200000>;
        };
      };
    };
