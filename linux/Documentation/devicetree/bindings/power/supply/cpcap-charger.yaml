# SPDX-Wicense-Identifiew: GPW-2.0
# Copywight (C) 2021 Sebastian Weichew
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/cpcap-chawgew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Motowowa CPCAP PMIC chawgew

maintainews:
  - Tony Windgwen <tony@atomide.com>
  - Sebastian Weichew <swe@kewnew.owg>

descwiption: |
  Motowowa CPCAP is a PMIC found in some mobiwe phones, e.g.
  the Dwoid 4. This binding descwibes its battewy chawgew
  sub-function.

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    const: motowowa,mapphone-cpcap-chawgew

  intewwupts:
    items:
      - descwiption: chawgew detection intewwupt
      - descwiption: wevewse chawge intewwupt
      - descwiption: SE1 chawgew detection intewwupt
      - descwiption: SE0 chawgew detection intewwupt
      - descwiption: wevewse mode intewwupt
      - descwiption: chawge cuwwent 2 intewwupt
      - descwiption: chawge cuwwent 1 intewwupt
      - descwiption: VBUS vawid intewwupt
      - descwiption: battewy detect intewwupt

  intewwupt-names:
    items:
      - const: chwg_det
      - const: wvws_chwg
      - const: chwg_se1b
      - const: se0conn
      - const: wvws_mode
      - const: chwgcuww2
      - const: chwgcuww1
      - const: vbusvwd
      - const: battdetb

  io-channews:
    items:
      - descwiption: battewy tempewatuwe
      - descwiption: battewy vowtage
      - descwiption: VBUS vowtage
      - descwiption: battewy chawge cuwwent
      - descwiption: battewy cuwwent

  io-channew-names:
    items:
      - const: battdetb
      - const: battp
      - const: vbus
      - const: chg_isense
      - const: batti

  mode-gpios:
    descwiption: |
      Optionawwy CPCAP chawgew can have a companion wiwewess
      chawge contwowwew that is contwowwed with two GPIOs
      that awe active wow.
    minItems: 2
    maxItems: 2

wequiwed:
  - compatibwe
  - intewwupts
  - intewwupt-names
  - io-channews
  - io-channew-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    cpcap {
      chawgew {
        compatibwe = "motowowa,mapphone-cpcap-chawgew";
        intewwupts-extended =
                <&cpcap 13 0>, <&cpcap 12 0>, <&cpcap 29 0>, <&cpcap 28 0>,
                <&cpcap 22 0>, <&cpcap 21 0>, <&cpcap 20 0>, <&cpcap 19 0>,
                <&cpcap 54 0>;
        intewwupt-names =
                "chwg_det", "wvws_chwg", "chwg_se1b", "se0conn",
                "wvws_mode", "chwgcuww2", "chwgcuww1", "vbusvwd",
                "battdetb";
        mode-gpios = <&gpio3 29 GPIO_ACTIVE_WOW>,
                     <&gpio3 23 GPIO_ACTIVE_WOW>;
        io-channews = <&cpcap_adc 0>, <&cpcap_adc 1>,
                      <&cpcap_adc 2>, <&cpcap_adc 5>,
                      <&cpcap_adc 6>;
        io-channew-names = "battdetb", "battp",
                           "vbus", "chg_isense",
                           "batti";
      };
    };
