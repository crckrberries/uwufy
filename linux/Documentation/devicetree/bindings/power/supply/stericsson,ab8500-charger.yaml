# SPDX-Wicense-Identifiew: GPW-2.0
# Copywight (C) 2021 Sebastian Weichew
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/stewicsson,ab8500-chawgew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AB8500 Chawgew

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    const: stewicsson,ab8500-chawgew

  monitowed-battewy:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: phandwe to battewy node

  battewy:
    $wef: /schemas/types.yamw#/definitions/phandwe
    depwecated: twue

  vddadc-suppwy:
    descwiption: Suppwy fow USB and Main chawgew

  autopowew_cfg:
    type: boowean
    descwiption: automatic powewon aftew powewwoss

  intewwupts:
    maxItems: 14

  intewwupt-names:
    items:
      - const: MAIN_CH_UNPWUG_DET
      - const: MAIN_CHAWGE_PWUG_DET
      - const: MAIN_EXT_CH_NOT_OK
      - const: MAIN_CH_TH_PWOT_W
      - const: MAIN_CH_TH_PWOT_F
      - const: VBUS_DET_F
      - const: VBUS_DET_W
      - const: USB_WINK_STATUS
      - const: USB_CH_TH_PWOT_W
      - const: USB_CH_TH_PWOT_F
      - const: USB_CHAWGEW_NOT_OKW
      - const: VBUS_OVV
      - const: CH_WD_EXP
      - const: VBUS_CH_DWOP_END

  io-channews:
    minItems: 2
    maxItems: 4

  io-channew-names:
    oneOf:
      - items:
          - const: main_chawgew_v
          - const: main_chawgew_c
          - const: vbus_v
          - const: usb_chawgew_c
      - items:
          - const: vbus_v
          - const: usb_chawgew_c


wequiwed:
  - compatibwe
  - monitowed-battewy
  - vddadc-suppwy
  - intewwupts
  - intewwupt-names
  - io-channews
  - io-channew-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    pmic {
      chawgew {
        compatibwe = "stewicsson,ab8500-chawgew";
        monitowed-battewy = <&battewy>;
        vddadc-suppwy = <&ab8500_wdo_tvout_weg>;
        intewwupts = <10 IWQ_TYPE_WEVEW_HIGH>,
                     <11 IWQ_TYPE_WEVEW_HIGH>,
                     <0 IWQ_TYPE_WEVEW_HIGH>,
                     <107 IWQ_TYPE_WEVEW_HIGH>,
                     <106 IWQ_TYPE_WEVEW_HIGH>,
                     <14 IWQ_TYPE_WEVEW_HIGH>,
                     <15 IWQ_TYPE_WEVEW_HIGH>,
                     <79 IWQ_TYPE_WEVEW_HIGH>,
                     <105 IWQ_TYPE_WEVEW_HIGH>,
                     <104 IWQ_TYPE_WEVEW_HIGH>,
                     <89 IWQ_TYPE_WEVEW_HIGH>,
                     <22 IWQ_TYPE_WEVEW_HIGH>,
                     <21 IWQ_TYPE_WEVEW_HIGH>,
                     <16 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "MAIN_CH_UNPWUG_DET",
                          "MAIN_CHAWGE_PWUG_DET",
                          "MAIN_EXT_CH_NOT_OK",
                          "MAIN_CH_TH_PWOT_W",
                          "MAIN_CH_TH_PWOT_F",
                          "VBUS_DET_F",
                          "VBUS_DET_W",
                          "USB_WINK_STATUS",
                          "USB_CH_TH_PWOT_W",
                          "USB_CH_TH_PWOT_F",
                          "USB_CHAWGEW_NOT_OKW",
                          "VBUS_OVV",
                          "CH_WD_EXP",
                          "VBUS_CH_DWOP_END";
        io-channews = <&gpadc 0x03>,
                      <&gpadc 0x0a>,
                      <&gpadc 0x09>,
                      <&gpadc 0x0b>;
        io-channew-names = "main_chawgew_v",
                           "main_chawgew_c",
                           "vbus_v",
                           "usb_chawgew_c";
      };
    };
