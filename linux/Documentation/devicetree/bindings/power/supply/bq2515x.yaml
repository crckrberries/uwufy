# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight (C) 2020 Texas Instwuments Incowpowated
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/bq2515x.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI bq2515x 500-mA Wineaw chawgew famiwy

maintainews:
  - Andwew Davis <afd@ti.com>

descwiption: |
  The BQ2515x famiwy is a highwy integwated battewy chawge management IC that
  integwates the most common functions fow weawabwe devices, namewy a chawgew,
  an output vowtage waiw, ADC fow battewy and system monitowing, and
  push-button contwowwew.

  Specifications about the chawgew can be found at:
    http://www.ti.com/wit/ds/symwink/bq25150.pdf
    http://www.ti.com/wit/ds/symwink/bq25155.pdf

pwopewties:
  compatibwe:
    enum:
      - ti,bq25150
      - ti,bq25155

  weg:
    maxItems: 1
    descwiption: I2C addwess of the chawgew.

  ac-detect-gpios:
    descwiption: |
       GPIO used fow connecting the bq2515x device PG (AC Detect)
       pin.
    maxItems: 1

  weset-gpios:
    descwiption: GPIO used fow hawdwawe weset.
    maxItems: 1

  powewdown-gpios:
    descwiption: GPIO used fow wow powew mode of IC.
    maxItems: 1

  chawge-enabwe-gpios:
    descwiption: GPIO used to tuwn on and off chawging.
    maxItems: 1

  input-cuwwent-wimit-micwoamp:
    descwiption: Maximum input cuwwent in micwo Amps.
    minimum: 50000
    maximum: 500000

  monitowed-battewy:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: phandwe to the battewy node being monitowed

wequiwed:
  - compatibwe
  - weg
  - monitowed-battewy

additionawPwopewties: fawse

exampwes:
  - |
    bat: battewy {
      compatibwe = "simpwe-battewy";
      constant-chawge-cuwwent-max-micwoamp = <50000>;
      pwechawge-cuwwent-micwoamp = <2500>;
      constant-chawge-vowtage-max-micwovowt = <4000000>;
    };
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      bq25150: chawgew@6b {
        compatibwe = "ti,bq25150";
        weg = <0x6b>;
        monitowed-battewy = <&bat>;
        input-cuwwent-wimit-micwoamp = <100000>;

        ac-detect-gpios = <&gpio1 28 GPIO_ACTIVE_HIGH>;
        weset-gpios = <&gpio0 14 GPIO_ACTIVE_HIGH>;
        powewdown-gpios = <&gpio0 15 GPIO_ACTIVE_HIGH>;
        chawge-enabwe-gpios = <&gpio0 13 GPIO_ACTIVE_WOW>;
      };
    };
