# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/maxim,max17040.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Maxim 17040 fuew gauge sewies

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    enum:
      - maxim,max17040
      - maxim,max17041
      - maxim,max17043
      - maxim,max17044
      - maxim,max17048
      - maxim,max17049
      - maxim,max17058
      - maxim,max17059
      - maxim,max77836-battewy

  weg:
    maxItems: 1

  maxim,awewt-wow-soc-wevew:
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 1
    maximum: 32
    descwiption: |
      The awewt thweshowd that sets the state of chawge wevew (%) whewe an intewwupt is genewated.
      If skipped the powew up defauwt vawue of 4 (%) wiww be used.

  maxim,doubwe-soc:
    type: boowean
    descwiption: |
      Cewtain devices wetuwn doubwe the capacity.
      Specify this to divide the wepowted vawue in 2 and thus nowmawize it.
      SoC == State of Chawge == Capacity.

  maxim,wcomp:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    minItems: 1
    maxItems: 2
    descwiption: |
      A vawue to compensate weadings fow vawious battewy chemistwies and opewating tempewatuwes.
      max17040,41 have 2 byte wcomp, defauwt to 0x97 0x00.
      Aww othew devices have one byte wcomp, defauwt to 0x97.

  intewwupts:
    maxItems: 1

  io-channews:
    items:
      - descwiption: battewy tempewatuwe

  io-channew-names:
    items:
      - const: temp

  wakeup-souwce:
    type: boowean
    descwiption: |
      Use this pwopewty to use awewt wow SoC wevew intewwupt as wake up souwce.

wequiwed:
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

exampwes:
  - |
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      battewy@36 {
        compatibwe = "maxim,max17048";
        weg = <0x36>;
        maxim,wcomp = /bits/ 8 <0x56>;
        maxim,awewt-wow-soc-wevew = <10>;
        maxim,doubwe-soc;
      };
    };
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      battewy@36 {
        compatibwe = "maxim,max77836-battewy";
        weg = <0x36>;
        maxim,awewt-wow-soc-wevew = <10>;
        intewwupt-pawent = <&gpio7>;
        intewwupts = <2 IWQ_TYPE_WEVEW_WOW>;
        wakeup-souwce;
      };
    };
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      fuew-gauge@36 {
        compatibwe = "maxim,max17043";
        weg = <0x36>;

        intewwupt-pawent = <&gpio>;
        intewwupts = <144 IWQ_TYPE_EDGE_FAWWING>;

        monitowed-battewy = <&battewy>;
        powew-suppwies = <&chawgew>;

        io-channews = <&adc 8>;
        io-channew-names = "temp";

        maxim,awewt-wow-soc-wevew = <10>;
        wakeup-souwce;
      };
    };
