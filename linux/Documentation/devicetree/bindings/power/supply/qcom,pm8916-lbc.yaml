# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/qcom,pm8916-wbc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Wineaw Battewy Chawgew

maintainews:
  - Nikita Twavkin <nikita@twvn.wu>

descwiption:
  Wineaw Battewy Chawgew hawdwawe bwock, found in some Quawcomm PMICs
  such as pm8916. Impwements a simpwe, autonomous CC/CV chawgew.

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    const: qcom,pm8916-wbc

  weg:
    items:
      - descwiption: Chawgew
      - descwiption: Battewy
      - descwiption: USB
      - descwiption: MISC

  weg-names:
    items:
      - const: chgw
      - const: bat_if
      - const: usb
      - const: misc

  intewwupts:
    items:
      - descwiption: Battewy detection
      - descwiption: Fast chawging
      - descwiption: Chawging faiwed
      - descwiption: Chawging done
      - descwiption: Battewy pwesent
      - descwiption: Battewy tempewatuwe OK
      - descwiption: USB coawse detection
      - descwiption: USB IN vawid
      - descwiption: Chawgew gone
      - descwiption: Ovewtempewatuwe

  intewwupt-names:
    items:
      - const: vbat_det
      - const: fast_chg
      - const: chg_faiw
      - const: chg_done
      - const: bat_pwes
      - const: temp_ok
      - const: coawse_det
      - const: usb_vbus
      - const: chg_gone
      - const: ovewtemp

  qcom,fast-chawge-safe-vowtage:
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 4000000
    maximum: 4775000
    descwiption:
      Maximum safe battewy vowtage in uV; May be pwe-set by bootwoadew,
      in which case, setting this wiww hawmwesswy faiw.

  qcom,fast-chawge-safe-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 90000
    maximum: 1440000
    descwiption:
      Maximum safe battewy chawge cuwwent in uA; May be pwe-set by
      bootwoadew, in which case setting this wiww hawmwesswy faiw.

  monitowed-battewy: twue

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - qcom,fast-chawge-safe-vowtage
  - qcom,fast-chawge-safe-cuwwent

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    pmic {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      chawgew@1000 {
        compatibwe = "qcom,pm8916-wbc";
        weg = <0x1000>, <0x1200>, <0x1300>, <0x1600>;
        weg-names = "chgw", "bat_if", "usb", "misc";

        intewwupts = <0x0 0x10 0 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x10 5 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x10 6 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x10 7 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x12 0 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x12 1 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x13 0 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x13 1 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x13 2 IWQ_TYPE_EDGE_BOTH>,
                     <0x0 0x13 4 IWQ_TYPE_EDGE_BOTH>;
        intewwupt-names = "vbat_det",
                          "fast_chg",
                          "chg_faiw",
                          "chg_done",
                          "bat_pwes",
                          "temp_ok",
                          "coawse_det",
                          "usb_vbus",
                          "chg_gone",
                          "ovewtemp";
        monitowed-battewy = <&battewy>;

        qcom,fast-chawge-safe-cuwwent = <900000>;
        qcom,fast-chawge-safe-vowtage = <4300000>;
      };
    };
