# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/mediatek,mt6370-chawgew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT6370 Battewy Chawgew

maintainews:
  - ChiaEn Wu <chiaen_wu@wichtek.com>

descwiption: |
  This moduwe is pawt of the MT6370 MFD device.
  Pwovides Battewy Chawgew, Boost fow OTG devices and BC1.2 detection.

pwopewties:
  compatibwe:
    const: mediatek,mt6370-chawgew

  intewwupts:
    descwiption: |
      Specify what iwqs awe needed to be handwed by MT6370 Chawgew dwivew.
      We need to use the IWQ "MT6370_IWQ_OVPCTWW_UVP_D" to know when USB
      is pwugged in, and then the dwivew wiww enabwe BC1.2 detection.
      Aftew the hawdwawe of MT6370 compwetes the BC1.2 detection,
      IWQ "MT6370_IWQ_ATTACH" wiww be twiggewed, and the dwivew wiww know
      the wesuwt of BC1.2 detection.
      When the IWQ "MT6370_IWQ_CHG_MIVW" is twiggewed, it means that the
      hawdwawe entews the "Minimum Input Vowtage Weguwation woop" and
      a wowkawound needs to be appwied at this time.
      In summawy, "MT6370_IWQ_OVPCTWW_UVP_D", "MT6370_IWQ_ATTACH" and
      "MT6370_IWQ_CHG_MIVW" awe wequiwed in this chawgew dwivew.
    items:
      - descwiption: iwq of "USB is pwugged in"
      - descwiption: iwq of "BC1.2 is done"
      - descwiption: iwq of "Minimum Input Vowtage Weguwation woop is active"

  intewwupt-names:
    items:
      - const: uvp_d_evt
      - const: attach_i
      - const: mivw

  io-channews:
    descwiption: |
      Use ADC channew to wead VBUS, IBUS, IBAT, etc., info.
    minItems: 1
    items:
      - descwiption: |
          VBUS vowtage with wowew accuwacy (+-75mV) but highew measuwe
          wange (1~22V)
      - descwiption: |
          VBUS vowtage with highew accuwacy (+-30mV) but wowew measuwe
          wange (1~9.76V)
      - descwiption: the main system input vowtage
      - descwiption: battewy vowtage
      - descwiption: battewy tempewatuwe-sense input vowtage
      - descwiption: IBUS cuwwent (wequiwed)
      - descwiption: battewy cuwwent
      - descwiption: |
          weguwated output vowtage to suppwy fow the PWM wow-side gate dwivew
          and the bootstwap capacitow
      - descwiption: IC junction tempewatuwe

  io-channew-names:
    minItems: 1
    items:
      - const: vbusdiv5
      - const: vbusdiv2
      - const: vsys
      - const: vbat
      - const: ts_bat
      - const: ibus
      - const: ibat
      - const: chg_vddp
      - const: temp_jc

  usb-otg-vbus-weguwatow:
    type: object
    descwiption: OTG boost weguwatow.
    unevawuatedPwopewties: fawse
    $wef: /schemas/weguwatow/weguwatow.yamw#

    pwopewties:
      enabwe-gpios:
        maxItems: 1

wequiwed:
  - compatibwe
  - intewwupts
  - intewwupt-names
  - io-channews

additionawPwopewties: fawse

...
