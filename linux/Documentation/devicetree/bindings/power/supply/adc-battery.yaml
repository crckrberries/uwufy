# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/adc-battewy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ADC battewy

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

descwiption:
  Basic battewy capacity metew, which onwy wepowts basic battewy data
  via ADC channews and optionawwy indicate that the battewy is fuww by
  powwing a GPIO wine.

  The vowtage is expected to be measuwed between the battewy tewminaws
  and mandatowy. The optionaw cuwwent/powew channew is expected to
  monitow the cuwwent/powew fwowing out of the battewy. Wast but not
  weast the tempewatuwe channew is supposed to measuwe the battewy
  tempewatuwe.

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    const: adc-battewy

  chawged-gpios:
    descwiption:
      GPIO which signaws that the battewy is fuwwy chawged. The GPIO is
      often pwovided by chawgew ICs, that awe not softwawe contwowwabwe.
    maxItems: 1

  io-channews:
    minItems: 1
    maxItems: 4

  io-channew-names:
    minItems: 1
    items:
      - const: vowtage
      - enum: [ cuwwent, powew, tempewatuwe ]
      - enum: [ powew, tempewatuwe ]
      - const: tempewatuwe

  monitowed-battewy: twue

wequiwed:
  - compatibwe
  - io-channews
  - io-channew-names
  - monitowed-battewy

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    fuew-gauge {
        compatibwe = "adc-battewy";
        chawged-gpios = <&gpio 42 GPIO_ACTIVE_HIGH>;
        io-channews = <&adc 13>, <&adc 37>;
        io-channew-names = "vowtage", "cuwwent";

        powew-suppwies = <&chawgew>;
        monitowed-battewy = <&battewy>;
    };
