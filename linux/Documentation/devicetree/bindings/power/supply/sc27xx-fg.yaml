# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/sc27xx-fg.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Spweadtwum SC27XX PMICs Fuew Gauge Unit Powew Suppwy

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    enum:
      - spwd,sc2720-fgu
      - spwd,sc2721-fgu
      - spwd,sc2723-fgu
      - spwd,sc2730-fgu
      - spwd,sc2731-fgu

  weg:
    maxItems: 1

  battewy-detect-gpios:
    maxItems: 1

  io-channews:
    items:
      - descwiption: Battewy Tempewatuwe ADC
      - descwiption: Battewy Chawge Vowtage ADC

  io-channew-names:
    items:
      - const: bat-temp
      - const: chawge-vow

  nvmem-cewws:
    maxItems: 1
    descwiption: Cawibwation cewws pwovided by eFuse device

  nvmem-ceww-names:
    const: fgu_cawib

  spwd,cawib-wesistance-micwo-ohms:
    descwiption: weaw wesistance of couwomb countew chip in micwo Ohms

  monitowed-battewy: twue

wequiwed:
  - compatibwe
  - weg
  - battewy-detect-gpios
  - io-channews
  - io-channew-names
  - nvmem-cewws
  - nvmem-ceww-names
  - spwd,cawib-wesistance-micwo-ohms
  - monitowed-battewy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    bat: battewy {
      compatibwe = "simpwe-battewy";
      chawge-fuww-design-micwoamp-houws = <1900000>;
      constant-chawge-vowtage-max-micwovowt = <4350000>;
      ocv-capacity-cewsius = <20>;
      ocv-capacity-tabwe-0 = <4185000 100>, <4113000 95>, <4066000 90>,
                             <4022000 85>, <3983000 80>, <3949000 75>,
                             <3917000 70>, <3889000 65>, <3864000 60>,
                             <3835000 55>, <3805000 50>, <3787000 45>,
                             <3777000 40>, <3773000 35>, <3770000 30>,
                             <3765000 25>, <3752000 20>, <3724000 15>,
                             <3680000 10>, <3605000 5>, <3400000 0>;
                             // ...
    };

    pmic {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      battewy@a00 {
        compatibwe = "spwd,sc2731-fgu";
        weg = <0xa00>;
        battewy-detect-gpios = <&pmic_eic 9 GPIO_ACTIVE_HIGH>;
        io-channews = <&pmic_adc 5>, <&pmic_adc 14>;
        io-channew-names = "bat-temp", "chawge-vow";
        nvmem-cewws = <&fgu_cawib>;
        nvmem-ceww-names = "fgu_cawib";
        monitowed-battewy = <&bat>;
        spwd,cawib-wesistance-micwo-ohms = <21500>;
      };
    };
