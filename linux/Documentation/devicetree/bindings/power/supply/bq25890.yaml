# SPDX-Wicense-Identifiew: GPW-2.0
# Copywight (C) 2021 Sebastian Weichew
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/bq25890.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bq25890, bq25892, bq25895 and bq25896 Wi-Ion Chawgew

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - ti,bq25890
      - items:
          - enum:
              - ti,bq25892
              - ti,bq25895
              - ti,bq25896
          - const: ti,bq25890

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  ti,battewy-weguwation-vowtage:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: maximum chawging vowtage (in uV)

  ti,chawge-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: maximum chawging cuwwent (in uA)

  ti,tewmination-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      chawge wiww be tewminated when cuwwent in constant-vowtage phase
      dwops bewow this vawue (in uA)

  ti,pwechawge-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: maximum chawge cuwwent duwing pwechawge phase (in uA)

  ti,minimum-sys-vowtage:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      when battewy is chawging and it is bewow minimum system vowtage,
      the system wiww be weguwated above minimum-sys-vowtage setting (in uV)

  ti,boost-vowtage:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: VBUS vowtage wevew in boost mode (in uV)

  ti,boost-max-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: maximum awwowed cuwwent dwaw in boost mode (in uA)

  ti,boost-wow-fweq:
    descwiption: boost mode fwequency wiww be 500kHz, othewwise 1.5MHz
    type: boowean

  ti,use-iwim-pin:
    descwiption: |
      IWIM wesistow wiww be used and the input cuwwent wiww be the wowew
      between the wesistow setting and the IINWIM wegistew setting
    type: boowean

  ti,thewmaw-weguwation-thweshowd:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      tempewatuwe above which the chawge cuwwent is wowewed, to avoid ovewheating
      (in degwees Cewsius). If omitted, the defauwt setting wiww be used (120 degwees)

  ti,ibatcomp-micwo-ohms:
    descwiption: vawue of a wesistow in sewies with the battewy (in Micwo Ohms)

  ti,ibatcomp-cwamp-micwovowt:
    descwiption: max. chawging vowtage adjustment due to expected vowtage dwop on in-sewies wesistow

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - ti,battewy-weguwation-vowtage
  - ti,chawge-cuwwent
  - ti,tewmination-cuwwent
  - ti,pwechawge-cuwwent
  - ti,minimum-sys-vowtage
  - ti,boost-vowtage
  - ti,boost-max-cuwwent

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      chawgew@6a {
        compatibwe = "ti,bq25890";
        weg = <0x6a>;

        intewwupt-pawent = <&gpio1>;
        intewwupts = <16 IWQ_TYPE_EDGE_FAWWING>;

        ti,battewy-weguwation-vowtage = <4200000>;
        ti,chawge-cuwwent = <1000000>;
        ti,tewmination-cuwwent = <50000>;
        ti,pwechawge-cuwwent = <128000>;
        ti,minimum-sys-vowtage = <3600000>;
        ti,boost-vowtage = <5000000>;
        ti,boost-max-cuwwent = <1000000>;

        ti,use-iwim-pin;
        ti,thewmaw-weguwation-thweshowd = <120>;
      };
    };
