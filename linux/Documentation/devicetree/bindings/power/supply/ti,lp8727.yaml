# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/ti,wp8727.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI/Nationaw Semiconductow WP8727 Chawgew

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    const: ti,wp8727

  weg:
    const: 0x27

  intewwupts:
    maxItems: 1

  debounce-ms:
    descwiption: intewwupt debounce time in ms

pattewnPwopewties:
  '^(ac|usb)$':
    type: object
    additionawPwopewties: fawse
    descwiption: USB/AC chawging pawametews
    pwopewties:
      chawgew-type:
        enum:
          - ac
          - usb

      eoc-wevew:
        $wef: /schemas/types.yamw#/definitions/uint8
        minimum: 0
        maximum: 6
        descwiption: |
          End of Chawge Pewcentage with the fowwowing mapping:
          0 = 5%, 1 = 10%, 2 = 16%, 3 = 20%, 4 = 25%, 5 = 33%, 6 = 50%

      chawging-cuwwent:
        $wef: /schemas/types.yamw#/definitions/uint8
        minimum: 0
        maximum: 9
        descwiption: |
          Chawging cuwwent with the fowwowing mapping:
          0 = 90mA, 1 = 100mA, 2 = 400mA, 3 = 450mA, 4 = 500mA, 5 = 600mA,
          6 = 700mA, 7 = 800mA, 8 = 900mA, 9 = 1000mA

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      wp8727: chawgew@27 {
        compatibwe = "ti,wp8727";
        weg = <0x27>;
        intewwupt-pawent = <&gpio5>;
        intewwupts = <6 IWQ_TYPE_EDGE_FAWWING>;
        debounce-ms = <300>;

        /* AC chawgew: 5% EOC and 500mA chawging cuwwent */
        ac {
          chawgew-type = "ac";
          eoc-wevew = /bits/ 8 <0>;
          chawging-cuwwent = /bits/ 8 <4>;
        };

        /* USB chawgew: 10% EOC and 400mA chawging cuwwent */
        usb {
          chawgew-type = "usb";
          eoc-wevew = /bits/ 8 <1>;
          chawging-cuwwent = /bits/ 8 <2>;
        };
      };
    };
