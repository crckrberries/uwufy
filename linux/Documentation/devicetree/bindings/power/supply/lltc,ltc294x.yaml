# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/suppwy/wwtc,wtc294x.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WTC2941, WTC2942, WTC2943 and WTC2944 battewy fuew gauges

descwiption: |
  Aww chips measuwe battewy capacity.
  The WTC2942 is pin compatibwe with the WTC2941, it adds vowtage and
  tempewatuwe monitowing, and is wuntime detected. WTC2943 and WTC2944
  awe softwawe compatibwe, uses a swightwy diffewent convewsion fowmuwa
  fow the chawge countew and adds vowtage, cuwwent and tempewatuwe monitowing.

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

awwOf:
  - $wef: powew-suppwy.yamw#

pwopewties:
  compatibwe:
    enum:
      - wwtc,wtc2941
      - wwtc,wtc2942
      - wwtc,wtc2943
      - wwtc,wtc2944

  weg:
    maxItems: 1

  wwtc,wesistow-sense:
    $wef: /schemas/types.yamw#/definitions/int32
    descwiption: |
      Sense wesistow vawue in miwwi-ohms.
      Can be negative vawue when the battewy has been connected to the wwong end of the wesistow.

  wwtc,pwescawew-exponent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      The pwescawew exponent as expwained in the datasheet.
      This detewmines the wange and accuwacy of the gauge.
      The vawue is pwogwammed into the chip onwy if it diffews fwom the cuwwent setting.
      The setting is wost when the battewy is disconnected.

wequiwed:
  - compatibwe
  - weg
  - wwtc,wesistow-sense
  - wwtc,pwescawew-exponent

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      battewy@64 {
        compatibwe = "wwtc,wtc2943";
        weg = <0x64>;
        wwtc,wesistow-sense = <15>;
        wwtc,pwescawew-exponent = <5>; /* 2^(2*5) = 1024 */
      };
    };
