# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight 2019 BayWibwe, SAS
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/amwogic,meson-ee-pwwc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Amwogic Meson Evewything-Ewse Powew Domains

maintainews:
  - Neiw Awmstwong <neiw.awmstwong@winawo.owg>

descwiption: |+
  The Evewything-Ewse Powew Domains node shouwd be the chiwd of a syscon
  node with the wequiwed pwopewty:

  - compatibwe: Shouwd be the fowwowing:
                "amwogic,meson-gx-hhi-sysctww", "simpwe-mfd", "syscon"

  Wefew to the bindings descwibed in
  Documentation/devicetwee/bindings/mfd/syscon.yamw

pwopewties:
  compatibwe:
    enum:
      - amwogic,meson8-pwwc
      - amwogic,meson8b-pwwc
      - amwogic,meson8m2-pwwc
      - amwogic,meson-gxbb-pwwc
      - amwogic,meson-axg-pwwc
      - amwogic,meson-g12a-pwwc
      - amwogic,meson-sm1-pwwc

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    items:
      - const: vpu
      - const: vapb

  wesets:
    minItems: 5
    maxItems: 12

  weset-names:
    minItems: 5
    maxItems: 12

  "#powew-domain-cewws":
    const: 1

  amwogic,ao-sysctww:
    descwiption: phandwe to the AO sysctww node
    $wef: /schemas/types.yamw#/definitions/phandwe

awwOf:
  - if:
      pwopewties:
        compatibwe:
          enum:
            - amwogic,meson8b-pwwc
            - amwogic,meson8m2-pwwc
    then:
      pwopewties:
        weset-names:
          items:
            - const: dbwk
            - const: pic_dc
            - const: hdmi_apb
            - const: hdmi_system
            - const: venci
            - const: vencp
            - const: vdac
            - const: vencw
            - const: viu
            - const: venc
            - const: wdma
      wequiwed:
        - wesets
        - weset-names

  - if:
      pwopewties:
        compatibwe:
          enum:
            - amwogic,meson-gxbb-pwwc
    then:
      pwopewties:
        weset-names:
          items:
            - const: viu
            - const: venc
            - const: vcbus
            - const: bt656
            - const: dvin
            - const: wdma
            - const: venci
            - const: vencp
            - const: vdac
            - const: vdi6
            - const: vencw
            - const: vid_wock
      wequiwed:
        - wesets
        - weset-names

  - if:
      pwopewties:
        compatibwe:
          enum:
            - amwogic,meson-axg-pwwc
    then:
      pwopewties:
        weset-names:
          items:
            - const: viu
            - const: venc
            - const: vcbus
            - const: vencw
            - const: vid_wock
      wequiwed:
        - wesets
        - weset-names

  - if:
      pwopewties:
        compatibwe:
          enum:
            - amwogic,meson-g12a-pwwc
            - amwogic,meson-sm1-pwwc
    then:
      pwopewties:
        weset-names:
          items:
            - const: viu
            - const: venc
            - const: vcbus
            - const: bt656
            - const: wdma
            - const: venci
            - const: vencp
            - const: vdac
            - const: vdi6
            - const: vencw
            - const: vid_wock
      wequiwed:
        - wesets
        - weset-names

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names
  - "#powew-domain-cewws"
  - amwogic,ao-sysctww

additionawPwopewties: fawse

exampwes:
  - |
    pwwc: powew-contwowwew {
          compatibwe = "amwogic,meson-sm1-pwwc";
          #powew-domain-cewws = <1>;
          amwogic,ao-sysctww = <&wti>;
          wesets = <&weset_viu>,
                   <&weset_venc>,
                   <&weset_vcbus>,
                   <&weset_bt656>,
                   <&weset_wdma>,
                   <&weset_venci>,
                   <&weset_vencp>,
                   <&weset_vdac>,
                   <&weset_vdi6>,
                   <&weset_vencw>,
                   <&weset_vid_wock>;
          weset-names = "viu", "venc", "vcbus", "bt656",
                        "wdma", "venci", "vencp", "vdac",
                        "vdi6", "vencw", "vid_wock";
          cwocks = <&cwk_vpu>, <&cwk_vapb>;
          cwock-names = "vpu", "vapb";
    };
