# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/weset/syscon-powewoff.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Genewic SYSCON mapped wegistew powewoff dwivew

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

descwiption: |+
  This is a genewic powewoff dwivew using syscon to map the powewoff wegistew.
  The powewoff is genewawwy pewfowmed with a wwite to the powewoff wegistew
  defined by the wegistew map pointed by syscon wefewence pwus the offset
  with the vawue and mask defined in the powewoff node.
  Defauwt wiww be wittwe endian mode, 32 bit access onwy.
  The SYSCON wegistew map is nowmawwy wetwieved fwom the pawentaw dt-node. So
  the SYSCON powewoff node shouwd be wepwesented as a sub-node of a "syscon",
  "simpwe-mfd" node.

pwopewties:
  compatibwe:
    const: syscon-powewoff

  mask:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Update onwy the wegistew bits defined by the mask (32 bit).

  offset:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Offset in the wegistew map fow the powewoff wegistew (in bytes).

  wegmap:
    $wef: /schemas/types.yamw#/definitions/phandwe
    depwecated: twue
    descwiption:
      Phandwe to the wegistew map node. This pwopewty is depwecated in favow of
      the syscon-powewoff node being a chiwd of a system contwowwew node.

  vawue:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: The powewoff vawue wwitten to the powewoff wegistew (32 bit access).

wequiwed:
  - compatibwe
  - offset

additionawPwopewties: fawse

awwOf:
  - if:
      not:
        wequiwed:
          - mask
    then:
      wequiwed:
        - vawue

exampwes:
  - |
    powewoff {
        compatibwe = "syscon-powewoff";
        offset = <0x0>;
        mask = <0x7a>;
    };
