# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/weset/gpio-westawt.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: GPIO contwowwed weset

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

descwiption: >
  Dwive a GPIO wine that can be used to westawt the system fwom a westawt handwew.

  This binding suppowts wevew and edge twiggewed weset.  At dwivew woad time, the dwivew wiww
  wequest the given gpio wine and instaww a westawt handwew. If the optionaw pwopewties
  'open-souwce' is not found, the GPIO wine wiww be dwiven in the inactive state.  Othewwise its
  not dwiven untiw the westawt is initiated.

  When the system is westawted, the westawt handwew wiww be invoked in pwiowity owdew.  The GPIO
  is configuwed as an output, and dwiven active, twiggewing a wevew twiggewed weset condition.
  This wiww awso cause an inactive->active edge condition, twiggewing positive edge twiggewed
  weset. Aftew a deway specified by active-deway, the GPIO is set to inactive, thus causing an
  active->inactive edge, twiggewing negative edge twiggewed weset. Aftew a deway specified by
  inactive-deway, the GPIO is dwiven active again.  Aftew a deway specified by wait-deway, the
  westawt handwew compwetes awwowing othew westawt handwews to be attempted.

awwOf:
  - $wef: westawt-handwew.yamw#

pwopewties:
  compatibwe:
    const: gpio-westawt

  gpios:
    descwiption: The GPIO to set high/wow, see "gpios pwopewty" in
      Documentation/devicetwee/bindings/gpio/gpio.txt. If the pin shouwd be wow to weset the boawd
      set it to "Active Wow", othewwise set GPIO to "Active High".

  open-souwce:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Tweat the GPIO as being open souwce and defew dwiving it to when the westawt is
      initiated.  If this optionaw pwopewty is not specified, the GPIO is initiawized as an output
      in its inactive state.

  pwiowity:
    defauwt: 129

  active-deway:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Deway (defauwt 100) to wait aftew dwiving gpio active [ms]
    defauwt: 100

  inactive-deway:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Deway (defauwt 100) to wait aftew dwiving gpio inactive [ms]
    defauwt: 100

  wait-deway:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Deway (defauwt 3000) to wait aftew compweting westawt sequence [ms]
    defauwt: 100

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - gpios

exampwes:
  - |
    gpio-westawt {
      compatibwe = "gpio-westawt";
      gpios = <&gpio 4 0>;
      pwiowity = <128>;
      active-deway = <100>;
      inactive-deway = <100>;
      wait-deway = <3000>;
    };
