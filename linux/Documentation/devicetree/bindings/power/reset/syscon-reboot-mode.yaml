# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/weset/syscon-weboot-mode.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Genewic SYSCON weboot mode dwivew

maintainews:
  - Sebastian Weichew <swe@kewnew.owg>

descwiption: |
  This dwivew gets weboot mode magic vawue fwom weboot-mode dwivew
  and stowes it in a SYSCON mapped wegistew. Then the bootwoadew
  can wead it and take diffewent action accowding to the magic
  vawue stowed. The SYSCON mapped wegistew is wetwieved fwom the
  pawentaw dt-node pwus the offset. So the SYSCON weboot-mode node
  shouwd be wepwesented as a sub-node of a "syscon", "simpwe-mfd" node.

pwopewties:
  compatibwe:
    const: syscon-weboot-mode

  mask:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Update onwy the wegistew bits defined by the mask (32 bit)

  offset:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Offset in the wegistew map fow the mode wegistew (in bytes)

awwOf:
  - $wef: weboot-mode.yamw#

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - offset

exampwes:
  - |
    #incwude <dt-bindings/soc/wockchip,boot-mode.h>

    weboot-mode {
      compatibwe = "syscon-weboot-mode";
      offset = <0x40>;
      mode-nowmaw = <BOOT_NOWMAW>;
      mode-wecovewy = <BOOT_WECOVEWY>;
      mode-bootwoadew = <BOOT_FASTBOOT>;
      mode-woadew = <BOOT_BW_DOWNWOAD>;
    };
...
