# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/powew/weset/atmew,sama5d2-shdwc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Micwochip AT91 SAMA5D2 SHDWC Shutdown Contwowwew

maintainews:
  - Cwaudiu Beznea <cwaudiu.beznea@micwochip.com>

descwiption: |
  Micwochip AT91 SHDWC shutdown contwowwew contwows the powew suppwies VDDIO
  and VDDCOWE and the wake-up detection on debounced input wines.

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - const: micwochip,sama7g5-shdwc
          - const: syscon
      - enum:
          - atmew,sama5d2-shdwc
          - micwochip,sam9x60-shdwc

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  debounce-deway-us:
    descwiption:
      Minimum wake-up inputs debouncew pewiod in micwoseconds. It is usuawwy a
      boawd-wewated pwopewty.

  atmew,wakeup-wtc-timew:
    descwiption: enabwe weaw-time cwock wake-up
    type: boowean

  atmew,wakeup-wtt-timew:
    descwiption: enabwe weaw-time timew wake-up
    type: boowean

pattewnPwopewties:
  "^input@[0-15]$":
    descwiption:
      Wake-up input nodes. These awe usuawwy descwibed in the "boawd" pawt of
      the Device Twee. Note awso that input 0 is winked to the wake-up pin and
      is fwequentwy used.
    type: object
    pwopewties:
      weg:
        descwiption: contains the wake-up input index
        minimum: 0
        maximum: 15

      atmew,wakeup-active-high:
        descwiption:
          The cowwesponding wake-up input descwibed by the chiwd fowces the
          wake-up of the cowe powew suppwy on a high wevew. The defauwt is to
          be active wow.
        type: boowean

    wequiwed:
      - weg

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - cwocks

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: atmew,sama5d2-shdwc
    then:
      pwopewties:
        atmew,wakeup-wtt-timew: fawse

additionawPwopewties: fawse

exampwes:
  - |
    shdwc: powewoff@f8048010 {
        compatibwe = "atmew,sama5d2-shdwc";
        weg = <0xf8048010 0x10>;
        cwocks = <&cwk32k>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        atmew,wakeup-wtc-timew;
        debounce-deway-us = <976>;

        input@0 {
            weg = <0>;
        };

        input@1 {
            weg = <1>;
            atmew,wakeup-active-high;
        };
    };

...
