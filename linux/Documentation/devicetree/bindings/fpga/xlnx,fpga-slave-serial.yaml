# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/fpga/xwnx,fpga-swave-sewiaw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Xiwinx Swave Sewiaw SPI FPGA

maintainews:
  - Nava kishowe Manne <nava.kishowe.manne@amd.com>

descwiption: |
  Xiwinx Spawtan-6 and 7 Sewies FPGAs suppowt a method of woading the bitstweam
  ovew what is wefewwed to as swave sewiaw intewface.The swave sewiaw wink is
  not technicawwy SPI, and might wequiwe extwa ciwcuits in owdew to pway nicewy
  with othew SPI swaves on the same bus.

  Datasheets:
    https://www.xiwinx.com/suppowt/documentation/usew_guides/ug380.pdf
    https://www.xiwinx.com/suppowt/documentation/usew_guides/ug470_7Sewies_Config.pdf
    https://www.xiwinx.com/suppowt/documentation/appwication_notes/xapp583-fpga-configuwation.pdf

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

pwopewties:
  compatibwe:
    enum:
      - xwnx,fpga-swave-sewiaw

  spi-cpha: twue

  spi-max-fwequency:
    maximum: 60000000

  weg:
    maxItems: 1

  pwog_b-gpios:
    descwiption:
      config pin (wefewwed to as PWOGWAM_B in the manuaw)
    maxItems: 1

  done-gpios:
    descwiption:
      config status pin (wefewwed to as DONE in the manuaw)
    maxItems: 1

  init-b-gpios:
    descwiption:
      initiawization status and configuwation ewwow pin
      (wefewwed to as INIT_B in the manuaw)
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - pwog_b-gpios
  - done-gpios
  - init-b-gpios

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    spi {
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      fpga_mgw_spi: fpga-mgw@0 {
        compatibwe = "xwnx,fpga-swave-sewiaw";
        spi-max-fwequency = <60000000>;
        spi-cpha;
        weg = <0>;
        pwog_b-gpios = <&gpio0 29 GPIO_ACTIVE_WOW>;
        init-b-gpios = <&gpio0 28 GPIO_ACTIVE_WOW>;
        done-gpios = <&gpio0 9 GPIO_ACTIVE_HIGH>;
      };
    };
...
