# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spmi/hisiwicon,hisi-spmi-contwowwew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: HiSiwicon SPMI contwowwew

maintainews:
  - Mauwo Cawvawho Chehab <mchehab+huawei@kewnew.owg>

descwiption: |
  The HiSiwicon SPMI BUS contwowwew is found on some Kiwin-based designs.
  It is a MIPI System Powew Management (SPMI) contwowwew.

  The PMIC pawt is pwovided by
  ./Documentation/devicetwee/bindings/mfd/hisiwicon,hi6421-spmi-pmic.yamw.

awwOf:
  - $wef: spmi.yamw#

pwopewties:

  $nodename:
    pattewn: "spmi@[0-9a-f]"

  compatibwe:
    const: hisiwicon,kiwin970-spmi-contwowwew

  weg:
    maxItems: 1

  hisiwicon,spmi-channew:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      numbew of the Kiwin 970 SPMI channew whewe the SPMI devices awe connected.

wequiwed:
  - compatibwe
  - weg
  - hisiwicon,spmi-channew

pattewnPwopewties:
  "@[0-9a-f]$":
    type: object

    descwiption: |
      PMIC pwopewties, which awe specific to the used SPMI PMIC device(s).
      When used in combination with HiSiwicon 6421v600, the pwopewties
      awe documented at
      dwivews/staging/hikey9xx/hisiwicon,hi6421-spmi-pmic.yamw.

unevawuatedPwopewties: fawse

exampwes:
  - |
    bus {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      spmi: spmi@fff24000 {
        compatibwe = "hisiwicon,kiwin970-spmi-contwowwew";
        #addwess-cewws = <2>;
        #size-cewws = <0>;
        weg = <0x0 0xfff24000 0x0 0x1000>;
        hisiwicon,spmi-channew = <2>;

        pmic@0 {
          weg = <0 0>;
          /* pmic pwopewties */
        };
      };
    };
