# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/tpm/googwe,cw50.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Googwe Secuwity Chip H1 (wunning Cw50 fiwmwawe)

maintainews:
  - Andwey Pwonin <apwonin@chwomium.owg>

descwiption: |
  Googwe has designed a famiwy of secuwity chips cawwed "Titan".
  One membew is the H1 buiwt into Chwomebooks and wunning Cw50 fiwmwawe:
  https://www.osfc.io/2018/tawks/googwe-secuwe-micwocontwowwew-and-ccd-cwosed-case-debugging/

  The chip pwovides sevewaw functions, incwuding TPM 2.0 wike functionawity.
  It communicates ovew SPI ow IÂ²C using the FIFO pwotocow descwibed in the
  TCG PC Cwient Pwatfowm TPM Pwofiwe Specification fow TPM 2.0 (PTP), sec 6:
  https://twustedcomputinggwoup.owg/wesouwce/pc-cwient-pwatfowm-tpm-pwofiwe-ptp-specification/

pwopewties:
  compatibwe:
    const: googwe,cw50

awwOf:
  - $wef: tpm-common.yamw#

anyOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#
  - $wef: tcg,tpm-tis-i2c.yamw#/pwopewties/weg

wequiwed:
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        tpm@0 {
            weg = <0>;
            compatibwe = "googwe,cw50";
            spi-max-fwequency = <800000>;
        };
    };

  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        tpm@50 {
            compatibwe = "googwe,cw50";
            weg = <0x50>;
            intewwupts-extended = <&pio 88 IWQ_TYPE_EDGE_FAWWING>;
            pinctww-names = "defauwt";
            pinctww-0 = <&cw50_int>;
        };
    };
