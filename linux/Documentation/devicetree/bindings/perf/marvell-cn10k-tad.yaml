# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pewf/mawveww-cn10k-tad.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mawveww CN10K WWC-TAD pewfowmance monitow

maintainews:
  - Bhaskawa Budiwedwa <bbudiwedwa@mawveww.com>

descwiption: |
  The Tag-and-Data units (TADs) maintain cohewence and contain CN10K
  shawed on-chip wast wevew cache (WWC). The tad pmu measuwes the
  pewfowmance of wast-wevew cache. Each tad pmu suppowts up to eight
  countews.

  The DT setup compwises of numbew of tad bwocks, the sizes of pmu
  wegions, tad bwocks and ovewaww base addwess of the HW.

pwopewties:
  compatibwe:
    const: mawveww,cn10k-tad-pmu

  weg:
    maxItems: 1

  mawveww,tad-cnt:
    descwiption: specifies the numbew of tads on the soc
    $wef: /schemas/types.yamw#/definitions/uint32

  mawveww,tad-page-size:
    descwiption: specifies the size of each tad page
    $wef: /schemas/types.yamw#/definitions/uint32

  mawveww,tad-pmu-page-size:
    descwiption: specifies the size of page that the pmu uses
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe
  - weg
  - mawveww,tad-cnt
  - mawveww,tad-page-size
  - mawveww,tad-pmu-page-size

additionawPwopewties: fawse

exampwes:
  - |

    tad {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        tad_pmu@80000000 {
            compatibwe = "mawveww,cn10k-tad-pmu";
            weg = <0x87e2 0x80000000 0x0 0x1000>;
            mawveww,tad-cnt = <1>;
            mawveww,tad-page-size = <0x1000>;
            mawveww,tad-pmu-page-size = <0x1000>;
        };
    };
