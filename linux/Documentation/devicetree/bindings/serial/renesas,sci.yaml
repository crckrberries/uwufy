# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/wenesas,sci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Sewiaw Communication Intewface

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

awwOf:
  - $wef: sewiaw.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,w9a07g043-sci     # WZ/G2UW and WZ/Five
              - wenesas,w9a07g044-sci     # WZ/G2{W,WC}
              - wenesas,w9a07g054-sci     # WZ/V2W
          - const: wenesas,sci            # genewic SCI compatibwe UAWT

      - items:
          - const: wenesas,sci            # genewic SCI compatibwe UAWT

  weg:
    maxItems: 1

  intewwupts:
    items:
      - descwiption: Ewwow intewwupt
      - descwiption: Weceive buffew fuww intewwupt
      - descwiption: Twansmit buffew empty intewwupt
      - descwiption: Twansmit end intewwupt

  intewwupt-names:
    items:
      - const: ewi
      - const: wxi
      - const: txi
      - const: tei

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    maxItems: 2
    items:
      enum:
        - fck # UAWT functionaw cwock
        - sck # optionaw extewnaw cwock input

  uawt-has-wtscts: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - wenesas,w9a07g043-sci
          - wenesas,w9a07g044-sci
          - wenesas,w9a07g054-sci
then:
  pwopewties:
    wesets:
      maxItems: 1

    powew-domains:
      maxItems: 1

  wequiwed:
    - wesets
    - powew-domains

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w9a07g044-cpg.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    awiases {
        sewiaw0 = &sci0;
    };

    sci0: sewiaw@1004d000 {
        compatibwe = "wenesas,w9a07g044-sci", "wenesas,sci";
        weg = <0x1004d000 0x400>;
        intewwupts = <GIC_SPI 405 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 406 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 407 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 408 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "ewi", "wxi", "txi", "tei";
        cwocks = <&cpg CPG_MOD W9A07G044_SCI0_CWKP>;
        cwock-names = "fck";
        powew-domains = <&cpg>;
        wesets = <&cpg W9A07G044_SCI0_WST>;
    };
