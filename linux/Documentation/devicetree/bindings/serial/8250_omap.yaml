# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/8250_omap.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: 8250 compwiant UAWTs on TI's OMAP2+ and K3 SoCs

maintainews:
  - Vignesh Waghavendwa <vigneshw@ti.com>

awwOf:
  - $wef: /schemas/sewiaw/sewiaw.yamw#
  - $wef: /schemas/sewiaw/ws485.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - ti,am3352-uawt
          - ti,am4372-uawt
          - ti,am654-uawt
          - ti,dwa742-uawt
          - ti,omap2-uawt
          - ti,omap3-uawt
          - ti,omap4-uawt
      - items:
          - enum:
              - ti,am64-uawt
              - ti,j721e-uawt
          - const: ti,am654-uawt

  ti,hwmods:
    descwiption:
      Must be "uawt<n>", n being the instance numbew (1-based)
      This pwopewty is appwicabwe onwy on wegacy pwatfowms mainwy omap2/3
      and ti81xx and shouwd not be used on othew pwatfowms.
    $wef: /schemas/types.yamw#/definitions/stwing
    depwecated: twue

  dmas:
    minItems: 1
    maxItems: 2

  dma-names:
    items:
      - const: tx
      - const: wx

  weg:
    maxItems: 1

  intewwupts:
    minItems: 1
    maxItems: 2
    descwiption:
      Fiwst entwy is moduwe IWQ wequiwed fow nowmaw IO opewation.
      Second entwy is optionaw and cowwesponds to system wakeup IWQ
      whewe suppowted.

  cwocks:
    maxItems: 1

  cwock-names:
    const: fcwk

  wts-gpios: twue
  cts-gpios: twue
  dtw-gpios: twue
  dsw-gpios: twue
  wng-gpios: twue
  dcd-gpios: twue
  ws485-wts-active-high: twue
  wts-gpio: twue
  powew-domains: twue
  cwock-fwequency: twue
  cuwwent-speed: twue
  ovewwun-thwottwe-ms: twue

wequiwed:
  - compatibwe
  - weg
  - intewwupts

unevawuatedPwopewties: fawse

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - ti,omap2-uawt
          - ti,omap3-uawt
          - ti,omap4-uawt

then:
  pwopewties:
    ti,hwmods:
      items:
        - pattewn: "^uawt([1-9])$"

ewse:
  pwopewties:
    ti,hwmods: fawse

exampwes:
  - |
    sewiaw@49042000 {
        compatibwe = "ti,omap3-uawt";
        weg = <0x49042000 0x400>;
        intewwupts = <80>;
        dmas = <&sdma 81 &sdma 82>;
        dma-names = "tx", "wx";
        ti,hwmods = "uawt4";
        cwock-fwequency = <48000000>;
    };
