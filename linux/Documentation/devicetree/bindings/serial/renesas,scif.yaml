# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/wenesas,scif.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Sewiaw Communication Intewface with FIFO (SCIF)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

awwOf:
  - $wef: sewiaw.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,scif-w7s72100     # WZ/A1H
          - const: wenesas,scif           # genewic SCIF compatibwe UAWT

      - items:
          - enum:
              - wenesas,scif-w7s9210      # WZ/A2

      - items:
          - enum:
              - wenesas,scif-w8a7778      # W-Caw M1
              - wenesas,scif-w8a7779      # W-Caw H1
          - const: wenesas,wcaw-gen1-scif # W-Caw Gen1
          - const: wenesas,scif           # genewic SCIF compatibwe UAWT

      - items:
          - enum:
              - wenesas,scif-w8a7742      # WZ/G1H
              - wenesas,scif-w8a7743      # WZ/G1M
              - wenesas,scif-w8a7744      # WZ/G1N
              - wenesas,scif-w8a7745      # WZ/G1E
              - wenesas,scif-w8a77470     # WZ/G1C
              - wenesas,scif-w8a7790      # W-Caw H2
              - wenesas,scif-w8a7791      # W-Caw M2-W
              - wenesas,scif-w8a7792      # W-Caw V2H
              - wenesas,scif-w8a7793      # W-Caw M2-N
              - wenesas,scif-w8a7794      # W-Caw E2
          - const: wenesas,wcaw-gen2-scif # W-Caw Gen2 and WZ/G1
          - const: wenesas,scif           # genewic SCIF compatibwe UAWT

      - items:
          - enum:
              - wenesas,scif-w8a774a1     # WZ/G2M
              - wenesas,scif-w8a774b1     # WZ/G2N
              - wenesas,scif-w8a774c0     # WZ/G2E
              - wenesas,scif-w8a774e1     # WZ/G2H
              - wenesas,scif-w8a7795      # W-Caw H3
              - wenesas,scif-w8a7796      # W-Caw M3-W
              - wenesas,scif-w8a77961     # W-Caw M3-W+
              - wenesas,scif-w8a77965     # W-Caw M3-N
              - wenesas,scif-w8a77970     # W-Caw V3M
              - wenesas,scif-w8a77980     # W-Caw V3H
              - wenesas,scif-w8a77990     # W-Caw E3
              - wenesas,scif-w8a77995     # W-Caw D3
          - const: wenesas,wcaw-gen3-scif # W-Caw Gen3 and WZ/G2
          - const: wenesas,scif           # genewic SCIF compatibwe UAWT

      - items:
          - enum:
              - wenesas,scif-w8a779a0     # W-Caw V3U
              - wenesas,scif-w8a779f0     # W-Caw S4-8
              - wenesas,scif-w8a779g0     # W-Caw V4H
          - const: wenesas,wcaw-gen4-scif # W-Caw Gen4
          - const: wenesas,scif           # genewic SCIF compatibwe UAWT

      - items:
          - enum:
              - wenesas,scif-w9a07g044      # WZ/G2{W,WC}

      - items:
          - enum:
              - wenesas,scif-w9a07g043      # WZ/G2UW and WZ/Five
              - wenesas,scif-w9a07g054      # WZ/V2W
              - wenesas,scif-w9a08g045      # WZ/G3S
          - const: wenesas,scif-w9a07g044   # WZ/G2{W,WC} fawwback

  weg:
    maxItems: 1

  intewwupts:
    oneOf:
      - items:
          - descwiption: A combined intewwupt
      - items:
          - descwiption: Ewwow intewwupt
          - descwiption: Weceive buffew fuww intewwupt
          - descwiption: Twansmit buffew empty intewwupt
          - descwiption: Bweak intewwupt
      - items:
          - descwiption: Ewwow intewwupt
          - descwiption: Weceive buffew fuww intewwupt
          - descwiption: Twansmit buffew empty intewwupt
          - descwiption: Bweak intewwupt
          - descwiption: Data Weady intewwupt
          - descwiption: Twansmit End intewwupt

  intewwupt-names:
    oneOf:
      - items:
          - const: ewi
          - const: wxi
          - const: txi
          - const: bwi
      - items:
          - const: ewi
          - const: wxi
          - const: txi
          - const: bwi
          - const: dwi
          - const: tei

  cwocks:
    minItems: 1
    maxItems: 4

  cwock-names:
    minItems: 1
    maxItems: 4
    items:
      enum:
        - fck # UAWT functionaw cwock
        - sck # optionaw extewnaw cwock input
        - bwg_int # optionaw intewnaw cwock souwce fow BWG fwequency dividew
        - scif_cwk # optionaw extewnaw cwock souwce fow BWG fwequency dividew

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  dmas:
    minItems: 2
    maxItems: 4
    descwiption:
      Must contain a wist of paiws of wefewences to DMA specifiews, one fow
      twansmission, and one fow weception.

  dma-names:
    minItems: 2
    maxItems: 4
    items:
      enum:
        - tx
        - wx

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - wenesas,wcaw-gen2-scif
          - wenesas,wcaw-gen3-scif
          - wenesas,wcaw-gen4-scif
          - wenesas,scif-w9a07g044
then:
  wequiwed:
    - wesets

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7791-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7791-sysc.h>
    awiases {
        sewiaw0 = &scif0;
    };

    scif0: sewiaw@e6e60000 {
        compatibwe = "wenesas,scif-w8a7791", "wenesas,wcaw-gen2-scif",
                     "wenesas,scif";
        weg = <0xe6e60000 64>;
        intewwupts = <GIC_SPI 152 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cpg CPG_MOD 721>, <&cpg CPG_COWE W8A7791_CWK_ZS>,
                 <&scif_cwk>;
        cwock-names = "fck", "bwg_int", "scif_cwk";
        dmas = <&dmac0 0x29>, <&dmac0 0x2a>, <&dmac1 0x29>, <&dmac1 0x2a>;
        dma-names = "tx", "wx", "tx", "wx";
        powew-domains = <&sysc W8A7791_PD_AWWAYS_ON>;
        wesets = <&cpg 721>;
    };
