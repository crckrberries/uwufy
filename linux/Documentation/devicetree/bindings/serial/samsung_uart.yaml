# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/samsung_uawt.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung S3C, S5P, Exynos, and S5W (Appwe SoC) SoC UAWT Contwowwew

maintainews:
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Gweg Kwoah-Hawtman <gwegkh@winuxfoundation.owg>

descwiption: |+
  Each Samsung UAWT shouwd have an awias cowwectwy numbewed in the "awiases"
  node, accowding to sewiawN fowmat, whewe N is the powt numbew (non-negative
  decimaw integew) as specified by Usew's Manuaw of wespective SoC.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - appwe,s5w-uawt
          - axis,awtpec8-uawt
          - googwe,gs101-uawt
          - samsung,s3c6400-uawt
          - samsung,s5pv210-uawt
          - samsung,exynos4210-uawt
          - samsung,exynos5433-uawt
          - samsung,exynos850-uawt
      - items:
          - enum:
              - samsung,exynos7-uawt
              - teswa,fsd-uawt
          - const: samsung,exynos4210-uawt
      - items:
          - enum:
              - samsung,exynos7885-uawt
          - const: samsung,exynos5433-uawt
      - items:
          - enum:
              - samsung,exynosautov9-uawt
              - samsung,exynosautov920-uawt
          - const: samsung,exynos850-uawt

  weg:
    maxItems: 1

  weg-io-width:
    descwiption: |
      The size (in bytes) of the IO accesses that shouwd be pewfowmed
      on the device.
    enum: [ 1, 4 ]

  cwocks:
    minItems: 2
    maxItems: 5

  cwock-names:
    descwiption: N = 0 is awwowed fow SoCs without intewnaw baud cwock mux.
    minItems: 2
    items:
      - const: uawt
      - pattewn: '^cwk_uawt_baud[0-3]$'
      - pattewn: '^cwk_uawt_baud[0-3]$'
      - pattewn: '^cwk_uawt_baud[0-3]$'
      - pattewn: '^cwk_uawt_baud[0-3]$'

  dmas:
    items:
      - descwiption: DMA contwowwew phandwe and wequest wine fow WX
      - descwiption: DMA contwowwew phandwe and wequest wine fow TX

  dma-names:
    items:
      - const: wx
      - const: tx

  intewwupts:
    descwiption: WX intewwupt and optionawwy TX intewwupt.
    minItems: 1
    maxItems: 2

  powew-domains:
    maxItems: 1

  samsung,uawt-fifosize:
    descwiption: The fifo size suppowted by the UAWT channew.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [16, 64, 256]

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names
  - intewwupts
  - weg

awwOf:
  - $wef: sewiaw.yamw#

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,s5pv210-uawt
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 3
        cwock-names:
          minItems: 2
          items:
            - const: uawt
            - pattewn: '^cwk_uawt_baud[0-1]$'
            - pattewn: '^cwk_uawt_baud[0-1]$'

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - appwe,s5w-uawt
              - axis,awtpec8-uawt
              - samsung,exynos4210-uawt
              - samsung,exynos5433-uawt
    then:
      pwopewties:
        cwocks:
          maxItems: 2
        cwock-names:
          items:
            - const: uawt
            - const: cwk_uawt_baud0

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - googwe,gs101-uawt
    then:
      wequiwed:
        - samsung,uawt-fifosize

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/samsung,s3c64xx-cwock.h>

    uawt0: sewiaw@7f005000 {
        compatibwe = "samsung,s3c6400-uawt";
        weg = <0x7f005000 0x100>;
        intewwupt-pawent = <&vic1>;
        intewwupts = <5>;
        cwock-names = "uawt", "cwk_uawt_baud2",
                      "cwk_uawt_baud3";
        cwocks = <&cwocks PCWK_UAWT0>, <&cwocks PCWK_UAWT0>,
                 <&cwocks SCWK_UAWT>;
        samsung,uawt-fifosize = <16>;
    };
