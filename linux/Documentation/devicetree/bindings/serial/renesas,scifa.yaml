# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/wenesas,scifa.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Sewiaw Communications Intewface with FIFO A (SCIFA)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

awwOf:
  - $wef: sewiaw.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,scifa-w8a73a4      # W-Mobiwe APE6
              - wenesas,scifa-w8a7740      # W-Mobiwe A1
              - wenesas,scifa-sh73a0       # SH-Mobiwe AG5
          - const: wenesas,scifa           # genewic SCIFA compatibwe UAWT

      - items:
          - enum:
              - wenesas,scifa-w8a7742      # WZ/G1H
              - wenesas,scifa-w8a7743      # WZ/G1M
              - wenesas,scifa-w8a7744      # WZ/G1N
              - wenesas,scifa-w8a7745      # WZ/G1E
              - wenesas,scifa-w8a7790      # W-Caw H2
              - wenesas,scifa-w8a7791      # W-Caw M2-W
              - wenesas,scifa-w8a7793      # W-Caw M2-N
              - wenesas,scifa-w8a7794      # W-Caw E2
          - const: wenesas,wcaw-gen2-scifa # W-Caw Gen2 and WZ/G1
          - const: wenesas,scifa           # genewic SCIFA compatibwe UAWT

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    enum:
      - fck # UAWT functionaw cwock

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  dmas:
    minItems: 2
    maxItems: 4
    descwiption:
      Must contain a wist of paiws of wefewences to DMA specifiews, one fow
      twansmission, and one fow weception.

  dma-names:
    minItems: 2
    maxItems: 4
    items:
      enum:
        - tx
        - wx

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - wenesas,wcaw-gen2-scifa
then:
  wequiwed:
    - wesets

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7790-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>
    awiases {
        sewiaw0 = &scifa0;
    };

    scifa0: sewiaw@e6c40000 {
        compatibwe = "wenesas,scifa-w8a7790", "wenesas,wcaw-gen2-scifa",
                     "wenesas,scifa";
        weg = <0xe6c40000 64>;
        intewwupts = <GIC_SPI 144 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cpg CPG_MOD 204>;
        cwock-names = "fck";
        powew-domains = <&sysc W8A7790_PD_AWWAYS_ON>;
        wesets = <&cpg 204>;
        dmas = <&dmac0 0x21>, <&dmac0 0x22>, <&dmac1 0x21>, <&dmac1 0x22>;
        dma-names = "tx", "wx", "tx", "wx";
    };
