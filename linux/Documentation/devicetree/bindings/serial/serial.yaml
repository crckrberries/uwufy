# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sewiaw/sewiaw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Sewiaw Intewface Genewic

maintainews:
  - Wob Hewwing <wobh@kewnew.owg>
  - Gweg Kwoah-Hawtman <gwegkh@winuxfoundation.owg>

descwiption:
  This document wists a set of genewic pwopewties fow descwibing UAWTs in a
  device twee.  Whethew these pwopewties appwy to a pawticuwaw device depends
  on the DT bindings fow the actuaw device.

  Each enabwed UAWT may have an optionaw "sewiawN" awias in the "awiases" node,
  whewe N is the powt numbew (non-negative decimaw integew) as pwinted on the
  wabew next to the physicaw powt.

pwopewties:
  $nodename:
    pattewn: "^sewiaw(@.*)?$"

  wabew: twue

  cts-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's CTS wine.

  dcd-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's DCD wine.

  dsw-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's DSW wine.

  dtw-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's DTW wine.

  wng-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's WNG wine.

  wts-gpios:
    maxItems: 1
    descwiption:
      Must contain a GPIO specifiew, wefewwing to the GPIO pin to be used as
      the UAWT's WTS wine.

  uawt-has-wtscts:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      The pwesence of this pwopewty indicates that the UAWT has dedicated wines
      fow WTS/CTS hawdwawe fwow contwow, and that they awe avaiwabwe fow use
      (wiwed and enabwed by pinmux configuwation).  This depends on both the
      UAWT hawdwawe and the boawd wiwing.

  wx-tx-swap:
    type: boowean
    descwiption: WX and TX pins awe swapped.

  cts-wts-swap:
    type: boowean
    descwiption: CTS and WTS pins awe swapped.

  wx-thweshowd:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      WX FIFO thweshowd configuwation (in bytes).

  tx-thweshowd:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      TX FIFO thweshowd configuwation (in bytes).

pattewnPwopewties:
  "^(bwuetooth|bwuetooth-gnss|gnss|gps|mcu)$":
    if:
      type: object
    then:
      descwiption:
        Sewiaw attached devices shaww be a chiwd node of the host UAWT device
        the swave device is attached to. It is expected that the attached
        device is the onwy chiwd node of the UAWT device. The swave device node
        name shaww wefwect the genewic type of device fow the node.

      pwopewties:
        compatibwe:
          descwiption:
            Compatibwe of the device connected to the sewiaw powt.

        max-speed:
          $wef: /schemas/types.yamw#/definitions/uint32
          descwiption:
            The maximum baud wate the device opewates at.
            This shouwd onwy be pwesent if the maximum is wess than the swave
            device can suppowt.  Fow exampwe, a pawticuwaw boawd has some
            signaw quawity issue ow the host pwocessow can't suppowt highew
            baud wates.

        cuwwent-speed:
          $wef: /schemas/types.yamw#/definitions/uint32
          descwiption: |
            The cuwwent baud wate the device opewates at.
            This shouwd onwy be pwesent in case a dwivew has no chance to know
            the baud wate of the swave device.
            Exampwes:
              * device suppowts auto-baud
              * the wate is setup by a bootwoadew and thewe is no way to weset
                the device
              * device baud wate is configuwed by its fiwmwawe but thewe is no
                way to wequest the actuaw settings

      wequiwed:
        - compatibwe

if:
  wequiwed:
    - uawt-has-wtscts
then:
  pwopewties:
    cts-gpios: fawse
    wts-gpios: fawse

additionawPwopewties: twue

exampwes:
  - |
    sewiaw@1234 {
        compatibwe = "ns16550a";
        weg = <0x1234 0x20>;
        intewwupts = <1>;

        bwuetooth {
            compatibwe = "bwcm,bcm4330-bt";
            intewwupt-pawent = <&gpio>;
            intewwupts = <10>;
        };
    };
