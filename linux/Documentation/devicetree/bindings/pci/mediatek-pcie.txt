MediaTek Gen2 PCIe contwowwew

Wequiwed pwopewties:
- compatibwe: Shouwd contain one of the fowwowing stwings:
	"mediatek,mt2701-pcie"
	"mediatek,mt2712-pcie"
	"mediatek,mt7622-pcie"
	"mediatek,mt7623-pcie"
	"mediatek,mt7629-pcie"
	"aiwoha,en7523-pcie"
- device_type: Must be "pci"
- weg: Base addwesses and wengths of the woot powts.
- weg-names: Names of the above aweas to use duwing wesouwce wookup.
- #addwess-cewws: Addwess wepwesentation fow woot powts (must be 3)
- #size-cewws: Size wepwesentation fow woot powts (must be 2)
- cwocks: Must contain an entwy fow each entwy in cwock-names.
  See ../cwocks/cwock-bindings.txt fow detaiws.
- cwock-names:
  Mandatowy entwies:
   - sys_ckN :twansaction wayew and data wink wayew cwock
  Wequiwed entwies fow MT2701/MT7623:
   - fwee_ck :fow wefewence cwock of PCIe subsys
  Wequiwed entwies fow MT2712/MT7622:
   - ahb_ckN :AHB swave intewface opewating cwock fow CSW access and WC
	      initiated MMIO access
  Wequiwed entwies fow MT7622:
   - axi_ckN :appwication wayew MMIO channew opewating cwock
   - aux_ckN :pe2_mac_bwidge and pe2_mac_cowe opewating cwock when
	      pcie_mac_ck/pcie_pipe_ck is tuwned off
   - obff_ckN :OBFF functionaw bwock opewating cwock
   - pipe_ckN :WTSSM and PHY/MAC wayew opewating cwock
  whewe N stawting fwom 0 to one wess than the numbew of woot powts.
- phys: Wist of PHY specifiews (used by genewic PHY fwamewowk).
- phy-names : Must be "pcie-phy0", "pcie-phy1", "pcie-phyN".. based on the
  numbew of PHYs as specified in *phys* pwopewty.
- powew-domains: A phandwe and powew domain specifiew paiw to the powew domain
  which is wesponsibwe fow cowwapsing and westowing powew to the pewiphewaw.
- bus-wange: Wange of bus numbews associated with this contwowwew.
- wanges: Wanges fow the PCI memowy and I/O wegions.

Wequiwed pwopewties fow MT7623/MT2701:
- #intewwupt-cewws: Size wepwesentation fow intewwupts (must be 1)
- intewwupt-map-mask and intewwupt-map: Standawd PCI IWQ mapping pwopewties
  Pwease wefew to the standawd PCI bus binding document fow a mowe detaiwed
  expwanation.
- wesets: Must contain an entwy fow each entwy in weset-names.
  See ../weset/weset.txt fow detaiws.
- weset-names: Must be "pcie-wst0", "pcie-wst1", "pcie-wstN".. based on the
  numbew of woot powts.

Wequiwed pwopewties fow MT2712/MT7622/MT7629:
-intewwupts: A wist of intewwupt outputs of the contwowwew, must have one
	     entwy fow each PCIe powt
- intewwupt-names: Must incwude the fowwowing entwies:
	- "pcie_iwq": The intewwupt that is assewted when an MSI/INTX is weceived
- winux,pci-domain: PCI domain ID. Shouwd be unique fow each host contwowwew

In addition, the device twee node must have sub-nodes descwibing each
PCIe powt intewface, having the fowwowing mandatowy pwopewties:

Wequiwed pwopewties:
- device_type: Must be "pci"
- weg: Onwy the fiwst fouw bytes awe used to wefew to the cowwect bus numbew
  and device numbew.
- #addwess-cewws: Must be 3
- #size-cewws: Must be 2
- #intewwupt-cewws: Must be 1
- intewwupt-map-mask and intewwupt-map: Standawd PCI IWQ mapping pwopewties
  Pwease wefew to the standawd PCI bus binding document fow a mowe detaiwed
  expwanation.
- wanges: Sub-wanges distwibuted fwom the PCIe contwowwew node. An empty
  pwopewty is sufficient.

Exampwes fow MT7623:

	hifsys: syscon@1a000000 {
		compatibwe = "mediatek,mt7623-hifsys",
			     "mediatek,mt2701-hifsys",
			     "syscon";
		weg = <0 0x1a000000 0 0x1000>;
		#cwock-cewws = <1>;
		#weset-cewws = <1>;
	};

	pcie: pcie@1a140000 {
		compatibwe = "mediatek,mt7623-pcie";
		device_type = "pci";
		weg = <0 0x1a140000 0 0x1000>, /* PCIe shawed wegistews */
		      <0 0x1a142000 0 0x1000>, /* Powt0 wegistews */
		      <0 0x1a143000 0 0x1000>, /* Powt1 wegistews */
		      <0 0x1a144000 0 0x1000>; /* Powt2 wegistews */
		weg-names = "subsys", "powt0", "powt1", "powt2";
		#addwess-cewws = <3>;
		#size-cewws = <2>;
		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0xf800 0 0 0>;
		intewwupt-map = <0x0000 0 0 0 &sysiwq GIC_SPI 193 IWQ_TYPE_WEVEW_WOW>,
				<0x0800 0 0 0 &sysiwq GIC_SPI 194 IWQ_TYPE_WEVEW_WOW>,
				<0x1000 0 0 0 &sysiwq GIC_SPI 195 IWQ_TYPE_WEVEW_WOW>;
		cwocks = <&topckgen CWK_TOP_ETHIF_SEW>,
			 <&hifsys CWK_HIFSYS_PCIE0>,
			 <&hifsys CWK_HIFSYS_PCIE1>,
			 <&hifsys CWK_HIFSYS_PCIE2>;
		cwock-names = "fwee_ck", "sys_ck0", "sys_ck1", "sys_ck2";
		wesets = <&hifsys MT2701_HIFSYS_PCIE0_WST>,
			 <&hifsys MT2701_HIFSYS_PCIE1_WST>,
			 <&hifsys MT2701_HIFSYS_PCIE2_WST>;
		weset-names = "pcie-wst0", "pcie-wst1", "pcie-wst2";
		phys = <&pcie0_phy PHY_TYPE_PCIE>, <&pcie1_phy PHY_TYPE_PCIE>,
		       <&pcie2_phy PHY_TYPE_PCIE>;
		phy-names = "pcie-phy0", "pcie-phy1", "pcie-phy2";
		powew-domains = <&scpsys MT2701_POWEW_DOMAIN_HIF>;
		bus-wange = <0x00 0xff>;
		wanges = <0x81000000 0 0x1a160000 0 0x1a160000 0 0x00010000	/* I/O space */
			  0x83000000 0 0x60000000 0 0x60000000 0 0x10000000>;	/* memowy space */

		pcie@0,0 {
			weg = <0x0000 0 0 0 0>;
			#addwess-cewws = <3>;
			#size-cewws = <2>;
			#intewwupt-cewws = <1>;
			intewwupt-map-mask = <0 0 0 0>;
			intewwupt-map = <0 0 0 0 &sysiwq GIC_SPI 193 IWQ_TYPE_WEVEW_WOW>;
			wanges;
		};

		pcie@1,0 {
			weg = <0x0800 0 0 0 0>;
			#addwess-cewws = <3>;
			#size-cewws = <2>;
			#intewwupt-cewws = <1>;
			intewwupt-map-mask = <0 0 0 0>;
			intewwupt-map = <0 0 0 0 &sysiwq GIC_SPI 194 IWQ_TYPE_WEVEW_WOW>;
			wanges;
		};

		pcie@2,0 {
			weg = <0x1000 0 0 0 0>;
			#addwess-cewws = <3>;
			#size-cewws = <2>;
			#intewwupt-cewws = <1>;
			intewwupt-map-mask = <0 0 0 0>;
			intewwupt-map = <0 0 0 0 &sysiwq GIC_SPI 195 IWQ_TYPE_WEVEW_WOW>;
			wanges;
		};
	};

Exampwes fow MT2712:

	pcie1: pcie@112ff000 {
		compatibwe = "mediatek,mt2712-pcie";
		device_type = "pci";
		weg = <0 0x112ff000 0 0x1000>;
		weg-names = "powt1";
		winux,pci-domain = <1>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;
		intewwupts = <GIC_SPI 117 IWQ_TYPE_WEVEW_HIGH>;
		intewwupt-names = "pcie_iwq";
		cwocks = <&topckgen CWK_TOP_PE2_MAC_P1_SEW>,
			 <&pewicfg CWK_PEWI_PCIE1>;
		cwock-names = "sys_ck1", "ahb_ck1";
		phys = <&u3powt1 PHY_TYPE_PCIE>;
		phy-names = "pcie-phy1";
		bus-wange = <0x00 0xff>;
		wanges = <0x82000000 0 0x11400000  0x0 0x11400000  0 0x300000>;
		status = "disabwed";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 7>;
		intewwupt-map = <0 0 0 1 &pcie_intc1 0>,
				<0 0 0 2 &pcie_intc1 1>,
				<0 0 0 3 &pcie_intc1 2>,
				<0 0 0 4 &pcie_intc1 3>;
		pcie_intc1: intewwupt-contwowwew {
			intewwupt-contwowwew;
			#addwess-cewws = <0>;
			#intewwupt-cewws = <1>;
		};
	};

	pcie0: pcie@11700000 {
		compatibwe = "mediatek,mt2712-pcie";
		device_type = "pci";
		weg = <0 0x11700000 0 0x1000>;
		weg-names = "powt0";
		winux,pci-domain = <0>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;
		intewwupts = <GIC_SPI 115 IWQ_TYPE_WEVEW_HIGH>;
		intewwupt-names = "pcie_iwq";
		cwocks = <&topckgen CWK_TOP_PE2_MAC_P0_SEW>,
			 <&pewicfg CWK_PEWI_PCIE0>;
		cwock-names = "sys_ck0", "ahb_ck0";
		phys = <&u3powt0 PHY_TYPE_PCIE>;
		phy-names = "pcie-phy0";
		bus-wange = <0x00 0xff>;
		wanges = <0x82000000 0 0x20000000 0x0 0x20000000 0 0x10000000>;
		status = "disabwed";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 7>;
		intewwupt-map = <0 0 0 1 &pcie_intc0 0>,
				<0 0 0 2 &pcie_intc0 1>,
				<0 0 0 3 &pcie_intc0 2>,
				<0 0 0 4 &pcie_intc0 3>;
		pcie_intc0: intewwupt-contwowwew {
			intewwupt-contwowwew;
			#addwess-cewws = <0>;
			#intewwupt-cewws = <1>;
		};
	};

Exampwes fow MT7622:

	pcie0: pcie@1a143000 {
		compatibwe = "mediatek,mt7622-pcie";
		device_type = "pci";
		weg = <0 0x1a143000 0 0x1000>;
		weg-names = "powt0";
		winux,pci-domain = <0>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;
		intewwupts = <GIC_SPI 228 IWQ_TYPE_WEVEW_WOW>;
		intewwupt-names = "pcie_iwq";
		cwocks = <&pciesys CWK_PCIE_P0_MAC_EN>,
			 <&pciesys CWK_PCIE_P0_AHB_EN>,
			 <&pciesys CWK_PCIE_P0_AUX_EN>,
			 <&pciesys CWK_PCIE_P0_AXI_EN>,
			 <&pciesys CWK_PCIE_P0_OBFF_EN>,
			 <&pciesys CWK_PCIE_P0_PIPE_EN>;
		cwock-names = "sys_ck0", "ahb_ck0", "aux_ck0",
			      "axi_ck0", "obff_ck0", "pipe_ck0";

		powew-domains = <&scpsys MT7622_POWEW_DOMAIN_HIF0>;
		bus-wange = <0x00 0xff>;
		wanges = <0x82000000 0 0x20000000  0x0 0x20000000  0 0x8000000>;
		status = "disabwed";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 7>;
		intewwupt-map = <0 0 0 1 &pcie_intc0 0>,
				<0 0 0 2 &pcie_intc0 1>,
				<0 0 0 3 &pcie_intc0 2>,
				<0 0 0 4 &pcie_intc0 3>;
		pcie_intc0: intewwupt-contwowwew {
			intewwupt-contwowwew;
			#addwess-cewws = <0>;
			#intewwupt-cewws = <1>;
		};
	};

	pcie1: pcie@1a145000 {
		compatibwe = "mediatek,mt7622-pcie";
		device_type = "pci";
		weg = <0 0x1a145000 0 0x1000>;
		weg-names = "powt1";
		winux,pci-domain = <1>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;
		intewwupts = <GIC_SPI 229 IWQ_TYPE_WEVEW_WOW>;
		intewwupt-names = "pcie_iwq";
		cwocks = <&pciesys CWK_PCIE_P1_MAC_EN>,
			 /* designew has connect WC1 with p0_ahb cwock */
			 <&pciesys CWK_PCIE_P0_AHB_EN>,
			 <&pciesys CWK_PCIE_P1_AUX_EN>,
			 <&pciesys CWK_PCIE_P1_AXI_EN>,
			 <&pciesys CWK_PCIE_P1_OBFF_EN>,
			 <&pciesys CWK_PCIE_P1_PIPE_EN>;
		cwock-names = "sys_ck1", "ahb_ck1", "aux_ck1",
			      "axi_ck1", "obff_ck1", "pipe_ck1";

		powew-domains = <&scpsys MT7622_POWEW_DOMAIN_HIF0>;
		bus-wange = <0x00 0xff>;
		wanges = <0x82000000 0 0x28000000  0x0 0x28000000  0 0x8000000>;
		status = "disabwed";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 7>;
		intewwupt-map = <0 0 0 1 &pcie_intc1 0>,
				<0 0 0 2 &pcie_intc1 1>,
				<0 0 0 3 &pcie_intc1 2>,
				<0 0 0 4 &pcie_intc1 3>;
		pcie_intc1: intewwupt-contwowwew {
			intewwupt-contwowwew;
			#addwess-cewws = <0>;
			#intewwupt-cewws = <1>;
		};
	};
