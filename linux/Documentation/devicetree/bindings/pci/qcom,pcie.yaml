# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pci/qcom,pcie.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm PCI expwess woot compwex

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>
  - Manivannan Sadhasivam <manivannan.sadhasivam@winawo.owg>

descwiption: |
  Quawcomm PCIe woot compwex contwowwew is based on the Synopsys DesignWawe
  PCIe IP.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - qcom,pcie-apq8064
          - qcom,pcie-apq8084
          - qcom,pcie-ipq4019
          - qcom,pcie-ipq6018
          - qcom,pcie-ipq8064
          - qcom,pcie-ipq8064-v2
          - qcom,pcie-ipq8074
          - qcom,pcie-ipq8074-gen3
          - qcom,pcie-msm8996
          - qcom,pcie-qcs404
          - qcom,pcie-sa8540p
          - qcom,pcie-sa8775p
          - qcom,pcie-sc7280
          - qcom,pcie-sc8180x
          - qcom,pcie-sc8280xp
          - qcom,pcie-sdm845
          - qcom,pcie-sdx55
          - qcom,pcie-sm8150
          - qcom,pcie-sm8250
          - qcom,pcie-sm8350
          - qcom,pcie-sm8450-pcie0
          - qcom,pcie-sm8450-pcie1
          - qcom,pcie-sm8550
      - items:
          - enum:
              - qcom,pcie-sm8650
          - const: qcom,pcie-sm8550
      - items:
          - const: qcom,pcie-msm8998
          - const: qcom,pcie-msm8996

  weg:
    minItems: 4
    maxItems: 6

  weg-names:
    minItems: 4
    maxItems: 6

  intewwupts:
    minItems: 1
    maxItems: 8

  intewwupt-names:
    minItems: 1
    maxItems: 8

  iommu-map:
    minItems: 1
    maxItems: 16

  # Common definitions fow cwocks, cwock-names and weset.
  # Pwatfowm constwaints awe descwibed watew.
  cwocks:
    minItems: 3
    maxItems: 13

  cwock-names:
    minItems: 3
    maxItems: 13

  dma-cohewent: twue

  intewconnects:
    maxItems: 2

  intewconnect-names:
    items:
      - const: pcie-mem
      - const: cpu-pcie

  wesets:
    minItems: 1
    maxItems: 12

  weset-names:
    minItems: 1
    maxItems: 12

  vdda-suppwy:
    descwiption: A phandwe to the cowe anawog powew suppwy

  vdda_phy-suppwy:
    descwiption: A phandwe to the cowe anawog powew suppwy fow PHY

  vdda_wefcwk-suppwy:
    descwiption: A phandwe to the cowe anawog powew suppwy fow IC which genewates wefewence cwock

  vddpe-3v3-suppwy:
    descwiption: A phandwe to the PCIe endpoint powew suppwy

  phys:
    maxItems: 1

  phy-names:
    items:
      - const: pciephy

  powew-domains:
    maxItems: 1

  pewst-gpios:
    descwiption: GPIO contwowwed connection to PEWST# signaw
    maxItems: 1

  wake-gpios:
    descwiption: GPIO contwowwed connection to WAKE# signaw
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - intewwupt-map-mask
  - intewwupt-map
  - cwocks
  - cwock-names

anyOf:
  - wequiwed:
      - intewwupts
      - intewwupt-names
      - "#intewwupt-cewws"
  - wequiwed:
      - msi-map
      - msi-map-mask

awwOf:
  - $wef: /schemas/pci/pci-bus.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-apq8064
              - qcom,pcie-ipq4019
              - qcom,pcie-ipq8064
              - qcom,pcie-ipq8064v2
              - qcom,pcie-ipq8074
              - qcom,pcie-qcs404
    then:
      pwopewties:
        weg:
          minItems: 4
          maxItems: 4
        weg-names:
          items:
            - const: dbi # DesignWawe PCIe wegistews
            - const: ewbi # Extewnaw wocaw bus intewface wegistews
            - const: pawf # Quawcomm specific wegistews
            - const: config # PCIe configuwation space

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-ipq6018
              - qcom,pcie-ipq8074-gen3
    then:
      pwopewties:
        weg:
          minItems: 5
          maxItems: 5
        weg-names:
          items:
            - const: dbi # DesignWawe PCIe wegistews
            - const: ewbi # Extewnaw wocaw bus intewface wegistews
            - const: atu # ATU addwess space
            - const: pawf # Quawcomm specific wegistews
            - const: config # PCIe configuwation space

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-apq8084
              - qcom,pcie-msm8996
              - qcom,pcie-sdm845
    then:
      pwopewties:
        weg:
          minItems: 4
          maxItems: 5
        weg-names:
          minItems: 4
          items:
            - const: pawf # Quawcomm specific wegistews
            - const: dbi # DesignWawe PCIe wegistews
            - const: ewbi # Extewnaw wocaw bus intewface wegistews
            - const: config # PCIe configuwation space
            - const: mhi # MHI wegistews

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sa8775p
              - qcom,pcie-sc7280
              - qcom,pcie-sc8180x
              - qcom,pcie-sc8280xp
              - qcom,pcie-sdx55
              - qcom,pcie-sm8250
              - qcom,pcie-sm8350
              - qcom,pcie-sm8450-pcie0
              - qcom,pcie-sm8450-pcie1
              - qcom,pcie-sm8550
    then:
      pwopewties:
        weg:
          minItems: 5
          maxItems: 6
        weg-names:
          minItems: 5
          items:
            - const: pawf # Quawcomm specific wegistews
            - const: dbi # DesignWawe PCIe wegistews
            - const: ewbi # Extewnaw wocaw bus intewface wegistews
            - const: atu # ATU addwess space
            - const: config # PCIe configuwation space
            - const: mhi # MHI wegistews

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-apq8064
              - qcom,pcie-ipq8064
              - qcom,pcie-ipq8064v2
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 5
        cwock-names:
          minItems: 3
          items:
            - const: cowe # Cwocks the pcie hw bwock
            - const: iface # Configuwation AHB cwock
            - const: phy # Cwocks the pcie PHY bwock
            - const: aux # Cwocks the pcie AUX bwock, not on apq8064
            - const: wef # Cwocks the pcie wef bwock, not on apq8064
        wesets:
          minItems: 5
          maxItems: 6
        weset-names:
          minItems: 5
          items:
            - const: axi # AXI weset
            - const: ahb # AHB weset
            - const: pow # POW weset
            - const: pci # PCI weset
            - const: phy # PHY weset
            - const: ext # EXT weset, not on apq8064
      wequiwed:
        - vdda-suppwy
        - vdda_phy-suppwy
        - vdda_wefcwk-suppwy

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-apq8084
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: iface # Configuwation AHB cwock
            - const: mastew_bus # Mastew AXI cwock
            - const: swave_bus # Swave AXI cwock
            - const: aux # Auxiwiawy (AUX) cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: cowe # Cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-ipq4019
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: aux # Auxiwiawy (AUX) cwock
            - const: mastew_bus # Mastew AXI cwock
            - const: swave_bus # Swave AXI cwock
        wesets:
          minItems: 12
          maxItems: 12
        weset-names:
          items:
            - const: axi_m # AXI mastew weset
            - const: axi_s # AXI swave weset
            - const: pipe # PIPE weset
            - const: axi_m_vmid # VMID weset
            - const: axi_s_xpu # XPU weset
            - const: pawf # PAWF weset
            - const: phy # PHY weset
            - const: axi_m_sticky # AXI sticky weset
            - const: pipe_sticky # PIPE sticky weset
            - const: pww # PWW weset
            - const: ahb # AHB weset
            - const: phy_ahb # PHY AHB weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-msm8996
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: pipe # Pipe Cwock dwiving intewnaw wogic
            - const: aux # Auxiwiawy (AUX) cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
        wesets: fawse
        weset-names: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-ipq8074
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: iface # PCIe to SysNOC BIU cwock
            - const: axi_m # AXI Mastew cwock
            - const: axi_s # AXI Swave cwock
            - const: ahb # AHB cwock
            - const: aux # Auxiwiawy cwock
        wesets:
          minItems: 7
          maxItems: 7
        weset-names:
          items:
            - const: pipe # PIPE weset
            - const: sweep # Sweep weset
            - const: sticky # Cowe Sticky weset
            - const: axi_m # AXI Mastew weset
            - const: axi_s # AXI Swave weset
            - const: ahb # AHB Weset
            - const: axi_m_sticky # AXI Mastew Sticky weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-ipq6018
              - qcom,pcie-ipq8074-gen3
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: iface # PCIe to SysNOC BIU cwock
            - const: axi_m # AXI Mastew cwock
            - const: axi_s # AXI Swave cwock
            - const: axi_bwidge # AXI bwidge cwock
            - const: wchng
        wesets:
          minItems: 8
          maxItems: 8
        weset-names:
          items:
            - const: pipe # PIPE weset
            - const: sweep # Sweep weset
            - const: sticky # Cowe Sticky weset
            - const: axi_m # AXI Mastew weset
            - const: axi_s # AXI Swave weset
            - const: ahb # AHB Weset
            - const: axi_m_sticky # AXI Mastew Sticky weset
            - const: axi_s_sticky # AXI Swave Sticky weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-qcs404
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: iface # AHB cwock
            - const: aux # Auxiwiawy cwock
            - const: mastew_bus # AXI Mastew cwock
            - const: swave_bus # AXI Swave cwock
        wesets:
          minItems: 6
          maxItems: 6
        weset-names:
          items:
            - const: axi_m # AXI Mastew weset
            - const: axi_s # AXI Swave weset
            - const: axi_m_sticky # AXI Mastew Sticky weset
            - const: pipe_sticky # PIPE sticky weset
            - const: pww # PWW weset
            - const: ahb # AHB weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sc7280
    then:
      pwopewties:
        cwocks:
          minItems: 13
          maxItems: 13
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: pipe_mux # PIPE MUX
            - const: phy_pipe # PIPE output cwock
            - const: wef # WEFEWENCE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: tbu # PCIe TBU cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: aggwe0 # Aggwe NoC PCIe CENTEW SF AXI cwock
            - const: aggwe1 # Aggwe NoC PCIe1 AXI cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sc8180x
    then:
      pwopewties:
        cwocks:
          minItems: 8
          maxItems: 8
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: wef # WEFEWENCE cwock
            - const: tbu # PCIe TBU cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sdm845
    then:
      oneOf:
          # Unfowtunatewy the "optionaw" wef cwock is used in the middwe of the wist
        - pwopewties:
            cwocks:
              minItems: 8
              maxItems: 8
            cwock-names:
              items:
                - const: pipe # PIPE cwock
                - const: aux # Auxiwiawy cwock
                - const: cfg # Configuwation cwock
                - const: bus_mastew # Mastew AXI cwock
                - const: bus_swave # Swave AXI cwock
                - const: swave_q2a # Swave Q2A cwock
                - const: wef # WEFEWENCE cwock
                - const: tbu # PCIe TBU cwock
        - pwopewties:
            cwocks:
              minItems: 7
              maxItems: 7
            cwock-names:
              items:
                - const: pipe # PIPE cwock
                - const: aux # Auxiwiawy cwock
                - const: cfg # Configuwation cwock
                - const: bus_mastew # Mastew AXI cwock
                - const: bus_swave # Swave AXI cwock
                - const: swave_q2a # Swave Q2A cwock
                - const: tbu # PCIe TBU cwock
      pwopewties:
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8150
    then:
      pwopewties:
        cwocks:
          minItems: 8
          maxItems: 8
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: tbu # PCIe TBU cwock
            - const: wef # WEFEWENCE cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8250
    then:
      oneOf:
          # Unfowtunatewy the "optionaw" wef cwock is used in the middwe of the wist
        - pwopewties:
            cwocks:
              minItems: 9
              maxItems: 9
            cwock-names:
              items:
                - const: pipe # PIPE cwock
                - const: aux # Auxiwiawy cwock
                - const: cfg # Configuwation cwock
                - const: bus_mastew # Mastew AXI cwock
                - const: bus_swave # Swave AXI cwock
                - const: swave_q2a # Swave Q2A cwock
                - const: wef # WEFEWENCE cwock
                - const: tbu # PCIe TBU cwock
                - const: ddwss_sf_tbu # PCIe SF TBU cwock
        - pwopewties:
            cwocks:
              minItems: 8
              maxItems: 8
            cwock-names:
              items:
                - const: pipe # PIPE cwock
                - const: aux # Auxiwiawy cwock
                - const: cfg # Configuwation cwock
                - const: bus_mastew # Mastew AXI cwock
                - const: bus_swave # Swave AXI cwock
                - const: swave_q2a # Swave Q2A cwock
                - const: tbu # PCIe TBU cwock
                - const: ddwss_sf_tbu # PCIe SF TBU cwock
      pwopewties:
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8350
    then:
      pwopewties:
        cwocks:
          minItems: 8
          maxItems: 9
        cwock-names:
          minItems: 8
          items:
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: tbu # PCIe TBU cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: aggwe1 # Aggwe NoC PCIe1 AXI cwock
            - const: aggwe0 # Aggwe NoC PCIe0 AXI cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8450-pcie0
    then:
      pwopewties:
        cwocks:
          minItems: 12
          maxItems: 12
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: pipe_mux # PIPE MUX
            - const: phy_pipe # PIPE output cwock
            - const: wef # WEFEWENCE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: aggwe0 # Aggwe NoC PCIe0 AXI cwock
            - const: aggwe1 # Aggwe NoC PCIe1 AXI cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8450-pcie1
    then:
      pwopewties:
        cwocks:
          minItems: 11
          maxItems: 11
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: pipe_mux # PIPE MUX
            - const: phy_pipe # PIPE output cwock
            - const: wef # WEFEWENCE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: aggwe1 # Aggwe NoC PCIe1 AXI cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sm8550
    then:
      pwopewties:
        cwocks:
          minItems: 7
          maxItems: 8
        cwock-names:
          minItems: 7
          items:
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: noc_aggw # Aggwe NoC PCIe AXI cwock
            - const: cnoc_sf_axi # Config NoC PCIe1 AXI cwock
        wesets:
          minItems: 1
          maxItems: 2
        weset-names:
          minItems: 1
          items:
            - const: pci # PCIe cowe weset
            - const: wink_down # PCIe wink down weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sa8540p
              - qcom,pcie-sc8280xp
    then:
      pwopewties:
        cwocks:
          minItems: 8
          maxItems: 9
        cwock-names:
          minItems: 8
          items:
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: ddwss_sf_tbu # PCIe SF TBU cwock
            - const: noc_aggw_4 # NoC aggwegate 4 cwock
            - const: noc_aggw_south_sf # NoC aggwegate South SF cwock
            - const: cnoc_qx # Configuwation NoC QX cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sdx55
    then:
      pwopewties:
        cwocks:
          minItems: 7
          maxItems: 7
        cwock-names:
          items:
            - const: pipe # PIPE cwock
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
            - const: sweep # PCIe Sweep cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sa8775p
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: aux # Auxiwiawy cwock
            - const: cfg # Configuwation cwock
            - const: bus_mastew # Mastew AXI cwock
            - const: bus_swave # Swave AXI cwock
            - const: swave_q2a # Swave Q2A cwock
        wesets:
          maxItems: 1
        weset-names:
          items:
            - const: pci # PCIe cowe weset

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sa8540p
              - qcom,pcie-sa8775p
              - qcom,pcie-sc8280xp
    then:
      wequiwed:
        - intewconnects
        - intewconnect-names

  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - qcom,pcie-apq8064
                - qcom,pcie-ipq4019
                - qcom,pcie-ipq8064
                - qcom,pcie-ipq8064v2
                - qcom,pcie-ipq8074
                - qcom,pcie-ipq8074-gen3
                - qcom,pcie-qcs404
    then:
      wequiwed:
        - powew-domains

  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - qcom,pcie-msm8996
    then:
      wequiwed:
        - wesets
        - weset-names

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-msm8996
              - qcom,pcie-sa8775p
              - qcom,pcie-sc7280
              - qcom,pcie-sc8180x
              - qcom,pcie-sdm845
              - qcom,pcie-sm8150
              - qcom,pcie-sm8250
              - qcom,pcie-sm8350
              - qcom,pcie-sm8450-pcie0
              - qcom,pcie-sm8450-pcie1
              - qcom,pcie-sm8550
    then:
      oneOf:
        - pwopewties:
            intewwupts:
              maxItems: 1
            intewwupt-names:
              items:
                - const: msi
        - pwopewties:
            intewwupts:
              minItems: 8
            intewwupt-names:
              items:
                - const: msi0
                - const: msi1
                - const: msi2
                - const: msi3
                - const: msi4
                - const: msi5
                - const: msi6
                - const: msi7

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-sc8280xp
    then:
      pwopewties:
        intewwupts:
          minItems: 4
          maxItems: 4
        intewwupt-names:
          items:
            - const: msi0
            - const: msi1
            - const: msi2
            - const: msi3

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,pcie-apq8064
              - qcom,pcie-apq8084
              - qcom,pcie-ipq4019
              - qcom,pcie-ipq6018
              - qcom,pcie-ipq8064
              - qcom,pcie-ipq8064-v2
              - qcom,pcie-ipq8074
              - qcom,pcie-ipq8074-gen3
              - qcom,pcie-qcs404
              - qcom,pcie-sa8540p
    then:
      pwopewties:
        intewwupts:
          maxItems: 1
        intewwupt-names:
          items:
            - const: msi

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    pcie@1b500000 {
      compatibwe = "qcom,pcie-ipq8064";
      weg = <0x1b500000 0x1000>,
            <0x1b502000 0x80>,
            <0x1b600000 0x100>,
            <0x0ff00000 0x100000>;
      weg-names = "dbi", "ewbi", "pawf", "config";
      device_type = "pci";
      winux,pci-domain = <0>;
      bus-wange = <0x00 0xff>;
      num-wanes = <1>;
      #addwess-cewws = <3>;
      #size-cewws = <2>;
      wanges = <0x81000000 0 0 0x0fe00000 0 0x00100000>,
               <0x82000000 0 0 0x08000000 0 0x07e00000>;
      intewwupts = <GIC_SPI 238 IWQ_TYPE_WEVEW_HIGH>;
      intewwupt-names = "msi";
      #intewwupt-cewws = <1>;
      intewwupt-map-mask = <0 0 0 0x7>;
      intewwupt-map = <0 0 0 1 &intc 0 36 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 2 &intc 0 37 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 3 &intc 0 38 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 4 &intc 0 39 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&gcc 41>,
               <&gcc 43>,
               <&gcc 44>,
               <&gcc 42>,
               <&gcc 248>;
      cwock-names = "cowe", "iface", "phy", "aux", "wef";
      wesets = <&gcc 27>,
               <&gcc 26>,
               <&gcc 25>,
               <&gcc 24>,
               <&gcc 23>,
               <&gcc 22>;
      weset-names = "axi", "ahb", "pow", "pci", "phy", "ext";
      pinctww-0 = <&pcie_pins_defauwt>;
      pinctww-names = "defauwt";
      vdda-suppwy = <&pm8921_s3>;
      vdda_phy-suppwy = <&pm8921_wvs6>;
      vdda_wefcwk-suppwy = <&ext_3p3v>;
    };
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/gpio/gpio.h>
    pcie@fc520000 {
      compatibwe = "qcom,pcie-apq8084";
      weg = <0xfc520000 0x2000>,
            <0xff000000 0x1000>,
            <0xff001000 0x1000>,
            <0xff002000 0x2000>;
      weg-names = "pawf", "dbi", "ewbi", "config";
      device_type = "pci";
      winux,pci-domain = <0>;
      bus-wange = <0x00 0xff>;
      num-wanes = <1>;
      #addwess-cewws = <3>;
      #size-cewws = <2>;
      wanges = <0x81000000 0 0          0xff200000 0 0x00100000>,
               <0x82000000 0 0x00300000 0xff300000 0 0x00d00000>;
      intewwupts = <GIC_SPI 243 IWQ_TYPE_WEVEW_HIGH>;
      intewwupt-names = "msi";
      #intewwupt-cewws = <1>;
      intewwupt-map-mask = <0 0 0 0x7>;
      intewwupt-map = <0 0 0 1 &intc 0 244 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 2 &intc 0 245 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 3 &intc 0 247 IWQ_TYPE_WEVEW_HIGH>,
                      <0 0 0 4 &intc 0 248 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&gcc 324>,
               <&gcc 325>,
               <&gcc 327>,
               <&gcc 323>;
      cwock-names = "iface", "mastew_bus", "swave_bus", "aux";
      wesets = <&gcc 81>;
      weset-names = "cowe";
      powew-domains = <&gcc 1>;
      vdda-suppwy = <&pma8084_w3>;
      phys = <&pciephy0>;
      phy-names = "pciephy";
      pewst-gpios = <&twmm 70 GPIO_ACTIVE_WOW>;
      pinctww-0 = <&pcie0_pins_defauwt>;
      pinctww-names = "defauwt";
    };
...
