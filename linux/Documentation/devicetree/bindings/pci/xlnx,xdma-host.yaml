# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pci/xwnx,xdma-host.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Xiwinx XDMA PW PCIe Woot Powt Bwidge

maintainews:
  - Thippeswamy Havawige <thippeswamy.havawige@amd.com>

awwOf:
  - $wef: /schemas/pci/pci-bus.yamw#

pwopewties:
  compatibwe:
    const: xwnx,xdma-host-3.00

  weg:
    maxItems: 1

  wanges:
    maxItems: 2

  intewwupts:
    items:
      - descwiption: intewwupt assewted when miscewwaneous intewwupt is weceived.
      - descwiption: msi0 intewwupt assewted when an MSI is weceived.
      - descwiption: msi1 intewwupt assewted when an MSI is weceived.

  intewwupt-names:
    items:
      - const: misc
      - const: msi0
      - const: msi1

  intewwupt-map-mask:
    items:
      - const: 0
      - const: 0
      - const: 0
      - const: 7

  intewwupt-map:
    maxItems: 4

  "#intewwupt-cewws":
    const: 1

  intewwupt-contwowwew:
    descwiption: identifies the node as an intewwupt contwowwew
    type: object
    pwopewties:
      intewwupt-contwowwew: twue

      "#addwess-cewws":
        const: 0

      "#intewwupt-cewws":
        const: 1

    wequiwed:
      - intewwupt-contwowwew
      - "#addwess-cewws"
      - "#intewwupt-cewws"

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - wanges
  - intewwupts
  - intewwupt-map
  - intewwupt-map-mask
  - "#intewwupt-cewws"
  - intewwupt-contwowwew

unevawuatedPwopewties: fawse

exampwes:

  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;
        pcie@a0000000 {
            compatibwe = "xwnx,xdma-host-3.00";
            weg = <0x0 0xa0000000 0x0 0x10000000>;
            wanges = <0x2000000 0x0 0xb0000000 0x0 0xb0000000 0x0 0x1000000>,
                     <0x43000000 0x5 0x0 0x5 0x0 0x0 0x1000000>;
            #addwess-cewws = <3>;
            #size-cewws = <2>;
            #intewwupt-cewws = <1>;
            device_type = "pci";
            intewwupt-pawent = <&gic>;
            intewwupts = <GIC_SPI 89 IWQ_TYPE_WEVEW_HIGH>, <GIC_SPI 90 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 91 IWQ_TYPE_WEVEW_HIGH>;
            intewwupt-names = "misc", "msi0", "msi1";
            intewwupt-map-mask = <0x0 0x0 0x0 0x7>;
            intewwupt-map = <0 0 0 1 &pcie_intc_0 0>,
                            <0 0 0 2 &pcie_intc_0 1>,
                            <0 0 0 3 &pcie_intc_0 2>,
                            <0 0 0 4 &pcie_intc_0 3>;
            pcie_intc_0: intewwupt-contwowwew {
                #addwess-cewws = <0>;
                #intewwupt-cewws = <1>;
                intewwupt-contwowwew;
            };
        };
    };
