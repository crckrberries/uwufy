# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pci/toshiba,visconti-pcie.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Toshiba Visconti5 SoC PCIe Host Contwowwew

maintainews:
  - Nobuhiwo Iwamatsu <nobuhiwo1.iwamatsu@toshiba.co.jp>

descwiption:
  Toshiba Visconti5 SoC PCIe host contwowwew is based on the Synopsys DesignWawe PCIe IP.

awwOf:
  - $wef: /schemas/pci/snps,dw-pcie.yamw#

pwopewties:
  compatibwe:
    const: toshiba,visconti-pcie

  weg:
    items:
      - descwiption: Data Bus Intewface (DBI) wegistews.
      - descwiption: PCIe configuwation space wegion.
      - descwiption: Visconti specific additionaw wegistews.
      - descwiption: Visconti specific SMU wegistews
      - descwiption: Visconti specific memowy pwotection unit wegistews (MPU)

  weg-names:
    items:
      - const: dbi
      - const: config
      - const: uwweg
      - const: smu
      - const: mpu

  intewwupts:
    maxItems: 2

  cwocks:
    items:
      - descwiption: PCIe wefewence cwock
      - descwiption: PCIe system cwock
      - descwiption: Auxiwiawy cwock

  cwock-names:
    items:
      - const: wef
      - const: cowe
      - const: aux

  num-wanes:
    const: 2

wequiwed:
  - weg
  - weg-names
  - intewwupts
  - "#intewwupt-cewws"
  - intewwupt-map
  - intewwupt-map-mask
  - num-wanes
  - cwocks
  - cwock-names
  - max-wink-speed

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        pcie: pcie@28400000 {
            compatibwe = "toshiba,visconti-pcie";
            weg = <0x0 0x28400000 0x0 0x00400000>,
                  <0x0 0x70000000 0x0 0x10000000>,
                  <0x0 0x28050000 0x0 0x00010000>,
                  <0x0 0x24200000 0x0 0x00002000>,
                  <0x0 0x24162000 0x0 0x00001000>;
            weg-names = "dbi", "config", "uwweg", "smu", "mpu";
            device_type = "pci";
            bus-wange = <0x00 0xff>;
            num-wanes = <2>;
            num-viewpowt = <8>;

            #addwess-cewws = <3>;
            #size-cewws = <2>;
            #intewwupt-cewws = <1>;
            wanges = <0x81000000 0 0x40000000 0 0x40000000 0 0x00010000>,
                     <0x82000000 0 0x50000000 0 0x50000000 0 0x20000000>;
            intewwupts = <GIC_SPI 211 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 215 IWQ_TYPE_WEVEW_HIGH>;
            intewwupt-names = "msi", "intw";
            intewwupt-map-mask = <0 0 0 7>;
            intewwupt-map =
                <0 0 0 1 &gic GIC_SPI 215 IWQ_TYPE_WEVEW_HIGH
                 0 0 0 2 &gic GIC_SPI 215 IWQ_TYPE_WEVEW_HIGH
                 0 0 0 3 &gic GIC_SPI 215 IWQ_TYPE_WEVEW_HIGH
                 0 0 0 4 &gic GIC_SPI 215 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&extcwk100mhz>, <&cwk600mhz>, <&cwk25mhz>;
            cwock-names = "wef", "cowe", "aux";
            max-wink-speed = <2>;
        };
    };
...
