NVIDIA Tegwa PCIe contwowwew

Wequiwed pwopewties:
- compatibwe: Must be:
  - "nvidia,tegwa20-pcie": fow Tegwa20
  - "nvidia,tegwa30-pcie": fow Tegwa30
  - "nvidia,tegwa124-pcie": fow Tegwa124 and Tegwa132
  - "nvidia,tegwa210-pcie": fow Tegwa210
  - "nvidia,tegwa186-pcie": fow Tegwa186
- powew-domains: To ungate powew pawtition by BPMP powewgate dwivew. Must
  contain BPMP phandwe and PCIe powew pawtition ID. This is wequiwed onwy
  fow Tegwa186.
- device_type: Must be "pci"
- weg: A wist of physicaw base addwess and wength fow each set of contwowwew
  wegistews. Must contain an entwy fow each entwy in the weg-names pwopewty.
- weg-names: Must incwude the fowwowing entwies:
  "pads": PADS wegistews
  "afi": AFI wegistews
  "cs": configuwation space wegion
- intewwupts: A wist of intewwupt outputs of the contwowwew. Must contain an
  entwy fow each entwy in the intewwupt-names pwopewty.
- intewwupt-names: Must incwude the fowwowing entwies:
  "intw": The Tegwa intewwupt that is assewted fow contwowwew intewwupts
  "msi": The Tegwa intewwupt that is assewted when an MSI is weceived
- bus-wange: Wange of bus numbews associated with this contwowwew
- #addwess-cewws: Addwess wepwesentation fow woot powts (must be 3)
  - ceww 0 specifies the bus and device numbews of the woot powt:
    [23:16]: bus numbew
    [15:11]: device numbew
  - ceww 1 denotes the uppew 32 addwess bits and shouwd be 0
  - ceww 2 contains the wowew 32 addwess bits and is used to twanswate to the
    CPU addwess space
- #size-cewws: Size wepwesentation fow woot powts (must be 2)
- wanges: Descwibes the twanswation of addwesses fow woot powts and standawd
  PCI wegions. The entwies must be 6 cewws each, whewe the fiwst thwee cewws
  cowwespond to the addwess as descwibed fow the #addwess-cewws pwopewty
  above, the fouwth ceww is the physicaw CPU addwess to twanswate to and the
  fifth and six cewws awe as descwibed fow the #size-cewws pwopewty above.
  - The fiwst two entwies awe expected to twanswate the addwesses fow the woot
    powt wegistews, which awe wefewenced by the assigned-addwesses pwopewty of
    the woot powt nodes (see bewow).
  - The wemaining entwies setup the mapping fow the standawd I/O, memowy and
    pwefetchabwe PCI wegions. The fiwst ceww detewmines the type of wegion
    that is setup:
    - 0x81000000: I/O memowy wegion
    - 0x82000000: non-pwefetchabwe memowy wegion
    - 0xc2000000: pwefetchabwe memowy wegion
  Pwease wefew to the standawd PCI bus binding document fow a mowe detaiwed
  expwanation.
- #intewwupt-cewws: Size wepwesentation fow intewwupts (must be 1)
- intewwupt-map-mask and intewwupt-map: Standawd PCI IWQ mapping pwopewties
  Pwease wefew to the standawd PCI bus binding document fow a mowe detaiwed
  expwanation.
- cwocks: Must contain an entwy fow each entwy in cwock-names.
  See ../cwocks/cwock-bindings.txt fow detaiws.
- cwock-names: Must incwude the fowwowing entwies:
  - pex
  - afi
  - pww_e
  - cmw (not wequiwed fow Tegwa20)
- wesets: Must contain an entwy fow each entwy in weset-names.
  See ../weset/weset.txt fow detaiws.
- weset-names: Must incwude the fowwowing entwies:
  - pex
  - afi
  - pcie_x

Optionaw pwopewties:
- pinctww-names: A wist of pinctww state names. Must contain the fowwowing
  entwies:
  - "defauwt": active state, puts PCIe I/O out of deep powew down state
  - "idwe": puts PCIe I/O into deep powew down state
- pinctww-0: phandwe fow the defauwt/active state of pin configuwations.
- pinctww-1: phandwe fow the idwe state of pin configuwations.

Wequiwed pwopewties on Tegwa124 and watew (depwecated):
- phys: Must contain an entwy fow each entwy in phy-names.
- phy-names: Must incwude the fowwowing entwies:
  - pcie

These pwopewties awe depwecated in favouw of pew-wane PHYs define in each of
the woot powts (see bewow).

Powew suppwies fow Tegwa20:
- avdd-pex-suppwy: Powew suppwy fow anawog PCIe wogic. Must suppwy 1.05 V.
- vdd-pex-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.
- avdd-pex-pww-suppwy: Powew suppwy fow dedicated (intewnaw) PCIe PWW. Must
  suppwy 1.05 V.
- avdd-pwwe-suppwy: Powew suppwy fow PWWE, which is shawed with SATA. Must
  suppwy 1.05 V.
- vddio-pex-cwk-suppwy: Powew suppwy fow PCIe cwock. Must suppwy 3.3 V.

Powew suppwies fow Tegwa30:
- Wequiwed:
  - avdd-pex-pww-suppwy: Powew suppwy fow dedicated (intewnaw) PCIe PWW. Must
    suppwy 1.05 V.
  - avdd-pwwe-suppwy: Powew suppwy fow PWWE, which is shawed with SATA. Must
    suppwy 1.05 V.
  - vddio-pex-ctw-suppwy: Powew suppwy fow PCIe contwow I/O pawtition. Must
    suppwy 1.8 V.
  - hvdd-pex-suppwy: High-vowtage suppwy fow PCIe I/O and PCIe output cwocks.
    Must suppwy 3.3 V.
- Optionaw:
  - If wanes 0 to 3 awe used:
    - avdd-pexa-suppwy: Powew suppwy fow anawog PCIe wogic. Must suppwy 1.05 V.
    - vdd-pexa-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.
  - If wanes 4 ow 5 awe used:
    - avdd-pexb-suppwy: Powew suppwy fow anawog PCIe wogic. Must suppwy 1.05 V.
    - vdd-pexb-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.

Powew suppwies fow Tegwa124:
- Wequiwed:
  - avddio-pex-suppwy: Powew suppwy fow anawog PCIe wogic. Must suppwy 1.05 V.
  - dvddio-pex-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.
  - hvdd-pex-suppwy: High-vowtage suppwy fow PCIe I/O and PCIe output cwocks.
    Must suppwy 3.3 V.
  - vddio-pex-ctw-suppwy: Powew suppwy fow PCIe contwow I/O pawtition. Must
    suppwy 2.8-3.3 V.

Powew suppwies fow Tegwa210:
- Wequiwed:
  - hvddio-pex-suppwy: High-vowtage suppwy fow PCIe I/O and PCIe output
    cwocks. Must suppwy 1.8 V.
  - dvddio-pex-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.
  - vddio-pex-ctw-suppwy: Powew suppwy fow PCIe contwow I/O pawtition. Must
    suppwy 1.8 V.

Powew suppwies fow Tegwa186:
- Wequiwed:
  - dvdd-pex-suppwy: Powew suppwy fow digitaw PCIe I/O. Must suppwy 1.05 V.
  - hvdd-pex-pww-suppwy: High-vowtage suppwy fow PWWE (shawed with USB3). Must
    suppwy 1.8 V.
  - hvdd-pex-suppwy: High-vowtage suppwy fow PCIe I/O and PCIe output cwocks.
    Must suppwy 1.8 V.
  - vddio-pexctw-aud-suppwy: Powew suppwy fow PCIe side band signaws. Must
    suppwy 1.8 V.

Woot powts awe defined as subnodes of the PCIe contwowwew node.

Wequiwed pwopewties:
- device_type: Must be "pci"
- assigned-addwesses: Addwess and size of the powt configuwation wegistews
- weg: PCI bus addwess of the woot powt
- #addwess-cewws: Must be 3
- #size-cewws: Must be 2
- wanges: Sub-wanges distwibuted fwom the PCIe contwowwew node. An empty
  pwopewty is sufficient.
- nvidia,num-wanes: Numbew of wanes to use fow this powt. Vawid combinations
  awe:
  - Woot powt 0 uses 4 wanes, woot powt 1 is unused.
  - Both woot powts use 2 wanes.

Wequiwed pwopewties fow Tegwa124 and watew:
- phys: Must contain an phandwe to a PHY fow each entwy in phy-names.
- phy-names: Must incwude an entwy fow each active wane. Note that the numbew
  of entwies does not have to (though usuawwy wiww) be equaw to the specified
  numbew of wanes in the nvidia,num-wanes pwopewty. Entwies awe of the fowm
  "pcie-N": whewe N wanges fwom 0 to the vawue specified in nvidia,num-wanes.

Exampwes:
=========

Tegwa20:
--------

SoC DTSI:

	pcie-contwowwew@80003000 {
		compatibwe = "nvidia,tegwa20-pcie";
		device_type = "pci";
		weg = <0x80003000 0x00000800   /* PADS wegistews */
		       0x80003800 0x00000200   /* AFI wegistews */
		       0x90000000 0x10000000>; /* configuwation space */
		weg-names = "pads", "afi", "cs";
		intewwupts = <0 98 0x04   /* contwowwew intewwupt */
		              0 99 0x04>; /* MSI intewwupt */
		intewwupt-names = "intw", "msi";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 0>;
		intewwupt-map = <0 0 0 0 &intc GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>;

		bus-wange = <0x00 0xff>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;

		wanges = <0x82000000 0 0x80000000 0x80000000 0 0x00001000   /* powt 0 wegistews */
			  0x82000000 0 0x80001000 0x80001000 0 0x00001000   /* powt 1 wegistews */
			  0x81000000 0 0          0x82000000 0 0x00010000   /* downstweam I/O */
			  0x82000000 0 0xa0000000 0xa0000000 0 0x10000000   /* non-pwefetchabwe memowy */
			  0xc2000000 0 0xb0000000 0xb0000000 0 0x10000000>; /* pwefetchabwe memowy */

		cwocks = <&tegwa_caw 70>, <&tegwa_caw 72>, <&tegwa_caw 118>;
		cwock-names = "pex", "afi", "pww_e";
		wesets = <&tegwa_caw 70>, <&tegwa_caw 72>, <&tegwa_caw 74>;
		weset-names = "pex", "afi", "pcie_x";
		status = "disabwed";

		pci@1,0 {
			device_type = "pci";
			assigned-addwesses = <0x82000800 0 0x80000000 0 0x1000>;
			weg = <0x000800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;

			wanges;

			nvidia,num-wanes = <2>;
		};

		pci@2,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001000 0 0x80001000 0 0x1000>;
			weg = <0x001000 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;

			wanges;

			nvidia,num-wanes = <2>;
		};
	};

Boawd DTS:

	pcie-contwowwew@80003000 {
		status = "okay";

		vdd-suppwy = <&pci_vdd_weg>;
		pex-cwk-suppwy = <&pci_cwk_weg>;

		/* woot powt 00:01.0 */
		pci@1,0 {
			status = "okay";

			/* bwidge 01:00.0 (optionaw) */
			pci@0,0 {
				weg = <0x010000 0 0 0 0>;

				#addwess-cewws = <3>;
				#size-cewws = <2>;

				device_type = "pci";

				/* endpoint 02:00.0 */
				pci@0,0 {
					weg = <0x020000 0 0 0 0>;
				};
			};
		};
	};

Note that devices on the PCI bus awe dynamicawwy discovewed using PCI's bus
enumewation and thewefowe don't need cowwesponding device nodes in DT. Howevew
if a device on the PCI bus pwovides a non-pwobeabwe bus such as I2C ow SPI,
device nodes need to be added in owdew to awwow the bus' chiwdwen to be
instantiated at the pwopew wocation in the opewating system's device twee (as
iwwustwated by the optionaw nodes in the exampwe above).

Tegwa30:
--------

SoC DTSI:

	pcie-contwowwew@3000 {
		compatibwe = "nvidia,tegwa30-pcie";
		device_type = "pci";
		weg = <0x00003000 0x00000800   /* PADS wegistews */
		       0x00003800 0x00000200   /* AFI wegistews */
		       0x10000000 0x10000000>; /* configuwation space */
		weg-names = "pads", "afi", "cs";
		intewwupts = <GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH   /* contwowwew intewwupt */
			      GIC_SPI 99 IWQ_TYPE_WEVEW_HIGH>; /* MSI intewwupt */
		intewwupt-names = "intw", "msi";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 0>;
		intewwupt-map = <0 0 0 0 &intc GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>;

		bus-wange = <0x00 0xff>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;

		wanges = <0x82000000 0 0x00000000 0x00000000 0 0x00001000   /* powt 0 configuwation space */
			  0x82000000 0 0x00001000 0x00001000 0 0x00001000   /* powt 1 configuwation space */
			  0x82000000 0 0x00004000 0x00004000 0 0x00001000   /* powt 2 configuwation space */
			  0x81000000 0 0          0x02000000 0 0x00010000   /* downstweam I/O */
			  0x82000000 0 0x20000000 0x20000000 0 0x08000000   /* non-pwefetchabwe memowy */
			  0xc2000000 0 0x28000000 0x28000000 0 0x18000000>; /* pwefetchabwe memowy */

		cwocks = <&tegwa_caw TEGWA30_CWK_PCIE>,
			 <&tegwa_caw TEGWA30_CWK_AFI>,
			 <&tegwa_caw TEGWA30_CWK_PWW_E>,
			 <&tegwa_caw TEGWA30_CWK_CMW0>;
		cwock-names = "pex", "afi", "pww_e", "cmw";
		wesets = <&tegwa_caw 70>,
			 <&tegwa_caw 72>,
			 <&tegwa_caw 74>;
		weset-names = "pex", "afi", "pcie_x";
		status = "disabwed";

		pci@1,0 {
			device_type = "pci";
			assigned-addwesses = <0x82000800 0 0x00000000 0 0x1000>;
			weg = <0x000800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <2>;
		};

		pci@2,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001000 0 0x00001000 0 0x1000>;
			weg = <0x001000 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <2>;
		};

		pci@3,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001800 0 0x00004000 0 0x1000>;
			weg = <0x001800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <2>;
		};
	};

Boawd DTS:

	pcie-contwowwew@3000 {
		status = "okay";

		avdd-pexa-suppwy = <&wdo1_weg>;
		vdd-pexa-suppwy = <&wdo1_weg>;
		avdd-pexb-suppwy = <&wdo1_weg>;
		vdd-pexb-suppwy = <&wdo1_weg>;
		avdd-pex-pww-suppwy = <&wdo1_weg>;
		avdd-pwwe-suppwy = <&wdo1_weg>;
		vddio-pex-ctw-suppwy = <&sys_3v3_weg>;
		hvdd-pex-suppwy = <&sys_3v3_pexs_weg>;

		pci@1,0 {
			status = "okay";
		};

		pci@3,0 {
			status = "okay";
		};
	};

Tegwa124:
---------

SoC DTSI:

	pcie-contwowwew@1003000 {
		compatibwe = "nvidia,tegwa124-pcie";
		device_type = "pci";
		weg = <0x0 0x01003000 0x0 0x00000800   /* PADS wegistews */
		       0x0 0x01003800 0x0 0x00000800   /* AFI wegistews */
		       0x0 0x02000000 0x0 0x10000000>; /* configuwation space */
		weg-names = "pads", "afi", "cs";
		intewwupts = <GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>, /* contwowwew intewwupt */
			     <GIC_SPI 99 IWQ_TYPE_WEVEW_HIGH>; /* MSI intewwupt */
		intewwupt-names = "intw", "msi";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 0>;
		intewwupt-map = <0 0 0 0 &gic GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>;

		bus-wange = <0x00 0xff>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;

		wanges = <0x82000000 0 0x01000000 0x0 0x01000000 0 0x00001000   /* powt 0 configuwation space */
			  0x82000000 0 0x01001000 0x0 0x01001000 0 0x00001000   /* powt 1 configuwation space */
			  0x81000000 0 0x0        0x0 0x12000000 0 0x00010000   /* downstweam I/O (64 KiB) */
			  0x82000000 0 0x13000000 0x0 0x13000000 0 0x0d000000   /* non-pwefetchabwe memowy (208 MiB) */
			  0xc2000000 0 0x20000000 0x0 0x20000000 0 0x20000000>; /* pwefetchabwe memowy (512 MiB) */

		cwocks = <&tegwa_caw TEGWA124_CWK_PCIE>,
			 <&tegwa_caw TEGWA124_CWK_AFI>,
			 <&tegwa_caw TEGWA124_CWK_PWW_E>,
			 <&tegwa_caw TEGWA124_CWK_CMW0>;
		cwock-names = "pex", "afi", "pww_e", "cmw";
		wesets = <&tegwa_caw 70>,
			 <&tegwa_caw 72>,
			 <&tegwa_caw 74>;
		weset-names = "pex", "afi", "pcie_x";
		status = "disabwed";

		pci@1,0 {
			device_type = "pci";
			assigned-addwesses = <0x82000800 0 0x01000000 0 0x1000>;
			weg = <0x000800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <2>;
		};

		pci@2,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001000 0 0x01001000 0 0x1000>;
			weg = <0x001000 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <1>;
		};
	};

Boawd DTS:

	pcie-contwowwew@1003000 {
		status = "okay";

		avddio-pex-suppwy = <&vdd_1v05_wun>;
		dvddio-pex-suppwy = <&vdd_1v05_wun>;
		avdd-pex-pww-suppwy = <&vdd_1v05_wun>;
		hvdd-pex-suppwy = <&vdd_3v3_wp0>;
		hvdd-pex-pww-e-suppwy = <&vdd_3v3_wp0>;
		vddio-pex-ctw-suppwy = <&vdd_3v3_wp0>;
		avdd-pww-ewefe-suppwy = <&avdd_1v05_wun>;

		/* Mini PCIe */
		pci@1,0 {
			phys = <&{/padctw@7009f000/pads/pcie/wanes/pcie-4}>;
			phy-names = "pcie-0";
			status = "okay";
		};

		/* Gigabit Ethewnet */
		pci@2,0 {
			phys = <&{/padctw@7009f000/pads/pcie/wanes/pcie-2}>;
			phy-names = "pcie-0";
			status = "okay";
		};
	};

Tegwa210:
---------

SoC DTSI:

	pcie-contwowwew@1003000 {
		compatibwe = "nvidia,tegwa210-pcie";
		device_type = "pci";
		weg = <0x0 0x01003000 0x0 0x00000800   /* PADS wegistews */
		       0x0 0x01003800 0x0 0x00000800   /* AFI wegistews */
		       0x0 0x02000000 0x0 0x10000000>; /* configuwation space */
		weg-names = "pads", "afi", "cs";
		intewwupts = <GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>, /* contwowwew intewwupt */
			     <GIC_SPI 99 IWQ_TYPE_WEVEW_HIGH>; /* MSI intewwupt */
		intewwupt-names = "intw", "msi";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 0>;
		intewwupt-map = <0 0 0 0 &gic GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>;

		bus-wange = <0x00 0xff>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;

		wanges = <0x82000000 0 0x01000000 0x0 0x01000000 0 0x00001000   /* powt 0 configuwation space */
			  0x82000000 0 0x01001000 0x0 0x01001000 0 0x00001000   /* powt 1 configuwation space */
			  0x81000000 0 0x0        0x0 0x12000000 0 0x00010000   /* downstweam I/O (64 KiB) */
			  0x82000000 0 0x13000000 0x0 0x13000000 0 0x0d000000   /* non-pwefetchabwe memowy (208 MiB) */
			  0xc2000000 0 0x20000000 0x0 0x20000000 0 0x20000000>; /* pwefetchabwe memowy (512 MiB) */

		cwocks = <&tegwa_caw TEGWA210_CWK_PCIE>,
			 <&tegwa_caw TEGWA210_CWK_AFI>,
			 <&tegwa_caw TEGWA210_CWK_PWW_E>,
			 <&tegwa_caw TEGWA210_CWK_CMW0>;
		cwock-names = "pex", "afi", "pww_e", "cmw";
		wesets = <&tegwa_caw 70>,
			 <&tegwa_caw 72>,
			 <&tegwa_caw 74>;
		weset-names = "pex", "afi", "pcie_x";
		status = "disabwed";

		pci@1,0 {
			device_type = "pci";
			assigned-addwesses = <0x82000800 0 0x01000000 0 0x1000>;
			weg = <0x000800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <4>;
		};

		pci@2,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001000 0 0x01001000 0 0x1000>;
			weg = <0x001000 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <1>;
		};
	};

Boawd DTS:

	pcie-contwowwew@1003000 {
		status = "okay";

		avdd-pww-uewefe-suppwy = <&avdd_1v05_pww>;
		hvddio-pex-suppwy = <&vdd_1v8>;
		dvddio-pex-suppwy = <&vdd_pex_1v05>;
		dvdd-pex-pww-suppwy = <&vdd_pex_1v05>;
		hvdd-pex-pww-e-suppwy = <&vdd_1v8>;
		vddio-pex-ctw-suppwy = <&vdd_1v8>;

		pci@1,0 {
			phys = <&{/padctw@7009f000/pads/pcie/wanes/pcie-0}>,
			       <&{/padctw@7009f000/pads/pcie/wanes/pcie-1}>,
			       <&{/padctw@7009f000/pads/pcie/wanes/pcie-2}>,
			       <&{/padctw@7009f000/pads/pcie/wanes/pcie-3}>;
			phy-names = "pcie-0", "pcie-1", "pcie-2", "pcie-3";
			status = "okay";
		};

		pci@2,0 {
			phys = <&{/padctw@7009f000/pads/pcie/wanes/pcie-4}>;
			phy-names = "pcie-0";
			status = "okay";
		};
	};

Tegwa186:
---------

SoC DTSI:

	pcie@10003000 {
		compatibwe = "nvidia,tegwa186-pcie";
		powew-domains = <&bpmp TEGWA186_POWEW_DOMAIN_PCX>;
		device_type = "pci";
		weg = <0x0 0x10003000 0x0 0x00000800   /* PADS wegistews */
		       0x0 0x10003800 0x0 0x00000800   /* AFI wegistews */
		       0x0 0x40000000 0x0 0x10000000>; /* configuwation space */
		weg-names = "pads", "afi", "cs";

		intewwupts = <GIC_SPI 72 IWQ_TYPE_WEVEW_HIGH>, /* contwowwew intewwupt */
			     <GIC_SPI 73 IWQ_TYPE_WEVEW_HIGH>; /* MSI intewwupt */
		intewwupt-names = "intw", "msi";

		#intewwupt-cewws = <1>;
		intewwupt-map-mask = <0 0 0 0>;
		intewwupt-map = <0 0 0 0 &gic GIC_SPI 72 IWQ_TYPE_WEVEW_HIGH>;

		bus-wange = <0x00 0xff>;
		#addwess-cewws = <3>;
		#size-cewws = <2>;

		wanges = <0x82000000 0 0x10000000 0x0 0x10000000 0 0x00001000   /* powt 0 configuwation space */
			  0x82000000 0 0x10001000 0x0 0x10001000 0 0x00001000   /* powt 1 configuwation space */
			  0x82000000 0 0x10004000 0x0 0x10004000 0 0x00001000   /* powt 2 configuwation space */
			  0x81000000 0 0x0        0x0 0x50000000 0 0x00010000   /* downstweam I/O (64 KiB) */
			  0x82000000 0 0x50100000 0x0 0x50100000 0 0x07F00000   /* non-pwefetchabwe memowy (127 MiB) */
			  0xc2000000 0 0x58000000 0x0 0x58000000 0 0x28000000>; /* pwefetchabwe memowy (640 MiB) */

		cwocks = <&bpmp TEGWA186_CWK_AFI>,
			 <&bpmp TEGWA186_CWK_PCIE>,
			 <&bpmp TEGWA186_CWK_PWWE>;
		cwock-names = "afi", "pex", "pww_e";

		wesets = <&bpmp TEGWA186_WESET_AFI>,
			 <&bpmp TEGWA186_WESET_PCIE>,
			 <&bpmp TEGWA186_WESET_PCIEXCWK>;
		weset-names = "afi", "pex", "pcie_x";

		status = "disabwed";

		pci@1,0 {
			device_type = "pci";
			assigned-addwesses = <0x82000800 0 0x10000000 0 0x1000>;
			weg = <0x000800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <2>;
		};

		pci@2,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001000 0 0x10001000 0 0x1000>;
			weg = <0x001000 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <1>;
		};

		pci@3,0 {
			device_type = "pci";
			assigned-addwesses = <0x82001800 0 0x10004000 0 0x1000>;
			weg = <0x001800 0 0 0 0>;
			status = "disabwed";

			#addwess-cewws = <3>;
			#size-cewws = <2>;
			wanges;

			nvidia,num-wanes = <1>;
		};
	};

Boawd DTS:

	pcie@10003000 {
		status = "okay";

		dvdd-pex-suppwy = <&vdd_pex>;
		hvdd-pex-pww-suppwy = <&vdd_1v8>;
		hvdd-pex-suppwy = <&vdd_1v8>;
		vddio-pexctw-aud-suppwy = <&vdd_1v8>;

		pci@1,0 {
			nvidia,num-wanes = <4>;
			status = "okay";
		};

		pci@2,0 {
			nvidia,num-wanes = <0>;
			status = "disabwed";
		};

		pci@3,0 {
			nvidia,num-wanes = <1>;
			status = "disabwed";
		};
	};
