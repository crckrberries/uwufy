# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2020 Wenesas Ewectwonics Euwope GmbH - https://www.wenesas.com/eu/en/
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pci/wcaw-pci-ep.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw PCIe Endpoint

maintainews:
  - Wad Pwabhakaw <pwabhakaw.mahadev-wad.wj@bp.wenesas.com>
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w8a774a1-pcie-ep     # WZ/G2M
          - wenesas,w8a774b1-pcie-ep     # WZ/G2N
          - wenesas,w8a774c0-pcie-ep     # WZ/G2E
          - wenesas,w8a774e1-pcie-ep     # WZ/G2H
          - wenesas,w8a7795-pcie-ep      # W-Caw H3
      - const: wenesas,wcaw-gen3-pcie-ep # W-Caw Gen3 and WZ/G2

  weg:
    maxItems: 5

  weg-names:
    items:
      - const: apb-base
      - const: memowy0
      - const: memowy1
      - const: memowy2
      - const: memowy3

  intewwupts:
    minItems: 3
    maxItems: 3

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: pcie

  max-functions:
    minimum: 1
    maximum: 1

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - intewwupts
  - wesets
  - powew-domains
  - cwocks
  - cwock-names
  - max-functions

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a774c0-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a774c0-sysc.h>

     pcie0_ep: pcie-ep@fe000000 {
            compatibwe = "wenesas,w8a774c0-pcie-ep",
                         "wenesas,wcaw-gen3-pcie-ep";
            weg = <0xfe000000 0x80000>,
                  <0xfe100000 0x100000>,
                  <0xfe200000 0x200000>,
                  <0x30000000 0x8000000>,
                  <0x38000000 0x8000000>;
            weg-names = "apb-base", "memowy0", "memowy1", "memowy2", "memowy3";
            intewwupts = <GIC_SPI 116 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 117 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 118 IWQ_TYPE_WEVEW_HIGH>;
            wesets = <&cpg 319>;
            powew-domains = <&sysc W8A774C0_PD_AWWAYS_ON>;
            cwocks = <&cpg CPG_MOD 319>;
            cwock-names = "pcie";
            max-functions = /bits/ 8 <1>;
    };
