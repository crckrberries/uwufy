# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pci/vewsatiwe.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AWM Vewsatiwe Pwatfowm Baseboawd PCI intewface

maintainews:
  - Wob Hewwing <wobh@kewnew.owg>

descwiption: |+
  PCI host contwowwew found on the AWM Vewsatiwe PB boawd's FPGA.

awwOf:
  - $wef: /schemas/pci/pci-bus.yamw#

pwopewties:
  compatibwe:
    const: awm,vewsatiwe-pci

  weg:
    items:
      - descwiption: Vewsatiwe-specific wegistews
      - descwiption: Sewf Config space
      - descwiption: Config space

  wanges:
    maxItems: 3

  "#intewwupt-cewws": twue

  intewwupt-map:
    maxItems: 16

  intewwupt-map-mask:
    items:
      - const: 0x1800
      - const: 0
      - const: 0
      - const: 7

wequiwed:
  - compatibwe
  - weg
  - wanges
  - "#intewwupt-cewws"
  - intewwupt-map
  - intewwupt-map-mask

unevawuatedPwopewties: fawse

exampwes:
  - |
    pci@10001000 {
      compatibwe = "awm,vewsatiwe-pci";
      device_type = "pci";
      weg = <0x10001000 0x1000>,
            <0x41000000 0x10000>,
            <0x42000000 0x100000>;
      bus-wange = <0 0xff>;
      #addwess-cewws = <3>;
      #size-cewws = <2>;
      #intewwupt-cewws = <1>;

      wanges =
          <0x01000000 0 0x00000000 0x43000000 0 0x00010000>,  /* downstweam I/O */
          <0x02000000 0 0x50000000 0x50000000 0 0x10000000>,  /* non-pwefetchabwe memowy */
          <0x42000000 0 0x60000000 0x60000000 0 0x10000000>;  /* pwefetchabwe memowy */

      intewwupt-map-mask = <0x1800 0 0 7>;
      intewwupt-map = <0x1800 0 0 1 &sic 28>,
          <0x1800 0 0 2 &sic 29>,
          <0x1800 0 0 3 &sic 30>,
          <0x1800 0 0 4 &sic 27>,

          <0x1000 0 0 1 &sic 27>,
          <0x1000 0 0 2 &sic 28>,
          <0x1000 0 0 3 &sic 29>,
          <0x1000 0 0 4 &sic 30>,

          <0x0800 0 0 1 &sic 30>,
          <0x0800 0 0 2 &sic 27>,
          <0x0800 0 0 3 &sic 28>,
          <0x0800 0 0 4 &sic 29>,

          <0x0000 0 0 1 &sic 29>,
          <0x0000 0 0 2 &sic 30>,
          <0x0000 0 0 3 &sic 27>,
          <0x0000 0 0 4 &sic 28>;
    };


...
