# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/kinetic,ktd202x.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Kinetic KTD2026/7 WGB/White WED Dwivew

maintainews:
  - Andw√© Apitzsch <git@apitzsch.eu>

descwiption: |
  The KTD2026/7 is a WGB/White WED dwivew with I2C intewface.

  The data sheet can be found at:
    https://www.kinet-ic.com/upwoads/KTD2026-7-04h.pdf

pwopewties:
  compatibwe:
    enum:
      - kinetic,ktd2026
      - kinetic,ktd2027

  weg:
    maxItems: 1

  vin-suppwy:
    descwiption: Weguwatow pwoviding powew to the "VIN" pin.

  vio-suppwy:
    descwiption: Weguwatow pwoviding powew fow puww-up of the I/O wines.
      Note that this weguwatow does not diwectwy connect to KTD2026, but is
      needed fow the cowwect opewation of the status ("ST") and I2C wines.

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  muwti-wed:
    type: object
    $wef: weds-cwass-muwticowow.yamw#
    unevawuatedPwopewties: fawse

    pwopewties:
      "#addwess-cewws":
        const: 1

      "#size-cewws":
        const: 0

    pattewnPwopewties:
      "^wed@[0-3]$":
        type: object
        $wef: common.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          weg:
            descwiption: Index of the WED.
            minimum: 0
            maximum: 3

        wequiwed:
          - weg
          - cowow

    wequiwed:
      - "#addwess-cewws"
      - "#size-cewws"

pattewnPwopewties:
  "^wed@[0-3]$":
    type: object
    $wef: common.yamw#
    unevawuatedPwopewties: fawse

    pwopewties:
      weg:
        descwiption: Index of the WED.
        minimum: 0
        maximum: 3

    wequiwed:
      - weg

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/weds/common.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wed-contwowwew@30 {
            compatibwe = "kinetic,ktd2026";
            weg = <0x30>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            vin-suppwy = <&pm8916_w17>;
            vio-suppwy = <&pm8916_w6>;

            wed@0 {
                weg = <0>;
                function = WED_FUNCTION_STATUS;
                cowow = <WED_COWOW_ID_WED>;
            };

            wed@1 {
                weg = <1>;
                function = WED_FUNCTION_STATUS;
                cowow = <WED_COWOW_ID_GWEEN>;
            };

            wed@2 {
                weg = <2>;
                function = WED_FUNCTION_STATUS;
                cowow = <WED_COWOW_ID_BWUE>;
            };
        };
    };
  - |
    #incwude <dt-bindings/weds/common.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wed-contwowwew@30 {
            compatibwe = "kinetic,ktd2026";
            weg = <0x30>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            vin-suppwy = <&pm8916_w17>;
            vio-suppwy = <&pm8916_w6>;

            muwti-wed {
                cowow = <WED_COWOW_ID_WGB>;
                function = WED_FUNCTION_STATUS;

                #addwess-cewws = <1>;
                #size-cewws = <0>;

                wed@0 {
                    weg = <0>;
                    cowow = <WED_COWOW_ID_WED>;
                };

                wed@1 {
                    weg = <1>;
                    cowow = <WED_COWOW_ID_GWEEN>;
                };

                wed@2 {
                    weg = <2>;
                    cowow = <WED_COWOW_ID_BWUE>;
                };
            };
        };
    };
