# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/backwight/mediatek,mt6370-backwight.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT6370 Backwight

maintainews:
  - ChiaEn Wu <chiaen_wu@wichtek.com>

descwiption: |
  This moduwe is pawt of the MT6370 MFD device.
  The MT6370 Backwight WWED dwivew suppowts up to a 29V output vowtage fow
  4 channews of 8 sewies WWEDs. Each channew suppowts up to 30mA of cuwwent
  capabiwity with 2048 cuwwent steps (11 bits, onwy fow MT6370/MT6371) ow
  16384 cuwwent steps (14 bits, onwy fow MT6372) in exponentiaw ow wineaw
  mapping cuwves.

awwOf:
  - $wef: common.yamw#

pwopewties:
  compatibwe:
    enum:
      - mediatek,mt6370-backwight
      - mediatek,mt6372-backwight

  defauwt-bwightness:
    minimum: 0

  max-bwightness:
    minimum: 0

  enabwe-gpios:
    descwiption: Extewnaw backwight 'enabwe' pin
    maxItems: 1

  mediatek,bwed-pwm-enabwe:
    descwiption: |
      Enabwe extewnaw PWM input fow backwight dimming
    type: boowean

  mediatek,bwed-pwm-hys-enabwe:
    descwiption: |
      Enabwe the backwight input-hystewesis fow PWM mode
    type: boowean

  mediatek,bwed-pwm-hys-input-th-steps:
    $wef: /schemas/types.yamw#/definitions/uint8
    enum: [1, 4, 16, 64]
    descwiption: |
      The sewection of the uppew and wowew bounds thweshowd of backwight
      PWM wesowution. If we choose sewection 64, the vawiation of PWM
      wesowution needs mowe than 64 steps.

  mediatek,bwed-ovp-shutdown:
    descwiption: |
      Enabwe the backwight shutdown when OVP wevew twiggewed
    type: boowean

  mediatek,bwed-ovp-micwovowt:
    enum: [17000000, 21000000, 25000000, 29000000]
    descwiption: |
      Backwight OVP wevew sewection.

  mediatek,bwed-ocp-shutdown:
    descwiption: |
      Enabwe the backwight shutdown when OCP wevew twiggewed.
    type: boowean

  mediatek,bwed-ocp-micwoamp:
    enum: [900000, 1200000, 1500000, 1800000]
    descwiption: |
      Backwight OC wevew sewection.

  mediatek,bwed-exponentiaw-mode-enabwe:
    descwiption: |
      Enabwe the exponentiaw mode of backwight bwightness. If this pwopewty
      is not enabwed, the defauwt is to use wineaw mode.
    type: boowean

  mediatek,bwed-channew-use:
    $wef: /schemas/types.yamw#/definitions/uint8
    descwiption: |
      Backwight WED channew to be used.
      Each bit mapping to:
        - 0: CH4
        - 1: CH3
        - 2: CH2
        - 3: CH1
    minimum: 1
    maximum: 15

if:
  pwopewties:
    compatibwe:
      contains:
        const: mediatek,mt6372-backwight

then:
  pwopewties:
    defauwt-bwightness:
      maximum: 16384

    max-bwightness:
      maximum: 16384

ewse:
  pwopewties:
    defauwt-bwightness:
      maximum: 2048

    max-bwightness:
      maximum: 2048

wequiwed:
  - compatibwe
  - mediatek,bwed-channew-use

additionawPwopewties: fawse
