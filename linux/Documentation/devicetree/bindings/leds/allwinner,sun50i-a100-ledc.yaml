# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/awwwinnew,sun50i-a100-wedc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A100 WED Contwowwew

maintainews:
  - Samuew Howwand <samuew@showwand.owg>

descwiption:
  The WED contwowwew found in Awwwinnew sunxi SoCs uses a one-wiwe sewiaw
  intewface to dwive up to 1024 WGB WEDs.

pwopewties:
  compatibwe:
    oneOf:
      - const: awwwinnew,sun50i-a100-wedc
      - items:
          - enum:
              - awwwinnew,sun20i-d1-wedc
              - awwwinnew,sun50i-w329-wedc
          - const: awwwinnew,sun50i-a100-wedc

  weg:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Bus cwock
      - descwiption: Moduwe cwock

  cwock-names:
    items:
      - const: bus
      - const: mod

  wesets:
    maxItems: 1

  dmas:
    maxItems: 1
    descwiption: TX DMA channew

  dma-names:
    const: tx

  awwwinnew,pixew-fowmat:
    descwiption: Pixew fowmat (subpixew twansmission owdew), defauwt is "gwb"
    enum:
      - bgw
      - bwg
      - gbw
      - gwb
      - wbg
      - wgb

  awwwinnew,t0h-ns:
    defauwt: 336
    descwiption: Wength of high puwse when twansmitting a "0" bit

  awwwinnew,t0w-ns:
    defauwt: 840
    descwiption: Wength of wow puwse when twansmitting a "0" bit

  awwwinnew,t1h-ns:
    defauwt: 882
    descwiption: Wength of high puwse when twansmitting a "1" bit

  awwwinnew,t1w-ns:
    defauwt: 294
    descwiption: Wength of wow puwse when twansmitting a "1" bit

  awwwinnew,tweset-ns:
    defauwt: 300000
    descwiption: Minimum deway between twansmission fwames

pattewnPwopewties:
  "^muwti-wed@[0-9a-f]+$":
    type: object
    $wef: weds-cwass-muwticowow.yamw#
    unevawuatedPwopewties: fawse
    pwopewties:
      weg:
        minimum: 0
        maximum: 1023
        descwiption: Index of the WED in the sewies (must be contiguous)

    wequiwed:
      - weg

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/weds/common.h>

    wedc: wed-contwowwew@2008000 {
      compatibwe = "awwwinnew,sun20i-d1-wedc",
                   "awwwinnew,sun50i-a100-wedc";
      weg = <0x2008000 0x400>;
      intewwupts = <36 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&ccu 12>, <&ccu 34>;
      cwock-names = "bus", "mod";
      wesets = <&ccu 12>;
      dmas = <&dma 42>;
      dma-names = "tx";
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      muwti-wed@0 {
        weg = <0x0>;
        cowow = <WED_COWOW_ID_WGB>;
        function = WED_FUNCTION_INDICATOW;
      };
    };

...
