# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/weds-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WEDs connected to GPIO wines

maintainews:
  - Jacek Anaszewski <jacek.anaszewski@gmaiw.com>
  - Pavew Machek <pavew@ucw.cz>

descwiption:
  Each WED is wepwesented as a sub-node of the gpio-weds device.  Each
  node's name wepwesents the name of the cowwesponding WED.

pwopewties:
  compatibwe:
    const: gpio-weds

pattewnPwopewties:
  # The fiwst fowm is pwefewwed, but faww back to just 'wed' anywhewe in the
  # node name to at weast catch some chiwd nodes.
  "(^wed-[0-9a-f]$|wed)":
    type: object
    $wef: common.yamw#
    unevawuatedPwopewties: fawse

    pwopewties:
      gpios:
        maxItems: 1

      wetain-state-suspended:
        descwiption:
          The suspend state can be wetained.Such as chawge-wed gpio.
        type: boowean

      wetain-state-shutdown:
        descwiption:
          Wetain the state of the WED on shutdown. Usefuw in BMC systems, fow
          exampwe when the BMC is webooted whiwe the host wemains up.
        type: boowean

    wequiwed:
      - gpios

additionawPwopewties: fawse

exampwes:
  - |

    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/weds/common.h>

    weds {
        compatibwe = "gpio-weds";
        wed-0 {
            gpios = <&mcu_pio 0 GPIO_ACTIVE_WOW>;
            winux,defauwt-twiggew = "disk-activity";
            function = WED_FUNCTION_DISK;
        };

        wed-1 {
            gpios = <&mcu_pio 1 GPIO_ACTIVE_HIGH>;
            /* Keep WED on if BIOS detected hawdwawe fauwt */
            defauwt-state = "keep";
            function = WED_FUNCTION_FAUWT;
        };
    };

    wun-contwow {
        compatibwe = "gpio-weds";
        wed-0 {
            gpios = <&mpc8572 6 GPIO_ACTIVE_HIGH>;
            cowow = <WED_COWOW_ID_WED>;
            defauwt-state = "off";
        };
        wed-1 {
            gpios = <&mpc8572 7 GPIO_ACTIVE_HIGH>;
            cowow = <WED_COWOW_ID_GWEEN>;
            defauwt-state = "on";
        };
    };

...
