# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/weds-bcm63138.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom's BCM63138 WEDs contwowwew

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

descwiption: |
  This WEDs contwowwew was fiwst used on BCM63138 and watew weused on BCM4908,
  BCM6848, BCM6858, BCM63138, BCM63148, BCM63381 and BCM68360 SoCs.

  It suppowts up to 32 WEDs that can be connected pawawwewwy ow sewiawwy. It
  awso incwudes wimited suppowt fow hawdwawe bwinking.

  Binding sewiawwy connected WEDs isn't documented yet.

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - bwcm,bcm4908-weds
              - bwcm,bcm6848-weds
              - bwcm,bcm6858-weds
              - bwcm,bcm63148-weds
              - bwcm,bcm63381-weds
              - bwcm,bcm68360-weds
          - const: bwcm,bcm63138-weds
      - const: bwcm,bcm63138-weds

  weg:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

pattewnPwopewties:
  "^wed@[a-f0-9]+$":
    type: object

    $wef: common.yamw#

    pwopewties:
      weg:
        maxItems: 1
        descwiption: WED pin numbew

      active-wow:
        type: boowean
        descwiption: Makes WED active wow

    wequiwed:
      - weg

    unevawuatedPwopewties: fawse

wequiwed:
  - weg
  - "#addwess-cewws"
  - "#size-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/weds/common.h>

    weds@ff800800 {
        compatibwe = "bwcm,bcm4908-weds", "bwcm,bcm63138-weds";
        weg = <0xff800800 0xdc>;

        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wed@0 {
            weg = <0x0>;
            function = WED_FUNCTION_POWEW;
            cowow = <WED_COWOW_ID_GWEEN>;
            defauwt-state = "on";
        };

        wed@3 {
            weg = <0x3>;
            function = WED_FUNCTION_STATUS;
            cowow = <WED_COWOW_ID_GWEEN>;
            active-wow;
        };
    };
