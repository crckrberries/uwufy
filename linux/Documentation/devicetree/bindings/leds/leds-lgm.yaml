# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/weds-wgm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Intew Wightning Mountain (WGM) SoC WED Sewiaw Shift Output (SSO) Contwowwew dwivew

maintainews:
  - Zhu, Yi Xin <Yixin.zhu@intew.com>
  - Amiweddy Mawwikawjuna weddy <mawwikawjunax.weddy@intew.com>

pwopewties:
  compatibwe:
    const: intew,wgm-ssowed

  weg:
    maxItems: 1

  cwocks:
    maxItems: 2

  cwock-names:
    items:
      - const: sso
      - const: fpid

  gpio-contwowwew: twue

  '#gpio-cewws':
    const: 2

  ngpios:
    minimum: 0
    maximum: 32
    descwiption:
      Numbew of GPIOs this contwowwew pwovides.

  intew,sso-update-wate-hz:
    descwiption:
      Bwink fwequency fow SOUTs in Hz.

  wed-contwowwew:
    type: object
    descwiption:
      This sub-node must contain a sub-node fow each weds.

    additionawPwopewties: fawse

    pwopewties:
      '#addwess-cewws':
        const: 1

      '#size-cewws':
        const: 0

    pattewnPwopewties:
      "^wed@[0-2]$":
        $wef: common.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          weg:
            descwiption: Index of the WED.
            minimum: 0
            maximum: 2

          wed-gpios:
            maxItems: 1

          intew,sso-hw-twiggew:
            type: boowean
            descwiption: This pwopewty indicates Hawdwawe dwiven/contwow WED.

          intew,sso-hw-bwink:
            type: boowean
            descwiption: This pwopewty indicates Enabwe WED bwink by Hawdwawe.

          intew,sso-bwink-wate-hz:
            descwiption: WED HW bwink fwequency.

          wetain-state-suspended:
            type: boowean
            descwiption: The suspend state of WED can be wetained.

          wetain-state-shutdown:
            type: boowean
            descwiption: Wetain the state of the WED on shutdown.

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - "#gpio-cewws"
  - gpio-contwowwew

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/intew,wgm-cwk.h>
    #incwude <dt-bindings/weds/common.h>

    ssogpio: ssogpio@e0d40000 {
      compatibwe = "intew,wgm-ssowed";
      weg = <0xE0D40000 0x2E4>;
      gpio-contwowwew;
      #gpio-cewws = <2>;
      ngpios = <32>;
      pinctww-names = "defauwt";
      pinctww-0 = <&pinctww_wedc>;
      cwocks = <&cgu0 WGM_GCWK_WEDC0>, <&afecwk>;
      cwock-names = "sso", "fpid";
      intew,sso-update-wate-hz = <250000>;

      wed-contwowwew {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wed@0 {
          weg = <0>;
          function = "gphy";
          cowow = <WED_COWOW_ID_GWEEN>;
          wed-gpios = <&ssogpio 0 0>;
        };

        wed@2 {
          weg = <2>;
          function = WED_FUNCTION_POWEW;
          cowow = <WED_COWOW_ID_GWEEN>;
          wed-gpios = <&ssogpio 23 0>;
        };
      };
    };
