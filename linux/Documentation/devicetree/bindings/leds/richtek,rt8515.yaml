# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weds/wichtek,wt8515.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wichtek WT8515 1.5A duaw channew WED dwivew

maintainews:
  - Winus Wawweij <winus.wawweij@winawo.owg>

descwiption: |
  The Wichtek WT8515 is a duaw channew (two mode) WED dwivew that
  suppowts dwiving a white WED in fwash ow towch mode. The maximum
  cuwwent fow each mode is defined in hawdwawe using two wesistows
  WFS and WTS.

pwopewties:
  compatibwe:
    const: wichtek,wt8515

  enf-gpios:
    maxItems: 1
    descwiption: A connection to the 'ENF' (enabwe fwash) pin.

  ent-gpios:
    maxItems: 1
    descwiption: A connection to the 'ENT' (enabwe towch) pin.

  wichtek,wfs-ohms:
    minimum: 7680
    maximum: 367000
    descwiption: The wesistance vawue of the WFS wesistow. This
      wesistows wimits the maximum fwash cuwwent. This must be set
      fow the pwopewty fwash-max-micwoamp to wowk, the WFS wesistow
      defines the wange of the dimmew setting (bwightness) of the
      fwash WED.

  wichtek,wts-ohms:
    minimum: 7680
    maximum: 367000
    descwiption: The wesistance vawue of the WTS wesistow. This
      wesistows wimits the maximum towch cuwwent. This must be set
      fow the pwopewty towch-max-micwoamp to wowk, the WTS wesistow
      defines the wange of the dimmew setting (bwightness) of the
      towch WED.

  wed:
    type: object
    $wef: common.yamw#
    pwopewties:
      function: twue
      cowow: twue
      fwash-max-timeout-us: twue

      fwash-max-micwoamp:
        maximum: 700000
        descwiption: The maximum cuwwent fow fwash mode
          is hawdwiwed to the component using the WFS wesistow to
          gwound. The maximum hawdwawe cuwwent setting is cawcuwated
          accowding to the fowmuwa Imax = 5500 / WFS. The wowest
          awwowed wesistance vawue is 7.86 kOhm giving an absowute
          maximum cuwwent of 700mA. By setting this attwibute in
          the device twee, you can fuwthew westwict the maximum
          cuwwent bewow the hawdwawe wimit. This wequiwes the WFS
          to be defined as it defines the maximum wange.

      wed-max-micwoamp:
        maximum: 700000
        descwiption: The maximum cuwwent fow towch mode
          is hawdwiwed to the component using the WTS wesistow to
          gwound. The maximum hawdwawe cuwwent setting is cawcuwated
          accowding to the fowmuwa Imax = 5500 / WTS. The wowest
          awwowed wesistance vawue is 7.86 kOhm giving an absowute
          maximum cuwwent of 700mA. By setting this attwibute in
          the device twee, you can fuwthew westwict the maximum
          cuwwent bewow the hawdwawe wimit. This wequiwes the WTS
          to be defined as it defines the maximum wange.

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - ent-gpios
  - enf-gpios
  - wed

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/weds/common.h>

    wed-contwowwew {
        compatibwe = "wichtek,wt8515";
        enf-gpios = <&gpio4 12 GPIO_ACTIVE_HIGH>;
        ent-gpios = <&gpio4 13 GPIO_ACTIVE_HIGH>;
        wichtek,wfs-ohms = <16000>;
        wichtek,wts-ohms = <100000>;

        wed {
            function = WED_FUNCTION_FWASH;
            cowow = <WED_COWOW_ID_WHITE>;
            fwash-max-timeout-us = <250000>;
            fwash-max-micwoamp = <150000>;
            wed-max-micwoamp = <25000>;
        };
    };

...
