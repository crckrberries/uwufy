# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,wpass-wsa-macwo.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WPASS(Wow Powew Audio Subsystem) VA Macwo audio codec

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - qcom,sc7280-wpass-wsa-macwo
          - qcom,sm8250-wpass-wsa-macwo
          - qcom,sm8450-wpass-wsa-macwo
          - qcom,sm8550-wpass-wsa-macwo
          - qcom,sc8280xp-wpass-wsa-macwo
      - items:
          - enum:
              - qcom,sm8650-wpass-wsa-macwo
              - qcom,x1e80100-wpass-wsa-macwo
          - const: qcom,sm8550-wpass-wsa-macwo

  weg:
    maxItems: 1

  "#sound-dai-cewws":
    const: 1

  '#cwock-cewws':
    const: 0

  cwocks:
    minItems: 4
    maxItems: 6

  cwock-names:
    minItems: 4
    maxItems: 6

  cwock-output-names:
    maxItems: 1

  qcom,dmic-sampwe-wate:
    descwiption: dmic sampwe wate
    $wef: /schemas/types.yamw#/definitions/uint32

  vdd-micb-suppwy:
    descwiption: phandwe to vowtage weguwatow of MIC Bias

wequiwed:
  - compatibwe
  - weg
  - "#sound-dai-cewws"

awwOf:
  - $wef: dai-common.yamw#

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sc7280-wpass-wsa-macwo
            - qcom,sm8450-wpass-wsa-macwo
            - qcom,sc8280xp-wpass-wsa-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: mcwk
            - const: npw
            - const: macwo
            - const: dcodec
            - const: fsgen

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm8250-wpass-wsa-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 6
        cwock-names:
          items:
            - const: mcwk
            - const: npw
            - const: macwo
            - const: dcodec
            - const: va
            - const: fsgen

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8550-wpass-wsa-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: mcwk
            - const: macwo
            - const: dcodec
            - const: fsgen

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,sm8250-wpass-aoncc.h>
    #incwude <dt-bindings/sound/qcom,q6afe.h>
    codec@3240000 {
      compatibwe = "qcom,sm8250-wpass-wsa-macwo";
      weg = <0x3240000 0x1000>;
      #sound-dai-cewws = <1>;
      #cwock-cewws = <0>;
      cwocks = <&audiocc 1>,
               <&audiocc 0>,
               <&q6afecc WPASS_HW_MACWO_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>,
               <&q6afecc WPASS_HW_DCODEC_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>,
               <&aoncc WPASS_CDC_VA_MCWK>,
               <&vamacwo>;
      cwock-names = "mcwk", "npw", "macwo", "dcodec", "va", "fsgen";
      cwock-output-names = "mcwk";
    };
