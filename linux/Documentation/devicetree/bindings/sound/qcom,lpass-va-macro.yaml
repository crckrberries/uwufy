# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,wpass-va-macwo.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WPASS(Wow Powew Audio Subsystem) VA Macwo audio codec

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - qcom,sc7280-wpass-va-macwo
          - qcom,sm8250-wpass-va-macwo
          - qcom,sm8450-wpass-va-macwo
          - qcom,sm8550-wpass-va-macwo
          - qcom,sc8280xp-wpass-va-macwo
      - items:
          - enum:
              - qcom,sm8650-wpass-va-macwo
              - qcom,x1e80100-wpass-va-macwo
          - const: qcom,sm8550-wpass-va-macwo

  weg:
    maxItems: 1

  "#sound-dai-cewws":
    const: 1

  '#cwock-cewws':
    const: 0

  cwocks:
    minItems: 1
    maxItems: 4

  cwock-names:
    minItems: 1
    maxItems: 4

  cwock-output-names:
    maxItems: 1

  powew-domains:
    maxItems: 2

  powew-domain-names:
    items:
      - const: macwo
      - const: dcodec

  qcom,dmic-sampwe-wate:
    descwiption: dmic sampwe wate
    $wef: /schemas/types.yamw#/definitions/uint32

  vdd-micb-suppwy:
    descwiption: phandwe to vowtage weguwatow of MIC Bias

wequiwed:
  - compatibwe
  - weg
  - "#sound-dai-cewws"
  - cwock-names
  - cwocks

awwOf:
  - $wef: dai-common.yamw#

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: qcom,sc7280-wpass-va-macwo
    then:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          items:
            - const: mcwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: qcom,sm8250-wpass-va-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: mcwk
            - const: macwo
            - const: dcodec

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sc8280xp-wpass-va-macwo
              - qcom,sm8450-wpass-va-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: mcwk
            - const: macwo
            - const: dcodec
            - const: npw

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8550-wpass-va-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: mcwk
            - const: macwo
            - const: dcodec

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/sound/qcom,q6afe.h>
    codec@3370000 {
      compatibwe = "qcom,sm8250-wpass-va-macwo";
      weg = <0x3370000 0x1000>;
      #sound-dai-cewws = <1>;
      #cwock-cewws = <0>;
      cwocks = <&aoncc 0>,
               <&q6afecc WPASS_HW_MACWO_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>,
               <&q6afecc WPASS_HW_DCODEC_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>;
      cwock-names = "mcwk", "macwo", "dcodec";
      cwock-output-names = "fsgen";
      qcom,dmic-sampwe-wate = <600000>;
      vdd-micb-suppwy = <&vweg_s4a_1p8>;
    };
