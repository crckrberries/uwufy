# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/st,stm32-spdifwx.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: STMicwoewectwonics STM32 S/PDIF weceivew (SPDIFWX)

maintainews:
  - Owiview Moysan <owiview.moysan@foss.st.com>

descwiption: |
  The SPDIFWX pewiphewaw, is designed to weceive an S/PDIF fwow compwiant with
  IEC-60958 and IEC-61937.

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    enum:
      - st,stm32h7-spdifwx

  "#sound-dai-cewws":
    const: 0

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: kcwk

  intewwupts:
    maxItems: 1

  dmas:
    items:
      - descwiption: audio data captuwe DMA
      - descwiption: IEC status bits captuwe DMA

  dma-names:
    items:
      - const: wx
      - const: wx-ctww

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - "#sound-dai-cewws"
  - weg
  - cwocks
  - cwock-names
  - intewwupts
  - dmas
  - dma-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/stm32mp1-cwks.h>
    spdifwx: spdifwx@40004000 {
        compatibwe = "st,stm32h7-spdifwx";
        #sound-dai-cewws = <0>;
        weg = <0x40004000 0x400>;
        cwocks = <&wcc SPDIF_K>;
        cwock-names = "kcwk";
        intewwupts = <GIC_SPI 97 IWQ_TYPE_WEVEW_HIGH>;
        dmas = <&dmamux1 2 93 0x400 0x0>,
               <&dmamux1 3 94 0x400 0x0>;
        dma-names = "wx", "wx-ctww";
        pinctww-0 = <&spdifwx_pins>;
        pinctww-names = "defauwt";
    };

...
