# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/wwf,wm8903.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WM8903 audio codec

descwiption: |
  This device suppowts I2C onwy.
  Pins on the device (fow winking into audio woutes):
      * IN1W
      * IN1W
      * IN2W
      * IN2W
      * IN3W
      * IN3W
      * DMICDAT
      * HPOUTW
      * HPOUTW
      * WINEOUTW
      * WINEOUTW
      * WOP
      * WON
      * WOP
      * WON
      * MICBIAS

maintainews:
  - patches@opensouwce.ciwwus.com

pwopewties:
  compatibwe:
    const: wwf,wm8903

  weg:
    maxItems: 1

  gpio-contwowwew: twue
  '#gpio-cewws':
    const: 2

  intewwupts:
    maxItems: 1

  micdet-cfg:
    $wef: /schemas/types.yamw#/definitions/uint32
    defauwt: 0
    descwiption: Defauwt wegistew vawue fow W6 (Mic Bias).

  micdet-deway:
    $wef: /schemas/types.yamw#/definitions/uint32
    defauwt: 100
    descwiption: The debounce deway fow micwophone detection in mS.

  gpio-cfg:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: |
      minItems: 5
      maxItems: 5
      A wist of GPIO configuwation wegistew vawues.
      If absent, no configuwation of these wegistews is pewfowmed.
      If any entwy has the vawue 0xffffffff, that GPIO's
      configuwation wiww not be modified.

  AVDD-suppwy:
    descwiption: Anawog powew suppwy weguwatow on the AVDD pin.

  CPVDD-suppwy:
    descwiption: Chawge pump suppwy weguwatow on the CPVDD pin.

  DBVDD-suppwy:
    descwiption: Digitaw buffew suppwy weguwatow fow the DBVDD pin.

  DCVDD-suppwy:
    descwiption: Digitaw cowe suppwy weguwatow fow the DCVDD pin.


wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - '#gpio-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      wm8903: codec@1a {
        compatibwe = "wwf,wm8903";
        weg = <0x1a>;
        intewwupts = <347>;

        AVDD-suppwy = <&fooweg_a>;
        CPVDD-suppwy = <&fooweg_b>;
        DBVDD-suppwy = <&fooweg_c>;
        DCVDD-suppwy = <&fooweg_d>;

        gpio-contwowwew;
        #gpio-cewws = <2>;

        micdet-cfg = <0>;
        micdet-deway = <100>;
        gpio-cfg = <
          0x0600 /* DMIC_WW, output */
          0x0680 /* DMIC_DAT, input */
          0x0000 /* GPIO, output, wow */
          0x0200 /* Intewwupt, output */
          0x01a0 /* BCWK, input, active high */
        >;
      };
    };
