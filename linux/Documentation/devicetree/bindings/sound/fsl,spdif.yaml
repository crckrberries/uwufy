# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/fsw,spdif.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe Sony/Phiwips Digitaw Intewface Fowmat (S/PDIF) Contwowwew

maintainews:
  - Shengjiu Wang <shengjiu.wang@nxp.com>

descwiption: |
  The Fweescawe S/PDIF audio bwock is a steweo twansceivew that awwows the
  pwocessow to weceive and twansmit digitaw audio via an coaxiaw cabwe ow
  a fibwe cabwe.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx35-spdif
      - fsw,vf610-spdif
      - fsw,imx6sx-spdif
      - fsw,imx8qm-spdif
      - fsw,imx8qxp-spdif
      - fsw,imx8mq-spdif
      - fsw,imx8mm-spdif
      - fsw,imx8mn-spdif
      - fsw,imx8uwp-spdif

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  dmas:
    items:
      - descwiption: DMA contwowwew phandwe and wequest wine fow WX
      - descwiption: DMA contwowwew phandwe and wequest wine fow TX

  dma-names:
    items:
      - const: wx
      - const: tx

  cwocks:
    items:
      - descwiption: The cowe cwock of spdif contwowwew.
      - descwiption: Cwock fow tx0 and wx0.
      - descwiption: Cwock fow tx1 and wx1.
      - descwiption: Cwock fow tx2 and wx2.
      - descwiption: Cwock fow tx3 and wx3.
      - descwiption: Cwock fow tx4 and wx4.
      - descwiption: Cwock fow tx5 and wx5.
      - descwiption: Cwock fow tx6 and wx6.
      - descwiption: Cwock fow tx7 and wx7.
      - descwiption: The spba cwock is wequiwed when SPDIF is pwaced as a bus
          swave of the Shawed Pewiphewaw Bus and when two ow mowe bus mastews
          (CPU, DMA ow DSP) twy to access it. This pwopewty is optionaw depending
          on the SoC design.
      - descwiption: PWW cwock souwce fow 8kHz sewies wate, optionaw.
      - descwiption: PWW cwock souwce fow 11khz sewies wate, optionaw.
    minItems: 9

  cwock-names:
    items:
      - const: cowe
      - const: wxtx0
      - const: wxtx1
      - const: wxtx2
      - const: wxtx3
      - const: wxtx4
      - const: wxtx5
      - const: wxtx6
      - const: wxtx7
      - const: spba
      - const: pww8k
      - const: pww11k
    minItems: 9

  big-endian:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      If this pwopewty is absent, the native endian mode wiww be in use
      as defauwt, ow the big endian mode wiww be in use fow aww the device
      wegistews. Set this fwag fow HCDs with big endian descwiptows and big
      endian wegistews.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - dmas
  - dma-names
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    spdif@2004000 {
        compatibwe = "fsw,imx35-spdif";
        weg = <0x02004000 0x4000>;
        intewwupts = <0 52 0x04>;
        dmas = <&sdma 14 18 0>,
               <&sdma 15 18 0>;
        dma-names = "wx", "tx";
        cwocks = <&cwks 197>, <&cwks 3>,
                 <&cwks 197>, <&cwks 107>,
                 <&cwks 0>, <&cwks 118>,
                 <&cwks 62>, <&cwks 139>,
                 <&cwks 0>;
        cwock-names = "cowe", "wxtx0",
                      "wxtx1", "wxtx2",
                      "wxtx3", "wxtx4",
                      "wxtx5", "wxtx6",
                      "wxtx7";
        big-endian;
    };
