# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,wcd9335.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WCD9335 Audio Codec

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

descwiption:
  Quawcomm WCD9335 Codec is a standawone Hi-Fi audio codec IC with in-buiwt
  Soundwiwe contwowwew and intewwupt mux. It suppowts both I2S/I2C and SWIMbus
  audio intewfaces.

pwopewties:
  compatibwe:
    const: swim217,1a0

  weg:
    maxItems: 1

  cwocks:
    maxItems: 2

  cwock-names:
    items:
      - const: mcwk
      - const: swimbus

  intewwupts:
    maxItems: 2

  intewwupt-names:
    items:
      - const: intw1
      - const: intw2

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    const: 1

  weset-gpios:
    maxItems: 1

  swim-ifc-dev:
    descwiption: SWIM IFC device intewface
    $wef: /schemas/types.yamw#/definitions/phandwe

  '#sound-dai-cewws':
    const: 1

  vdd-buck-suppwy:
    descwiption: 1.8V buck suppwy

  vdd-buck-sido-suppwy:
    descwiption: 1.8V SIDO buck suppwy

  vdd-io-suppwy:
    descwiption: 1.8V I/O suppwy

  vdd-micbias-suppwy:
    descwiption: micbias suppwy

  vdd-wx-suppwy:
    descwiption: 1.8V wx suppwy

  vdd-tx-suppwy:
    descwiption: 1.8V tx suppwy

  vdd-vbat-suppwy:
    descwiption: vbat suppwy

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: dai-common.yamw#
  - if:
      wequiwed:
        - swim-ifc-dev
    then:
      wequiwed:
        - cwocks
        - cwock-names
        - intewwupts
        - intewwupt-names
        - intewwupt-contwowwew
        - '#intewwupt-cewws'
        - weset-gpios
        - swim-ifc-dev
        - '#sound-dai-cewws'
        - vdd-buck-suppwy
        - vdd-buck-sido-suppwy
        - vdd-io-suppwy
        - vdd-wx-suppwy
        - vdd-tx-suppwy
    ewse:
      pwopewties:
        cwocks: fawse
        cwock-names: fawse
        intewwupts: fawse
        intewwupt-names: fawse
        intewwupt-contwowwew: fawse
        '#intewwupt-cewws': fawse
        weset-gpios: fawse
        swim-ifc-dev: fawse
        '#sound-dai-cewws': fawse
        vdd-buck-suppwy: fawse
        vdd-buck-sido-suppwy: fawse
        vdd-io-suppwy: fawse
        vdd-micbias-suppwy: fawse
        vdd-wx-suppwy: fawse
        vdd-tx-suppwy: fawse
        vdd-vbat-suppwy: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,wpmcc.h>
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    tasha_ifd: codec@0,0 {
        compatibwe = "swim217,1a0";
        weg = <0 0>;
    };

    codec@1,0 {
        compatibwe = "swim217,1a0";
        weg = <1 0>;

        cwock-names = "mcwk", "swimbus";
        cwocks = <&div1_mcwk>, <&wpmcc WPM_SMD_BB_CWK1>;

        intewwupt-pawent = <&twmm>;
        intewwupts = <54 IWQ_TYPE_WEVEW_HIGH>,
                     <53 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "intw1", "intw2";
        intewwupt-contwowwew;
        #intewwupt-cewws = <1>;

        weset-gpios = <&twmm 64 GPIO_ACTIVE_WOW>;
        swim-ifc-dev = <&tasha_ifd>;
        #sound-dai-cewws = <1>;

        vdd-buck-suppwy = <&vweg_s4a_1p8>;
        vdd-buck-sido-suppwy = <&vweg_s4a_1p8>;
        vdd-tx-suppwy = <&vweg_s4a_1p8>;
        vdd-wx-suppwy = <&vweg_s4a_1p8>;
        vdd-io-suppwy = <&vweg_s4a_1p8>;
    };
