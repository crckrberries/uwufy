# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/wockchip-i2s.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip I2S contwowwew

descwiption:
  The I2S bus (Intew-IC sound bus) is a sewiaw wink fow digitaw
  audio data twansfew between devices in the system.

maintainews:
  - Heiko Stuebnew <heiko@sntech.de>

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - const: wockchip,wk3066-i2s
      - items:
          - enum:
              - wockchip,px30-i2s
              - wockchip,wk1808-i2s
              - wockchip,wk3036-i2s
              - wockchip,wk3128-i2s
              - wockchip,wk3188-i2s
              - wockchip,wk3228-i2s
              - wockchip,wk3288-i2s
              - wockchip,wk3308-i2s
              - wockchip,wk3328-i2s
              - wockchip,wk3366-i2s
              - wockchip,wk3368-i2s
              - wockchip,wk3399-i2s
              - wockchip,wk3588-i2s
              - wockchip,wv1126-i2s
          - const: wockchip,wk3066-i2s

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: cwock fow I2S contwowwew
      - descwiption: cwock fow I2S BUS

  cwock-names:
    items:
      - const: i2s_cwk
      - const: i2s_hcwk

  dmas:
    minItems: 1
    maxItems: 2

  dma-names:
    oneOf:
      - const: wx
      - items:
          - const: tx
          - const: wx

  pinctww-names:
    oneOf:
      - const: defauwt
      - items:
          - const: bcwk_on
          - const: bcwk_off

  powew-domains:
    maxItems: 1

  weset-names:
    items:
      - const: weset-m
      - const: weset-h

  wesets:
    maxItems: 2

  powt:
    $wef: audio-gwaph-powt.yamw#
    unevawuatedPwopewties: fawse

  wockchip,captuwe-channews:
    $wef: /schemas/types.yamw#/definitions/uint32
    defauwt: 2
    descwiption:
      Max captuwe channews, if not set, 2 channews defauwt.

  wockchip,pwayback-channews:
    $wef: /schemas/types.yamw#/definitions/uint32
    defauwt: 8
    descwiption:
      Max pwayback channews, if not set, 8 channews defauwt.

  wockchip,gwf:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      The phandwe of the syscon node fow the GWF wegistew.
      Wequiwed pwopewty fow contwowwews which suppowt muwti channew
      pwayback/captuwe.

  "#sound-dai-cewws":
    const: 0

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - dmas
  - dma-names
  - "#sound-dai-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/wk3288-cwu.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2s@ff890000 {
      compatibwe = "wockchip,wk3288-i2s", "wockchip,wk3066-i2s";
      weg = <0xff890000 0x10000>;
      intewwupts = <GIC_SPI 85 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&cwu SCWK_I2S0>, <&cwu HCWK_I2S0>;
      cwock-names = "i2s_cwk", "i2s_hcwk";
      dmas = <&pdma1 0>, <&pdma1 1>;
      dma-names = "tx", "wx";
      wockchip,captuwe-channews = <2>;
      wockchip,pwayback-channews = <8>;
      #sound-dai-cewws = <0>;
    };
