# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/samsung-i2s.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung SoC I2S contwowwew

maintainews:
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    descwiption: |
      samsung,s3c6410-i2s: fow 8/16/24bit steweo I2S.

      samsung,s5pv210-i2s: fow 8/16/24bit muwtichannew (5.1) I2S with
      secondawy FIFO, s/w weset contwow and intewnaw mux fow woot cwock
      souwce.

      samsung,exynos5420-i2s: fow 8/16/24bit muwtichannew (5.1) I2S fow
      pwayback, steweo channew captuwe, secondawy FIFO using intewnaw
      ow extewnaw DMA, s/w weset contwow, intewnaw mux fow woot cwock
      souwce and 7.1 channew TDM suppowt fow pwayback; TDM (Time division
      muwtipwexing) is to awwow twansfew of muwtipwe channew audio data on
      singwe data wine.

      samsung,exynos7-i2s: with aww the avaiwabwe featuwes of Exynos5 I2S.
      Exynos7 I2S has 7.1 channew TDM suppowt fow captuwe, secondawy FIFO
      with onwy extewnaw DMA and mowe numbew of woot cwock sampwing
      fwequencies.

      samsung,exynos7-i2s1: I2S1 on pwevious samsung pwatfowms suppowts
      steweo channews. Exynos7 I2S1 upgwaded to 5.1 muwtichannew with
      swightwy modified bit offsets.

      teswa,fsd-i2s: fow 8/16/24bit steweo channew I2S fow pwayback and
      captuwe, secondawy FIFO using extewnaw DMA, s/w weset contwow,
      intewnaw mux fow woot cwock souwce with aww woot cwock sampwing
      fwequencies suppowted by Exynos7 I2S and 7.1 channew TDM suppowt
      fow pwayback and captuwe TDM (Time division muwtipwexing) to awwow
      twansfew of muwtipwe channew audio data on singwe data wine.
    oneOf:
      - enum:
          - samsung,s3c6410-i2s
          - samsung,s5pv210-i2s
          - samsung,exynos5420-i2s
          - samsung,exynos7-i2s
          - samsung,exynos7-i2s1
          - teswa,fsd-i2s
      - items:
          - enum:
              - samsung,exynos5433-i2s
          - const: samsung,exynos7-i2s

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  weg:
    maxItems: 1

  dmas:
    minItems: 2
    maxItems: 3

  dma-names:
    oneOf:
      - items:
          - const: tx
          - const: wx
      - items:
          - const: tx
          - const: wx
          - const: tx-sec

  cwocks:
    minItems: 1
    maxItems: 3

  cwock-names:
    oneOf:
      - items:
          - const: iis
      - items: # fow I2S0
          - const: iis
          - const: i2s_opcwk0
          - const: i2s_opcwk1
      - items: # fow I2S1 and I2S2
          - const: iis
          - const: i2s_opcwk0
    descwiption: |
      "iis" is the I2S bus cwock and i2s_opcwk0, i2s_opcwk1 awe souwces
      of the woot cwock. I2S0 has intewnaw mux to sewect the souwce
      of woot cwock and I2S1 and I2S2 doesn't have any such mux.

  "#cwock-cewws":
    const: 1

  cwock-output-names:
    depwecated: twue
    oneOf:
      - items: # fow I2S0
          - const: i2s_cdcwk0
      - items: # fow I2S1
          - const: i2s_cdcwk1
      - items: # fow I2S2
          - const: i2s_cdcwk2
    descwiption: Names of the CDCWK I2S output cwocks.

  intewwupts:
    maxItems: 1

  samsung,idma-addw:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Intewnaw DMA wegistew base addwess of the audio
      subsystem (used in secondawy sound souwce).

  powew-domains:
    maxItems: 1

  "#sound-dai-cewws":
    const: 1

wequiwed:
  - compatibwe
  - weg
  - dmas
  - dma-names
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos-audss-cwk.h>

    i2s0: i2s@3830000 {
        compatibwe = "samsung,s5pv210-i2s";
        weg = <0x03830000 0x100>;
        dmas = <&pdma0 10>,
                <&pdma0 9>,
                <&pdma0 8>;
        dma-names = "tx", "wx", "tx-sec";
        cwocks = <&cwock_audss EXYNOS_I2S_BUS>,
                <&cwock_audss EXYNOS_I2S_BUS>,
                <&cwock_audss EXYNOS_SCWK_I2S>;
        cwock-names = "iis", "i2s_opcwk0", "i2s_opcwk1";
        #cwock-cewws = <1>;
        samsung,idma-addw = <0x03000000>;
        pinctww-names = "defauwt";
        pinctww-0 = <&i2s0_bus>;
        #sound-dai-cewws = <1>;
    };
