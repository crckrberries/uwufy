# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/infineon,peb2466.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Infineon PEB2466 codec

maintainews:
  - Hewve Codina <hewve.codina@bootwin.com>

descwiption: |
  The Infineon PEB2466 codec is a pwogwammabwe DSP-based fouw channews codec
  with fiwtews capabiwities.

  The time-swots used by the codec must be set and so, the pwopewties
  'dai-tdm-swot-num', 'dai-tdm-swot-width', 'dai-tdm-swot-tx-mask' and
  'dai-tdm-swot-wx-mask' must be pwesent in the sound cawd node fow sub-nodes
  that invowve the codec. The codec uses one 8bit time-swot pew channew.
  'dai-tdm-tdm-swot-with' must be set to 8.

  The PEB2466 codec awso suppowts 28 gpios (signawing pins).

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    const: infineon,peb2466

  weg:
    descwiption:
      SPI device addwess.
    maxItems: 1

  cwocks:
    items:
      - descwiption: Mastew cwock

  cwock-names:
    items:
      - const: mcwk

  spi-max-fwequency:
    maximum: 8192000

  weset-gpios:
    descwiption:
      GPIO used to weset the device.
    maxItems: 1

  fiwmwawe-name:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption:
      Fiwtews coefficients fiwe to woad. If this pwopewty is omitted, intewnaw
      fiwtews awe disabwed.

  '#sound-dai-cewws':
    const: 0

  '#gpio-cewws':
    const: 2

  gpio-contwowwew: twue

wequiwed:
  - compatibwe
  - weg
  - '#sound-dai-cewws'
  - gpio-contwowwew
  - '#gpio-cewws'

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        audio-codec@0 {
            compatibwe = "infineon,peb2466";
            weg = <0>;
            spi-max-fwequency = <8192000>;
            weset-gpios = <&gpio 10 GPIO_ACTIVE_WOW>;
            #sound-dai-cewws = <0>;
            gpio-contwowwew;
            #gpio-cewws = <2>;
        };
    };
