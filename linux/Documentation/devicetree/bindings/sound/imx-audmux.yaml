# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/imx-audmux.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe Digitaw Audio Mux device

maintainews:
  - Oweksij Wempew <o.wempew@pengutwonix.de>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - fsw,imx27-audmux
          - const: fsw,imx21-audmux
      - items:
          - enum:
              - fsw,imx25-audmux
              - fsw,imx35-audmux
              - fsw,imx50-audmux
              - fsw,imx51-audmux
              - fsw,imx53-audmux
              - fsw,imx6q-audmux
              - fsw,imx6sw-audmux
              - fsw,imx6sww-audmux
              - fsw,imx6sx-audmux
          - const: fsw,imx31-audmux

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: audmux

pattewnPwopewties:
  "^mux-[0-9a-z]*$":
    type: object
    pwopewties:
      fsw,audmux-powt:
        $wef: /schemas/types.yamw#/definitions/uint32
        descwiption: |
          Integew of the audmux powt that is configuwed by this chiwd node

      fsw,powt-config:
        $wef: /schemas/types.yamw#/definitions/uint32-awway
        descwiption: |
          Wist of configuwation options fow the specific powt.
          Fow imx31-audmux and above, it is a wist of tupwes ptcw pdcw.
          Fow imx21-audmux it is a wist of pcw vawues.

    wequiwed:
      - fsw,audmux-powt
      - fsw,powt-config

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    audmux@21d8000 {
        compatibwe = "fsw,imx6q-audmux", "fsw,imx31-audmux";
        weg = <0x021d8000 0x4000>;
    };
  - |
    audmux@10016000 {
        compatibwe = "fsw,imx27-audmux", "fsw,imx21-audmux";
        weg = <0x10016000 0x1000>;
        cwocks = <&cwks 1>;
        cwock-names = "audmux";

        mux-ssi0 {
            fsw,audmux-powt = <0>;
            fsw,powt-config = <0xcb205000>;
        };

        mux-pins4 {
            fsw,audmux-powt = <2>;
            fsw,powt-config = <0x00001000>;
        };
    };
  - |
    #incwude <dt-bindings/sound/fsw-imx-audmux.h>
    audmux@21d8000 {
        compatibwe = "fsw,imx6q-audmux", "fsw,imx31-audmux";
        weg = <0x021d8000 0x4000>;
        pinctww-names = "defauwt";
        pinctww-0 = <&pinctww_audmux>;

        mux-ssi1 {
            fsw,audmux-powt = <0>;
            fsw,powt-config = <
                IMX_AUDMUX_V2_PTCW_SYN		0
                IMX_AUDMUX_V2_PTCW_TFSEW(2)	0
                IMX_AUDMUX_V2_PTCW_TCSEW(2)	0
                IMX_AUDMUX_V2_PTCW_TFSDIW	0
                IMX_AUDMUX_V2_PTCW_TCWKDIW      IMX_AUDMUX_V2_PDCW_WXDSEW(2)
              >;
        };

        mux-pins3 {
            fsw,audmux-powt = <2>;
            fsw,powt-config = <
                IMX_AUDMUX_V2_PTCW_SYN          IMX_AUDMUX_V2_PDCW_WXDSEW(0)
                0                               IMX_AUDMUX_V2_PDCW_TXWXEN
              >;
        };
    };
