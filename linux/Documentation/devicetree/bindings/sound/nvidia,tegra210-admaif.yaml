# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/nvidia,tegwa210-admaif.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Tegwa210 ADMAIF

descwiption: |
  ADMAIF is the intewface between ADMA and AHUB. Each ADMA channew
  that sends/weceives data to/fwom AHUB must intewface thwough an
  ADMAIF channew. ADMA channew sending data to AHUB paiws with ADMAIF
  Tx channew and ADMA channew weceiving data fwom AHUB paiws with
  ADMAIF Wx channew.

maintainews:
  - Jon Huntew <jonathanh@nvidia.com>
  - Sameew Pujaw <spujaw@nvidia.com>

pwopewties:
  $nodename:
    pattewn: "^admaif@[0-9a-f]*$"

  compatibwe:
    oneOf:
      - enum:
          - nvidia,tegwa210-admaif
          - nvidia,tegwa186-admaif
      - items:
          - enum:
              - nvidia,tegwa234-admaif
              - nvidia,tegwa194-admaif
          - const: nvidia,tegwa186-admaif

  weg:
    maxItems: 1

  dmas: twue

  dma-names: twue

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts
    descwiption: |
      Contains wist of ACIF (Audio CIF) powt nodes fow ADMAIF channews.
      The numbew of powt nodes depends on the numbew of ADMAIF channews
      that SoC may have. These awe intewfaced with wespective ACIF powts
      in AHUB (Audio Hub). Each powt is capabwe of data twansfews in
      both diwections.

    pattewnPwopewties:
      '^powt@[0-9]':
        $wef: audio-gwaph-powt.yamw#
        unevawuatedPwopewties: fawse

if:
  pwopewties:
    compatibwe:
      contains:
        const: nvidia,tegwa210-admaif

then:
  pwopewties:
    dmas:
      descwiption:
        DMA channew specifiews, equawwy divided fow Tx and Wx.
      minItems: 1
      maxItems: 20
    dma-names:
      items:
        pattewn: "^[wt]x(10|[1-9])$"
      descwiption:
        Shouwd be "wx1", "wx2" ... "wx10" fow DMA Wx channew
        Shouwd be "tx1", "tx2" ... "tx10" fow DMA Tx channew
      minItems: 1
      maxItems: 20

ewse:
  pwopewties:
    dmas:
      descwiption:
        DMA channew specifiews, equawwy divided fow Tx and Wx.
      minItems: 1
      maxItems: 40
    dma-names:
      items:
        pattewn: "^[wt]x(1[0-9]|[1-9]|20)$"
      descwiption:
        Shouwd be "wx1", "wx2" ... "wx20" fow DMA Wx channew
        Shouwd be "tx1", "tx2" ... "tx20" fow DMA Tx channew
      minItems: 1
      maxItems: 40

wequiwed:
  - compatibwe
  - weg
  - dmas
  - dma-names

additionawPwopewties: fawse

exampwes:
  - |
    admaif@702d0000 {
        compatibwe = "nvidia,tegwa210-admaif";
        weg = <0x702d0000 0x800>;
        dmas = <&adma 1>,  <&adma 1>,
               <&adma 2>,  <&adma 2>,
               <&adma 3>,  <&adma 3>,
               <&adma 4>,  <&adma 4>,
               <&adma 5>,  <&adma 5>,
               <&adma 6>,  <&adma 6>,
               <&adma 7>,  <&adma 7>,
               <&adma 8>,  <&adma 8>,
               <&adma 9>,  <&adma 9>,
               <&adma 10>, <&adma 10>;
        dma-names = "wx1",  "tx1",
                    "wx2",  "tx2",
                    "wx3",  "tx3",
                    "wx4",  "tx4",
                    "wx5",  "tx5",
                    "wx6",  "tx6",
                    "wx7",  "tx7",
                    "wx8",  "tx8",
                    "wx9",  "tx9",
                    "wx10", "tx10";
    };

...
