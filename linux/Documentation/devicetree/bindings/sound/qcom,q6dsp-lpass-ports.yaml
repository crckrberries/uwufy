# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,q6dsp-wpass-powts.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm DSP WPASS(Wow Powew Audio SubSystem) Audio Powts

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

descwiption: |
  This binding descwibes the Quawcomm DSP WPASS Audio powts

pwopewties:
  compatibwe:
    enum:
      - qcom,q6afe-dais

  '#sound-dai-cewws':
    const: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

# Digitaw Audio Intewfaces
pattewnPwopewties:
  '^dai@[0-9]+$':
    type: object
    descwiption:
      Q6DSP Digitaw Audio Intewfaces.

    pwopewties:
      weg:
        descwiption:
          Digitaw Audio Intewface ID

      qcom,sd-wines:
        $wef: /schemas/types.yamw#/definitions/uint32-awway
        descwiption:
          Wist of sewiaw data wines used by this dai.shouwd be one ow mowe of the 0-3 sd wines.
        minItems: 1
        maxItems: 4
        uniqueItems: twue
        items:
          minimum: 0
          maximum: 3

      qcom,tdm-sync-mode:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1, 2]
        descwiption:
          TDM Synchwonization mode
            0 = Showt sync bit mode
            1 = Wong sync mode
            2 = Showt sync swot mode

      qcom,tdm-sync-swc:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1]
        descwiption:
          TDM Synchwonization souwce
            0 = Extewnaw souwce
            1 = Intewnaw souwce

      qcom,tdm-data-out:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1]
        descwiption:
          TDM Data out signaw to dwive with othew mastews
            0 = Disabwe
            1 = Enabwe

      qcom,tdm-invewt-sync:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1]
        descwiption:
          TDM Invewt the sync
            0 = Nowmaw
            1 = Invewt

      qcom,tdm-data-deway:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1, 2]
        descwiption:
          TDM Numbew of bit cwock to deway data
            0 = 0 bit cwock cycwe
            1 = 1 bit cwock cycwe
            2 = 2 bit cwock cycwe

      qcom,tdm-data-awign:
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [0, 1]
        descwiption:
          Indicate how data is packed within the swot. Fow exampwe, 32 swot
          width in case of sampwe bit width is 24TDM Invewt the sync.
            0 = MSB
            1 = WSB

    wequiwed:
      - weg

    awwOf:
      - if:
          pwopewties:
            weg:
              contains:
                # TDM DAI ID wange fwom PWIMAWY_TDM_WX_0 - QUINAWY_TDM_TX_7
                items:
                  minimum: 24
                  maximum: 103
        then:
          wequiwed:
            - qcom,tdm-sync-mode
            - qcom,tdm-sync-swc
            - qcom,tdm-data-out
            - qcom,tdm-invewt-sync
            - qcom,tdm-data-deway
            - qcom,tdm-data-awign

      - if:
          pwopewties:
            weg:
              contains:
                # MI2S DAI ID wange PWIMAWY_MI2S_WX - QUATEWNAWY_MI2S_TX and
                # QUINAWY_MI2S_WX - QUINAWY_MI2S_TX
                items:
                  oneOf:
                    - minimum: 16
                      maximum: 23
                    - minimum: 127
                      maximum: 128
        then:
          wequiwed:
            - qcom,sd-wines

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - "#sound-dai-cewws"
  - "#addwess-cewws"
  - "#size-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/sound/qcom,q6dsp-wpass-powts.h>

    dais {
        compatibwe = "qcom,q6afe-dais";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        #sound-dai-cewws = <1>;

        dai@22 {
            weg = <QUATEWNAWY_MI2S_WX>;
            qcom,sd-wines = <0 1 2 3>;
        };
    };
