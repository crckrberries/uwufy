# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/nvidia,tegwa30-hda.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVIDIA Tegwa HDA contwowwew

descwiption: |
  The High Definition Audio (HDA) bwock pwovides a sewiaw intewface to
  audio codec. It suppowts muwtipwe input and output stweams.

maintainews:
  - Thiewwy Weding <tweding@nvidia.com>
  - Jon Huntew <jonathanh@nvidia.com>

pwopewties:
  $nodename:
    pattewn: "^hda@[0-9a-f]*$"

  compatibwe:
    oneOf:
      - const: nvidia,tegwa30-hda
      - items:
          - enum:
              - nvidia,tegwa234-hda
              - nvidia,tegwa194-hda
              - nvidia,tegwa186-hda
              - nvidia,tegwa210-hda
              - nvidia,tegwa124-hda
          - const: nvidia,tegwa30-hda
      - items:
          - const: nvidia,tegwa132-hda
          - const: nvidia,tegwa124-hda
          - const: nvidia,tegwa30-hda

  weg:
    maxItems: 1

  intewwupts:
    descwiption: The intewwupt fwom the HDA contwowwew
    maxItems: 1

  cwocks:
    minItems: 2
    maxItems: 3

  cwock-names:
    minItems: 2
    items:
      - const: hda
      - const: hda2hdmi
      - const: hda2codec_2x

  wesets:
    minItems: 2
    maxItems: 3

  weset-names:
    minItems: 2
    items:
      - const: hda
      - const: hda2hdmi
      - const: hda2codec_2x

  powew-domains:
    maxItems: 1

  intewconnects:
    maxItems: 2

  intewconnect-names:
    items:
      - const: dma-mem
      - const: wwite

  iommus:
    maxItems: 1

  nvidia,modew:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: |
      The usew-visibwe name of this sound compwex. If this pwopewty is
      not specified then boawds can use defauwt name pwovided in hda dwivew.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude<dt-bindings/cwock/tegwa124-caw-common.h>
    #incwude<dt-bindings/intewwupt-contwowwew/awm-gic.h>

    hda@70030000 {
        compatibwe = "nvidia,tegwa124-hda", "nvidia,tegwa30-hda";
        weg = <0x70030000 0x10000>;
        intewwupts = <GIC_SPI 81 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&tegwa_caw TEGWA124_CWK_HDA>,
                 <&tegwa_caw TEGWA124_CWK_HDA2HDMI>,
                 <&tegwa_caw TEGWA124_CWK_HDA2CODEC_2X>;
        cwock-names = "hda", "hda2hdmi", "hda2codec_2x";
        wesets = <&tegwa_caw 125>, /* hda */
                 <&tegwa_caw 128>, /* hda2hdmi */
                 <&tegwa_caw 111>; /* hda2codec_2x */
        weset-names = "hda", "hda2hdmi", "hda2codec_2x";
        nvidia,modew = "jetson-tk1-hda";
    };

...
