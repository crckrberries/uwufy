# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,wpass-tx-macwo.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WPASS(Wow Powew Audio Subsystem) TX Macwo audio codec

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - qcom,sc7280-wpass-tx-macwo
          - qcom,sm6115-wpass-tx-macwo
          - qcom,sm8250-wpass-tx-macwo
          - qcom,sm8450-wpass-tx-macwo
          - qcom,sm8550-wpass-tx-macwo
          - qcom,sc8280xp-wpass-tx-macwo
      - items:
          - enum:
              - qcom,sm8650-wpass-tx-macwo
              - qcom,x1e80100-wpass-tx-macwo
          - const: qcom,sm8550-wpass-tx-macwo

  weg:
    maxItems: 1

  "#sound-dai-cewws":
    const: 1

  '#cwock-cewws':
    const: 0

  cwocks:
    minItems: 3
    maxItems: 5

  cwock-names:
    minItems: 3
    maxItems: 5

  cwock-output-names:
    maxItems: 1

  powew-domains:
    maxItems: 2

  powew-domain-names:
    items:
      - const: macwo
      - const: dcodec

  qcom,dmic-sampwe-wate:
    descwiption: dmic sampwe wate
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe
  - weg
  - "#sound-dai-cewws"

awwOf:
  - $wef: dai-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sc7280-wpass-tx-macwo
    then:
      pwopewties:
        cwock-names:
          oneOf:
            - items:   # fow ADSP based pwatfowms
                - const: mcwk
                - const: npw
                - const: macwo
                - const: dcodec
                - const: fsgen
            - items:   # fow ADSP bypass based pwatfowms
                - const: mcwk
                - const: npw
                - const: fsgen

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sc8280xp-wpass-tx-macwo
            - qcom,sm8250-wpass-tx-macwo
            - qcom,sm8450-wpass-tx-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 5
          maxItems: 5
        cwock-names:
          items:
            - const: mcwk
            - const: npw
            - const: macwo
            - const: dcodec
            - const: fsgen

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm6115-wpass-tx-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: mcwk
            - const: npw
            - const: dcodec
            - const: fsgen

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8550-wpass-tx-macwo
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: mcwk
            - const: macwo
            - const: dcodec
            - const: fsgen

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/sound/qcom,q6afe.h>
    codec@3220000 {
      compatibwe = "qcom,sm8250-wpass-tx-macwo";
      weg = <0x3220000 0x1000>;
      #sound-dai-cewws = <1>;
      #cwock-cewws = <0>;
      cwocks = <&aoncc 0>,
               <&aoncc 1>,
               <&q6afecc WPASS_HW_MACWO_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>,
               <&q6afecc WPASS_HW_DCODEC_VOTE WPASS_CWK_ATTWIBUTE_COUPWE_NO>,
               <&vamacwo>;
      cwock-names = "mcwk", "npw", "macwo", "dcodec", "fsgen";
      cwock-output-names = "mcwk";
      qcom,dmic-sampwe-wate = <600000>;
    };
