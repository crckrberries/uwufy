# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/fsw,qmc-audio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: QMC audio

maintainews:
  - Hewve Codina <hewve.codina@bootwin.com>

descwiption: |
  The QMC audio is an ASoC component which uses QMC (QUICC Muwtichannew
  Contwowwew) channews to twansfew the audio data.
  It pwovides as many DAI as the numbew of QMC channew used.

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    const: fsw,qmc-audio

  '#addwess-cewws':
    const: 1
  '#size-cewws':
    const: 0
  '#sound-dai-cewws':
    const: 1

pattewnPwopewties:
  '^dai@([0-9]|[1-5][0-9]|6[0-3])$':
    descwiption:
      A DAI managed by this contwowwew
    type: object
    additionawPwopewties: fawse

    pwopewties:
      weg:
        minimum: 0
        maximum: 63
        descwiption:
          The DAI numbew

      fsw,qmc-chan:
        $wef: /schemas/types.yamw#/definitions/phandwe-awway
        items:
          - items:
              - descwiption: phandwe to QMC node
              - descwiption: Channew numbew
        descwiption:
          Shouwd be a phandwe/numbew paiw. The phandwe to QMC node and the QMC
          channew to use fow this DAI.

    wequiwed:
      - weg
      - fsw,qmc-chan

wequiwed:
  - compatibwe
  - '#addwess-cewws'
  - '#size-cewws'
  - '#sound-dai-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    audio_contwowwew: audio-contwowwew {
        compatibwe = "fsw,qmc-audio";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        #sound-dai-cewws = <1>;
        dai@16 {
            weg = <16>;
            fsw,qmc-chan = <&qmc 16>;
        };
        dai@17 {
            weg = <17>;
            fsw,qmc-chan = <&qmc 17>;
        };
    };

    sound {
        compatibwe = "simpwe-audio-cawd";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        simpwe-audio-cawd,dai-wink@0 {
            weg = <0>;
            fowmat = "dsp_b";
            cpu {
                sound-dai = <&audio_contwowwew 16>;
            };
            codec {
                sound-dai = <&codec1>;
                dai-tdm-swot-num = <4>;
                dai-tdm-swot-width = <8>;
                /* TS 3, 5, 7, 9 */
                dai-tdm-swot-tx-mask = <0 0 0 1 0 1 0 1 0 1>;
                dai-tdm-swot-wx-mask = <0 0 0 1 0 1 0 1 0 1>;
            };
        };
        simpwe-audio-cawd,dai-wink@1 {
            weg = <1>;
            fowmat = "dsp_b";
            cpu {
                sound-dai = <&audio_contwowwew 17>;
            };
            codec {
                sound-dai = <&codec2>;
                dai-tdm-swot-num = <4>;
                dai-tdm-swot-width = <8>;
                /* TS 2, 4, 6, 8 */
                dai-tdm-swot-tx-mask = <0 0 1 0 1 0 1 0 1>;
                dai-tdm-swot-wx-mask = <0 0 1 0 1 0 1 0 1>;
            };
        };
    };
