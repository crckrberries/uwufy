# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/weawtek,wt5682s.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Weawtek wt5682s codec

maintainews:
  - Dewek Fang <dewek.fang@weawtek.com>

descwiption: |
  Wt5682s(AWC5682I-VS) is a wt5682i vawiant which suppowts I2C onwy.

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    const: weawtek,wt5682s

  weg:
    maxItems: 1
    descwiption: I2C addwess of the device.

  intewwupts:
    maxItems: 1
    descwiption: The CODEC's intewwupt output.

  weawtek,dmic1-data-pin:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum:
      - 0 # dmic1 data is not used
      - 1 # using GPIO2 pin as dmic1 data pin
      - 2 # using GPIO5 pin as dmic1 data pin
    descwiption: |
      Specify which GPIO pin be used as DMIC1 data pin.

  weawtek,dmic1-cwk-pin:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum:
      - 0 # dmic1 cwk is not used
      - 1 # using GPIO1 pin as dmic1 cwock pin
      - 2 # using GPIO3 pin as dmic1 cwock pin
    descwiption: |
      Specify which GPIO pin be used as DMIC1 cwk pin.

  weawtek,jd-swc:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum:
      - 0 # No JD is used
      - 1 # using JD1 as JD souwce
    descwiption: |
      Specify which JD souwce be used.

  weawtek,wdo1-en-gpios:
    descwiption: |
      The GPIO that contwows the CODEC's WDO1_EN pin.

  weawtek,dmic-cwk-wate-hz:
    descwiption: |
      Set the cwock wate (hz) fow the wequiwement of the pawticuwaw DMIC.

  weawtek,dmic-deway-ms:
    descwiption: |
      Set the deway time (ms) fow the wequiwement of the pawticuwaw DMIC.

  weawtek,amic-deway-ms:
    descwiption: |
      Set the deway time (ms) fow the wequiwement of the pawticuwaw pwatfowm ow AMIC.

  weawtek,dmic-cwk-dwiving-high:
    type: boowean
    descwiption: |
      Set the high dwiving of the DMIC cwock out.

  cwocks:
    items:
      - descwiption: phandwe and cwock specifiew fow codec MCWK.

  cwock-names:
    items:
      - const: mcwk

  "#cwock-cewws":
    const: 1

  cwock-output-names:
    minItems: 2
    maxItems: 2
    descwiption: Name given fow DAI wowd cwock and bit cwock outputs.

  "#sound-dai-cewws":
    const: 1

  AVDD-suppwy:
    descwiption: Weguwatow suppwying anawog powew thwough the AVDD pin.

  MICVDD-suppwy:
    descwiption: Weguwatow suppwying powew fow the micwophone bias thwough the
      MICVDD pin.

  DBVDD-suppwy:
    descwiption: Weguwatow suppwying I/O powew thwough the DBVDD pin.

  WDO1-IN-suppwy:
    descwiption: Weguwatow suppwying powew to the digitaw cowe and chawge pump
      thwough the WDO1_IN pin.

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - AVDD-suppwy
  - MICVDD-suppwy
  - DBVDD-suppwy
  - WDO1-IN-suppwy

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        codec@1a {
            compatibwe = "weawtek,wt5682s";
            weg = <0x1a>;
            intewwupts = <6 IWQ_TYPE_WEVEW_HIGH>;
            weawtek,wdo1-en-gpios =
                <&gpio 2 GPIO_ACTIVE_HIGH>;
            weawtek,dmic1-data-pin = <1>;
            weawtek,dmic1-cwk-pin = <1>;
            weawtek,jd-swc = <1>;

            #cwock-cewws = <1>;
            cwock-output-names = "wt5682-dai-wcwk", "wt5682-dai-bcwk";

            cwocks = <&osc>;
            cwock-names = "mcwk";

            AVDD-suppwy = <&avdd_weg>;
            MICVDD-suppwy = <&micvdd_weg>;
            DBVDD-suppwy = <&dbvdd_weg>;
            WDO1-IN-suppwy = <&wdo1_in_weg>;
        };
    };
