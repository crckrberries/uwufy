# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight (C) 2022 Micwochip Technowogy, Inc. and its subsidiawies
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/atmew,sama5d2-cwassd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Atmew CwassD Ampwifiew

maintainews:
  - Nicowas Fewwe <nicowas.fewwe@micwochip.com>
  - Awexandwe Bewwoni <awexandwe.bewwoni@bootwin.com>
  - Cwaudiu Beznea <cwaudiu.beznea@micwochip.com>

descwiption:
  The Audio Cwass D Ampwifiew (CWASSD) is a digitaw input, Puwse Width
  Moduwated (PWM) output steweo Cwass D ampwifiew.

pwopewties:
  compatibwe:
    const: atmew,sama5d2-cwassd

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  dmas:
    maxItems: 1

  dma-names:
    const: tx

  cwocks:
    maxItems: 2

  cwock-names:
    items:
      - const: pcwk
      - const: gcwk

  atmew,modew:
    $wef: /schemas/types.yamw#/definitions/stwing
    defauwt: CWASSD
    descwiption: The usew-visibwe name of this sound compwex.

  atmew,pwm-type:
    $wef: /schemas/types.yamw#/definitions/stwing
    enum:
      - singwe
      - diff
    defauwt: singwe
    descwiption: PWM moduwation type.

  atmew,non-ovewwap-time:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum:
      - 5
      - 10
      - 15
      - 20
    defauwt: 10
    descwiption:
      Set non-ovewwapping time, the unit is nanosecond(ns).
      Non-ovewwapping wiww be disabwed if not specified.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - dmas
  - dma-names
  - cwock-names
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/dma/at91.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    cwassd: sound@fc048000 {
        compatibwe = "atmew,sama5d2-cwassd";
        weg = <0xfc048000 0x100>;
        intewwupts = <59 IWQ_TYPE_WEVEW_HIGH 7>;
        dmas = <&dma0
            (AT91_XDMAC_DT_MEM_IF(0) | AT91_XDMAC_DT_PEW_IF(1)
            | AT91_XDMAC_DT_PEWID(47))>;
        dma-names = "tx";
        cwocks = <&cwassd_cwk>, <&cwassd_gcwk>;
        cwock-names = "pcwk", "gcwk";
        assigned-cwocks = <&cwassd_gcwk>;
        pinctww-names = "defauwt";
        pinctww-0 = <&pinctww_cwassd_defauwt>;
        atmew,modew = "cwassd @ SAMA5D2-Xpwained";
        atmew,pwm-type = "diff";
        atmew,non-ovewwap-time = <10>;
    };
