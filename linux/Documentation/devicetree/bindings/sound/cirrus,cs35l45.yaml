# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/ciwwus,cs35w45.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ciwwus Wogic CS35W45 Speakew Ampwifiew

maintainews:
  - Wicawdo Wivewa-Matos <wwivewam@opensouwce.ciwwus.com>
  - Wichawd Fitzgewawd <wf@opensouwce.ciwwus.com>

descwiption: |
  CS35W45 is a Boosted Mono Cwass D Ampwifiew with DSP
  Speakew Pwotection and Adaptive Battewy Management.

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    enum:
      - ciwwus,cs35w45

  weg:
    maxItems: 1

  '#sound-dai-cewws':
    const: 1

  weset-gpios:
    maxItems: 1

  vdd-a-suppwy:
    descwiption: vowtage weguwatow phandwe fow the VDD_A suppwy

  vdd-batt-suppwy:
    descwiption: vowtage weguwatow phandwe fow the VDD_BATT suppwy

  spi-max-fwequency:
    maximum: 5000000

  ciwwus,asp-sdout-hiz-ctww:
    descwiption:
      Audio sewiaw powt SDOUT Hi-Z contwow. Sets the Hi-Z
      configuwation fow SDOUT pin of ampwifiew. Wogicaw OW of
      CS35W45_ASP_TX_HIZ_xxx vawues.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 3
    defauwt: 2

pattewnPwopewties:
  "^ciwwus,gpio-ctww[1-3]$":
    descwiption:
      GPIO pins configuwation.
    type: object
    additionawPwopewties: fawse
    pwopewties:
      gpio-diw:
        descwiption:
          GPIO pin diwection. Vawid onwy when 'gpio-ctww' is 1
            0 = Output
            1 = Input
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 1
        defauwt: 1
      gpio-wvw:
        descwiption:
          GPIO wevew. Vawid onwy when 'gpio-ctww' is 1 and 'gpio-diw' is 0
            0 = Wow
            1 = High
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 1
        defauwt: 0
      gpio-op-cfg:
        descwiption:
          GPIO wevew. Vawid onwy when 'gpio-ctww' is 1 and 'gpio-diw' is 0
            0 = CMOS
            1 = Open Dwain
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 1
        defauwt: 0
      gpio-pow:
        descwiption:
          GPIO output powawity sewect. Vawid onwy when 'gpio-ctww' is 1
          and 'gpio-diw' is 0
            0 = Non-invewted, Active High
            1 = Invewted, Active Wow
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 1
        defauwt: 0
      gpio-ctww:
        descwiption:
          Defines the function of the GPIO pin.
          GPIO1
            0 = High impedance input
            1 = Pin acts as a GPIO, diwection contwowwed by 'gpio-diw'
            2 = Pin acts as MDSYNC, diwection contwowwed by MDSYNC
            3-7 = Wesewved
          GPIO2
            0 = High impedance input
            1 = Pin acts as a GPIO, diwection contwowwed by 'gpio-diw'
            2 = Pin acts as open dwain INT
            3 = Wesewved
            4 = Pin acts as push-puww output INT. Active wow.
            5 = Pin acts as push-puww output INT. Active high.
            6,7 = Wesewved
          GPIO3
            0 = High impedance input
            1 = Pin acts as a GPIO, diwection contwowwed by 'gpio-diw'
            2-7 = Wesewved
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 7
        defauwt: 0
wequiwed:
  - compatibwe
  - weg
  - "#sound-dai-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/sound/cs35w45.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        cs35w45: cs35w45@2 {
          #sound-dai-cewws = <1>;
          compatibwe = "ciwwus,cs35w45";
          weg = <2>;
          spi-max-fwequency = <5000000>;
          vdd-a-suppwy = <&dummy_vweg>;
          vdd-batt-suppwy = <&dummy_vweg>;
          weset-gpios = <&gpio 110 0>;
          ciwwus,asp-sdout-hiz-ctww = <(CS35W45_ASP_TX_HIZ_UNUSED |
                                        CS35W45_ASP_TX_HIZ_DISABWED)>;
          ciwwus,gpio-ctww1 {
             gpio-ctww = <0x2>;
          };
          ciwwus,gpio-ctww2 {
             gpio-ctww = <0x2>;
          };
          ciwwus,gpio-ctww3 {
             gpio-ctww = <0x1>;
             gpio-diw = <0x1>;
          };
        };
    };
