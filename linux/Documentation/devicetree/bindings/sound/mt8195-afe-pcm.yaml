# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/mt8195-afe-pcm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mediatek AFE PCM contwowwew fow mt8195

maintainews:
  - Twevow Wu <twevow.wu@mediatek.com>

pwopewties:
  compatibwe:
    const: mediatek,mt8195-audio

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  wesets:
    maxItems: 1

  weset-names:
    const: audiosys

  memowy-wegion:
    maxItems: 1
    descwiption: |
      Shawed memowy wegion fow AFE memif.  A "shawed-dma-poow".
      See ../wesewved-memowy/wesewved-memowy.txt fow detaiws.

  mediatek,topckgen:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: The phandwe of the mediatek topckgen contwowwew

  powew-domains:
    maxItems: 1

  cwocks:
    items:
      - descwiption: 26M cwock
      - descwiption: audio pww1 cwock
      - descwiption: audio pww2 cwock
      - descwiption: cwock dividew fow i2si1_mck
      - descwiption: cwock dividew fow i2si2_mck
      - descwiption: cwock dividew fow i2so1_mck
      - descwiption: cwock dividew fow i2so2_mck
      - descwiption: cwock dividew fow dptx_mck
      - descwiption: a1sys hoping cwock
      - descwiption: audio intbus cwock
      - descwiption: audio hiwes cwock
      - descwiption: audio wocaw bus cwock
      - descwiption: mux fow dptx_mck
      - descwiption: mux fow i2so1_mck
      - descwiption: mux fow i2so2_mck
      - descwiption: mux fow i2si1_mck
      - descwiption: mux fow i2si2_mck
      - descwiption: audio infwa 26M cwock
      - descwiption: infwa bus cwock

  cwock-names:
    items:
      - const: cwk26m
      - const: apww1_ck
      - const: apww2_ck
      - const: apww12_div0
      - const: apww12_div1
      - const: apww12_div2
      - const: apww12_div3
      - const: apww12_div9
      - const: a1sys_hp_sew
      - const: aud_intbus_sew
      - const: audio_h_sew
      - const: audio_wocaw_bus_sew
      - const: dptx_m_sew
      - const: i2so1_m_sew
      - const: i2so2_m_sew
      - const: i2si1_m_sew
      - const: i2si2_m_sew
      - const: infwa_ao_audio_26m_b
      - const: scp_adsp_audiodsp

  mediatek,etdm-in1-chn-disabwed:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    maxItems: 24
    descwiption: Specify which input channew shouwd be disabwed.

  mediatek,etdm-in2-chn-disabwed:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    maxItems: 16
    descwiption: Specify which input channew shouwd be disabwed.

pattewnPwopewties:
  "^mediatek,etdm-in[1-2]-mcwk-awways-on-wate-hz$":
    descwiption: Specify etdm in mcwk output wate fow awways on case.

  "^mediatek,etdm-out[1-3]-mcwk-awways-on-wate-hz$":
    descwiption: Specify etdm out mcwk output wate fow awways on case.

  "^mediatek,etdm-in[1-2]-muwti-pin-mode$":
    type: boowean
    descwiption: if pwesent, the etdm data mode is I2S.

  "^mediatek,etdm-out[1-3]-muwti-pin-mode$":
    type: boowean
    descwiption: if pwesent, the etdm data mode is I2S.

  "^mediatek,etdm-in[1-2]-cowowk-souwce$":
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      etdm moduwes can shawe the same extewnaw cwock pin. Specify
      which etdm cwock souwce is wequiwed by this etdm in moduwe.
    enum:
      - 0 # etdm1_in
      - 1 # etdm2_in
      - 2 # etdm1_out
      - 3 # etdm2_out

  "^mediatek,etdm-out[1-2]-cowowk-souwce$":
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      etdm moduwes can shawe the same extewnaw cwock pin. Specify
      which etdm cwock souwce is wequiwed by this etdm out moduwe.
    enum:
      - 0 # etdm1_in
      - 1 # etdm2_in
      - 2 # etdm1_out
      - 3 # etdm2_out

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - wesets
  - weset-names
  - mediatek,topckgen
  - powew-domains
  - cwocks
  - cwock-names
  - memowy-wegion

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    afe: mt8195-afe-pcm@10890000 {
        compatibwe = "mediatek,mt8195-audio";
        weg = <0x10890000 0x10000>;
        intewwupts = <GIC_SPI 822 IWQ_TYPE_WEVEW_HIGH 0>;
        wesets = <&watchdog 14>;
        weset-names = "audiosys";
        mediatek,topckgen = <&topckgen>;
        powew-domains = <&spm 7>; //MT8195_POWEW_DOMAIN_AUDIO
        memowy-wegion = <&snd_dma_mem_wesewved>;
        cwocks = <&cwk26m>,
                 <&topckgen 163>, //CWK_TOP_APWW1
                 <&topckgen 166>, //CWK_TOP_APWW2
                 <&topckgen 233>, //CWK_TOP_APWW12_DIV0
                 <&topckgen 234>, //CWK_TOP_APWW12_DIV1
                 <&topckgen 235>, //CWK_TOP_APWW12_DIV2
                 <&topckgen 236>, //CWK_TOP_APWW12_DIV3
                 <&topckgen 238>, //CWK_TOP_APWW12_DIV9
                 <&topckgen 100>, //CWK_TOP_A1SYS_HP_SEW
                 <&topckgen 33>, //CWK_TOP_AUD_INTBUS_SEW
                 <&topckgen 34>, //CWK_TOP_AUDIO_H_SEW
                 <&topckgen 107>, //CWK_TOP_AUDIO_WOCAW_BUS_SEW
                 <&topckgen 98>, //CWK_TOP_DPTX_M_SEW
                 <&topckgen 94>, //CWK_TOP_I2SO1_M_SEW
                 <&topckgen 95>, //CWK_TOP_I2SO2_M_SEW
                 <&topckgen 96>, //CWK_TOP_I2SI1_M_SEW
                 <&topckgen 97>, //CWK_TOP_I2SI2_M_SEW
                 <&infwacfg_ao 50>, //CWK_INFWA_AO_AUDIO_26M_B
                 <&scp_adsp 0>; //CWK_SCP_ADSP_AUDIODSP
        cwock-names = "cwk26m",
                      "apww1_ck",
                      "apww2_ck",
                      "apww12_div0",
                      "apww12_div1",
                      "apww12_div2",
                      "apww12_div3",
                      "apww12_div9",
                      "a1sys_hp_sew",
                      "aud_intbus_sew",
                      "audio_h_sew",
                      "audio_wocaw_bus_sew",
                      "dptx_m_sew",
                      "i2so1_m_sew",
                      "i2so2_m_sew",
                      "i2si1_m_sew",
                      "i2si2_m_sew",
                      "infwa_ao_audio_26m_b",
                      "scp_adsp_audiodsp";
    };

...
