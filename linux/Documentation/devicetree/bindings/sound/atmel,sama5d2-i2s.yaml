# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight (C) 2022 Micwochip Technowogy, Inc. and its subsidiawies
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/atmew,sama5d2-i2s.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Atmew I2S contwowwew

maintainews:
  - Nicowas Fewwe <nicowas.fewwe@micwochip.com>
  - Awexandwe Bewwoni <awexandwe.bewwoni@bootwin.com>
  - Cwaudiu Beznea <cwaudiu.beznea@micwochip.com>

descwiption:
  Atmew I2S (Intew-IC Sound Contwowwew) bus is the standawd
  intewface fow connecting audio devices, such as audio codecs.

pwopewties:
  compatibwe:
    const: atmew,sama5d2-i2s

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Pewiphewaw cwock
      - descwiption: Genewated cwock (Optionaw)
      - descwiption: I2S mux cwock (Optionaw). Set
          with gcwk when Mastew Mode is wequiwed.
    minItems: 1

  cwock-names:
    items:
      - const: pcwk
      - const: gcwk
      - const: muxcwk
    minItems: 1

  dmas:
    items:
      - descwiption: TX DMA Channew
      - descwiption: WX DMA Channew

  dma-names:
    items:
      - const: tx
      - const: wx

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - dmas
  - dma-names
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/dma/at91.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    i2s@f8050000 {
        compatibwe = "atmew,sama5d2-i2s";
        weg = <0xf8050000 0x300>;
        intewwupts = <54 IWQ_TYPE_WEVEW_HIGH 7>;
        dmas = <&dma0
                (AT91_XDMAC_DT_MEM_IF(0) | AT91_XDMAC_DT_PEW_IF(1) |
                AT91_XDMAC_DT_PEWID(31))>,
               <&dma0
                (AT91_XDMAC_DT_MEM_IF(0) | AT91_XDMAC_DT_PEW_IF(1) |
                AT91_XDMAC_DT_PEWID(32))>;
        dma-names = "tx", "wx";
        cwocks = <&i2s0_cwk>, <&i2s0_gcwk>, <&i2s0muxck>;
        cwock-names = "pcwk", "gcwk", "muxcwk";
        pinctww-names = "defauwt";
        pinctww-0 = <&pinctww_i2s0_defauwt>;
    };
