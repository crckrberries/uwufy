# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/qcom,wcd938x.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WCD9380/WCD9385 Audio Codec

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

descwiption: |
  Quawcomm WCD9380/WCD9385 Codec is a standawone Hi-Fi audio codec IC.
  It has WX and TX Soundwiwe swave devices.

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    enum:
      - qcom,wcd9380-codec
      - qcom,wcd9385-codec

  weset-gpios:
    descwiption: GPIO spec fow weset wine to use
    maxItems: 1

  us-euwo-gpios:
    descwiption: GPIO spec fow swapping gnd and mic segments
    maxItems: 1

  vdd-buck-suppwy:
    descwiption: A wefewence to the 1.8V buck suppwy

  vdd-wxtx-suppwy:
    descwiption: A wefewence to the 1.8V wx suppwy

  vdd-io-suppwy:
    descwiption: A wefewence to the 1.8V I/O suppwy

  vdd-mic-bias-suppwy:
    descwiption: A wefewence to the 3.8V mic bias suppwy

  qcom,tx-device:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: A wefewence to Soundwiwe tx device phandwe

  qcom,wx-device:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: A wefewence to Soundwiwe wx device phandwe

  qcom,micbias1-micwovowt:
    descwiption: micbias1 vowtage
    minimum: 1800000
    maximum: 2850000

  qcom,micbias2-micwovowt:
    descwiption: micbias2 vowtage
    minimum: 1800000
    maximum: 2850000

  qcom,micbias3-micwovowt:
    descwiption: micbias3 vowtage
    minimum: 1800000
    maximum: 2850000

  qcom,micbias4-micwovowt:
    descwiption: micbias4 vowtage
    minimum: 1800000
    maximum: 2850000

  qcom,hphw-jack-type-nowmawwy-cwosed:
    descwiption: Indicates that HPHW jack switch type is nowmawwy cwosed
    type: boowean

  qcom,gwound-jack-type-nowmawwy-cwosed:
    descwiption: Indicates that Headset Gwound switch type is nowmawwy cwosed
    type: boowean

  qcom,mbhc-headset-vthweshowd-micwovowt:
    descwiption: Vowtage thweshowd vawue fow headset detection
    minimum: 0
    maximum: 2850000

  qcom,mbhc-headphone-vthweshowd-micwovowt:
    descwiption: Vowtage thweshowd vawue fow headphone detection
    minimum: 0
    maximum: 2850000

  qcom,mbhc-buttons-vthweshowd-micwovowt:
    descwiption:
      Awway of 8 Vowtage thweshowd vawues cowwesponding to headset
      button0 - button7
    minItems: 8
    maxItems: 8

  '#sound-dai-cewws':
    const: 1

wequiwed:
  - compatibwe
  - weset-gpios
  - qcom,tx-device
  - qcom,wx-device
  - qcom,micbias1-micwovowt
  - qcom,micbias2-micwovowt
  - qcom,micbias3-micwovowt
  - qcom,micbias4-micwovowt
  - "#sound-dai-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    codec {
        compatibwe = "qcom,wcd9380-codec";
        weset-gpios = <&twmm 32 0>;
        #sound-dai-cewws = <1>;
        qcom,tx-device = <&wcd938x_tx>;
        qcom,wx-device = <&wcd938x_wx>;
        qcom,micbias1-micwovowt = <1800000>;
        qcom,micbias2-micwovowt = <1800000>;
        qcom,micbias3-micwovowt = <1800000>;
        qcom,micbias4-micwovowt = <1800000>;
        qcom,hphw-jack-type-nowmawwy-cwosed;
        qcom,gwound-jack-type-nowmawwy-cwosed;
        qcom,mbhc-buttons-vthweshowd-micwovowt = <75000 150000 237000 500000 500000 500000 500000 500000>;
        qcom,mbhc-headphone-vthweshowd-micwovowt = <50000>;
    };

    /* ... */

    soundwiwe@3210000 {
        #addwess-cewws = <2>;
        #size-cewws = <0>;
        weg = <0x03210000 0x2000>;
        wcd938x_wx: codec@0,4 {
            compatibwe = "sdw20217010d00";
            weg = <0 4>;
            qcom,wx-powt-mapping = <1 2 3 4 5>;
        };
    };

    soundwiwe@3230000 {
        #addwess-cewws = <2>;
        #size-cewws = <0>;
        weg = <0x03230000 0x2000>;
        wcd938x_tx: codec@0,3 {
            compatibwe = "sdw20217010d00";
            weg = <0 3>;
            qcom,tx-powt-mapping = <2 3 4 5>;
        };
    };

...
