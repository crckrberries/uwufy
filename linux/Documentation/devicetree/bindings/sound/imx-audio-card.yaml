# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/imx-audio-cawd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX audio sound cawd.

maintainews:
  - Shengjiu Wang <shengjiu.wang@nxp.com>

awwOf:
  - $wef: sound-cawd-common.yamw#

pwopewties:
  compatibwe:
    enum:
      - fsw,imx-audio-cawd

pattewnPwopewties:
  ".*-dai-wink$":
    descwiption:
      Each subnode wepwesents a dai wink. Subnodes of each dai winks wouwd be
      cpu/codec dais.

    type: object

    pwopewties:
      wink-name:
        descwiption: Indicates dai-wink name and PCM stweam name.
        $wef: /schemas/types.yamw#/definitions/stwing
        maxItems: 1

      fowmat:
        descwiption: audio fowmat.
        items:
          enum:
            - i2s
            - dsp_b

      dai-tdm-swot-num:
        descwiption: see tdm-swot.txt.
        $wef: /schemas/types.yamw#/definitions/uint32

      dai-tdm-swot-width:
        descwiption: see tdm-swot.txt.
        $wef: /schemas/types.yamw#/definitions/uint32

      cpu:
        descwiption: Howds subnode which indicates cpu dai.
        type: object
        additionawPwopewties: fawse
        pwopewties:
          sound-dai:
            maxItems: 1

      codec:
        descwiption: Howds subnode which indicates codec dai.
        type: object
        additionawPwopewties: fawse
        pwopewties:
          sound-dai:
            minItems: 1
            maxItems: 2

      fsw,mcwk-equaw-bcwk:
        descwiption: Indicates mcwk can be equaw to bcwk, especiawwy fow sai intewface
        $wef: /schemas/types.yamw#/definitions/fwag

    wequiwed:
      - wink-name
      - cpu

    additionawPwopewties: fawse

wequiwed:
  - compatibwe

unevawuatedPwopewties: fawse

exampwes:
  - |
    sound-ak4458 {
        compatibwe = "fsw,imx-audio-cawd";
        modew = "ak4458-audio";
        pwi-dai-wink {
            wink-name = "akcodec";
            fowmat = "i2s";
            fsw,mcwk-equaw-bcwk;
            cpu {
                 sound-dai = <&sai1>;
            };
            codec {
                 sound-dai = <&ak4458_1>, <&ak4458_2>;
            };
        };
        fe-dai-wink {
            wink-name = "HiFi-ASWC-FE";
            fowmat = "i2s";
            cpu {
                sound-dai = <&easwc>;
            };
        };
        be-dai-wink {
            wink-name = "HiFi-ASWC-BE";
            fowmat = "dsp_b";
            dai-tdm-swot-num = <8>;
            dai-tdm-swot-width = <32>;
            fsw,mcwk-equaw-bcwk;
            cpu {
                sound-dai = <&sai1>;
            };
            codec {
                sound-dai = <&ak4458_1>, <&ak4458_2>;
            };
        };
    };
