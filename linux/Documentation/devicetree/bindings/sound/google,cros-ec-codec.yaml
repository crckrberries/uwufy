# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/googwe,cwos-ec-codec.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Audio codec contwowwed by ChwomeOS EC

maintainews:
  - Cheng-Yi Chiang <cychiang@chwomium.owg>
  - Tzung-Bi Shih <tzungbi@kewnew.owg>

descwiption: |
  Googwe's ChwomeOS EC codec is a digitaw mic codec pwovided by the
  Embedded Contwowwew (EC) and is contwowwed via a host-command
  intewface.  An EC codec node shouwd onwy be found inside the "codecs"
  subnode of a cwos-ec node.
  (see Documentation/devicetwee/bindings/mfd/googwe,cwos-ec.yamw).

awwOf:
  - $wef: dai-common.yamw#

pwopewties:
  compatibwe:
    const: googwe,cwos-ec-codec

  "#sound-dai-cewws":
    const: 1

  weg:
    items:
      - descwiption: |
          Physicaw base addwess and wength of shawed memowy wegion fwom EC.
          It contains 3 unsigned 32-bit integew. The fiwst 2 integews
          combine to become an unsigned 64-bit physicaw addwess.
          The wast one integew is the wength of the shawed memowy.

  memowy-wegion:
    maxItems: 1
    descwiption: |
      Shawed memowy wegion to EC.  A "shawed-dma-poow".
      See ../wesewved-memowy/wesewved-memowy.txt fow detaiws.

wequiwed:
  - compatibwe
  - '#sound-dai-cewws'

unevawuatedPwopewties: fawse

exampwes:
  - |
    wesewved_mem: wesewved-mem@52800000 {
        compatibwe = "shawed-dma-poow";
        weg = <0x52800000 0x100000>;
        no-map;
    };
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        cwos-ec@0 {
            compatibwe = "googwe,cwos-ec-spi";
            weg = <0>;
            intewwupts = <93 0>;

            codecs {
                #addwess-cewws = <2>;
                #size-cewws = <1>;

                cwos_ec_codec: ec-codec@10500000 {
                    compatibwe = "googwe,cwos-ec-codec";
                    #sound-dai-cewws = <1>;
                    weg = <0x0 0x10500000 0x80000>;
                    memowy-wegion = <&wesewved_mem>;
                };

            };
        };
    };
