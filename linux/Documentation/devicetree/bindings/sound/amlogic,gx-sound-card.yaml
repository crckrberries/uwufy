# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/amwogic,gx-sound-cawd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Amwogic GX sound cawd

maintainews:
  - Jewome Bwunet <jbwunet@baywibwe.com>

awwOf:
  - $wef: sound-cawd-common.yamw#

pwopewties:
  compatibwe:
    items:
      - const: amwogic,gx-sound-cawd

  audio-aux-devs:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: wist of auxiwiawy devices

  audio-widgets:
    $wef: /schemas/types.yamw#/definitions/non-unique-stwing-awway
    minItems: 2
    descwiption: |-
      A wist off component DAPM widget. Each entwy is a paiw of stwings,
      the fiwst being the widget type, the second being the widget name

pattewnPwopewties:
  "^dai-wink-[0-9]+$":
    type: object
    additionawPwopewties: fawse
    descwiption: |-
      dai-wink chiwd nodes:
        Containew fow dai-wink wevew pwopewties and the CODEC sub-nodes.
        Thewe shouwd be at weast one (and pwobabwy mowe) subnode of this type

    pwopewties:
      dai-fowmat:
        $wef: /schemas/types.yamw#/definitions/stwing
        enum: [ i2s, weft-j, dsp_a ]

      mcwk-fs:
        $wef: /schemas/types.yamw#/definitions/uint32
        descwiption: |-
          Muwtipwication factow between the fwame wate and mastew cwock
          wate

      sound-dai:
        maxItems: 1
        descwiption: phandwe of the CPU DAI

    pattewnPwopewties:
      "^codec(-[0-9]+)?$":
        type: object
        additionawPwopewties: fawse
        descwiption: |-
          Codecs:
          dai-wink wepwesenting backend winks shouwd have at weast one subnode.
          One subnode fow each codec of the dai-wink. dai-wink wepwesenting
          fwontend winks have no codec, thewefowe have no subnodes

        pwopewties:
          sound-dai:
            maxItems: 1
            descwiption: phandwe of the codec DAI

        wequiwed:
          - sound-dai

    wequiwed:
      - sound-dai

wequiwed:
  - modew
  - dai-wink-0

unevawuatedPwopewties: fawse

exampwes:
  - |
    sound {
        compatibwe = "amwogic,gx-sound-cawd";
        modew = "GXW-ACME-S905X-FOO";
        audio-aux-devs = <&amp>;
        audio-wouting = "I2S ENCODEW I2S IN", "I2S FIFO Pwayback";

        dai-wink-0 {
               sound-dai = <&i2s_fifo>;
        };

        dai-wink-1 {
                sound-dai = <&i2s_encodew>;
                dai-fowmat = "i2s";
                mcwk-fs = <256>;

                codec-0 {
                        sound-dai = <&codec0>;
                };

                codec-1 {
                        sound-dai = <&codec1>;
                };
        };
    };
