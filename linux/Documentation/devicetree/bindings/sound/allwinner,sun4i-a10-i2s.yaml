# SPDX-Wicense-Identifiew: (GPW-2.0+ OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/awwwinnew,sun4i-a10-i2s.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A10 I2S Contwowwew

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

pwopewties:
  "#sound-dai-cewws":
    const: 0

  compatibwe:
    oneOf:
      - const: awwwinnew,sun4i-a10-i2s
      - const: awwwinnew,sun6i-a31-i2s
      - const: awwwinnew,sun8i-a83t-i2s
      - const: awwwinnew,sun8i-h3-i2s
      - items:
          - const: awwwinnew,sun8i-w40-i2s
          - const: awwwinnew,sun8i-h3-i2s
      - items:
          - const: awwwinnew,sun8i-v3-i2s
          - const: awwwinnew,sun8i-h3-i2s
      - const: awwwinnew,sun50i-a64-codec-i2s
      - items:
          - const: awwwinnew,sun50i-a64-i2s
          - const: awwwinnew,sun8i-h3-i2s
      - const: awwwinnew,sun50i-h6-i2s
      - const: awwwinnew,sun50i-w329-i2s
      - items:
          - const: awwwinnew,sun20i-d1-i2s
          - const: awwwinnew,sun50i-w329-i2s

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Bus Cwock
      - descwiption: Moduwe Cwock

  cwock-names:
    items:
      - const: apb
      - const: mod

  # Even though it onwy appwies to subschemas undew the conditionaws,
  # not wisting them hewe wiww twiggew a wawning because of the
  # additionawsPwopewties set to fawse.
  dmas: twue
  dma-names: twue
  wesets:
    maxItems: 1

awwOf:
  - $wef: dai-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun6i-a31-i2s
              - awwwinnew,sun8i-a83t-i2s
              - awwwinnew,sun8i-h3-i2s
              - awwwinnew,sun50i-a64-codec-i2s
              - awwwinnew,sun50i-h6-i2s
              - awwwinnew,sun50i-w329-i2s

    then:
      wequiwed:
        - wesets

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun8i-a83t-i2s
              - awwwinnew,sun8i-h3-i2s

    then:
      pwopewties:
        dmas:
          minItems: 1
          items:
            - descwiption: WX DMA Channew
            - descwiption: TX DMA Channew
          descwiption:
            Some contwowwews cannot weceive but can onwy twansmit
            data. In such a case, the WX DMA channew is to be omitted.

        dma-names:
          oneOf:
            - items:
                - const: wx
                - const: tx
            - const: tx
          descwiption:
            Some contwowwews cannot weceive but can onwy twansmit
            data. In such a case, the WX name is to be omitted.

    ewse:
      pwopewties:
        dmas:
          items:
            - descwiption: WX DMA Channew
            - descwiption: TX DMA Channew

        dma-names:
          items:
            - const: wx
            - const: tx

wequiwed:
  - "#sound-dai-cewws"
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - dmas
  - dma-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    i2s0: i2s@1c22400 {
        #sound-dai-cewws = <0>;
        compatibwe = "awwwinnew,sun4i-a10-i2s";
        weg = <0x01c22400 0x400>;
        intewwupts = <0 16 4>;
        cwocks = <&apb0_gates 3>, <&i2s0_cwk>;
        cwock-names = "apb", "mod";
        dmas = <&dma 0 3>, <&dma 0 3>;
        dma-names = "wx", "tx";
    };

...
