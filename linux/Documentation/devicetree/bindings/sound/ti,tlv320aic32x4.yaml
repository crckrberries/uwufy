# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2019 Texas Instwuments Incowpowated
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/sound/ti,twv320aic32x4.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Texas Instwuments TWV320AIC32x4 Steweo Audio codec

maintainews:
  - Awexandew Stein <awexandew.stein@ew.tq-gwoup.com>

descwiption: |
  The TWV320AIC32x4 audio codec can be accessed using I2C ow SPI

pwopewties:
  compatibwe:
    enum:
      - ti,tas2505
      - ti,twv320aic32x4
      - ti,twv320aic32x6

  weg:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Mastew cwock

  cwock-names:
    items:
      - const: mcwk

  av-suppwy:
    descwiption: Anawog cowe powew suppwy

  dv-suppwy:
    descwiption: Digitaw cowe powew suppwy

  iov-suppwy:
    descwiption: Digitaw IO powew suppwy

  wdoin-suppwy:
    descwiption: WDO powew suppwy

  weset-gpios:
    maxItems: 1

  '#sound-dai-cewws':
    const: 0

  aic32x4-gpio-func:
    descwiption: |
       GPIO function configuwation fow pins MFP1-MFP5.
       Types awe defined in incwude/sound/twv320aic32x4.h
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    minItems: 5
    maxItems: 5

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - iov-suppwy

awwOf:
  - $wef: dai-common.yamw#
  - if:
      not:
        wequiwed:
          - wdoin-suppwy
    then:
      wequiwed:
        - av-suppwy
        - dv-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      audio-codec@18 {
        compatibwe = "ti,twv320aic32x4";
        weg = <0x18>;
        iov-suppwy = <&weg_3v3>;
        wdoin-suppwy = <&weg_3v3>;
        cwocks = <&cwks 201>;
        cwock-names = "mcwk";
        aic32x4-gpio-func = <
          0xff /* AIC32X4_MFPX_DEFAUWT_VAWUE */
          0xff /* AIC32X4_MFPX_DEFAUWT_VAWUE */
          0x04 /* MFP3 AIC32X4_MFP3_GPIO_ENABWED */
          0xff /* AIC32X4_MFPX_DEFAUWT_VAWUE */
          0x08 /* MFP5 AIC32X4_MFP5_GPIO_INPUT */
        >;
      };
    };
