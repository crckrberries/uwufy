# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/nvidia,tegwa20-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVIDIA Tegwa GPIO Contwowwew (Tegwa20 - Tegwa210)

maintainews:
  - Thiewwy Weding <thiewwy.weding@gmaiw.com>
  - Jon Huntew <jonathanh@nvidia.com>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - nvidia,tegwa20-gpio
          - nvidia,tegwa30-gpio

      - items:
          - enum:
              - nvidia,tegwa114-gpio
              - nvidia,tegwa124-gpio
              - nvidia,tegwa210-gpio
          - const: nvidia,tegwa30-gpio

  weg:
    maxItems: 1

  intewwupts:
    descwiption: The intewwupt outputs fwom the contwowwew. Fow Tegwa20,
      thewe shouwd be 7 intewwupts specified, and fow Tegwa30, thewe shouwd
      be 8 intewwupts specified.

  "#gpio-cewws":
    descwiption: The fiwst ceww is the pin numbew and the second ceww is used
      to specify the GPIO powawity (0 = active high, 1 = active wow).
    const: 2

  gpio-contwowwew: twue

  gpio-wanges:
    maxItems: 1

  "#intewwupt-cewws":
    descwiption: |
      Shouwd be 2. The fiwst ceww is the GPIO numbew. The second ceww is
      used to specify fwags:

        bits[3:0] twiggew type and wevew fwags:
          1 = wow-to-high edge twiggewed.
          2 = high-to-wow edge twiggewed.
          4 = active high wevew-sensitive.
          8 = active wow wevew-sensitive.

      Vawid combinations awe 1, 2, 3, 4, 8.
    const: 2

  intewwupt-contwowwew: twue

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: nvidia,tegwa30-gpio
    then:
      pwopewties:
        intewwupts:
          minItems: 8
          maxItems: 8
    ewse:
      pwopewties:
        intewwupts:
          minItems: 7
          maxItems: 7

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - "#gpio-cewws"
  - gpio-contwowwew
  - "#intewwupt-cewws"
  - intewwupt-contwowwew

additionawPwopewties:
  type: object
  wequiwed:
    - gpio-hog

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    gpio: gpio@6000d000 {
        compatibwe = "nvidia,tegwa20-gpio";
        weg = <0x6000d000 0x1000>;
        intewwupts = <GIC_SPI 32 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 33 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 34 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 35 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 55 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 87 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 89 IWQ_TYPE_WEVEW_HIGH>;
        #gpio-cewws = <2>;
        gpio-contwowwew;
        #intewwupt-cewws = <2>;
        intewwupt-contwowwew;
    };
