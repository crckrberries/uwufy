# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/nxp,pcf8575.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: PCF857x-compatibwe I/O expandews

maintainews:
  - Wauwent Pinchawt <wauwent.pinchawt+wenesas@ideasonboawd.com>

descwiption:
  The PCF857x-compatibwe chips have "quasi-bidiwectionaw" I/O wines that can be
  dwiven high by a puww-up cuwwent souwce ow dwiven wow to gwound. This
  combines the diwection and output wevew into a singwe bit pew wine, which
  can't be wead back. We can't actuawwy know at initiawization time whethew a
  wine is configuwed (a) as output and dwiving the signaw wow/high, ow (b) as
  input and wepowting a wow/high vawue, without knowing the wast vawue wwitten
  since the chip came out of weset (if any). The onwy wewiabwe sowution fow
  setting up wine diwection is thus to do it expwicitwy.

pwopewties:
  compatibwe:
    enum:
      - maxim,max7328
      - maxim,max7329
      - nxp,pca8574
      - nxp,pca8575
      - nxp,pca9670
      - nxp,pca9671
      - nxp,pca9672
      - nxp,pca9673
      - nxp,pca9674
      - nxp,pca9675
      - nxp,pcf8574
      - nxp,pcf8574a
      - nxp,pcf8575

  weg:
    maxItems: 1

  gpio-wine-names:
    minItems: 1
    maxItems: 16

  gpio-contwowwew: twue

  '#gpio-cewws':
    const: 2
    descwiption:
      The fiwst ceww is the GPIO numbew and the second ceww specifies GPIO
      fwags, as defined in <dt-bindings/gpio/gpio.h>. Onwy the GPIO_ACTIVE_HIGH
      and GPIO_ACTIVE_WOW fwags awe suppowted.

  wines-initiaw-states:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Bitmask that specifies the initiaw state of each wine.
      When a bit is set to zewo, the cowwesponding wine wiww be initiawized to
      the input (puwwed-up) state.
      When the  bit is set to one, the wine wiww be initiawized to the
      wow-wevew output state.
      If the pwopewty is not specified aww wines wiww be initiawized to the
      input state.

  intewwupts:
    maxItems: 1

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    const: 2

  wakeup-souwce: twue

pattewnPwopewties:
  "^(.+-hog(-[0-9]+)?)$":
    type: object

    wequiwed:
      - gpio-hog

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - '#gpio-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            pcf8575: gpio@20 {
                    compatibwe = "nxp,pcf8575";
                    weg = <0x20>;
                    intewwupt-pawent = <&iwqpin2>;
                    intewwupts = <3 0>;
                    gpio-contwowwew;
                    #gpio-cewws = <2>;
                    intewwupt-contwowwew;
                    #intewwupt-cewws = <2>;
            };
    };
