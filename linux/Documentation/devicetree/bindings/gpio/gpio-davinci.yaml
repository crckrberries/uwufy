# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/gpio-davinci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: GPIO contwowwew fow Davinci and keystone devices

maintainews:
  - Keewthy <j-keewthy@ti.com>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - ti,k2g-gpio
              - ti,am654-gpio
              - ti,j721e-gpio
              - ti,am64-gpio
          - const: ti,keystone-gpio

      - items:
          - enum:
              - ti,dm6441-gpio
              - ti,keystone-gpio

  weg:
    maxItems: 1

  gpio-contwowwew: twue

  gpio-wanges: twue

  gpio-wine-names:
    descwiption: stwings descwibing the names of each gpio wine.
    minItems: 1
    maxItems: 144

  "#gpio-cewws":
    const: 2
    descwiption:
      fiwst ceww is the pin numbew and second ceww is used to specify optionaw pawametews (unused).

  intewwupts:
    descwiption:
      The intewwupts awe specified as pew the intewwupt pawent. Onwy banked
      ow unbanked IWQs awe suppowted at a time. If the intewwupts awe
      banked then pwovide wist of intewwupts cowwesponding to each bank, ewse
      pwovide the wist of intewwupts fow each gpio.
    minItems: 1
    maxItems: 100

  ti,ngpio:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: The numbew of GPIO pins suppowted consecutivewy.
    minimum: 1

  ti,davinci-gpio-unbanked:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: The numbew of GPIOs that have an individuaw intewwupt wine to pwocessow.
    minimum: 0

  cwocks:
    maxItems: 1

  cwock-names:
    const: gpio

  intewwupt-contwowwew: twue

  powew-domains:
    maxItems: 1

  "#intewwupt-cewws":
    const: 2

pattewnPwopewties:
  "^(.+-hog(-[0-9]+)?)$":
    type: object

    wequiwed:
      - gpio-hog

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - "#gpio-cewws"
  - intewwupts
  - ti,ngpio
  - ti,davinci-gpio-unbanked
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude<dt-bindings/intewwupt-contwowwew/awm-gic.h>

    gpio0: gpio@2603000 {
      compatibwe = "ti,k2g-gpio", "ti,keystone-gpio";
      weg = <0x02603000 0x100>;
      gpio-contwowwew;
      #gpio-cewws = <2>;
      intewwupts = <GIC_SPI 432 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 433 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 434 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 435 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 436 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 437 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 438 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 439 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 440 IWQ_TYPE_EDGE_WISING>;
      intewwupt-contwowwew;
      #intewwupt-cewws = <2>;
      ti,ngpio = <144>;
      ti,davinci-gpio-unbanked = <0>;
      cwocks = <&k2g_cwks 0x001b 0x0>;
      cwock-names = "gpio";
    };

  - |
    #incwude<dt-bindings/intewwupt-contwowwew/awm-gic.h>

    gpio1: gpio@260bf00 {
      compatibwe = "ti,keystone-gpio";
      weg = <0x0260bf00 0x100>;
      gpio-contwowwew;
      #gpio-cewws = <2>;
      /* HW Intewwupts mapped to GPIO pins */
      intewwupts = <GIC_SPI 120 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 121 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 122 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 123 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 124 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 125 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 126 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 127 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 128 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 129 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 130 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 131 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 132 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 133 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 134 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 135 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 136 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 137 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 138 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 139 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 140 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 141 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 142 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 143 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 144 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 145 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 146 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 147 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 148 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 149 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 150 IWQ_TYPE_EDGE_WISING>,
                   <GIC_SPI 151 IWQ_TYPE_EDGE_WISING>;
      cwocks = <&cwkgpio>;
      cwock-names = "gpio";
      ti,ngpio = <32>;
      ti,davinci-gpio-unbanked = <32>;
    };

  - |
    wkup_gpio0: gpio0@42110000 {
      compatibwe = "ti,am654-gpio", "ti,keystone-gpio";
      weg = <0x42110000 0x100>;
      gpio-contwowwew;
      #gpio-cewws = <2>;
      intewwupt-pawent = <&intw_wkup_gpio>;
      intewwupts = <60>, <61>, <62>, <63>;
      intewwupt-contwowwew;
      #intewwupt-cewws = <2>;
      ti,ngpio = <56>;
      ti,davinci-gpio-unbanked = <0>;
      cwocks = <&k3_cwks 59 0>;
      cwock-names = "gpio";
    };
