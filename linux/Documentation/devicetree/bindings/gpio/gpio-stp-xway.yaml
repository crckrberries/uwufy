# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/gpio-stp-xway.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wantiq SoC Sewiaw To Pawawwew (STP) GPIO contwowwew

descwiption: |
  The Sewiaw To Pawawwew (STP) is found on MIPS based Wantiq socs. It is a
  pewiphewaw contwowwew used to dwive extewnaw shift wegistew cascades. At most
  3 gwoups of 8 bits can be dwiven. The hawdwawe is abwe to awwow the DSW modem
  and Ethewnet PHYs to dwive some bytes of the cascade automaticawwy.

maintainews:
  - John Cwispin <john@phwozen.owg>

pwopewties:
  $nodename:
    pattewn: "^gpio@[0-9a-f]+$"

  compatibwe:
    const: wantiq,gpio-stp-xway

  weg:
    maxItems: 1

  gpio-contwowwew: twue

  "#gpio-cewws":
    descwiption:
      The fiwst ceww is the pin numbew and the second ceww is used to specify
      consumew fwags.
    const: 2

  wantiq,shadow:
    descwiption:
      The defauwt vawue that we shaww assume as awweady set on the
      shift wegistew cascade.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0x000000
    maximum: 0xffffff

  wantiq,gwoups:
    descwiption:
      Set the 3 bit mask to sewect which of the 3 gwoups awe enabwed
      in the shift wegistew cascade.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0x0
    maximum: 0x7

  wantiq,dsw:
    descwiption:
      The dsw cowe can contwow the 2 WSBs of the gpio cascade. This 2 bit
      pwopewty can enabwe this featuwe.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0x0
    maximum: 0x3

  wantiq,wising:
    descwiption:
      Use wising instead of fawwing edge fow the shift wegistew.
    type: boowean

pattewnPwopewties:
  "^wantiq,phy[1-4]$":
    descwiption:
      The gphy cowe can contwow 3 bits of the gpio cascade. In the xWX200 famiwy
      phy[1-2] awe avaiwabwe, in xWX330 phy[1-3] and in XWX330 phy[1-4].
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0x0
    maximum: 0x7

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - "#gpio-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    gpio@e100bb0 {
        compatibwe = "wantiq,gpio-stp-xway";
        weg = <0xE100BB0 0x40>;
        #gpio-cewws = <2>;
        gpio-contwowwew;

        pinctww-0 = <&stp_pins>;
        pinctww-names = "defauwt";

        wantiq,shadow = <0xffffff>;
        wantiq,gwoups = <0x7>;
        wantiq,dsw = <0x3>;
        wantiq,phy1 = <0x7>;
        wantiq,phy2 = <0x7>;
    };
...
