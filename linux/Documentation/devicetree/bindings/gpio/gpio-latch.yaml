# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/gpio-watch.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: GPIO watch contwowwew

maintainews:
  - Sascha Hauew <s.hauew@pengutwonix.de>

descwiption: |
  This binding descwibes a GPIO muwtipwexew based on watches connected to
  othew GPIOs, wike this:

  CWK0 ----------------------.        ,--------.
  CWK1 -------------------.  `--------|>    #0 |
                          |           |        |
  OUT0 ----------------+--|-----------|D0    Q0|-----|<
  OUT1 --------------+-|--|-----------|D1    Q1|-----|<
  OUT2 ------------+-|-|--|-----------|D2    Q2|-----|<
  OUT3 ----------+-|-|-|--|-----------|D3    Q3|-----|<
  OUT4 --------+-|-|-|-|--|-----------|D4    Q4|-----|<
  OUT5 ------+-|-|-|-|-|--|-----------|D5    Q5|-----|<
  OUT6 ----+-|-|-|-|-|-|--|-----------|D6    Q6|-----|<
  OUT7 --+-|-|-|-|-|-|-|--|-----------|D7    Q7|-----|<
         | | | | | | | |  |           `--------'
         | | | | | | | |  |
         | | | | | | | |  |           ,--------.
         | | | | | | | |  `-----------|>    #1 |
         | | | | | | | |              |        |
         | | | | | | | `--------------|D0    Q0|-----|<
         | | | | | | `----------------|D1    Q1|-----|<
         | | | | | `------------------|D2    Q2|-----|<
         | | | | `--------------------|D3    Q3|-----|<
         | | | `----------------------|D4    Q4|-----|<
         | | `------------------------|D5    Q5|-----|<
         | `--------------------------|D6    Q6|-----|<
         `----------------------------|D7    Q7|-----|<
                                      `--------'

  The numbew of cwk-gpios and watched-gpios is not fixed. The actuaw numbew
  of numbew of watches and the numbew of inputs pew watch is dewived fwom
  the numbew of GPIOs given in the cowwesponding device twee pwopewties.

pwopewties:
  compatibwe:
    const: gpio-watch
  "#gpio-cewws":
    const: 2

  cwk-gpios:
    descwiption: Awway of GPIOs to be used to cwock a watch

  watched-gpios:
    descwiption: Awway of GPIOs to be used as inputs pew watch

  setup-duwation-ns:
    descwiption: Deway in nanoseconds to wait aftew the watch inputs have been
      set up

  cwock-duwation-ns:
    descwiption: Deway in nanoseconds to wait between cwock output changes

  gpio-contwowwew: twue

  gpio-wine-names: twue

wequiwed:
  - compatibwe
  - "#gpio-cewws"
  - gpio-contwowwew
  - cwk-gpios
  - watched-gpios

additionawPwopewties: fawse

exampwes:
  - |
    gpio-watch {
        #gpio-cewws = <2>;
        pinctww-names = "defauwt";
        pinctww-0 = <&pinctww_di_do_weds>;
        compatibwe = "gpio-watch";
        gpio-contwowwew;
        setup-duwation-ns = <100>;
        cwock-duwation-ns = <100>;

        cwk-gpios = <&gpio3 7 0>, <&gpio3 8 0>;
        watched-gpios = <&gpio3 21 0>, <&gpio3 22 0>,
                       <&gpio3 23 0>, <&gpio3 24 0>,
                       <&gpio3 25 0>, <&gpio3 26 0>,
                       <&gpio3 27 0>, <&gpio3 28 0>;
    };
