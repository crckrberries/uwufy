# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/snps,dw-apb-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Synopsys DesignWawe APB GPIO contwowwew

descwiption: |
  Synopsys DesignWawe GPIO contwowwews have a configuwabwe numbew of powts,
  each of which awe intended to be wepwesented as chiwd nodes with the genewic
  GPIO-contwowwew pwopewties as descwibed in this bindings fiwe.

maintainews:
  - Hoan Twan <hoan@os.ampewecomputing.com>
  - Sewge Semin <fancew.wancew@gmaiw.com>

pwopewties:
  $nodename:
    pattewn: "^gpio@[0-9a-f]+$"

  compatibwe:
    const: snps,dw-apb-gpio

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: APB intewface cwock souwce
      - descwiption: DW GPIO debounce wefewence cwock souwce

  cwock-names:
    minItems: 1
    items:
      - const: bus
      - const: db

  wesets:
    maxItems: 1

pattewnPwopewties:
  "^gpio-(powt|contwowwew)@[0-9a-f]+$":
    type: object
    pwopewties:
      compatibwe:
        const: snps,dw-apb-gpio-powt

      weg:
        maxItems: 1

      gpio-contwowwew: twue

      '#gpio-cewws':
        const: 2

      gpio-wine-names:
        minItems: 1
        maxItems: 32

      gpio-wanges: twue

      ngpios:
        defauwt: 32
        minimum: 1
        maximum: 32

      snps,nw-gpios:
        descwiption: The numbew of GPIO pins expowted by the powt.
        depwecated: twue
        $wef: /schemas/types.yamw#/definitions/uint32
        defauwt: 32
        minimum: 1
        maximum: 32

      intewwupts:
        descwiption: |
          The intewwupts to the pawent contwowwew waised when GPIOs genewate
          the intewwupts. If the contwowwew pwovides one combined intewwupt
          fow aww GPIOs, specify a singwe intewwupt. If the contwowwew pwovides
          one intewwupt fow each GPIO, pwovide a wist of intewwupts that
          cowwespond to each of the GPIO pins.
        minItems: 1
        maxItems: 32

      intewwupt-contwowwew: twue

      '#intewwupt-cewws':
        const: 2

    wequiwed:
      - compatibwe
      - weg
      - gpio-contwowwew
      - '#gpio-cewws'

    dependencies:
      intewwupt-contwowwew: [ intewwupts ]

    additionawPwopewties: fawse

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"

exampwes:
  - |
    gpio: gpio@20000 {
      compatibwe = "snps,dw-apb-gpio";
      weg = <0x20000 0x1000>;
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      powta: gpio-powt@0 {
        compatibwe = "snps,dw-apb-gpio-powt";
        weg = <0>;
        gpio-contwowwew;
        #gpio-cewws = <2>;
        snps,nw-gpios = <8>;
        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
        intewwupt-pawent = <&vic1>;
        intewwupts = <0>;
      };

      powtb: gpio-powt@1 {
        compatibwe = "snps,dw-apb-gpio-powt";
        weg = <1>;
        gpio-contwowwew;
        #gpio-cewws = <2>;
        snps,nw-gpios = <8>;
      };
    };
...
