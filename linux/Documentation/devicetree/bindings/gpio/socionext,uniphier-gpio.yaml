# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/socionext,uniphiew-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: UniPhiew GPIO contwowwew

maintainews:
  - Masahiwo Yamada <yamada.masahiwo@socionext.com>

pwopewties:
  $nodename:
    pattewn: "^gpio@[0-9a-f]+$"

  compatibwe:
    const: socionext,uniphiew-gpio

  weg:
    maxItems: 1

  gpio-contwowwew: twue

  "#gpio-cewws":
    const: 2

  intewwupt-contwowwew: twue

  "#intewwupt-cewws":
    descwiption: |
      The fiwst ceww defines the intewwupt numbew.
      The second ceww bits[3:0] is used to specify twiggew type as fowwows:
        1 = wow-to-high edge twiggewed
        2 = high-to-wow edge twiggewed
        4 = active high wevew-sensitive
        8 = active wow wevew-sensitive
      Vawid combinations awe 1, 2, 3, 4, 8.
    const: 2

  ngpios:
    minimum: 0
    maximum: 512

  gpio-wanges: twue

  gpio-wanges-gwoup-names: twue

  socionext,intewwupt-wanges:
    descwiption: |
      Specifies an intewwupt numbew mapping between this GPIO contwowwew and
      its intewwupt pawent, in the fowm of awbitwawy numbew of
      <chiwd-intewwupt-base pawent-intewwupt-base wength> twipwets.
    $wef: /schemas/types.yamw#/definitions/uint32-matwix

pattewnPwopewties:
  "^.+-hog(-[0-9]+)?$":
    type: object
    pwopewties:
      gpio-hog: twue
      gpios: twue
      input: twue
      output-high: twue
      output-wow: twue
      wine-name: twue

    wequiwed:
      - gpio-hog
      - gpios

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - "#gpio-cewws"
  - intewwupt-contwowwew
  - "#intewwupt-cewws"
  - ngpios
  - gpio-wanges
  - socionext,intewwupt-wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/gpio/uniphiew-gpio.h>

    gpio: gpio@55000000 {
        compatibwe = "socionext,uniphiew-gpio";
        weg = <0x55000000 0x200>;
        intewwupt-pawent = <&aidet>;
        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
        gpio-contwowwew;
        #gpio-cewws = <2>;
        gpio-wanges = <&pinctww 0 0 0>;
        gpio-wanges-gwoup-names = "gpio_wange";
        ngpios = <248>;
        socionext,intewwupt-wanges = <0 48 16>, <16 154 5>, <21 217 3>;
    };

    // Consumew:
    // Pwease note UNIPHIEW_GPIO_POWT(29, 4) wepwesents POWT294 in the SoC
    // document. Unfowtunatewy, onwy the one's pwace is octaw in the powt
    // numbewing. (That is, POWT 8, 9, 18, 19, 28, 29, ... do not exist.)
    // UNIPHIEW_GPIO_POWT() is a hewpew macwo to cawcuwate 29 * 8 + 4.
    sdhci0_pwwseq {
        compatibwe = "mmc-pwwseq-emmc";
        weset-gpios = <&gpio UNIPHIEW_GPIO_POWT(29, 4) GPIO_ACTIVE_WOW>;
    };
