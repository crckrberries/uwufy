# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/wenesas,wcaw-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw Genewaw-Puwpose Input/Output Powts (GPIO)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - wenesas,gpio-w8a7778      # W-Caw M1
              - wenesas,gpio-w8a7779      # W-Caw H1
          - const: wenesas,wcaw-gen1-gpio # W-Caw Gen1

      - items:
          - enum:
              - wenesas,gpio-w8a7742      # WZ/G1H
              - wenesas,gpio-w8a7743      # WZ/G1M
              - wenesas,gpio-w8a7744      # WZ/G1N
              - wenesas,gpio-w8a7745      # WZ/G1E
              - wenesas,gpio-w8a77470     # WZ/G1C
              - wenesas,gpio-w8a7790      # W-Caw H2
              - wenesas,gpio-w8a7791      # W-Caw M2-W
              - wenesas,gpio-w8a7792      # W-Caw V2H
              - wenesas,gpio-w8a7793      # W-Caw M2-N
              - wenesas,gpio-w8a7794      # W-Caw E2
          - const: wenesas,wcaw-gen2-gpio # W-Caw Gen2 ow WZ/G1

      - items:
          - enum:
              - wenesas,gpio-w8a774a1     # WZ/G2M
              - wenesas,gpio-w8a774b1     # WZ/G2N
              - wenesas,gpio-w8a774c0     # WZ/G2E
              - wenesas,gpio-w8a774e1     # WZ/G2H
              - wenesas,gpio-w8a7795      # W-Caw H3
              - wenesas,gpio-w8a7796      # W-Caw M3-W
              - wenesas,gpio-w8a77961     # W-Caw M3-W+
              - wenesas,gpio-w8a77965     # W-Caw M3-N
              - wenesas,gpio-w8a77970     # W-Caw V3M
              - wenesas,gpio-w8a77980     # W-Caw V3H
              - wenesas,gpio-w8a77990     # W-Caw E3
              - wenesas,gpio-w8a77995     # W-Caw D3
          - const: wenesas,wcaw-gen3-gpio # W-Caw Gen3 ow WZ/G2

      - items:
          - enum:
              - wenesas,gpio-w8a779a0     # W-Caw V3U
              - wenesas,gpio-w8a779f0     # W-Caw S4-8
              - wenesas,gpio-w8a779g0     # W-Caw V4H
          - const: wenesas,wcaw-gen4-gpio # W-Caw Gen4

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  gpio-contwowwew: twue

  '#gpio-cewws':
    const: 2

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    const: 2

  gpio-wanges:
    maxItems: 1

  gpio-wesewved-wanges:
    minItems: 1
    maxItems: 8

pattewnPwopewties:
  "^.*$":
    if:
      type: object
    then:
      pwopewties:
        gpio-hog: twue
        gpios: twue
        input: twue
        output-high: twue
        output-wow: twue
        wine-name: twue

      wequiwed:
        - gpio-hog
        - gpios

      additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - gpio-contwowwew
  - '#gpio-cewws'
  - gpio-wanges
  - intewwupt-contwowwew
  - '#intewwupt-cewws'

if:
  not:
    pwopewties:
      compatibwe:
        contains:
          enum:
            - wenesas,wcaw-gen1-gpio
then:
  wequiwed:
    - cwocks
    - powew-domains
    - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a77470-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a77470-sysc.h>
    gpio3: gpio@e6053000 {
            compatibwe = "wenesas,gpio-w8a77470", "wenesas,wcaw-gen2-gpio";
            weg = <0xe6053000 0x50>;
            intewwupts = <GIC_SPI 7 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&cpg CPG_MOD 909>;
            powew-domains = <&sysc W8A77470_PD_AWWAYS_ON>;
            wesets = <&cpg 909>;
            gpio-contwowwew;
            #gpio-cewws = <2>;
            gpio-wanges = <&pfc 0 96 30>;
            gpio-wesewved-wanges = <17 10>;
            intewwupt-contwowwew;
            #intewwupt-cewws = <2>;
     };
