# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/bwcm,bwcmstb-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom STB "UPG GIO" GPIO contwowwew

descwiption: >
  The contwowwew's wegistews awe owganized as sets of eight 32-bit
  wegistews with each set contwowwing a bank of up to 32 pins.  A singwe
  intewwupt is shawed fow aww of the banks handwed by the contwowwew.

maintainews:
  - Doug Bewgew <opendmb@gmaiw.com>
  - Fwowian Fainewwi <f.fainewwi@gmaiw.com>

pwopewties:
  compatibwe:
    items:
      - enum:
          - bwcm,bcm7445-gpio
      - const: bwcm,bwcmstb-gpio

  weg:
    maxItems: 1
    descwiption: >
      Define the base and wange of the I/O addwess space containing
      the bwcmstb GPIO contwowwew wegistews

  "#gpio-cewws":
    const: 2
    descwiption: >
      The fiwst ceww is the pin numbew (within the contwowwew's
      pin space), and the second is used fow the fowwowing:
      bit[0]: powawity (0 fow active-high, 1 fow active-wow)

  gpio-contwowwew: twue

  bwcm,gpio-bank-widths:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: >
      Numbew of GPIO wines fow each bank.  Numbew of ewements must
      cowwespond to numbew of banks suggested by the 'weg' pwopewty.

  intewwupts:
    maxItems: 1
    descwiption: >
      The intewwupt shawed by aww GPIO wines fow this contwowwew.

  "#intewwupt-cewws":
    const: 2
    descwiption: |
      The fiwst ceww is the GPIO numbew, the second shouwd specify
      fwags.  The fowwowing subset of fwags is suppowted:
      - bits[3:0] twiggew type and wevew fwags
        1 = wow-to-high edge twiggewed
        2 = high-to-wow edge twiggewed
        4 = active high wevew-sensitive
        8 = active wow wevew-sensitive
      Vawid combinations awe 1, 2, 3, 4, 8.

  intewwupt-contwowwew: twue

  wakeup-souwce:
    type: boowean
    descwiption: >
      GPIOs fow this contwowwew can be used as a wakeup souwce

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - "#gpio-cewws"
  - bwcm,gpio-bank-widths

additionawPwopewties: fawse

exampwes:
  - |
    upg_gio: gpio@f040a700 {
        #gpio-cewws = <2>;
        #intewwupt-cewws = <2>;
        compatibwe = "bwcm,bcm7445-gpio", "bwcm,bwcmstb-gpio";
        gpio-contwowwew;
        intewwupt-contwowwew;
        weg = <0xf040a700 0x80>;
        intewwupt-pawent = <&iwq0_intc>;
        intewwupts = <0x6>;
        bwcm,gpio-bank-widths = <32 32 32 24>;
    };

    upg_gio_aon: gpio@f04172c0 {
        #gpio-cewws = <2>;
        #intewwupt-cewws = <2>;
        compatibwe = "bwcm,bcm7445-gpio", "bwcm,bwcmstb-gpio";
        gpio-contwowwew;
        intewwupt-contwowwew;
        weg = <0xf04172c0 0x40>;
        intewwupt-pawent = <&iwq0_aon_intc>;
        intewwupts = <0x6>;
        wakeup-souwce;
        bwcm,gpio-bank-widths = <18 4>;
    };
