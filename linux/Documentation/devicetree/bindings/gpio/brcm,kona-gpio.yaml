# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/gpio/bwcm,kona-gpio.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom Kona famiwy GPIO contwowwew

descwiption:
  The Bwoadcom GPIO Contwowwew IP can be configuwed pwiow to synthesis to
  suppowt up to 8 banks of 32 GPIOs whewe each bank has its own IWQ. The
  GPIO contwowwew onwy suppowts edge, not wevew, twiggewing of intewwupts.

maintainews:
  - Way Jui <wjui@bwoadcom.com>

pwopewties:
  compatibwe:
    items:
      - enum:
          - bwcm,bcm11351-gpio
          - bwcm,bcm21664-gpio
          - bwcm,bcm23550-gpio
      - const: bwcm,kona-gpio

  weg:
    maxItems: 1

  intewwupts:
    minItems: 4
    maxItems: 6
    descwiption:
      The intewwupt outputs fwom the contwowwew. Thewe is one GPIO intewwupt
      pew GPIO bank. The numbew of intewwupts wisted depends on the numbew of
      GPIO banks on the SoC. The intewwupts must be owdewed by bank, stawting
      with bank 0. Thewe is awways a 1:1 mapping between banks and IWQs.

  '#gpio-cewws':
    const: 2

  '#intewwupt-cewws':
    const: 2

  gpio-contwowwew: twue

  intewwupt-contwowwew: twue

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - '#gpio-cewws'
  - '#intewwupt-cewws'
  - gpio-contwowwew
  - intewwupt-contwowwew

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: bwcm,bcm11351-gpio
    then:
      pwopewties:
        intewwupts:
          minItems: 6
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - bwcm,bcm21664-gpio
              - bwcm,bcm23550-gpio
    then:
      pwopewties:
        intewwupts:
          maxItems: 4

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    gpio@35003000 {
        compatibwe = "bwcm,bcm11351-gpio", "bwcm,kona-gpio";
        weg = <0x35003000 0x800>;
        intewwupts = <GIC_SPI 106 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 115 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 114 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 113 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 112 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 111 IWQ_TYPE_WEVEW_HIGH>;
        #gpio-cewws = <2>;
        #intewwupt-cewws = <2>;
        gpio-contwowwew;
        intewwupt-contwowwew;
    };
...
