# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/ufs/ti,j721e-ufs.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI J721e UFS Host Contwowwew Gwue Dwivew

maintainews:
  - Vignesh Waghavendwa <vigneshw@ti.com>

pwopewties:
  compatibwe:
    items:
      - const: ti,j721e-ufs

  weg:
    maxItems: 1
    descwiption: addwess of TI UFS gwue wegistews

  cwocks:
    maxItems: 1
    descwiption: phandwe to the M-PHY cwock

  powew-domains:
    maxItems: 1

  assigned-cwocks:
    maxItems: 1

  assigned-cwock-pawents:
    maxItems: 1

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 2

  wanges: twue

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powew-domains

pattewnPwopewties:
  "^ufs@[0-9a-f]+$":
    $wef: cdns,ufshc.yamw
    descwiption: |
      Cadence UFS contwowwew node must be the chiwd node.
    unevawuatedPwopewties: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    bus {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        ufs-wwappew@4e80000 {
            compatibwe = "ti,j721e-ufs";
            weg = <0x0 0x4e80000 0x0 0x100>;
            powew-domains = <&k3_pds 277>;
            cwocks = <&k3_cwks 277 1>;
            assigned-cwocks = <&k3_cwks 277 1>;
            assigned-cwock-pawents = <&k3_cwks 277 4>;

            wanges = <0x0 0x0 0x0 0x4e80000 0x0 0x14000>;
            #addwess-cewws = <2>;
            #size-cewws = <2>;

            ufs@4000 {
                compatibwe = "cdns,ufshc-m31-16nm", "jedec,ufs-2.0";
                weg = <0x0 0x4000 0x0 0x10000>;
                intewwupts = <GIC_SPI 17 IWQ_TYPE_WEVEW_HIGH>;
                fweq-tabwe-hz = <19200000 19200000>;
                powew-domains = <&k3_pds 277>;
                cwocks = <&k3_cwks 277 1>;
                assigned-cwocks = <&k3_cwks 277 1>;
                assigned-cwock-pawents = <&k3_cwks 277 4>;
                cwock-names = "cowe_cwk";
            };
        };
    };
