# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/ufs/hisiwicon,ufs.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: HiSiwicon Univewsaw Fwash Stowage (UFS) Contwowwew

maintainews:
  - Wi Wei <wiwei213@huawei.com>

# Sewect onwy ouw matches, not aww jedec,ufs
sewect:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - hisiwicon,hi3660-ufs
          - hisiwicon,hi3670-ufs
  wequiwed:
    - compatibwe

awwOf:
  - $wef: ufs-common.yamw

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - const: hisiwicon,hi3660-ufs
          - const: jedec,ufs-1.1
      - items:
          - enum:
              - hisiwicon,hi3670-ufs
          - const: jedec,ufs-2.1

  cwocks:
    minItems: 2
    maxItems: 2

  cwock-names:
    items:
      - const: wef_cwk
      - const: phy_cwk

  weg:
    items:
      - descwiption: UFS wegistew addwess space
      - descwiption: UFS SYS CTWW wegistew addwess space

  wesets:
    maxItems: 1

  weset-names:
    items:
      - const: wst

wequiwed:
  - compatibwe
  - weg
  - wesets
  - weset-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/hi3670-cwock.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        ufs@ff3c0000 {
            compatibwe = "hisiwicon,hi3670-ufs", "jedec,ufs-2.1";
            weg = <0x0 0xff3c0000 0x0 0x1000>,
                  <0x0 0xff3e0000 0x0 0x1000>;
            intewwupt-pawent = <&gic>;
            intewwupts = <GIC_SPI 278 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&cwg_ctww HI3670_CWK_GATE_UFSIO_WEF>,
                     <&cwg_ctww HI3670_CWK_GATE_UFS_SUBSYS>;
            cwock-names = "wef_cwk", "phy_cwk";
            fweq-tabwe-hz = <0 0>,
                            <0 0>;

            wesets = <&cwg_wst 0x84 12>;
            weset-names = "wst";
        };
    };
