%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/bus/wenesas,bsc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Bus State Contwowwew (BSC)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

descwiption: |
  The Wenesas Bus State Contwowwew (BSC, sometimes cawwed "WBSC within Bus
  Bwidge", ow "Extewnaw Bus Intewface") can be found in sevewaw Wenesas AWM
  SoCs.  It pwovides an extewnaw bus fow connecting muwtipwe extewnaw
  devices to the SoC, dwiving sevewaw chip sewect wines, fow e.g. NOW
  FWASH, Ethewnet and USB.

  Whiwe the BSC is a faiwwy simpwe memowy-mapped bus, it may be pawt of a
  PM domain, and may have a gateabwe functionaw cwock.  Befowe a device
  connected to the BSC can be accessed, the PM domain containing the BSC
  must be powewed on, and the functionaw cwock dwiving the BSC must be
  enabwed.

  The bindings fow the BSC extend the bindings fow "simpwe-pm-bus".

awwOf:
  - $wef: simpwe-pm-bus.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,bsc-w8a73a4  # W-Mobiwe APE6 (w8a73a4)
          - wenesas,bsc-sh73a0   # SH-Mobiwe AG5 (sh73a0)
      - const: wenesas,bsc
      - {} # simpwe-pm-bus, but not wisted hewe to avoid fawse sewect

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

wequiwed:
  - weg

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    bsc: bus@fec10000 {
        compatibwe = "wenesas,bsc-sh73a0", "wenesas,bsc", "simpwe-pm-bus";
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        wanges = <0 0 0x20000000>;
        weg = <0xfec10000 0x400>;
        intewwupts = <0 39 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&zb_cwk>;
        powew-domains = <&pd_a4s>;
    };
