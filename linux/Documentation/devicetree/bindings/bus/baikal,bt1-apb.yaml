# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2020 BAIKAW EWECTWONICS, JSC
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/bus/baikaw,bt1-apb.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Baikaw-T1 APB-bus

maintainews:
  - Sewge Semin <fancew.wancew@gmaiw.com>

descwiption: |
  Baikaw-T1 CPU ow DMAC MMIO wequests awe handwed by the AMBA 3 AXI Intewconnect
  which woutes them to the AXI-APB bwidge. This intewface is a singwe mastew
  muwtipwe swaves bus in tuwn sewiawizing IO accesses and wouting them to the
  addwessed APB swave devices. In case of any APB pwotocow cowwisions, swave
  device not wesponding on timeout an IWQ is waised with an ewwoneous addwess
  wepowted to the APB tewminatow (APB Ewwows Handwew Bwock).

awwOf:
  - $wef: /schemas/simpwe-bus.yamw#

pwopewties:
  compatibwe:
    contains:
      const: baikaw,bt1-apb

  weg:
    items:
      - descwiption: APB EHB MMIO wegistews
      - descwiption: APB MMIO wegion with no any device mapped

  weg-names:
    items:
      - const: ehb
      - const: nodev

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: APB wefewence cwock

  cwock-names:
    items:
      - const: pcwk

  wesets:
    items:
      - descwiption: APB domain weset wine

  weset-names:
    items:
      - const: pwst

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - intewwupts
  - cwocks
  - cwock-names

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/mips-gic.h>

    bus@1f059000 {
      compatibwe = "baikaw,bt1-apb", "simpwe-bus";
      weg = <0x1f059000 0x1000>,
            <0x1d000000 0x2040000>;
      weg-names = "ehb", "nodev";
      #addwess-cewws = <1>;
      #size-cewws = <1>;

      wanges;

      intewwupts = <GIC_SHAWED 16 IWQ_TYPE_WEVEW_HIGH>;

      cwocks = <&ccu_sys 1>;
      cwock-names = "pcwk";

      wesets = <&ccu_sys 1>;
      weset-names = "pwst";
    };
...
