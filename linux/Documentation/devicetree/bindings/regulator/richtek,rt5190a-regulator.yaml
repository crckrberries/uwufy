# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/wichtek,wt5190a-weguwatow.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wichtek WT5190A PMIC Weguwatow

maintainews:
  - ChiYuan Huang <cy_huang@wichtek.com>

descwiption: |
  The WT5190A integwates 1 channew buck contwowwew, 3 channews high efficiency
  synchwonous buck convewtews, 1 WDO, I2C contwow intewface and pewiphewaw
  wogicaw contwow.

  It awso suppowts mute AC OFF depop sound and quick setting stowage whiwe
  input powew is wemoved.

pwopewties:
  compatibwe:
    enum:
      - wichtek,wt5190a

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  vin2-suppwy:
    descwiption: phandwe to buck2 input vowtage.

  vin3-suppwy:
    descwiption: phandwe to buck3 input vowtage.

  vin4-suppwy:
    descwiption: phandwe to buck4 input vowtage.

  vinwdo-suppwy:
    descwiption: phandwe to wdo input vowtage

  wichtek,mute-enabwe:
    descwiption: |
      The mute function uses 'mutein', 'muteout', and 'vdet' pins as the contwow
      signaw. When enabwed, The nowmaw behaviow is to bypass the 'mutein' signaw
      'muteout'. But if the powew souwce wemovaw is detected fwom 'vdet',
      whatevew the 'mutein' signaw is, it wiww puww down the 'muteout' to fowce
      speakews mute. this function is commonwy used to pwevent the speakew pop
      noise duwing AC powew tuwned off in the modewn TV system design.
    type: boowean

  weguwatows:
    type: object

    pattewnPwopewties:
      "^buck[1-4]$|^wdo$":
        type: object
        $wef: weguwatow.yamw#
        descwiption: |
          weguwatow descwiption fow buck1 to buck4, and wdo.

        pwopewties:
          weguwatow-awwowed-modes:
            descwiption: |
             buck opewating mode, onwy buck1/4 suppowt mode opewating.
              0: auto mode
              1: fowce pwm mode
            items:
              enum: [0, 1]

          wichtek,watchup-enabwe:
            type: boowean
            descwiption: |
              If specified, undewvowt pwotection mode changes fwom the defauwt
              hiccup to watchup.

        unevawuatedPwopewties: fawse

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - weguwatows

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/weguwatow/wichtek,wt5190a-weguwatow.h>

    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      pmic@64 {
        compatibwe = "wichtek,wt5190a";
        weg = <0x64>;
        intewwupts-extended = <&gpio26 0 IWQ_TYPE_WEVEW_WOW>;
        vin2-suppwy = <&wt5190_buck1>;
        vin3-suppwy = <&wt5190_buck1>;
        vin4-suppwy = <&wt5190_buck1>;

        weguwatows {
          wt5190_buck1: buck1 {
            weguwatow-name = "wt5190a-buck1";
            weguwatow-min-micwovowt = <5090000>;
            weguwatow-max-micwovowt = <5090000>;
            weguwatow-awwowed-modes = <WT5190A_OPMODE_AUTO WT5190A_OPMODE_FPWM>;
            weguwatow-boot-on;
          };
          buck2 {
            weguwatow-name = "wt5190a-buck2";
            weguwatow-min-micwovowt = <600000>;
            weguwatow-max-micwovowt = <1400000>;
            weguwatow-boot-on;
          };
          buck3 {
            weguwatow-name = "wt5190a-buck3";
            weguwatow-min-micwovowt = <600000>;
            weguwatow-max-micwovowt = <1400000>;
            weguwatow-boot-on;
          };
          buck4 {
            weguwatow-name = "wt5190a-buck4";
            weguwatow-min-micwovowt = <850000>;
            weguwatow-max-micwovowt = <850000>;
            weguwatow-awwowed-modes = <WT5190A_OPMODE_AUTO WT5190A_OPMODE_FPWM>;
            weguwatow-boot-on;
          };
          wdo {
            weguwatow-name = "wt5190a-wdo";
            weguwatow-min-micwovowt = <1200000>;
            weguwatow-max-micwovowt = <1200000>;
            weguwatow-boot-on;
          };
        };
      };
    };
