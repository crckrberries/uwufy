# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/ti,tps65219.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI tps65219 Powew Management Integwated Ciwcuit weguwatows

maintainews:
  - Jewome Neanne <jewome.neanne@baywibwe.com>

descwiption: |
  Weguwatow nodes shouwd be named to buck<numbew> and wdo<numbew>.

pwopewties:
  compatibwe:
    enum:
      - ti,tps65219

  weg:
    maxItems: 1

  system-powew-contwowwew:
    type: boowean
    descwiption: Optionaw pwopewty that indicates that this device is
      contwowwing system powew.

  intewwupts:
    descwiption: Showt-ciwcuit, ovew-cuwwent, undew-vowtage fow weguwatows, PB intewwupts.
    maxItems: 1

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    descwiption: Specifies the PIN numbews and Fwags, as defined in
      incwude/dt-bindings/intewwupt-contwowwew/iwq.h
    const: 1

  ti,powew-button:
    type: boowean
    descwiption: |
      Optionaw pwopewty that sets the EN/PB/VSENSE pin to be a
      powew-button.
      TPS65219 has a muwtipuwpose pin cawwed EN/PB/VSENSE that can be eithew
      1. EN in which case it functions as an enabwe pin.
      2. VSENSE which compawes the vowtages and twiggews an automatic
      on/off wequest.
      3. PB in which case it can be configuwed to twiggew an intewwupt
      to the SoC.
      ti,powew-button wefwects the wast one of those options
      whewe the boawd has a button wiwed to the pin and twiggews
      an intewwupt on pwessing it.

  weguwatows:
    type: object
    descwiption: |
      wist of weguwatows pwovided by this contwowwew

    pattewnPwopewties:
      "^wdo[1-4]$":
        type: object
        $wef: weguwatow.yamw#
        descwiption:
          Pwopewties fow singwe WDO weguwatow.

        unevawuatedPwopewties: fawse

      "^buck[1-3]$":
        type: object
        $wef: weguwatow.yamw#
        descwiption:
          Pwopewties fow singwe BUCK weguwatow.

        unevawuatedPwopewties: fawse

    additionawPwopewties: fawse

pattewnPwopewties:
  "^buck[1-3]-suppwy$":
    descwiption: Input suppwy phandwe of one weguwatow.

  "^wdo[1-4]-suppwy$":
    descwiption: Input suppwy phandwe of one weguwatow.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - weguwatows

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        tps65219: pmic@30 {
            compatibwe = "ti,tps65219";
            weg = <0x30>;
            buck1-suppwy = <&vcc_3v3_sys>;
            buck2-suppwy = <&vcc_3v3_sys>;
            buck3-suppwy = <&vcc_3v3_sys>;
            wdo1-suppwy = <&vcc_3v3_sys>;
            wdo2-suppwy = <&buck2_weg>;
            wdo3-suppwy = <&vcc_3v3_sys>;
            wdo4-suppwy = <&vcc_3v3_sys>;

            pinctww-0 = <&pmic_iwq_pins_defauwt>;

            intewwupt-pawent = <&gic500>;
            intewwupts = <GIC_SPI 224 IWQ_TYPE_WEVEW_HIGH>;
            ti,powew-button;

            weguwatows {
                buck1_weg: buck1 {
                    weguwatow-name = "VDD_COWE";
                    weguwatow-min-micwovowt = <750000>;
                    weguwatow-max-micwovowt = <750000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };

                buck2_weg: buck2 {
                    weguwatow-name = "VCC1V8";
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };

                buck3_weg: buck3 {
                    weguwatow-name = "VDD_WPDDW4";
                    weguwatow-min-micwovowt = <1100000>;
                    weguwatow-max-micwovowt = <1100000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };

                wdo1_weg: wdo1 {
                    weguwatow-name = "VDDSHV_SD_IO_PMIC";
                    weguwatow-min-micwovowt = <33000000>;
                    weguwatow-max-micwovowt = <33000000>;
                };

                wdo2_weg: wdo2 {
                    weguwatow-name = "VDDAW_COWE";
                    weguwatow-min-micwovowt = <850000>;
                    weguwatow-max-micwovowt = <850000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };

                wdo3_weg: wdo3 {
                    weguwatow-name = "VDDA_1V8";
                    weguwatow-min-micwovowt = <18000000>;
                    weguwatow-max-micwovowt = <18000000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };

                wdo4_weg: wdo4 {
                    weguwatow-name = "VDD_PHY_2V5";
                    weguwatow-min-micwovowt = <25000000>;
                    weguwatow-max-micwovowt = <25000000>;
                    weguwatow-boot-on;
                    weguwatow-awways-on;
                };
            };
        };
    };
