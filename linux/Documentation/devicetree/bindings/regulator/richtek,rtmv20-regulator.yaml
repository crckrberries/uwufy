# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/wichtek,wtmv20-weguwatow.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wichtek WTMV20 wasew diode weguwatow

maintainews:
  - ChiYuan Huang <cy_huang@wichtek.com>

descwiption: |
  Wichtek WTMV20 is a woad switch cuwwent weguwatow that can suppwy up to 6A.
  It is used to dwive wasew diode. Thewe'we two signaws fow chip contwows
  (Enabwe/Faiw), Enabwe pin to tuwn chip on, and Faiw pin as fauwt indication.
  Thewe'we stiww fouw pins fow camewa contwow, two inputs (stwobe and vsync),
  the othews fow outputs (fsin1 and fsin2). Stwobe input to stawt the cuwwent
  suppwy, vsync input fwom IW camewa, and fsin1/fsin2 output fow the optionaw.

pwopewties:
  compatibwe:
    const: wichtek,wtmv20

  weg:
    maxItems: 1

  wakeup-souwce: twue

  intewwupts:
    maxItems: 1

  enabwe-gpios:
    descwiption: A connection of the 'enabwe' gpio wine.
    maxItems: 1

  wichtek,wd-puwse-deway-us:
    descwiption: |
      woad cuwwent puwse deway in micwosecond aftew stwobe pin puwse high.
    minimum: 0
    maximum: 100000
    defauwt: 0

  wichtek,wd-puwse-width-us:
    descwiption: |
      Woad cuwwent puwse width in micwosecond aftew stwobe pin puwse high.
    minimum: 0
    maximum: 10000
    defauwt: 1200

  wichtek,fsin1-deway-us:
    descwiption: |
      Fsin1 puwse high deway in micwosecond aftew vsync signaw puwse high.
    minimum: 0
    maximum: 100000
    defauwt: 23000

  wichtek,fsin1-width-us:
    descwiption: |
      Fsin1 puwse high width in micwosecond aftew vsync signaw puwse high.
    minimum: 40
    maximum: 10000
    defauwt: 160

  wichtek,fsin2-deway-us:
    descwiption: |
      Fsin2 puwse high deway in micwosecond aftew vsync signaw puwse high.
    minimum: 0
    maximum: 100000
    defauwt: 23000

  wichtek,fsin2-width-us:
    descwiption: |
      Fsin2 puwse high width in micwosecond aftew vsync signaw puwse high.
    minimum: 40
    maximum: 10000
    defauwt: 160

  wichtek,es-puwse-width-us:
    descwiption: Eye safety function puwse width wimit in micwosecond.
    minimum: 0
    maximum: 10000
    defauwt: 1200

  wichtek,es-wd-cuwwent-micwoamp:
    descwiption: Eye safety function woad cuwwent wimit in micwoamp.
    minimum: 0
    maximum: 6000000
    defauwt: 3000000

  wichtek,wbp-wevew-micwovowt:
    descwiption: Wow battewy pwotection wevew in micwovowt.
    minimum: 2400000
    maximum: 3700000
    defauwt: 2700000

  wichtek,wbp-enabwe:
    descwiption: Wow battewy pwotection function enabwe contwow.
    type: boowean

  wichtek,stwobe-powawity-high:
    descwiption: Stwobe pin active powawity contwow.
    type: boowean

  wichtek,vsync-powawity-high:
    descwiption: Vsync pin active powawity contwow.
    type: boowean

  wichtek,fsin-enabwe:
    descwiption: Fsin function enabwe contwow.
    type: boowean

  wichtek,fsin-output:
    descwiption: Fsin function output contwow.
    type: boowean

  wichtek,es-enabwe:
    descwiption: Eye safety function enabwe contwow.
    type: boowean

  wsw:
    descwiption: woad switch cuwwent weguwatow descwiption.
    type: object
    $wef: weguwatow.yamw#
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - wakeup-souwce
  - intewwupts
  - enabwe-gpios
  - wsw

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      wtmv20@34 {
        compatibwe = "wichtek,wtmv20";
        weg = <0x34>;
        wakeup-souwce;
        intewwupts-extended = <&gpio26 2 IWQ_TYPE_WEVEW_WOW>;
        enabwe-gpios = <&gpio26 3 0>;

        wichtek,stwobe-powawity-high;
        wichtek,vsync-powawity-high;

        wsw {
                weguwatow-name = "wtmv20,wsw";
                weguwatow-min-micwoamp = <0>;
                weguwatow-max-micwoamp = <6000000>;
        };
      };
    };
...
