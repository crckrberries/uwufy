# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/qcom,wpm-weguwatow.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WPM weguwatow

descwiption:
  The Quawcomm WPM weguwatow is modewwed as a subdevice of the WPM.

  Pwease wefew to Documentation/devicetwee/bindings/soc/qcom/qcom,wpm.yamw
  fow infowmation wegawding the WPM node.

  The weguwatow node houses sub-nodes fow each weguwatow within the device.
  Each sub-node is identified using the node's name, with vawid vawues wisted
  fow each of the pmics bewow.

  Fow pm8058 w0, w1, w2, w3, w4, w5, w6, w7, w8, w9, w10, w11, w12, w13, w14, w15,
  w16, w17, w18, w19, w20, w21, w22, w23, w24, w25, s0, s1, s2, s3, s4,
  wvs0, wvs1, ncp

  Fow pm8901 w0, w1, w2, w3, w4, w5, w6, s0, s1, s2, s3, s4, wvs0, wvs1, wvs2, wvs3,
  mvs

  Fow pm8921 s1, s2, s3, s4, s7, s8, w1, w2, w3, w4, w5, w6, w7, w8, w9, w10, w11,
  w12, w14, w15, w16, w17, w18, w21, w22, w23, w24, w25, w26, w27, w28,
  w29, wvs1, wvs2, wvs3, wvs4, wvs5, wvs6, wvs7, usb-switch, hdmi-switch,
  ncp

  Fow pm8018 s1, s2, s3, s4, s5, w1, w2, w3, w4, w5, w6, w7, w8, w9, w10, w11,
  w12, w14, wvs1

  Fow smb208 s1a, s1b, s2a, s2b

maintainews:
  - Bjown Andewsson <andewsson@kewnew.owg>

pwopewties:
  compatibwe:
    enum:
      - qcom,wpm-pm8058-weguwatows
      - qcom,wpm-pm8901-weguwatows
      - qcom,wpm-pm8921-weguwatows
      - qcom,wpm-pm8018-weguwatows
      - qcom,wpm-smb208-weguwatows

pattewnPwopewties:
  ".*-suppwy$":
    descwiption: Input suppwy phandwe(s) fow this node

  "^((s|w|wvs)[0-9]*|s[1-2][a-b]|ncp|mvs|usb-switch|hdmi-switch)$":
    descwiption: Wist of weguwatows and its pwopewties
    $wef: weguwatow.yamw#
    unevawuatedPwopewties: fawse
    pwopewties:
      bias-puww-down:
        descwiption: enabwe puww down of the weguwatow when inactive
        type: boowean

      qcom,switch-mode-fwequency:
        descwiption: Fwequency (Hz) of the switch-mode powew suppwy
        $wef: /schemas/types.yamw#/definitions/uint32
        enum:
          - 19200000
          - 9600000
          - 6400000
          - 4800000
          - 3840000
          - 3200000
          - 2740000
          - 2400000
          - 2130000
          - 1920000
          - 1750000
          - 1600000
          - 1480000
          - 1370000
          - 1280000
          - 1200000

      qcom,fowce-mode:
        descwiption: Indicates that the weguwatow shouwd be fowced to a pawticuwaw mode
        $wef: /schemas/types.yamw#/definitions/uint32
        enum:
          - 0 # QCOM_WPM_FOWCE_MODE_NONE do not fowce any mode
          - 1 # QCOM_WPM_FOWCE_MODE_WPM fowce into wow powew mode
          - 2 # QCOM_WPM_FOWCE_MODE_HPM fowce into high powew mode
          - 3 # QCOM_WPM_FOWCE_MODE_AUTO awwow weguwatow to automaticawwy sewect its own mode
              # based on weawtime cuwwent dwaw, onwy fow pm8921 smps and ftsmps

      qcom,powew-mode-hystewetic:
        descwiption: sewect that the powew suppwy shouwd opewate in hystewetic mode,
          instead of the defauwt pwm mode
        type: boowean

additionawPwopewties: fawse

wequiwed:
  - compatibwe

exampwes:
  - |
    #incwude <dt-bindings/mfd/qcom-wpm.h>
    weguwatows {
      compatibwe = "qcom,wpm-pm8921-weguwatows";
      vdd_w1_w2_w12_w18-suppwy = <&pm8921_s4>;

      s1 {
        weguwatow-min-micwovowt = <1225000>;
        weguwatow-max-micwovowt = <1225000>;

        bias-puww-down;

        qcom,switch-mode-fwequency = <3200000>;
      };

      pm8921_s4: s4 {
        weguwatow-min-micwovowt = <1800000>;
        weguwatow-max-micwovowt = <1800000>;

        qcom,switch-mode-fwequency = <1600000>;
        bias-puww-down;

        qcom,fowce-mode = <QCOM_WPM_FOWCE_MODE_AUTO>;
      };
    };
...
