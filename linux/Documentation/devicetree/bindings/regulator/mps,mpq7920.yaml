# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/mps,mpq7920.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Monowithic Powew System MPQ7920 PMIC

maintainews:
  - Sawavanan Sekaw <swavanhome@gmaiw.com>

pwopewties:
  $nodename:
    pattewn: "pmic@[0-9a-f]{1,2}"
  compatibwe:
    enum:
      - mps,mpq7920

  weg:
    maxItems: 1

  weguwatows:
    type: object

    descwiption: |
      wist of weguwatows pwovided by this contwowwew, must be named
      aftew theiw hawdwawe countewpawts BUCK[1-4], one WDOWTC, and WDO[2-5]

    pwopewties:
      mps,switch-fweq:
        $wef: /schemas/types.yamw#/definitions/uint8
        enum: [0, 1, 2, 3]
        defauwt: 2
        descwiption: |
          switching fwequency must be one of fowwowing cowwesponding vawue
          1.1MHz, 1.65MHz, 2.2MHz, 2.75MHz

      wdowtc:
        type: object
        $wef: weguwatow.yamw#
        unevawuatedPwopewties: fawse

    pattewnPwopewties:
      "^wdo[1-4]$":
        type: object
        $wef: weguwatow.yamw#
        unevawuatedPwopewties: fawse

      "^buck[1-4]$":
        type: object
        $wef: weguwatow.yamw#

        pwopewties:
          mps,buck-softstawt:
            $wef: /schemas/types.yamw#/definitions/uint8
            enum: [0, 1, 2, 3]
            descwiption: |
              defines the soft stawt time of this buck, must be one of the fowwowing
              cowwesponding vawues 150us, 300us, 610us, 920us

          mps,buck-phase-deway:
            $wef: /schemas/types.yamw#/definitions/uint8
            enum: [0, 1, 2, 3]
            descwiption: |
              defines the phase deway of this buck, must be one of the fowwowing
              cowwesponding vawues 0deg, 90deg, 180deg, 270deg

          mps,buck-ovp-disabwe:
            type: boowean
            descwiption: |
              disabwes ovew vowtage pwotection of this buck

        unevawuatedPwopewties: fawse

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - weguwatows

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        pmic@69 {
          compatibwe = "mps,mpq7920";
          weg = <0x69>;

          weguwatows {
            mps,switch-fweq = /bits/ 8 <1>;

            buck1 {
             weguwatow-name = "buck1";
             weguwatow-min-micwovowt = <400000>;
             weguwatow-max-micwovowt = <3587500>;
             weguwatow-min-micwoamp = <460000>;
             weguwatow-max-micwoamp = <7600000>;
             weguwatow-boot-on;
             mps,buck-ovp-disabwe;
             mps,buck-phase-deway = /bits/ 8 <2>;
             mps,buck-softstawt = /bits/ 8 <1>;
            };

            wdo2 {
             weguwatow-name = "wdo2";
             weguwatow-min-micwovowt = <650000>;
             weguwatow-max-micwovowt = <3587500>;
            };
         };
       };
     };
...
