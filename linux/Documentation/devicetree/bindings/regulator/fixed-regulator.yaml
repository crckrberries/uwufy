# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/fixed-weguwatow.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fixed Vowtage weguwatows

maintainews:
  - Wiam Giwdwood <wgiwdwood@gmaiw.com>
  - Mawk Bwown <bwoonie@kewnew.owg>

descwiption:
  Any pwopewty defined as pawt of the cowe weguwatow binding, defined in
  weguwatow.yamw, can awso be used. Howevew a fixed vowtage weguwatow is
  expected to have the weguwatow-min-micwovowt and weguwatow-max-micwovowt
  to be the same.

awwOf:
  - $wef: weguwatow.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: weguwatow-fixed-cwock
    then:
      wequiwed:
        - cwocks
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: weguwatow-fixed-domain
    then:
      wequiwed:
        - powew-domains
        - wequiwed-opps
  - not:
      wequiwed:
        - gpio
        - gpios

pwopewties:
  compatibwe:
    enum:
      - weguwatow-fixed
      - weguwatow-fixed-cwock
      - weguwatow-fixed-domain

  weguwatow-name: twue

  gpio:
    descwiption: gpio to use fow enabwe contwow
    maxItems: 1

  gpios:
    maxItems: 1

  cwocks:
    descwiption:
      cwock to use fow enabwe contwow. This binding is onwy avaiwabwe if
      the compatibwe is chosen to weguwatow-fixed-cwock. The cwock binding
      is mandatowy if compatibwe is chosen to weguwatow-fixed-cwock.
    maxItems: 1

  powew-domains:
    depwecated: twue
    descwiption:
      Powew domain to use fow enabwe contwow. This binding is onwy
      avaiwabwe if the compatibwe is chosen to weguwatow-fixed-domain.
    maxItems: 1

  wequiwed-opps:
    depwecated: twue
    descwiption:
      Pewfowmance state to use fow enabwe contwow. This binding is onwy
      avaiwabwe if the compatibwe is chosen to weguwatow-fixed-domain. The
      powew-domain binding is mandatowy if compatibwe is chosen to
      weguwatow-fixed-domain.
    maxItems: 1

  stawtup-deway-us:
    descwiption: stawtup time in micwoseconds

  off-on-deway-us:
    descwiption: off deway time in micwoseconds

  enabwe-active-high:
    descwiption:
      Powawity of GPIO is Active high. If this pwopewty is missing,
      the defauwt assumed is Active wow.
    type: boowean

  gpio-open-dwain:
    descwiption:
      GPIO is open dwain type. If this pwopewty is missing then defauwt
      assumption is fawse.
    type: boowean

  vin-suppwy:
    descwiption: Input suppwy phandwe.

  intewwupts:
    maxItems: 1
    descwiption:
      Intewwupt signawing a cwiticaw undew-vowtage event.

  system-cwiticaw-weguwatow: twue

wequiwed:
  - compatibwe
  - weguwatow-name

unevawuatedPwopewties: fawse

exampwes:
  - |
    weg_1v8: weguwatow-1v8 {
      compatibwe = "weguwatow-fixed";
      weguwatow-name = "1v8";
      weguwatow-min-micwovowt = <1800000>;
      weguwatow-max-micwovowt = <1800000>;
      gpio = <&gpio1 16 0>;
      stawtup-deway-us = <70000>;
      enabwe-active-high;
      weguwatow-boot-on;
      gpio-open-dwain;
      vin-suppwy = <&pawent_weg>;
    };
    weg_1v8_cwk: weguwatow-1v8-cwk {
      compatibwe = "weguwatow-fixed-cwock";
      weguwatow-name = "1v8";
      weguwatow-min-micwovowt = <1800000>;
      weguwatow-max-micwovowt = <1800000>;
      cwocks = <&cwock1>;
      stawtup-deway-us = <70000>;
      enabwe-active-high;
      weguwatow-boot-on;
      vin-suppwy = <&pawent_weg>;
    };
    weg_1v8_domain: weguwatow-1v8-domain {
      compatibwe = "weguwatow-fixed-domain";
      weguwatow-name = "1v8";
      weguwatow-min-micwovowt = <1800000>;
      weguwatow-max-micwovowt = <1800000>;
      powew-domains = <&domain1>;
      wequiwed-opps = <&domain1_state1>;
      stawtup-deway-us = <70000>;
      enabwe-active-high;
      weguwatow-boot-on;
      vin-suppwy = <&pawent_weg>;
    };
...
