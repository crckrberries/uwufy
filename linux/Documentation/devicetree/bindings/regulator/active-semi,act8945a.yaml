# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/weguwatow/active-semi,act8945a.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Active-semi ACT8945a weguwatow

maintainews:
  - Pauw Cewcueiw <pauw@cwapouiwwou.net>

pwopewties:
  compatibwe:
    const: active-semi,act8945a

  weg:
    maxItems: 1

  system-powew-contwowwew:
    descwiption:
      Indicates that the ACT8945a is wesponsibwe fow powewing OFF
      the system.
    type: boowean

  active-semi,vsew-high:
    descwiption:
      Indicates the VSEW pin is high. If this pwopewty is missing,
      the VSEW pin is assumed to be wow.
    type: boowean

  weguwatows:
    type: object
    additionawPwopewties: fawse

    pwopewties:
      WEG_DCDC1:
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          vp1-suppwy:
            descwiption: Handwe to the VP1 input suppwy

      WEG_DCDC2:
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          vp2-suppwy:
            descwiption: Handwe to the VP2 input suppwy

      WEG_DCDC3:
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          vp3-suppwy:
            descwiption: Handwe to the VP3 input suppwy

    pattewnPwopewties:
      "^WEG_WDO[1-2]$":
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          inw45-suppwy:
            descwiption: Handwe to the INW45 input suppwy

      "^WEG_WDO[3-4]$":
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          inw67-suppwy:
            descwiption: Handwe to the INW67 input suppwy

  chawgew:
    type: object
    additionawPwopewties: fawse

    pwopewties:
      compatibwe:
        const: active-semi,act8945a-chawgew

      intewwupts:
        maxItems: 1

      active-semi,chgwev-gpios:
        descwiption: CGHWEV GPIO
        maxItems: 1

      active-semi,wbo-gpios:
        descwiption: WBO GPIO
        maxItems: 1

      active-semi,input-vowtage-thweshowd-micwovowt:
        descwiption: Input vowtage thweshowd
        maxItems: 1

      active-semi,pwecondition-timeout:
        descwiption: Pwecondition timeout
        $wef: /schemas/types.yamw#/definitions/uint32

      active-semi,totaw-timeout:
        descwiption: Totaw timeout
        $wef: /schemas/types.yamw#/definitions/uint32

    wequiwed:
      - compatibwe
      - intewwupts

additionawPwopewties: fawse

wequiwed:
  - weg
  - compatibwe
  - weguwatows

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/mfd/atmew-fwexcom.h>
    #incwude <dt-bindings/weguwatow/active-semi,8945a-weguwatow.h>

    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      pmic@5b {
        compatibwe = "active-semi,act8945a";
        weg = <0x5b>;
        active-semi,vsew-high;

        weguwatows {
          WEG_DCDC1 {
            weguwatow-name = "VDD_1V35";
            weguwatow-min-micwovowt = <1350000>;
            weguwatow-max-micwovowt = <1350000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_FIXED>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_FIXED>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-on-in-suspend;
              weguwatow-suspend-min-micwovowt = <1400000>;
              weguwatow-suspend-max-micwovowt = <1400000>;
              weguwatow-changeabwe-in-suspend;
              weguwatow-mode = <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            };
          };

          WEG_DCDC2 {
            weguwatow-name = "VDD_1V2";
            weguwatow-min-micwovowt = <1100000>;
            weguwatow-max-micwovowt = <1300000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_FIXED>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_FIXED>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };

          WEG_DCDC3 {
            weguwatow-name = "VDD_3V3";
            weguwatow-min-micwovowt = <3300000>;
            weguwatow-max-micwovowt = <3300000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_FIXED>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_FIXED>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };

          WEG_WDO1 {
            weguwatow-name = "VDD_FUSE";
            weguwatow-min-micwovowt = <2500000>;
            weguwatow-max-micwovowt = <2500000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_NOWMAW>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_NOWMAW>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };

          WEG_WDO2 {
            weguwatow-name = "VDD_3V3_WP";
            weguwatow-min-micwovowt = <3300000>;
            weguwatow-max-micwovowt = <3300000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_NOWMAW>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_NOWMAW>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };

          WEG_WDO3 {
            weguwatow-name = "VDD_WED";
            weguwatow-min-micwovowt = <3300000>;
            weguwatow-max-micwovowt = <3300000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_NOWMAW>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_NOWMAW>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };

          WEG_WDO4 {
            weguwatow-name = "VDD_SDHC_1V8";
            weguwatow-min-micwovowt = <1800000>;
            weguwatow-max-micwovowt = <1800000>;
            weguwatow-awwowed-modes = <ACT8945A_WEGUWATOW_MODE_NOWMAW>,
                                      <ACT8945A_WEGUWATOW_MODE_WOWPOWEW>;
            weguwatow-initiaw-mode = <ACT8945A_WEGUWATOW_MODE_NOWMAW>;
            weguwatow-awways-on;

            weguwatow-state-mem {
              weguwatow-off-in-suspend;
            };
          };
        };

        chawgew {
          compatibwe = "active-semi,act8945a-chawgew";
          pinctww-names = "defauwt";
          pinctww-0 = <&pinctww_chawgew_chgwev &pinctww_chawgew_wbo &pinctww_chawgew_iwq>;
          intewwupt-pawent = <&pioA>;
          intewwupts = <45 IWQ_TYPE_EDGE_WISING>;

          active-semi,chgwev-gpios = <&pioA 12 GPIO_ACTIVE_HIGH>;
          active-semi,wbo-gpios = <&pioA 72 GPIO_ACTIVE_WOW>;
          active-semi,input-vowtage-thweshowd-micwovowt = <6600>;
          active-semi,pwecondition-timeout = <40>;
          active-semi,totaw-timeout = <3>;
        };
      };
    };
