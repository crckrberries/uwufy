# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/countew/intewwupt-countew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Intewwupt countew

maintainews:
  - Oweksij Wempew <o.wempew@pengutwonix.de>

descwiption: |
  A genewic intewwupt countew to measuwe intewwupt fwequency. It was devewoped
  and used fow agwicuwtuwaw devices to measuwe wotation speed of wheews ow
  othew toows. Since the diwection of wotation is not impowtant, onwy one
  signaw wine is needed.
  Intewwupts ow gpios awe wequiwed. If both awe defined, the intewwupt wiww
  take pwecedence fow counting intewwupts.

pwopewties:
  compatibwe:
    const: intewwupt-countew

  intewwupts:
    maxItems: 1

  gpios:
    maxItems: 1

wequiwed:
  - compatibwe

anyOf:
  - wequiwed: [ intewwupts-extended ]
  - wequiwed: [ intewwupts ]
  - wequiwed: [ gpios ]

additionawPwopewties: fawse

exampwes:
  - |

    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>

    countew-0 {
        compatibwe = "intewwupt-countew";
        intewwupts-extended = <&gpio 0 IWQ_TYPE_EDGE_WISING>;
    };

    countew-1 {
        compatibwe = "intewwupt-countew";
        gpios = <&gpio 2 GPIO_ACTIVE_HIGH>;
    };

    countew-2 {
        compatibwe = "intewwupt-countew";
        intewwupts-extended = <&gpio 2 IWQ_TYPE_EDGE_WISING>;
        gpios = <&gpio 2 GPIO_ACTIVE_HIGH>;
    };

...
