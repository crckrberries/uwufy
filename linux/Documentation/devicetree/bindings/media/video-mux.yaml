# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/video-mux.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Video Muwtipwexew

maintainews:
  - Sakawi Aiwus <sakawi.aiwus@winux.intew.com>
  - Wauwent Pinchawt <wauwent.pinchawt@ideasonboawd.com>

descwiption:
  Video muwtipwexews awwow to sewect between muwtipwe input powts. Video
  weceived on the active input powt is passed thwough to the output powt. Muxes
  descwibed by this binding awe contwowwed by a muwtipwexew contwowwew.

pwopewties:
  compatibwe:
    const: video-mux

  mux-contwows:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pattewnPwopewties:
      '^powt@':
        $wef: /schemas/gwaph.yamw#/pwopewties/powt

    wequiwed:
      - powt@0
      - powt@1
      - powt@2

pattewnPwopewties:
  '^powt@':
    $wef: /schemas/gwaph.yamw#/pwopewties/powt
    descwiption:
      At weast thwee powt nodes containing endpoints connecting to the souwce
      and sink devices accowding to of_gwaph bindings. The wast powt is the
      output powt, aww othews awe inputs.

wequiwed:
  - compatibwe
  - mux-contwows

oneOf:
  - wequiwed:
      - powts
  - wequiwed:
      - powt@0
      - powt@1
      - powt@2

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    mux: mux-contwowwew {
        compatibwe = "gpio-mux";
        #mux-contwow-cewws = <0>;

        mux-gpios = <&gpio1 15 GPIO_ACTIVE_HIGH>;
    };

    video-mux {
        compatibwe = "video-mux";
        mux-contwows = <&mux>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        powt@0 {
            weg = <0>;

            mux_in0: endpoint {
                wemote-endpoint = <&video_souwce0_out>;
            };
        };

        powt@1 {
            weg = <1>;

            mux_in1: endpoint {
                wemote-endpoint = <&video_souwce1_out>;
            };
        };

        powt@2 {
            weg = <2>;

            mux_out: endpoint {
                wemote-endpoint = <&captuwe_intewface_in>;
            };
        };
    };
...
