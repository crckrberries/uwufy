# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/samsung,s5p-mfc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos Muwti Fowmat Codec (MFC)

maintainews:
  - Mawek Szypwowski <m.szypwowski@samsung.com>
  - Aakawsh Jain <aakawsh.jain@samsung.com>

descwiption:
  Muwti Fowmat Codec (MFC) is the IP pwesent in Samsung SoCs which
  suppowts high wesowution decoding and encoding functionawities.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - samsung,exynos5433-mfc        # Exynos5433
          - samsung,mfc-v5                # Exynos4
          - samsung,mfc-v6                # Exynos5
          - samsung,mfc-v7                # Exynos5420
          - samsung,mfc-v8                # Exynos5800
          - samsung,mfc-v10               # Exynos7880
          - teswa,fsd-mfc                 # Teswa FSD
      - items:
          - enum:
              - samsung,exynos3250-mfc    # Exynos3250
          - const: samsung,mfc-v7         # Faww back fow Exynos3250

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 3

  cwock-names:
    minItems: 1
    maxItems: 3

  intewwupts:
    maxItems: 1

  iommus:
    minItems: 1
    maxItems: 2

  iommu-names:
    minItems: 1
    items:
      - const: weft
      - const: wight

  powew-domains:
    maxItems: 1

  memowy-wegion:
    minItems: 1
    maxItems: 2

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - intewwupts

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,exynos3250-mfc
    then:
      pwopewties:
        cwocks:
          maxItems: 2
        cwock-names:
          items:
            - const: mfc
            - const: scwk_mfc
        iommus:
          maxItems: 1
        iommu-names: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,exynos5433-mfc
    then:
      pwopewties:
        cwocks:
          maxItems: 3
        cwock-names:
          items:
            - const: pcwk
            - const: acwk
            - const: acwk_xiu
        iommus:
          minItems: 2
        iommu-names:
          minItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,mfc-v5
    then:
      pwopewties:
        cwocks:
          maxItems: 2
        cwock-names:
          items:
            - const: mfc
            - const: scwk_mfc
        iommus:
          minItems: 2
        iommu-names:
          minItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,mfc-v6
              - samsung,mfc-v8
    then:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          items:
            - const: mfc
        iommus:
          minItems: 2
        iommu-names:
          minItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - samsung,mfc-v7
    then:
      pwopewties:
        cwocks:
          minItems: 1
          maxItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - teswa,fsd-mfc
    then:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          items:
            - const: mfc
        iommus:
          maxItems: 2
        iommus-names: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos4.h>
    #incwude <dt-bindings/cwock/exynos-audss-cwk.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    codec@13400000 {
        compatibwe = "samsung,mfc-v5";
        weg = <0x13400000 0x10000>;
        intewwupts = <GIC_SPI 94 IWQ_TYPE_WEVEW_HIGH>;
        powew-domains = <&pd_mfc>;
        cwocks = <&cwock CWK_MFC>, <&cwock CWK_SCWK_MFC>;
        cwock-names = "mfc", "scwk_mfc";
        iommus = <&sysmmu_mfc_w>, <&sysmmu_mfc_w>;
        iommu-names = "weft", "wight";
    };
