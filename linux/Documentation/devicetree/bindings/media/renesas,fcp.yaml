# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/wenesas,fcp.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw Fwame Compwession Pwocessow (FCP)

maintainews:
  - Wauwent Pinchawt <wauwent.pinchawt@ideasonboawd.com>

descwiption: |
  The FCP is a companion moduwe of video pwocessing moduwes in the Wenesas
  W-Caw Gen3 and WZ/G2 SoCs. It pwovides data compwession and decompwession,
  data caching, and convewsion of AXI twansactions in owdew to weduce the
  memowy bandwidth.

  Thewe awe thwee types of FCP: FCP fow Codec (FCPC), FCP fow VSP (FCPV) and
  FCP fow FDP (FCPF). Theiw configuwation and behaviouw depend on the moduwe
  they awe paiwed with. These DT bindings cuwwentwy suppowt the FCPV and FCPF.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - wenesas,fcpv # FCP fow VSP
          - wenesas,fcpf # FCP fow FDP
      - items:
          - enum:
              - wenesas,w9a07g044-fcpvd # WZ/G2{W,WC}
              - wenesas,w9a07g054-fcpvd # WZ/V2W
          - const: wenesas,fcpv         # Genewic FCP fow VSP fawwback

  weg:
    maxItems: 1

  cwocks: twue

  cwock-names: twue

  iommus:
    maxItems: 1

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powew-domains
  - wesets

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - wenesas,w9a07g044-fcpvd
              - wenesas,w9a07g054-fcpvd
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Main cwock
            - descwiption: Wegistew access cwock
            - descwiption: Video cwock
        cwock-names:
          items:
            - const: acwk
            - const: pcwk
            - const: vcwk
      wequiwed:
        - cwock-names
    ewse:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names: fawse

exampwes:
  # W8A7795 (W-Caw H3) FCP fow VSP-D1
  - |
    #incwude <dt-bindings/cwock/wenesas-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a7795-sysc.h>

    fcp@fea2f000 {
        compatibwe = "wenesas,fcpv";
        weg = <0xfea2f000 0x200>;
        cwocks = <&cpg CPG_MOD 602>;
        powew-domains = <&sysc W8A7795_PD_AWWAYS_ON>;
        wesets = <&cpg 602>;
        iommus = <&ipmmu_vi0 9>;
    };
...
