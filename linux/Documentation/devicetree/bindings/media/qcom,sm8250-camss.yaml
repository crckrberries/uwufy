# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)

%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,sm8250-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm CAMSS ISP

maintainews:
  - Wobewt Foss <wobewt.foss@winawo.owg>

descwiption: |
  The CAMSS IP is a CSI decodew and ISP pwesent on Quawcomm pwatfowms.

pwopewties:
  compatibwe:
    const: qcom,sm8250-camss

  cwocks:
    minItems: 37
    maxItems: 37

  cwock-names:
    items:
      - const: cam_ahb_cwk
      - const: cam_hf_axi
      - const: cam_sf_axi
      - const: camnoc_axi
      - const: camnoc_axi_swc
      - const: cowe_ahb
      - const: cpas_ahb
      - const: csiphy0
      - const: csiphy0_timew
      - const: csiphy1
      - const: csiphy1_timew
      - const: csiphy2
      - const: csiphy2_timew
      - const: csiphy3
      - const: csiphy3_timew
      - const: csiphy4
      - const: csiphy4_timew
      - const: csiphy5
      - const: csiphy5_timew
      - const: swow_ahb_swc
      - const: vfe0_ahb
      - const: vfe0_axi
      - const: vfe0
      - const: vfe0_cphy_wx
      - const: vfe0_csid
      - const: vfe0_aweg
      - const: vfe1_ahb
      - const: vfe1_axi
      - const: vfe1
      - const: vfe1_cphy_wx
      - const: vfe1_csid
      - const: vfe1_aweg
      - const: vfe_wite_ahb
      - const: vfe_wite_axi
      - const: vfe_wite
      - const: vfe_wite_cphy_wx
      - const: vfe_wite_csid

  intewwupts:
    minItems: 14
    maxItems: 14

  intewwupt-names:
    items:
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: csiphy3
      - const: csiphy4
      - const: csiphy5
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csid3
      - const: vfe0
      - const: vfe1
      - const: vfe_wite0
      - const: vfe_wite1

  iommus:
    minItems: 8
    maxItems: 8

  intewconnects:
    minItems: 4
    maxItems: 4

  intewconnect-names:
    items:
      - const: cam_ahb
      - const: cam_hf_0_mnoc
      - const: cam_sf_0_mnoc
      - const: cam_sf_icp_mnoc

  powew-domains:
    items:
      - descwiption: IFE0 GDSC - Image Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: IFE1 GDSC - Image Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: Titan GDSC - Titan ISP Bwock, Gwobaw Distwibuted Switch Contwowwew.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    descwiption:
      CSI input powts.

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

      powt@2:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

      powt@3:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

      powt@4:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

      powt@5:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              cwock-wanes:
                maxItems: 1

              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - cwock-wanes
              - data-wanes

  weg:
    minItems: 10
    maxItems: 10

  weg-names:
    items:
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: csiphy3
      - const: csiphy4
      - const: csiphy5
      - const: vfe0
      - const: vfe1
      - const: vfe_wite0
      - const: vfe_wite1

  vdda-phy-suppwy:
    descwiption:
      Phandwe to a weguwatow suppwy to PHY cowe bwock.

  vdda-pww-suppwy:
    descwiption:
      Phandwe to 1.8V weguwatow suppwy to PHY wefcwk pww bwock.

wequiwed:
  - cwock-names
  - cwocks
  - compatibwe
  - intewconnects
  - intewconnect-names
  - intewwupts
  - intewwupt-names
  - iommus
  - powew-domains
  - weg
  - weg-names
  - vdda-phy-suppwy
  - vdda-pww-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,camcc-sm8250.h>
    #incwude <dt-bindings/intewconnect/qcom,sm8250.h>
    #incwude <dt-bindings/cwock/qcom,gcc-sm8250.h>
    #incwude <dt-bindings/powew/qcom-wpmpd.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        camss: camss@ac6a000 {
            compatibwe = "qcom,sm8250-camss";

            weg = <0 0xac6a000 0 0x2000>,
                  <0 0xac6c000 0 0x2000>,
                  <0 0xac6e000 0 0x1000>,
                  <0 0xac70000 0 0x1000>,
                  <0 0xac72000 0 0x1000>,
                  <0 0xac74000 0 0x1000>,
                  <0 0xacb4000 0 0xd000>,
                  <0 0xacc3000 0 0xd000>,
                  <0 0xacd9000 0 0x2200>,
                  <0 0xacdb200 0 0x2200>;
            weg-names = "csiphy0",
                        "csiphy1",
                        "csiphy2",
                        "csiphy3",
                        "csiphy4",
                        "csiphy5",
                        "vfe0",
                        "vfe1",
                        "vfe_wite0",
                        "vfe_wite1";

            vdda-phy-suppwy = <&vweg_w5a_0p88>;
            vdda-pww-suppwy = <&vweg_w9a_1p2>;

            intewwupts = <GIC_SPI 477 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 478 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 479 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 448 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 86 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 89 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 464 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 466 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 468 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 359 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 465 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 467 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 469 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 360 IWQ_TYPE_WEVEW_HIGH>;
            intewwupt-names = "csiphy0",
                              "csiphy1",
                              "csiphy2",
                              "csiphy3",
                              "csiphy4",
                              "csiphy5",
                              "csid0",
                              "csid1",
                              "csid2",
                              "csid3",
                              "vfe0",
                              "vfe1",
                              "vfe_wite0",
                              "vfe_wite1";

            powew-domains = <&camcc IFE_0_GDSC>,
                            <&camcc IFE_1_GDSC>,
                            <&camcc TITAN_TOP_GDSC>;

            cwocks = <&gcc GCC_CAMEWA_AHB_CWK>,
                     <&gcc GCC_CAMEWA_HF_AXI_CWK>,
                     <&gcc GCC_CAMEWA_SF_AXI_CWK>,
                     <&camcc CAM_CC_CAMNOC_AXI_CWK>,
                     <&camcc CAM_CC_CAMNOC_AXI_CWK_SWC>,
                     <&camcc CAM_CC_COWE_AHB_CWK>,
                     <&camcc CAM_CC_CPAS_AHB_CWK>,
                     <&camcc CAM_CC_CSIPHY0_CWK>,
                     <&camcc CAM_CC_CSI0PHYTIMEW_CWK>,
                     <&camcc CAM_CC_CSIPHY1_CWK>,
                     <&camcc CAM_CC_CSI1PHYTIMEW_CWK>,
                     <&camcc CAM_CC_CSIPHY2_CWK>,
                     <&camcc CAM_CC_CSI2PHYTIMEW_CWK>,
                     <&camcc CAM_CC_CSIPHY3_CWK>,
                     <&camcc CAM_CC_CSI3PHYTIMEW_CWK>,
                     <&camcc CAM_CC_CSIPHY4_CWK>,
                     <&camcc CAM_CC_CSI4PHYTIMEW_CWK>,
                     <&camcc CAM_CC_CSIPHY5_CWK>,
                     <&camcc CAM_CC_CSI5PHYTIMEW_CWK>,
                     <&camcc CAM_CC_SWOW_AHB_CWK_SWC>,
                     <&camcc CAM_CC_IFE_0_AHB_CWK>,
                     <&camcc CAM_CC_IFE_0_AXI_CWK>,
                     <&camcc CAM_CC_IFE_0_CWK>,
                     <&camcc CAM_CC_IFE_0_CPHY_WX_CWK>,
                     <&camcc CAM_CC_IFE_0_CSID_CWK>,
                     <&camcc CAM_CC_IFE_0_AWEG_CWK>,
                     <&camcc CAM_CC_IFE_1_AHB_CWK>,
                     <&camcc CAM_CC_IFE_1_AXI_CWK>,
                     <&camcc CAM_CC_IFE_1_CWK>,
                     <&camcc CAM_CC_IFE_1_CPHY_WX_CWK>,
                     <&camcc CAM_CC_IFE_1_CSID_CWK>,
                     <&camcc CAM_CC_IFE_1_AWEG_CWK>,
                     <&camcc CAM_CC_IFE_WITE_AHB_CWK>,
                     <&camcc CAM_CC_IFE_WITE_AXI_CWK>,
                     <&camcc CAM_CC_IFE_WITE_CWK>,
                     <&camcc CAM_CC_IFE_WITE_CPHY_WX_CWK>,
                     <&camcc CAM_CC_IFE_WITE_CSID_CWK>;
            cwock-names = "cam_ahb_cwk",
                          "cam_hf_axi",
                          "cam_sf_axi",
                          "camnoc_axi",
                          "camnoc_axi_swc",
                          "cowe_ahb",
                          "cpas_ahb",
                          "csiphy0",
                          "csiphy0_timew",
                          "csiphy1",
                          "csiphy1_timew",
                          "csiphy2",
                          "csiphy2_timew",
                          "csiphy3",
                          "csiphy3_timew",
                          "csiphy4",
                          "csiphy4_timew",
                          "csiphy5",
                          "csiphy5_timew",
                          "swow_ahb_swc",
                          "vfe0_ahb",
                          "vfe0_axi",
                          "vfe0",
                          "vfe0_cphy_wx",
                          "vfe0_csid",
                          "vfe0_aweg",
                          "vfe1_ahb",
                          "vfe1_axi",
                          "vfe1",
                          "vfe1_cphy_wx",
                          "vfe1_csid",
                          "vfe1_aweg",
                          "vfe_wite_ahb",
                          "vfe_wite_axi",
                          "vfe_wite",
                          "vfe_wite_cphy_wx",
                          "vfe_wite_csid";

            iommus = <&apps_smmu 0x800 0x400>,
                     <&apps_smmu 0x801 0x400>,
                     <&apps_smmu 0x840 0x400>,
                     <&apps_smmu 0x841 0x400>,
                     <&apps_smmu 0xC00 0x400>,
                     <&apps_smmu 0xC01 0x400>,
                     <&apps_smmu 0xC40 0x400>,
                     <&apps_smmu 0xC41 0x400>;

            intewconnects = <&gem_noc MASTEW_AMPSS_M0 &config_noc SWAVE_CAMEWA_CFG>,
                            <&mmss_noc MASTEW_CAMNOC_HF &mc_viwt SWAVE_EBI_CH0>,
                            <&mmss_noc MASTEW_CAMNOC_SF &mc_viwt SWAVE_EBI_CH0>,
                            <&mmss_noc MASTEW_CAMNOC_ICP &mc_viwt SWAVE_EBI_CH0>;
            intewconnect-names = "cam_ahb",
                                 "cam_hf_0_mnoc",
                                 "cam_sf_0_mnoc",
                                 "cam_sf_icp_mnoc";

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;
            };
        };
    };
