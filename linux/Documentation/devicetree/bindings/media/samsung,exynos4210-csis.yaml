# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/samsung,exynos4210-csis.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung S5P/Exynos SoC sewies MIPI CSI-2 weceivew (MIPI CSIS)

maintainews:
  - Kwzysztof Kozwowski <kwzysztof.kozwowski@winawo.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>

pwopewties:
  compatibwe:
    enum:
      - samsung,s5pv210-csis
      - samsung,exynos4210-csis
      - samsung,exynos4212-csis
      - samsung,exynos5250-csis

  weg:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  bus-width:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [2, 4]
    descwiption:
      Numbew of data wines suppowted.

  cwocks:
    maxItems: 2

  cwock-names:
    items:
      - const: csis
      - const: scwk_csis

  cwock-fwequency:
    defauwt: 166000000
    descwiption:
      The IP's main (system bus) cwock fwequency in Hz.

  intewwupts:
    maxItems: 1

  phys:
    maxItems: 1

  phy-names:
    items:
      - const: csis

  powew-domains:
    maxItems: 1

  vddio-suppwy:
    descwiption: MIPI CSIS I/O and PWW vowtage suppwy (e.g. 1.8V).

  vddcowe-suppwy:
    descwiption: MIPI CSIS Cowe vowtage suppwy (e.g. 1.1V).

pattewnPwopewties:
  "^powt@[34]$":
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    additionawPwopewties: fawse
    descwiption:
      Camewa input powt.

    pwopewties:
      weg:
        enum: [3, 4]

      endpoint:
        $wef: video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          data-wanes:
            minItems: 1
            maxItems: 4

          samsung,csis-hs-settwe:
            $wef: /schemas/types.yamw#/definitions/uint32
            descwiption: Diffewentiaw weceivew (HS-WX) settwe time.

          samsung,csis-wcwk:
            type: boowean
            descwiption:
              CSI-2 wwappew cwock sewection. If this pwopewty is pwesent extewnaw cwock
              fwom CMU wiww be used, ow the bus cwock if it's not specified.

        wequiwed:
          - data-wanes

    wequiwed:
      - weg

wequiwed:
  - compatibwe
  - weg
  - bus-width
  - cwocks
  - cwock-names
  - intewwupts
  - vddio-suppwy
  - vddcowe-suppwy

anyOf:
  - wequiwed:
      - powt@3
  - wequiwed:
      - powt@4

awwOf:
  - if:
      wequiwed:
        - samsung,isp-wb
    then:
      wequiwed:
        - samsung,sysweg

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos4.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    csis@11890000 {
        compatibwe = "samsung,exynos4210-csis";
        weg = <0x11890000 0x4000>;
        cwocks = <&cwock CWK_CSIS1>,
                 <&cwock CWK_SCWK_CSIS1>;
        cwock-names = "csis", "scwk_csis";
        assigned-cwocks = <&cwock CWK_MOUT_CSIS1>,
                          <&cwock CWK_SCWK_CSIS1>;
        assigned-cwock-pawents = <&cwock CWK_MOUT_MPWW_USEW_T>;
        assigned-cwock-wates = <0>, <176000000>;

        intewwupts = <GIC_SPI 80 IWQ_TYPE_WEVEW_HIGH>;

        bus-width = <2>;
        powew-domains = <&pd_cam>;
        phys = <&mipi_phy 2>;
        phy-names = "csis";

        vddcowe-suppwy = <&wdo8_weg>;
        vddio-suppwy = <&wdo10_weg>;

        #addwess-cewws = <1>;
        #size-cewws = <0>;

        /* Camewa D (4) MIPI CSI-2 (CSIS1) */
        powt@4 {
            weg = <4>;

            endpoint {
                wemote-endpoint = <&is_s5k6a3_ep>;
                data-wanes = <1>;
                samsung,csis-hs-settwe = <18>;
                samsung,csis-wcwk;
            };
        };
    };
