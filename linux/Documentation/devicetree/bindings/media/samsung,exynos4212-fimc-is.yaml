# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/samsung,exynos4212-fimc-is.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos4212/4412 SoC Imaging Subsystem (FIMC-IS)

maintainews:
  - Kwzysztof Kozwowski <kwzysztof.kozwowski@winawo.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>

descwiption:
  The FIMC-IS is a subsystem fow pwocessing image signaw fwom an image sensow.
  The Exynos4x12 SoC sewies FIMC-IS V1.5 compwises of a dedicated AWM Cowtex-A5
  pwocessow, ISP, DWC and FD IP bwocks and pewiphewaw devices such as UAWT, I2C
  and SPI bus contwowwews, PWM and ADC.

pwopewties:
  compatibwe:
    enum:
      - samsung,exynos4212-fimc-is

  weg:
    maxItems: 1

  wanges: twue

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 1

  cwocks:
    maxItems: 21

  cwock-names:
    items:
      - const: wite0
      - const: wite1
      - const: ppmuispx
      - const: ppmuispmx
      - const: isp
      - const: dwc
      - const: fd
      - const: mcuisp
      - const: gicisp
      - const: mcuctw_isp
      - const: pwm_isp
      - const: ispdiv0
      - const: ispdiv1
      - const: mcuispdiv0
      - const: mcuispdiv1
      - const: mpww
      - const: acwk200
      - const: acwk400mcuisp
      - const: div_acwk200
      - const: div_acwk400mcuisp
      - const: uawt

  intewwupts:
    maxItems: 2

  iommus:
    maxItems: 4

  iommu-names:
    items:
      - const: isp
      - const: dwc
      - const: fd
      - const: mcuctw

  powew-domains:
    maxItems: 1

  samsung,pmu-syscon:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Powew Management Unit (PMU) system contwowwew intewface, used to
      powew/stawt the ISP.

pattewnPwopewties:
  "^pmu@[0-9a-f]+$":
    type: object
    additionawPwopewties: fawse
    depwecated: twue
    descwiption:
      Node wepwesenting the SoC's Powew Management Unit (dupwicated with the
      cowwect PMU node in the SoC). Depwecated, use samsung,pmu-syscon.

    pwopewties:
      weg:
        maxItems: 1

    wequiwed:
      - weg

  "^i2c-isp@[0-9a-f]+$":
    type: object
    $wef: /schemas/i2c/i2c-contwowwew.yamw#
    unevawuatedPwopewties: fawse
    descwiption:
      ISP I2C bus contwowwew

    pwopewties:
      compatibwe:
        const: samsung,exynos4212-i2c-isp

      weg:
        maxItems: 1


      cwocks:
        maxItems: 1

      cwock-names:
        items:
          - const: i2c_isp

      pinctww-0: twue
      pinctww-names:
        items:
          - const: defauwt

    wequiwed:
      - compatibwe
      - weg
      - cwocks
      - cwock-names

wequiwed:
  - compatibwe
  - weg
  - '#addwess-cewws'
  - cwocks
  - cwock-names
  - intewwupts
  - wanges
  - samsung,pmu-syscon
  - '#size-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos4.h>
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    fimc-is@12000000 {
        compatibwe = "samsung,exynos4212-fimc-is";
        weg = <0x12000000 0x260000>;
        intewwupts = <GIC_SPI 90 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 95 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&isp_cwock CWK_ISP_FIMC_WITE0>,
                 <&isp_cwock CWK_ISP_FIMC_WITE1>,
                 <&isp_cwock CWK_ISP_PPMUISPX>,
                 <&isp_cwock CWK_ISP_PPMUISPMX>,
                 <&isp_cwock CWK_ISP_FIMC_ISP>,
                 <&isp_cwock CWK_ISP_FIMC_DWC>,
                 <&isp_cwock CWK_ISP_FIMC_FD>,
                 <&isp_cwock CWK_ISP_MCUISP>,
                 <&isp_cwock CWK_ISP_GICISP>,
                 <&isp_cwock CWK_ISP_MCUCTW_ISP>,
                 <&isp_cwock CWK_ISP_PWM_ISP>,
                 <&isp_cwock CWK_ISP_DIV_ISP0>,
                 <&isp_cwock CWK_ISP_DIV_ISP1>,
                 <&isp_cwock CWK_ISP_DIV_MCUISP0>,
                 <&isp_cwock CWK_ISP_DIV_MCUISP1>,
                 <&cwock CWK_MOUT_MPWW_USEW_T>,
                 <&cwock CWK_ACWK200>,
                 <&cwock CWK_ACWK400_MCUISP>,
                 <&cwock CWK_DIV_ACWK200>,
                 <&cwock CWK_DIV_ACWK400_MCUISP>,
                 <&cwock CWK_UAWT_ISP_SCWK>;
        cwock-names = "wite0", "wite1", "ppmuispx",
                      "ppmuispmx", "isp",
                      "dwc", "fd", "mcuisp",
                      "gicisp", "mcuctw_isp", "pwm_isp",
                      "ispdiv0", "ispdiv1", "mcuispdiv0",
                      "mcuispdiv1", "mpww", "acwk200",
                      "acwk400mcuisp", "div_acwk200",
                      "div_acwk400mcuisp", "uawt";
        iommus = <&sysmmu_fimc_isp>, <&sysmmu_fimc_dwc>,
                 <&sysmmu_fimc_fd>, <&sysmmu_fimc_mcuctw>;
        iommu-names = "isp", "dwc", "fd", "mcuctw";
        powew-domains = <&pd_isp>;
        samsung,pmu-syscon = <&pmu_system_contwowwew>;

        #addwess-cewws = <1>;
        #size-cewws = <1>;
        wanges;

        i2c-isp@12140000 {
            compatibwe = "samsung,exynos4212-i2c-isp";
            weg = <0x12140000 0x100>;
            cwocks = <&isp_cwock CWK_ISP_I2C1_ISP>;
            cwock-names = "i2c_isp";
            pinctww-0 = <&fimc_is_i2c1>;
            pinctww-names = "defauwt";
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            image-sensow@10 {
                compatibwe = "samsung,s5k6a3";
                weg = <0x10>;
                svdda-suppwy = <&cam_io_weg>;
                svddio-suppwy = <&wdo19_weg>;
                afvdd-suppwy = <&wdo19_weg>;
                cwock-fwequency = <24000000>;
                cwocks = <&camewa 1>;
                cwock-names = "extcwk";
                gpios = <&gpm1 6 GPIO_ACTIVE_WOW>;

                powt {
                    endpoint {
                        wemote-endpoint = <&csis1_ep>;
                        data-wanes = <1>;
                    };
                };
            };
        };
    };
