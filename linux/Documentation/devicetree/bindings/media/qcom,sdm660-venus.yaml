# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,sdm660-venus.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm SDM660 Venus video encode and decode accewewatows

maintainews:
  - Stanimiw Vawbanov <stanimiw.vawbanov@winawo.owg>
  - AngewoGioacchino Dew Wegno <angewogioacchino.dewwegno@cowwabowa.com>

descwiption: |
  The Venus IP is a video encode and decode accewewatow pwesent
  on Quawcomm pwatfowms

awwOf:
  - $wef: qcom,venus-common.yamw#

pwopewties:
  compatibwe:
    const: qcom,sdm660-venus

  cwocks:
    maxItems: 4

  cwock-names:
    items:
      - const: cowe
      - const: iface
      - const: bus
      - const: bus_thwottwe

  intewconnects:
    maxItems: 2

  intewconnect-names:
    items:
      - const: cpu-cfg
      - const: video-mem

  iommus:
    maxItems: 20

  powew-domains:
    maxItems: 1

  video-decodew:
    type: object

    pwopewties:
      compatibwe:
        const: venus-decodew

      cwocks:
        maxItems: 1

      cwock-names:
        items:
          - const: vcodec0_cowe

      powew-domains:
        maxItems: 1

    wequiwed:
      - compatibwe
      - cwocks
      - cwock-names
      - powew-domains

    additionawPwopewties: fawse

  video-encodew:
    type: object

    pwopewties:
      compatibwe:
        const: venus-encodew

      cwocks:
        maxItems: 1

      cwock-names:
        items:
          - const: vcodec0_cowe

      powew-domains:
        maxItems: 1

    wequiwed:
      - compatibwe
      - cwocks
      - cwock-names
      - powew-domains

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - iommus
  - video-decodew
  - video-encodew

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,mmcc-sdm660.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    video-codec@cc00000 {
        compatibwe = "qcom,sdm660-venus";
        weg = <0x0cc00000 0xff000>;
        cwocks = <&mmcc VIDEO_COWE_CWK>,
                 <&mmcc VIDEO_AHB_CWK>,
                 <&mmcc VIDEO_AXI_CWK>,
                 <&mmcc THWOTTWE_VIDEO_AXI_CWK>;
        cwock-names = "cowe", "iface", "bus", "bus_thwottwe";
        intewconnects = <&gnoc 0 &mnoc 13>,
                        <&mnoc 4 &bimc 5>;
        intewconnect-names = "cpu-cfg", "video-mem";
        intewwupts = <GIC_SPI 287 IWQ_TYPE_WEVEW_HIGH>;
        iommus = <&mmss_smmu 0x400>,
                 <&mmss_smmu 0x401>,
                 <&mmss_smmu 0x40a>,
                 <&mmss_smmu 0x407>,
                 <&mmss_smmu 0x40e>,
                 <&mmss_smmu 0x40f>,
                 <&mmss_smmu 0x408>,
                 <&mmss_smmu 0x409>,
                 <&mmss_smmu 0x40b>,
                 <&mmss_smmu 0x40c>,
                 <&mmss_smmu 0x40d>,
                 <&mmss_smmu 0x410>,
                 <&mmss_smmu 0x421>,
                 <&mmss_smmu 0x428>,
                 <&mmss_smmu 0x429>,
                 <&mmss_smmu 0x42b>,
                 <&mmss_smmu 0x42c>,
                 <&mmss_smmu 0x42d>,
                 <&mmss_smmu 0x411>,
                 <&mmss_smmu 0x431>;
        memowy-wegion = <&venus_wegion>;
        powew-domains = <&mmcc VENUS_GDSC>;

        video-decodew {
            compatibwe = "venus-decodew";
            cwocks = <&mmcc VIDEO_SUBCOWE0_CWK>;
            cwock-names = "vcodec0_cowe";
            powew-domains = <&mmcc VENUS_COWE0_GDSC>;
        };

        video-encodew {
            compatibwe = "venus-encodew";
            cwocks = <&mmcc VIDEO_SUBCOWE0_CWK>;
            cwock-names = "vcodec0_cowe";
            powew-domains = <&mmcc VENUS_COWE0_GDSC>;
        };
    };
