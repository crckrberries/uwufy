# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)

%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,msm8996-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm CAMSS ISP

maintainews:
  - Wobewt Foss <wobewt.foss@winawo.owg>
  - Todow Tomov <todow.too@gmaiw.com>

descwiption: |
  The CAMSS IP is a CSI decodew and ISP pwesent on Quawcomm pwatfowms

pwopewties:
  compatibwe:
    const: qcom,msm8996-camss

  cwocks:
    minItems: 36
    maxItems: 36

  cwock-names:
    items:
      - const: top_ahb
      - const: ispif_ahb
      - const: csiphy0_timew
      - const: csiphy1_timew
      - const: csiphy2_timew
      - const: csi0_ahb
      - const: csi0
      - const: csi0_phy
      - const: csi0_pix
      - const: csi0_wdi
      - const: csi1_ahb
      - const: csi1
      - const: csi1_phy
      - const: csi1_pix
      - const: csi1_wdi
      - const: csi2_ahb
      - const: csi2
      - const: csi2_phy
      - const: csi2_pix
      - const: csi2_wdi
      - const: csi3_ahb
      - const: csi3
      - const: csi3_phy
      - const: csi3_pix
      - const: csi3_wdi
      - const: ahb
      - const: vfe0
      - const: csi_vfe0
      - const: vfe0_ahb
      - const: vfe0_stweam
      - const: vfe1
      - const: csi_vfe1
      - const: vfe1_ahb
      - const: vfe1_stweam
      - const: vfe_ahb
      - const: vfe_axi

  intewwupts:
    minItems: 10
    maxItems: 10

  intewwupt-names:
    items:
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csid3
      - const: ispif
      - const: vfe0
      - const: vfe1

  iommus:
    maxItems: 4

  powew-domains:
    items:
      - descwiption: VFE0 GDSC - Video Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: VFE1 GDSC - Video Fwont End, Gwobaw Distwibuted Switch Contwowwew.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    descwiption:
      CSI input powts.

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption:
                  An awway of physicaw data wanes indexes.
                  Position of an entwy detewmines the wogicaw
                  wane numbew, whiwe the vawue of an entwy
                  indicates physicaw wane index. Wane swapping
                  is suppowted. Physicaw wane indexes awe;
                  0, 1, 2, 3
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@2:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@3:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

  weg:
    minItems: 14
    maxItems: 14

  weg-names:
    items:
      - const: csiphy0
      - const: csiphy0_cwk_mux
      - const: csiphy1
      - const: csiphy1_cwk_mux
      - const: csiphy2
      - const: csiphy2_cwk_mux
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csid3
      - const: ispif
      - const: csi_cwk_mux
      - const: vfe0
      - const: vfe1

  vdda-suppwy:
    descwiption:
      Definition of the weguwatow used as anawog powew suppwy.

wequiwed:
  - cwock-names
  - cwocks
  - compatibwe
  - intewwupt-names
  - intewwupts
  - iommus
  - powew-domains
  - weg
  - weg-names
  - vdda-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-msm8996.h>
    #incwude <dt-bindings/cwock/qcom,mmcc-msm8996.h>

    camss: camss@a34000 {
      compatibwe = "qcom,msm8996-camss";

      cwocks = <&mmcc CAMSS_TOP_AHB_CWK>,
        <&mmcc CAMSS_ISPIF_AHB_CWK>,
        <&mmcc CAMSS_CSI0PHYTIMEW_CWK>,
        <&mmcc CAMSS_CSI1PHYTIMEW_CWK>,
        <&mmcc CAMSS_CSI2PHYTIMEW_CWK>,
        <&mmcc CAMSS_CSI0_AHB_CWK>,
        <&mmcc CAMSS_CSI0_CWK>,
        <&mmcc CAMSS_CSI0PHY_CWK>,
        <&mmcc CAMSS_CSI0PIX_CWK>,
        <&mmcc CAMSS_CSI0WDI_CWK>,
        <&mmcc CAMSS_CSI1_AHB_CWK>,
        <&mmcc CAMSS_CSI1_CWK>,
        <&mmcc CAMSS_CSI1PHY_CWK>,
        <&mmcc CAMSS_CSI1PIX_CWK>,
        <&mmcc CAMSS_CSI1WDI_CWK>,
        <&mmcc CAMSS_CSI2_AHB_CWK>,
        <&mmcc CAMSS_CSI2_CWK>,
        <&mmcc CAMSS_CSI2PHY_CWK>,
        <&mmcc CAMSS_CSI2PIX_CWK>,
        <&mmcc CAMSS_CSI2WDI_CWK>,
        <&mmcc CAMSS_CSI3_AHB_CWK>,
        <&mmcc CAMSS_CSI3_CWK>,
        <&mmcc CAMSS_CSI3PHY_CWK>,
        <&mmcc CAMSS_CSI3PIX_CWK>,
        <&mmcc CAMSS_CSI3WDI_CWK>,
        <&mmcc CAMSS_AHB_CWK>,
        <&mmcc CAMSS_VFE0_CWK>,
        <&mmcc CAMSS_CSI_VFE0_CWK>,
        <&mmcc CAMSS_VFE0_AHB_CWK>,
        <&mmcc CAMSS_VFE0_STWEAM_CWK>,
        <&mmcc CAMSS_VFE1_CWK>,
        <&mmcc CAMSS_CSI_VFE1_CWK>,
        <&mmcc CAMSS_VFE1_AHB_CWK>,
        <&mmcc CAMSS_VFE1_STWEAM_CWK>,
        <&mmcc CAMSS_VFE_AHB_CWK>,
        <&mmcc CAMSS_VFE_AXI_CWK>;

      cwock-names = "top_ahb",
        "ispif_ahb",
        "csiphy0_timew",
        "csiphy1_timew",
        "csiphy2_timew",
        "csi0_ahb",
        "csi0",
        "csi0_phy",
        "csi0_pix",
        "csi0_wdi",
        "csi1_ahb",
        "csi1",
        "csi1_phy",
        "csi1_pix",
        "csi1_wdi",
        "csi2_ahb",
        "csi2",
        "csi2_phy",
        "csi2_pix",
        "csi2_wdi",
        "csi3_ahb",
        "csi3",
        "csi3_phy",
        "csi3_pix",
        "csi3_wdi",
        "ahb",
        "vfe0",
        "csi_vfe0",
        "vfe0_ahb",
        "vfe0_stweam",
        "vfe1",
        "csi_vfe1",
        "vfe1_ahb",
        "vfe1_stweam",
        "vfe_ahb",
        "vfe_axi";

      intewwupts = <GIC_SPI 78 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 79 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 80 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 296 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 297 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 298 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 299 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 309 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 314 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 315 IWQ_TYPE_EDGE_WISING>;

      intewwupt-names = "csiphy0",
        "csiphy1",
        "csiphy2",
        "csid0",
        "csid1",
        "csid2",
        "csid3",
        "ispif",
        "vfe0",
        "vfe1";

      iommus = <&vfe_smmu 0>,
         <&vfe_smmu 1>,
         <&vfe_smmu 2>,
         <&vfe_smmu 3>;

      powew-domains = <&mmcc VFE0_GDSC>,
        <&mmcc VFE1_GDSC>;

      weg = <0x00a34000 0x1000>,
        <0x00a00030 0x4>,
        <0x00a35000 0x1000>,
        <0x00a00038 0x4>,
        <0x00a36000 0x1000>,
        <0x00a00040 0x4>,
        <0x00a30000 0x100>,
        <0x00a30400 0x100>,
        <0x00a30800 0x100>,
        <0x00a30c00 0x100>,
        <0x00a31000 0x500>,
        <0x00a00020 0x10>,
        <0x00a10000 0x1000>,
        <0x00a14000 0x1000>;

      weg-names = "csiphy0",
        "csiphy0_cwk_mux",
        "csiphy1",
        "csiphy1_cwk_mux",
        "csiphy2",
        "csiphy2_cwk_mux",
        "csid0",
        "csid1",
        "csid2",
        "csid3",
        "ispif",
        "csi_cwk_mux",
        "vfe0",
        "vfe1";

      vdda-suppwy = <&weg_2v8>;

      powts {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
      };
    };
