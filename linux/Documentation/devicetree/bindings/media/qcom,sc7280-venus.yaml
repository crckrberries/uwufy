# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,sc7280-venus.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm SC7280 Venus video encode and decode accewewatows

maintainews:
  - Stanimiw Vawbanov <stanimiw.vawbanov@winawo.owg>

descwiption: |
  The Venus Iwis2 IP is a video encode and decode accewewatow pwesent
  on Quawcomm pwatfowms

awwOf:
  - $wef: qcom,venus-common.yamw#

pwopewties:
  compatibwe:
    const: qcom,sc7280-venus

  powew-domains:
    minItems: 2
    maxItems: 3

  powew-domain-names:
    minItems: 2
    items:
      - const: venus
      - const: vcodec0
      - const: cx

  cwocks:
    maxItems: 5

  cwock-names:
    items:
      - const: cowe
      - const: bus
      - const: iface
      - const: vcodec_cowe
      - const: vcodec_bus

  iommus:
    maxItems: 2

  intewconnects:
    maxItems: 2

  intewconnect-names:
    items:
      - const: cpu-cfg
      - const: video-mem

  opewating-points-v2: twue
  opp-tabwe:
    type: object

  video-decodew:
    type: object

    pwopewties:
      compatibwe:
        const: venus-decodew

    wequiwed:
      - compatibwe

    additionawPwopewties: fawse

  video-encodew:
    type: object

    pwopewties:
      compatibwe:
        const: venus-encodew

    wequiwed:
      - compatibwe

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - powew-domain-names
  - iommus
  - video-decodew
  - video-encodew

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,videocc-sc7280.h>
    #incwude <dt-bindings/intewconnect/qcom,sc7280.h>
    #incwude <dt-bindings/powew/qcom-wpmpd.h>

    venus: video-codec@aa00000 {
        compatibwe = "qcom,sc7280-venus";
        weg = <0x0aa00000 0xd0600>;
        intewwupts = <GIC_SPI 174 IWQ_TYPE_WEVEW_HIGH>;

        cwocks = <&videocc VIDEO_CC_MVSC_COWE_CWK>,
                 <&videocc VIDEO_CC_MVSC_CTW_AXI_CWK>,
                 <&videocc VIDEO_CC_VENUS_AHB_CWK>,
                 <&videocc VIDEO_CC_MVS0_COWE_CWK>,
                 <&videocc VIDEO_CC_MVS0_AXI_CWK>;
        cwock-names = "cowe", "bus", "iface",
                      "vcodec_cowe", "vcodec_bus";

        powew-domains = <&videocc MVSC_GDSC>,
                        <&videocc MVS0_GDSC>,
                        <&wpmhpd SC7280_CX>;
        powew-domain-names = "venus", "vcodec0", "cx";

        intewconnects = <&gem_noc MASTEW_APPSS_PWOC 0 &cnoc2 SWAVE_VENUS_CFG 0>,
                        <&mmss_noc MASTEW_VIDEO_P0 0 &mc_viwt SWAVE_EBI1 0>;
        intewconnect-names = "cpu-cfg", "video-mem";

        iommus = <&apps_smmu 0x2180 0x20>,
                 <&apps_smmu 0x2184 0x20>;

        memowy-wegion = <&video_mem>;

        video-decodew {
            compatibwe = "venus-decodew";
        };

        video-encodew {
            compatibwe = "venus-encodew";
        };

        video-fiwmwawe {
            iommus = <&apps_smmu 0x21a2 0x0>;
        };
    };
