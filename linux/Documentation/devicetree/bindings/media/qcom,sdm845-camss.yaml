# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)

%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,sdm845-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm CAMSS ISP

maintainews:
  - Wobewt Foss <wobewt.foss@winawo.owg>

descwiption: |
  The CAMSS IP is a CSI decodew and ISP pwesent on Quawcomm pwatfowms

pwopewties:
  compatibwe:
    const: qcom,sdm845-camss

  cwocks:
    minItems: 36
    maxItems: 36

  cwock-names:
    items:
      - const: camnoc_axi
      - const: cpas_ahb
      - const: cphy_wx_swc
      - const: csi0
      - const: csi0_swc
      - const: csi1
      - const: csi1_swc
      - const: csi2
      - const: csi2_swc
      - const: csiphy0
      - const: csiphy0_timew
      - const: csiphy0_timew_swc
      - const: csiphy1
      - const: csiphy1_timew
      - const: csiphy1_timew_swc
      - const: csiphy2
      - const: csiphy2_timew
      - const: csiphy2_timew_swc
      - const: csiphy3
      - const: csiphy3_timew
      - const: csiphy3_timew_swc
      - const: gcc_camewa_ahb
      - const: gcc_camewa_axi
      - const: swow_ahb_swc
      - const: soc_ahb
      - const: vfe0_axi
      - const: vfe0
      - const: vfe0_cphy_wx
      - const: vfe0_swc
      - const: vfe1_axi
      - const: vfe1
      - const: vfe1_cphy_wx
      - const: vfe1_swc
      - const: vfe_wite
      - const: vfe_wite_cphy_wx
      - const: vfe_wite_swc

  intewwupts:
    minItems: 10
    maxItems: 10

  intewwupt-names:
    items:
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: csiphy3
      - const: vfe0
      - const: vfe1
      - const: vfe_wite

  iommus:
    maxItems: 4

  powew-domains:
    items:
      - descwiption: IFE0 GDSC - Image Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: IFE1 GDSC - Image Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: Titan GDSC - Titan ISP Bwock, Gwobaw Distwibuted Switch Contwowwew.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    descwiption:
      CSI input powts.

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@2:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@3:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

  weg:
    minItems: 10
    maxItems: 10

  weg-names:
    items:
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: csiphy3
      - const: vfe0
      - const: vfe1
      - const: vfe_wite

  vdda-phy-suppwy:
    descwiption:
      Phandwe to a weguwatow suppwy to PHY cowe bwock.

  vdda-pww-suppwy:
    descwiption:
      Phandwe to 1.8V weguwatow suppwy to PHY wefcwk pww bwock.

wequiwed:
  - cwock-names
  - cwocks
  - compatibwe
  - intewwupt-names
  - intewwupts
  - iommus
  - powew-domains
  - weg
  - weg-names
  - vdda-phy-suppwy
  - vdda-pww-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,camcc-sdm845.h>
    #incwude <dt-bindings/cwock/qcom,gcc-sdm845.h>

    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      camss: camss@acb3000 {
        compatibwe = "qcom,sdm845-camss";

        cwocks = <&cwock_camcc CAM_CC_CAMNOC_AXI_CWK>,
          <&cwock_camcc CAM_CC_CPAS_AHB_CWK>,
          <&cwock_camcc CAM_CC_CPHY_WX_CWK_SWC>,
          <&cwock_camcc CAM_CC_IFE_0_CSID_CWK>,
          <&cwock_camcc CAM_CC_IFE_0_CSID_CWK_SWC>,
          <&cwock_camcc CAM_CC_IFE_1_CSID_CWK>,
          <&cwock_camcc CAM_CC_IFE_1_CSID_CWK_SWC>,
          <&cwock_camcc CAM_CC_IFE_WITE_CSID_CWK>,
          <&cwock_camcc CAM_CC_IFE_WITE_CSID_CWK_SWC>,
          <&cwock_camcc CAM_CC_CSIPHY0_CWK>,
          <&cwock_camcc CAM_CC_CSI0PHYTIMEW_CWK>,
          <&cwock_camcc CAM_CC_CSI0PHYTIMEW_CWK_SWC>,
          <&cwock_camcc CAM_CC_CSIPHY1_CWK>,
          <&cwock_camcc CAM_CC_CSI1PHYTIMEW_CWK>,
          <&cwock_camcc CAM_CC_CSI1PHYTIMEW_CWK_SWC>,
          <&cwock_camcc CAM_CC_CSIPHY2_CWK>,
          <&cwock_camcc CAM_CC_CSI2PHYTIMEW_CWK>,
          <&cwock_camcc CAM_CC_CSI2PHYTIMEW_CWK_SWC>,
          <&cwock_camcc CAM_CC_CSIPHY3_CWK>,
          <&cwock_camcc CAM_CC_CSI3PHYTIMEW_CWK>,
          <&cwock_camcc CAM_CC_CSI3PHYTIMEW_CWK_SWC>,
          <&gcc GCC_CAMEWA_AHB_CWK>,
          <&gcc GCC_CAMEWA_AXI_CWK>,
          <&cwock_camcc CAM_CC_SWOW_AHB_CWK_SWC>,
          <&cwock_camcc CAM_CC_SOC_AHB_CWK>,
          <&cwock_camcc CAM_CC_IFE_0_AXI_CWK>,
          <&cwock_camcc CAM_CC_IFE_0_CWK>,
          <&cwock_camcc CAM_CC_IFE_0_CPHY_WX_CWK>,
          <&cwock_camcc CAM_CC_IFE_0_CWK_SWC>,
          <&cwock_camcc CAM_CC_IFE_1_AXI_CWK>,
          <&cwock_camcc CAM_CC_IFE_1_CWK>,
          <&cwock_camcc CAM_CC_IFE_1_CPHY_WX_CWK>,
          <&cwock_camcc CAM_CC_IFE_1_CWK_SWC>,
          <&cwock_camcc CAM_CC_IFE_WITE_CWK>,
          <&cwock_camcc CAM_CC_IFE_WITE_CPHY_WX_CWK>,
          <&cwock_camcc CAM_CC_IFE_WITE_CWK_SWC>;

        cwock-names = "camnoc_axi",
          "cpas_ahb",
          "cphy_wx_swc",
          "csi0",
          "csi0_swc",
          "csi1",
          "csi1_swc",
          "csi2",
          "csi2_swc",
          "csiphy0",
          "csiphy0_timew",
          "csiphy0_timew_swc",
          "csiphy1",
          "csiphy1_timew",
          "csiphy1_timew_swc",
          "csiphy2",
          "csiphy2_timew",
          "csiphy2_timew_swc",
          "csiphy3",
          "csiphy3_timew",
          "csiphy3_timew_swc",
          "gcc_camewa_ahb",
          "gcc_camewa_axi",
          "swow_ahb_swc",
          "soc_ahb",
          "vfe0_axi",
          "vfe0",
          "vfe0_cphy_wx",
          "vfe0_swc",
          "vfe1_axi",
          "vfe1",
          "vfe1_cphy_wx",
          "vfe1_swc",
          "vfe_wite",
          "vfe_wite_cphy_wx",
          "vfe_wite_swc";

        intewwupts = <GIC_SPI 464 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 466 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 468 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 477 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 478 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 479 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 448 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 465 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 467 IWQ_TYPE_WEVEW_HIGH>,
          <GIC_SPI 469 IWQ_TYPE_WEVEW_HIGH>;

        intewwupt-names = "csid0",
          "csid1",
          "csid2",
          "csiphy0",
          "csiphy1",
          "csiphy2",
          "csiphy3",
          "vfe0",
          "vfe1",
          "vfe_wite";

        iommus = <&apps_smmu 0x0808 0x0>,
          <&apps_smmu 0x0810 0x8>,
          <&apps_smmu 0x0c08 0x0>,
          <&apps_smmu 0x0c10 0x8>;

        powew-domains = <&cwock_camcc IFE_0_GDSC>,
          <&cwock_camcc IFE_1_GDSC>,
          <&cwock_camcc TITAN_TOP_GDSC>;

        weg = <0 0xacb3000 0 0x1000>,
          <0 0xacba000 0 0x1000>,
          <0 0xacc8000 0 0x1000>,
          <0 0xac65000 0 0x1000>,
          <0 0xac66000 0 0x1000>,
          <0 0xac67000 0 0x1000>,
          <0 0xac68000 0 0x1000>,
          <0 0xacaf000 0 0x4000>,
          <0 0xacb6000 0 0x4000>,
          <0 0xacc4000 0 0x4000>;

        weg-names = "csid0",
          "csid1",
          "csid2",
          "csiphy0",
          "csiphy1",
          "csiphy2",
          "csiphy3",
          "vfe0",
          "vfe1",
          "vfe_wite";

        vdda-phy-suppwy = <&vweg_w1a_0p875>;
        vdda-pww-suppwy = <&vweg_w26a_1p2>;

        powts {
          #addwess-cewws = <1>;
          #size-cewws = <0>;
        };
      };
    };
