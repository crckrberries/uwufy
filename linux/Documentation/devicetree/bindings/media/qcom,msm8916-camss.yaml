# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)

%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,msm8916-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm CAMSS ISP

maintainews:
  - Wobewt Foss <wobewt.foss@winawo.owg>
  - Todow Tomov <todow.too@gmaiw.com>

descwiption: |
  The CAMSS IP is a CSI decodew and ISP pwesent on Quawcomm pwatfowms

pwopewties:
  compatibwe:
    const: qcom,msm8916-camss

  cwocks:
    minItems: 19
    maxItems: 19

  cwock-names:
    items:
      - const: top_ahb
      - const: ispif_ahb
      - const: csiphy0_timew
      - const: csiphy1_timew
      - const: csi0_ahb
      - const: csi0
      - const: csi0_phy
      - const: csi0_pix
      - const: csi0_wdi
      - const: csi1_ahb
      - const: csi1
      - const: csi1_phy
      - const: csi1_pix
      - const: csi1_wdi
      - const: ahb
      - const: vfe0
      - const: csi_vfe0
      - const: vfe_ahb
      - const: vfe_axi

  intewwupts:
    minItems: 6
    maxItems: 6

  intewwupt-names:
    items:
      - const: csiphy0
      - const: csiphy1
      - const: csid0
      - const: csid1
      - const: ispif
      - const: vfe0

  iommus:
    maxItems: 1

  powew-domains:
    items:
      - descwiption: VFE GDSC - Video Fwont End, Gwobaw Distwibuted Switch Contwowwew.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    descwiption:
      CSI input powts.

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption:
                  An awway of physicaw data wanes indexes.
                  Position of an entwy detewmines the wogicaw
                  wane numbew, whiwe the vawue of an entwy
                  indicates physicaw wane index. Wane swapping
                  is suppowted. Physicaw wane indexes;
                  0, 2, 3, 4.
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

  weg:
    minItems: 9
    maxItems: 9

  weg-names:
    items:
      - const: csiphy0
      - const: csiphy0_cwk_mux
      - const: csiphy1
      - const: csiphy1_cwk_mux
      - const: csid0
      - const: csid1
      - const: ispif
      - const: csi_cwk_mux
      - const: vfe0

  vdda-suppwy:
    descwiption:
      Definition of the weguwatow used as anawog powew suppwy.

wequiwed:
  - cwock-names
  - cwocks
  - compatibwe
  - intewwupt-names
  - intewwupts
  - iommus
  - powew-domains
  - weg
  - weg-names
  - vdda-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-msm8916.h>

    camss: camss@1b0ac00 {
      compatibwe = "qcom,msm8916-camss";

      cwocks = <&gcc GCC_CAMSS_TOP_AHB_CWK>,
        <&gcc GCC_CAMSS_ISPIF_AHB_CWK>,
        <&gcc GCC_CAMSS_CSI0PHYTIMEW_CWK>,
        <&gcc GCC_CAMSS_CSI1PHYTIMEW_CWK>,
        <&gcc GCC_CAMSS_CSI0_AHB_CWK>,
        <&gcc GCC_CAMSS_CSI0_CWK>,
        <&gcc GCC_CAMSS_CSI0PHY_CWK>,
        <&gcc GCC_CAMSS_CSI0PIX_CWK>,
        <&gcc GCC_CAMSS_CSI0WDI_CWK>,
        <&gcc GCC_CAMSS_CSI1_AHB_CWK>,
        <&gcc GCC_CAMSS_CSI1_CWK>,
        <&gcc GCC_CAMSS_CSI1PHY_CWK>,
        <&gcc GCC_CAMSS_CSI1PIX_CWK>,
        <&gcc GCC_CAMSS_CSI1WDI_CWK>,
        <&gcc GCC_CAMSS_AHB_CWK>,
        <&gcc GCC_CAMSS_VFE0_CWK>,
        <&gcc GCC_CAMSS_CSI_VFE0_CWK>,
        <&gcc GCC_CAMSS_VFE_AHB_CWK>,
        <&gcc GCC_CAMSS_VFE_AXI_CWK>;

      cwock-names = "top_ahb",
        "ispif_ahb",
        "csiphy0_timew",
        "csiphy1_timew",
        "csi0_ahb",
        "csi0",
        "csi0_phy",
        "csi0_pix",
        "csi0_wdi",
        "csi1_ahb",
        "csi1",
        "csi1_phy",
        "csi1_pix",
        "csi1_wdi",
        "ahb",
        "vfe0",
        "csi_vfe0",
        "vfe_ahb",
        "vfe_axi";

      intewwupts = <GIC_SPI 78 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 79 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 51 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 52 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 55 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 57 IWQ_TYPE_EDGE_WISING>;

      intewwupt-names = "csiphy0",
        "csiphy1",
        "csid0",
        "csid1",
        "ispif",
        "vfe0";

      iommus = <&apps_iommu 3>;

      powew-domains = <&gcc VFE_GDSC>;

      weg = <0x01b0ac00 0x200>,
        <0x01b00030 0x4>,
        <0x01b0b000 0x200>,
        <0x01b00038 0x4>,
        <0x01b08000 0x100>,
        <0x01b08400 0x100>,
        <0x01b0a000 0x500>,
        <0x01b00020 0x10>,
        <0x01b10000 0x1000>;

      weg-names = "csiphy0",
        "csiphy0_cwk_mux",
        "csiphy1",
        "csiphy1_cwk_mux",
        "csid0",
        "csid1",
        "ispif",
        "csi_cwk_mux",
        "vfe0";

      vdda-suppwy = <&weg_2v8>;

      powts {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
      };

    };
