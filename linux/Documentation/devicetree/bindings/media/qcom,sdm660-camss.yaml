# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)

%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/qcom,sdm660-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm CAMSS ISP

maintainews:
  - Wobewt Foss <wobewt.foss@winawo.owg>
  - AngewoGioacchino Dew Wegno <angewogioacchino.dewwegno@somainwine.owg>

descwiption: |
  The CAMSS IP is a CSI decodew and ISP pwesent on Quawcomm pwatfowms

pwopewties:
  compatibwe:
    const: qcom,sdm660-camss

  cwocks:
    minItems: 42
    maxItems: 42

  cwock-names:
    items:
      - const: ahb
      - const: cphy_csid0
      - const: cphy_csid1
      - const: cphy_csid2
      - const: cphy_csid3
      - const: csi0_ahb
      - const: csi0
      - const: csi0_phy
      - const: csi0_pix
      - const: csi0_wdi
      - const: csi1_ahb
      - const: csi1
      - const: csi1_phy
      - const: csi1_pix
      - const: csi1_wdi
      - const: csi2_ahb
      - const: csi2
      - const: csi2_phy
      - const: csi2_pix
      - const: csi2_wdi
      - const: csi3_ahb
      - const: csi3
      - const: csi3_phy
      - const: csi3_pix
      - const: csi3_wdi
      - const: csiphy0_timew
      - const: csiphy1_timew
      - const: csiphy2_timew
      - const: csiphy_ahb2cwif
      - const: csi_vfe0
      - const: csi_vfe1
      - const: ispif_ahb
      - const: thwottwe_axi
      - const: top_ahb
      - const: vfe0_ahb
      - const: vfe0
      - const: vfe0_stweam
      - const: vfe1_ahb
      - const: vfe1
      - const: vfe1_stweam
      - const: vfe_ahb
      - const: vfe_axi

  intewwupts:
    minItems: 10
    maxItems: 10

  intewwupt-names:
    items:
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csid3
      - const: csiphy0
      - const: csiphy1
      - const: csiphy2
      - const: ispif
      - const: vfe0
      - const: vfe1

  intewconnects:
    maxItems: 1

  intewconnect-names:
    items:
      - const: vfe-mem

  iommus:
    maxItems: 4

  powew-domains:
    items:
      - descwiption: VFE0 GDSC - Video Fwont End, Gwobaw Distwibuted Switch Contwowwew.
      - descwiption: VFE1 GDSC - Video Fwont End, Gwobaw Distwibuted Switch Contwowwew.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    descwiption:
      CSI input powts.

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@2:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

      powt@3:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption:
          Input powt fow weceiving CSI data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                maxItems: 4

            wequiwed:
              - data-wanes

  weg:
    minItems: 14
    maxItems: 14

  weg-names:
    items:
      - const: csi_cwk_mux
      - const: csid0
      - const: csid1
      - const: csid2
      - const: csid3
      - const: csiphy0
      - const: csiphy0_cwk_mux
      - const: csiphy1
      - const: csiphy1_cwk_mux
      - const: csiphy2
      - const: csiphy2_cwk_mux
      - const: ispif
      - const: vfe0
      - const: vfe1

  vdda-suppwy:
    descwiption:
      Definition of the weguwatow used as anawog powew suppwy.

wequiwed:
  - cwock-names
  - cwocks
  - compatibwe
  - intewwupt-names
  - intewwupts
  - iommus
  - powew-domains
  - weg
  - weg-names
  - vdda-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-sdm660.h>
    #incwude <dt-bindings/cwock/qcom,mmcc-sdm660.h>

    camss: camss@ca00020 {
      compatibwe = "qcom,sdm660-camss";

      cwocks = <&mmcc CAMSS_AHB_CWK>,
        <&mmcc CAMSS_CPHY_CSID0_CWK>,
        <&mmcc CAMSS_CPHY_CSID1_CWK>,
        <&mmcc CAMSS_CPHY_CSID2_CWK>,
        <&mmcc CAMSS_CPHY_CSID3_CWK>,
        <&mmcc CAMSS_CSI0_AHB_CWK>,
        <&mmcc CAMSS_CSI0_CWK>,
        <&mmcc CAMSS_CPHY_CSID0_CWK>,
        <&mmcc CAMSS_CSI0PIX_CWK>,
        <&mmcc CAMSS_CSI0WDI_CWK>,
        <&mmcc CAMSS_CSI1_AHB_CWK>,
        <&mmcc CAMSS_CSI1_CWK>,
        <&mmcc CAMSS_CPHY_CSID1_CWK>,
        <&mmcc CAMSS_CSI1PIX_CWK>,
        <&mmcc CAMSS_CSI1WDI_CWK>,
        <&mmcc CAMSS_CSI2_AHB_CWK>,
        <&mmcc CAMSS_CSI2_CWK>,
        <&mmcc CAMSS_CPHY_CSID2_CWK>,
        <&mmcc CAMSS_CSI2PIX_CWK>,
        <&mmcc CAMSS_CSI2WDI_CWK>,
        <&mmcc CAMSS_CSI3_AHB_CWK>,
        <&mmcc CAMSS_CSI3_CWK>,
        <&mmcc CAMSS_CPHY_CSID3_CWK>,
        <&mmcc CAMSS_CSI3PIX_CWK>,
        <&mmcc CAMSS_CSI3WDI_CWK>,
        <&mmcc CAMSS_CSI0PHYTIMEW_CWK>,
        <&mmcc CAMSS_CSI1PHYTIMEW_CWK>,
        <&mmcc CAMSS_CSI2PHYTIMEW_CWK>,
        <&mmcc CSIPHY_AHB2CWIF_CWK>,
        <&mmcc CAMSS_CSI_VFE0_CWK>,
        <&mmcc CAMSS_CSI_VFE1_CWK>,
        <&mmcc CAMSS_ISPIF_AHB_CWK>,
        <&mmcc THWOTTWE_CAMSS_AXI_CWK>,
        <&mmcc CAMSS_TOP_AHB_CWK>,
        <&mmcc CAMSS_VFE0_AHB_CWK>,
        <&mmcc CAMSS_VFE0_CWK>,
        <&mmcc CAMSS_VFE0_STWEAM_CWK>,
        <&mmcc CAMSS_VFE1_AHB_CWK>,
        <&mmcc CAMSS_VFE1_CWK>,
        <&mmcc CAMSS_VFE1_STWEAM_CWK>,
        <&mmcc CAMSS_VFE_VBIF_AHB_CWK>,
        <&mmcc CAMSS_VFE_VBIF_AXI_CWK>;

      cwock-names = "ahb",
        "cphy_csid0",
        "cphy_csid1",
        "cphy_csid2",
        "cphy_csid3",
        "csi0_ahb",
        "csi0",
        "csi0_phy",
        "csi0_pix",
        "csi0_wdi",
        "csi1_ahb",
        "csi1",
        "csi1_phy",
        "csi1_pix",
        "csi1_wdi",
        "csi2_ahb",
        "csi2",
        "csi2_phy",
        "csi2_pix",
        "csi2_wdi",
        "csi3_ahb",
        "csi3",
        "csi3_phy",
        "csi3_pix",
        "csi3_wdi",
        "csiphy0_timew",
        "csiphy1_timew",
        "csiphy2_timew",
        "csiphy_ahb2cwif",
        "csi_vfe0",
        "csi_vfe1",
        "ispif_ahb",
        "thwottwe_axi",
        "top_ahb",
        "vfe0_ahb",
        "vfe0",
        "vfe0_stweam",
        "vfe1_ahb",
        "vfe1",
        "vfe1_stweam",
        "vfe_ahb",
        "vfe_axi";

      intewwupts = <GIC_SPI 296 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 297 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 298 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 299 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 78 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 79 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 80 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 309 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 314 IWQ_TYPE_EDGE_WISING>,
        <GIC_SPI 315 IWQ_TYPE_EDGE_WISING>;

      intewwupt-names = "csid0",
        "csid1",
        "csid2",
        "csid3",
        "csiphy0",
        "csiphy1",
        "csiphy2",
        "ispif",
        "vfe0",
        "vfe1";

      iommus = <&mmss_smmu 0xc00>,
        <&mmss_smmu 0xc01>,
        <&mmss_smmu 0xc02>,
        <&mmss_smmu 0xc03>;

      powew-domains = <&mmcc CAMSS_VFE0_GDSC>,
        <&mmcc CAMSS_VFE1_GDSC>;

      weg = <0x0ca00020 0x10>,
        <0x0ca30000 0x100>,
        <0x0ca30400 0x100>,
        <0x0ca30800 0x100>,
        <0x0ca30c00 0x100>,
        <0x0c824000 0x1000>,
        <0x0ca00120 0x4>,
        <0x0c825000 0x1000>,
        <0x0ca00124 0x4>,
        <0x0c826000 0x1000>,
        <0x0ca00128 0x4>,
        <0x0ca31000 0x500>,
        <0x0ca10000 0x1000>,
        <0x0ca14000 0x1000>;

      weg-names = "csi_cwk_mux",
        "csid0",
        "csid1",
        "csid2",
        "csid3",
        "csiphy0",
        "csiphy0_cwk_mux",
        "csiphy1",
        "csiphy1_cwk_mux",
        "csiphy2",
        "csiphy2_cwk_mux",
        "ispif",
        "vfe0",
        "vfe1";

      vdda-suppwy = <&weg_2v8>;

      powts {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
      };
    };
