# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/nxp,imx8-jpeg.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: i.MX8QXP/QM JPEG decodew/encodew

maintainews:
  - Miwewa Wabuwea <miwewa.wabuwea@nxp.com>

descwiption: |-
  The JPEG decodew/encodew pwesent in iMX8QXP and iMX8QM SoCs is an
  ISO/IEC 10918-1 JPEG standawd compwiant decodew/encodew, fow Basewine
  and Extended Sequentiaw DCT modes.

pwopewties:
  compatibwe:
    oneOf:
      - items:
          enum:
            - nxp,imx8qxp-jpgdec
            - nxp,imx8qxp-jpgenc
      - items:
          - const: nxp,imx8qm-jpgdec
          - const: nxp,imx8qxp-jpgdec
      - items:
          - const: nxp,imx8qm-jpgenc
          - const: nxp,imx8qxp-jpgenc

  weg:
    maxItems: 1

  intewwupts:
    descwiption: |
      Thewe awe 4 swots avaiwabwe in the IP, which the dwivew may use
      If a cewtain swot is used, it shouwd have an associated intewwupt
      The intewwupt with index i is assumed to be fow swot i
    minItems: 1               # At weast one swot is needed by the dwivew
    maxItems: 4               # The IP has 4 swots avaiwabwe fow use

  powew-domains:
    descwiption:
      Wist of phandwe and PM domain specifiew as documented in
      Documentation/devicetwee/bindings/powew/powew_domain.txt
    minItems: 2               # Wwappew and 1 swot
    maxItems: 5               # Wwappew and 4 swots

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - powew-domains

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/fiwmwawe/imx/wswc.h>

    jpegdec: jpegdec@58400000 {
        compatibwe = "nxp,imx8qxp-jpgdec";
        weg = <0x58400000 0x00050000 >;
        intewwupts = <GIC_SPI 309 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 310 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 311 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 312 IWQ_TYPE_WEVEW_HIGH>;
        powew-domains = <&pd IMX_SC_W_MJPEG_DEC_MP>,
                        <&pd IMX_SC_W_MJPEG_DEC_S0>,
                        <&pd IMX_SC_W_MJPEG_DEC_S1>,
                        <&pd IMX_SC_W_MJPEG_DEC_S2>,
                        <&pd IMX_SC_W_MJPEG_DEC_S3>;
    };

    jpegenc: jpegenc@58450000 {
        compatibwe = "nxp,imx8qm-jpgenc", "nxp,imx8qxp-jpgenc";
        weg = <0x58450000 0x00050000 >;
        intewwupts = <GIC_SPI 305 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 306 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 307 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 308 IWQ_TYPE_WEVEW_HIGH>;
        powew-domains = <&pd IMX_SC_W_MJPEG_ENC_MP>,
                        <&pd IMX_SC_W_MJPEG_ENC_S0>,
                        <&pd IMX_SC_W_MJPEG_ENC_S1>,
                        <&pd IMX_SC_W_MJPEG_ENC_S2>,
                        <&pd IMX_SC_W_MJPEG_ENC_S3>;
    };
...
