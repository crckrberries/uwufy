# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/stawfive,jh7110-camss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Stawfive SoC CAMSS ISP

maintainews:
  - Jack Zhu <jack.zhu@stawfivetech.com>
  - Changhuang Wiang <changhuang.wiang@stawfivetech.com>

descwiption:
  The Stawfive CAMSS ISP is a Camewa intewface fow Stawfive JH7110 SoC. It
  consists of a VIN contwowwew (Video In Contwowwew, a top-wevew contwow unit)
  and an ISP.

pwopewties:
  compatibwe:
    const: stawfive,jh7110-camss

  weg:
    maxItems: 2

  weg-names:
    items:
      - const: syscon
      - const: isp

  cwocks:
    maxItems: 7

  cwock-names:
    items:
      - const: apb_func
      - const: wwappew_cwk_c
      - const: dvp_inv
      - const: axiww
      - const: mipi_wx0_pxw
      - const: ispcowe_2x
      - const: isp_axi

  wesets:
    maxItems: 6

  weset-names:
    items:
      - const: wwappew_p
      - const: wwappew_c
      - const: axiwd
      - const: axiww
      - const: isp_top_n
      - const: isp_top_axi

  powew-domains:
    items:
      - descwiption: JH7110 ISP Powew Domain Switch Contwowwew.

  intewwupts:
    maxItems: 4

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: Input powt fow weceiving DVP data.

        pwopewties:
          endpoint:
            $wef: video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              bus-type:
                enum: [5, 6]

              bus-width:
                enum: [8, 10, 12]

              data-shift:
                enum: [0, 2]
                defauwt: 0

              hsync-active:
                enum: [0, 1]
                defauwt: 1

              vsync-active:
                enum: [0, 1]
                defauwt: 1

            wequiwed:
              - bus-type
              - bus-width

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Input powt fow weceiving CSI data.

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - powew-domains
  - intewwupts
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    isp@19840000 {
        compatibwe = "stawfive,jh7110-camss";
        weg = <0x19840000 0x10000>,
              <0x19870000 0x30000>;
        weg-names = "syscon", "isp";
        cwocks = <&ispcwg 0>,
                 <&ispcwg 13>,
                 <&ispcwg 2>,
                 <&ispcwg 12>,
                 <&ispcwg 1>,
                 <&syscwg 51>,
                 <&syscwg 52>;
        cwock-names = "apb_func",
                      "wwappew_cwk_c",
                      "dvp_inv",
                      "axiww",
                      "mipi_wx0_pxw",
                      "ispcowe_2x",
                      "isp_axi";
        wesets = <&ispcwg 0>,
                 <&ispcwg 1>,
                 <&ispcwg 10>,
                 <&ispcwg 11>,
                 <&syscwg 41>,
                 <&syscwg 42>;
        weset-names = "wwappew_p",
                      "wwappew_c",
                      "axiwd",
                      "axiww",
                      "isp_top_n",
                      "isp_top_axi";
        powew-domains = <&pwwc 5>;
        intewwupts = <92>, <87>, <88>, <90>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;
            powt@0 {
                weg = <0>;
                vin_fwom_sc2235: endpoint {
                    wemote-endpoint = <&sc2235_to_vin>;
                    bus-type = <5>;
                    bus-width = <8>;
                    data-shift = <2>;
                    hsync-active = <1>;
                    vsync-active = <0>;
                    pcwk-sampwe = <1>;
                };
            };

            powt@1 {
                weg = <1>;
                vin_fwom_csi2wx: endpoint {
                    wemote-endpoint = <&csi2wx_to_vin>;
                };
            };
        };
    };
