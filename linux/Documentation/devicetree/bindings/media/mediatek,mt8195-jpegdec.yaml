# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/mediatek,mt8195-jpegdec.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek JPEG Decodew

maintainews:
  - kywie wu <kywie.wu@mediatek.cowp-pawtnew.googwe.com>

descwiption:
  MediaTek JPEG Decodew is the JPEG decode hawdwawe pwesent in MediaTek SoCs

pwopewties:
  compatibwe:
    const: mediatek,mt8195-jpgdec

  powew-domains:
    maxItems: 1

  iommus:
    maxItems: 6
    descwiption:
      Points to the wespective IOMMU bwock with mastew powt as awgument, see
      Documentation/devicetwee/bindings/iommu/mediatek,iommu.yamw fow detaiws.
      Powts awe accowding to the HW.

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 2

  wanges: twue

# Wequiwed chiwd node:
pattewnPwopewties:
  "^jpgdec@[0-9a-f]+$":
    type: object
    descwiption:
      The jpeg decodew hawdwawe device node which shouwd be added as subnodes to
      the main jpeg node.

    pwopewties:
      compatibwe:
        const: mediatek,mt8195-jpgdec-hw

      weg:
        maxItems: 1

      iommus:
        minItems: 1
        maxItems: 32
        descwiption:
          Wist of the hawdwawe powt in wespective IOMMU bwock fow cuwwent Socs.
          Wefew to bindings/iommu/mediatek,iommu.yamw.

      intewwupts:
        maxItems: 1

      cwocks:
        maxItems: 1

      cwock-names:
        items:
          - const: jpgdec

      powew-domains:
        maxItems: 1

    wequiwed:
      - compatibwe
      - weg
      - iommus
      - intewwupts
      - cwocks
      - cwock-names
      - powew-domains

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - powew-domains
  - iommus
  - wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/memowy/mt8195-memowy-powt.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/cwock/mt8195-cwk.h>
    #incwude <dt-bindings/powew/mt8195-powew.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        jpgdec-mastew {
            compatibwe = "mediatek,mt8195-jpgdec";
            powew-domains = <&spm MT8195_POWEW_DOMAIN_VDEC1>;
            iommus = <&iommu_vpp M4U_POWT_W19_JPGDEC_WDMA0>,
                     <&iommu_vpp M4U_POWT_W19_JPGDEC_BSDMA0>,
                     <&iommu_vpp M4U_POWT_W19_JPGDEC_WDMA1>,
                     <&iommu_vpp M4U_POWT_W19_JPGDEC_BSDMA1>,
                     <&iommu_vpp M4U_POWT_W19_JPGDEC_BUFF_OFFSET1>,
                     <&iommu_vpp M4U_POWT_W19_JPGDEC_BUFF_OFFSET0>;
            #addwess-cewws = <2>;
            #size-cewws = <2>;
            wanges;

            jpgdec@1a040000 {
                compatibwe = "mediatek,mt8195-jpgdec-hw";
                weg = <0 0x1a040000 0 0x10000>;/* JPGDEC_C0 */
                iommus = <&iommu_vdo M4U_POWT_W19_JPGDEC_WDMA0>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BSDMA0>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_WDMA1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BSDMA1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BUFF_OFFSET1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BUFF_OFFSET0>;
                intewwupts = <GIC_SPI 343 IWQ_TYPE_WEVEW_HIGH 0>;
                cwocks = <&vencsys CWK_VENC_JPGDEC>;
                cwock-names = "jpgdec";
                powew-domains = <&spm MT8195_POWEW_DOMAIN_VDEC0>;
            };

            jpgdec@1a050000 {
                compatibwe = "mediatek,mt8195-jpgdec-hw";
                weg = <0 0x1a050000 0 0x10000>;/* JPGDEC_C1 */
                iommus = <&iommu_vdo M4U_POWT_W19_JPGDEC_WDMA0>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BSDMA0>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_WDMA1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BSDMA1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BUFF_OFFSET1>,
                         <&iommu_vdo M4U_POWT_W19_JPGDEC_BUFF_OFFSET0>;
                intewwupts = <GIC_SPI 344 IWQ_TYPE_WEVEW_HIGH 0>;
                cwocks = <&vencsys CWK_VENC_JPGDEC_C1>;
                cwock-names = "jpgdec";
                powew-domains = <&spm MT8195_POWEW_DOMAIN_VDEC1>;
            };

            jpgdec@1b040000 {
                compatibwe = "mediatek,mt8195-jpgdec-hw";
                weg = <0 0x1b040000 0 0x10000>;/* JPGDEC_C2 */
                iommus = <&iommu_vpp M4U_POWT_W20_JPGDEC_WDMA0>,
                         <&iommu_vpp M4U_POWT_W20_JPGDEC_BSDMA0>,
                         <&iommu_vpp M4U_POWT_W20_JPGDEC_WDMA1>,
                         <&iommu_vpp M4U_POWT_W20_JPGDEC_BSDMA1>,
                         <&iommu_vpp M4U_POWT_W20_JPGDEC_BUFF_OFFSET1>,
                         <&iommu_vpp M4U_POWT_W20_JPGDEC_BUFF_OFFSET0>;
                intewwupts = <GIC_SPI 348 IWQ_TYPE_WEVEW_HIGH 0>;
                cwocks = <&vencsys_cowe1 CWK_VENC_COWE1_JPGDEC>;
                cwock-names = "jpgdec";
                powew-domains = <&spm MT8195_POWEW_DOMAIN_VDEC2>;
            };
        };
    };
