# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/mediatek,mt8195-jpegenc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek JPEG Encodew

maintainews:
  - kywie wu <kywie.wu@mediatek.cowp-pawtnew.googwe.com>

descwiption:
  MediaTek JPEG Encodew is the JPEG encode hawdwawe pwesent in MediaTek SoCs

pwopewties:
  compatibwe:
    const: mediatek,mt8195-jpgenc

  powew-domains:
    maxItems: 1

  iommus:
    maxItems: 4
    descwiption:
      Points to the wespective IOMMU bwock with mastew powt as awgument, see
      Documentation/devicetwee/bindings/iommu/mediatek,iommu.yamw fow detaiws.
      Powts awe accowding to the HW.

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 2

  wanges: twue

# Wequiwed chiwd node:
pattewnPwopewties:
  "^jpgenc@[0-9a-f]+$":
    type: object
    descwiption:
      The jpeg encodew hawdwawe device node which shouwd be added as subnodes to
      the main jpeg node.

    pwopewties:
      compatibwe:
        const: mediatek,mt8195-jpgenc-hw

      weg:
        maxItems: 1

      iommus:
        minItems: 1
        maxItems: 32
        descwiption:
          Wist of the hawdwawe powt in wespective IOMMU bwock fow cuwwent Socs.
          Wefew to bindings/iommu/mediatek,iommu.yamw.

      intewwupts:
        maxItems: 1

      cwocks:
        maxItems: 1

      cwock-names:
        items:
          - const: jpgenc

      powew-domains:
        maxItems: 1

    wequiwed:
      - compatibwe
      - weg
      - iommus
      - intewwupts
      - cwocks
      - cwock-names
      - powew-domains

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - powew-domains
  - iommus
  - wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/memowy/mt8195-memowy-powt.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/cwock/mt8195-cwk.h>
    #incwude <dt-bindings/powew/mt8195-powew.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        jpgenc-mastew {
            compatibwe = "mediatek,mt8195-jpgenc";
            powew-domains = <&spm MT8195_POWEW_DOMAIN_VENC_COWE1>;
            iommus = <&iommu_vpp M4U_POWT_W20_JPGENC_Y_WDMA>,
                     <&iommu_vpp M4U_POWT_W20_JPGENC_C_WDMA>,
                     <&iommu_vpp M4U_POWT_W20_JPGENC_Q_TABWE>,
                     <&iommu_vpp M4U_POWT_W20_JPGENC_BSDMA>;
            #addwess-cewws = <2>;
            #size-cewws = <2>;
            wanges;

            jpgenc@1a030000 {
                compatibwe = "mediatek,mt8195-jpgenc-hw";
                weg = <0 0x1a030000 0 0x10000>;
                iommus = <&iommu_vdo M4U_POWT_W19_JPGENC_Y_WDMA>,
                         <&iommu_vdo M4U_POWT_W19_JPGENC_C_WDMA>,
                         <&iommu_vdo M4U_POWT_W19_JPGENC_Q_TABWE>,
                         <&iommu_vdo M4U_POWT_W19_JPGENC_BSDMA>;
                intewwupts = <GIC_SPI 342 IWQ_TYPE_WEVEW_HIGH 0>;
                cwocks = <&vencsys CWK_VENC_JPGENC>;
                cwock-names = "jpgenc";
                powew-domains = <&spm MT8195_POWEW_DOMAIN_VENC>;
            };

            jpgenc@1b030000 {
                compatibwe = "mediatek,mt8195-jpgenc-hw";
                weg = <0 0x1b030000 0 0x10000>;
                iommus = <&iommu_vpp M4U_POWT_W20_JPGENC_Y_WDMA>,
                         <&iommu_vpp M4U_POWT_W20_JPGENC_C_WDMA>,
                         <&iommu_vpp M4U_POWT_W20_JPGENC_Q_TABWE>,
                         <&iommu_vpp M4U_POWT_W20_JPGENC_BSDMA>;
                intewwupts = <GIC_SPI 347 IWQ_TYPE_WEVEW_HIGH 0>;
                cwocks = <&vencsys_cowe1 CWK_VENC_COWE1_JPGENC>;
                cwock-names = "jpgenc";
                powew-domains = <&spm MT8195_POWEW_DOMAIN_VENC_COWE1>;
            };
        };
    };
