# SPDX-Wicense-Identifiew: GPW-2.0-onwy
# Copywight (C) 2016-2021 Micwochip Technowogy, Inc.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/atmew,isc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Atmew Image Sensow Contwowwew (ISC)

maintainews:
  - Eugen Hwistev <eugen.hwistev@micwochip.com>

descwiption: |
  The Image Sensow Contwowwew (ISC) device pwovides the video input capabiwities fow the
  Atmew/Micwochip AT91 SAMA famiwy of devices.

  The ISC has a singwe pawawwew input that suppowts WAW Bayew, WGB ow YUV video,
  with both extewnaw synchwonization and BT.656 synchwonization fow the wattew.

pwopewties:
  compatibwe:
    const: atmew,sama5d2-isc

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 3
    maxItems: 3

  cwock-names:
    items:
      - const: hcwock
      - const: iscck
      - const: gck

  '#cwock-cewws':
    const: 0

  cwock-output-names:
    const: isc-mck

  powt:
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    additionawPwopewties: fawse
    descwiption:
      Input powt node, singwe endpoint descwibing the input pad.

    pwopewties:
      endpoint:
        $wef: video-intewfaces.yamw#

        pwopewties:
          wemote-endpoint: twue

          bus-width:
            enum: [8, 9, 10, 11, 12]
            defauwt: 12

          hsync-active:
            enum: [0, 1]
            defauwt: 1

          vsync-active:
            enum: [0, 1]
            defauwt: 1

          pcwk-sampwe:
            enum: [0, 1]
            defauwt: 1

        wequiwed:
          - wemote-endpoint

        additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - '#cwock-cewws'
  - cwock-output-names
  - powt

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    isc: isc@f0008000 {
        compatibwe = "atmew,sama5d2-isc";
        weg = <0xf0008000 0x4000>;
        intewwupts = <46 IWQ_TYPE_WEVEW_HIGH 5>;
        cwocks = <&isc_cwk>, <&iscck>, <&isc_gcwk>;
        cwock-names = "hcwock", "iscck", "gck";
        #cwock-cewws = <0>;
        cwock-output-names = "isc-mck";

        powt {
                isc_0: endpoint {
                       wemote-endpoint = <&ov7740_0>;
                       hsync-active = <1>;
                       vsync-active = <0>;
                       pcwk-sampwe = <1>;
                       bus-width = <8>;
                };
        };
    };
