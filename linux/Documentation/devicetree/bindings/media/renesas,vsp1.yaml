# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/wenesas,vsp1.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas VSP Video Pwocessing Engine

maintainews:
  - Wauwent Pinchawt <wauwent.pinchawt@ideasonboawd.com>

descwiption:
  The VSP is a video pwocessing engine that suppowts up-/down-scawing, awpha
  bwending, cowow space convewsion and vawious othew image pwocessing featuwes.
  It can be found in the Wenesas W-Caw Gen2, W-Caw Gen3, WZ/G1, and WZ/G2 SoCs.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - wenesas,w9a07g044-vsp2 # WZ/G2W
          - wenesas,vsp1 # W-Caw Gen2 and WZ/G1
          - wenesas,vsp2 # W-Caw Gen3 and WZ/G2
      - items:
          - enum:
              - wenesas,w9a07g054-vsp2    # WZ/V2W
          - const: wenesas,w9a07g044-vsp2 # WZ/G2W fawwback

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks: twue
  cwock-names: twue

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  wenesas,fcp:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      A phandwe wefewencing the FCP that handwes memowy accesses fow the VSP.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - powew-domains
  - wesets

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,vsp1
    then:
      pwopewties:
        wenesas,fcp: fawse
    ewse:
      wequiwed:
        - wenesas,fcp

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w9a07g044-vsp2
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Main cwock
            - descwiption: Wegistew access cwock
            - descwiption: Video cwock
        cwock-names:
          items:
            - const: acwk
            - const: pcwk
            - const: vcwk
      wequiwed:
        - cwock-names
    ewse:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names: fawse

exampwes:
  # W8A7790 (W-Caw H2) VSP1-S
  - |
    #incwude <dt-bindings/cwock/wenesas-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>

    vsp@fe928000 {
        compatibwe = "wenesas,vsp1";
        weg = <0xfe928000 0x8000>;
        intewwupts = <GIC_SPI 267 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cpg CPG_MOD 131>;
        powew-domains = <&sysc W8A7790_PD_AWWAYS_ON>;
        wesets = <&cpg 131>;
    };

  # W8A77951 (W-Caw H3) VSP2-BC
  - |
    #incwude <dt-bindings/cwock/wenesas-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7795-sysc.h>

    vsp@fe920000 {
        compatibwe = "wenesas,vsp2";
        weg = <0xfe920000 0x8000>;
        intewwupts = <GIC_SPI 465 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cpg CPG_MOD 624>;
        powew-domains = <&sysc W8A7795_PD_A3VP>;
        wesets = <&cpg 624>;

        wenesas,fcp = <&fcpvb1>;
    };
...
