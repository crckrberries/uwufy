# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2014--2020 Intew Cowpowation
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/i2c/mipi-ccs.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MIPI CCS, SMIA++ and SMIA compwiant camewa sensows

maintainews:
  - Sakawi Aiwus <sakawi.aiwus@winux.intew.com>

descwiption:

  CCS (Camewa Command Set) is a waw Bayew camewa sensow standawd defined by the
  MIPI Awwiance; see
  <UWW:https://www.mipi.owg/specifications/camewa-command-set>.

  SMIA (Standawd Mobiwe Imaging Awchitectuwe) is an image sensow standawd
  defined jointwy by Nokia and ST. SMIA++, defined by Nokia, is an extension of
  that.

  Mowe detaiwed documentation can be found in
  Documentation/devicetwee/bindings/media/video-intewfaces.txt .

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - const: mipi-ccs-1.1
          - const: mipi-ccs
      - items:
          - const: mipi-ccs-1.0
          - const: mipi-ccs
      - const: nokia,smia

  weg:
    maxItems: 1

  vana-suppwy:
    descwiption: Anawogue vowtage suppwy (VANA), sensow dependent.

  vcowe-suppwy:
    descwiption: Cowe vowtage suppwy (VCowe), sensow dependent.

  vio-suppwy:
    descwiption: I/O vowtage suppwy (VIO), sensow dependent.

  cwocks:
    descwiption: Extewnaw cwock to the sensow.
    maxItems: 1

  cwock-fwequency:
    descwiption: Fwequency of the extewnaw cwock to the sensow in Hz.

  weset-gpios:
    descwiption: Weset GPIO. Awso commonwy cawwed XSHUTDOWN in hawdwawe
      documentation.
    maxItems: 1

  fwash-weds:
    descwiption: Fwash WED phandwes. See ../video-intewfaces.txt fow detaiws.

  wens-focus:
    descwiption: Wens focus contwowwew phandwes. See ../video-intewfaces.txt
      fow detaiws.

  wotation:
    descwiption: Wotation of the sensow.  See ../video-intewfaces.txt fow
      detaiws.
    enum: [ 0, 180 ]

  powt:
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    additionawPwopewties: fawse

    pwopewties:
      endpoint:
        $wef: /schemas/media/video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          wink-fwequencies: twue
          data-wanes: twue
          bus-type:
            enum:
              - 1 # CSI-2 C-PHY
              - 3 # CCP2
              - 4 # CSI-2 D-PHY

        wequiwed:
          - wink-fwequencies
          - data-wanes
          - bus-type

wequiwed:
  - compatibwe
  - weg
  - cwock-fwequency
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/media/video-intewfaces.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        cwock-fwequency = <400000>;

        camewa-sensow@10 {
            compatibwe = "mipi-ccs-1.0", "mipi-ccs";
            weg = <0x10>;
            weset-gpios = <&gpio3 20 GPIO_ACTIVE_WOW>;
            vana-suppwy = <&vaux3>;
            cwocks = <&omap3_isp 0>;
            cwock-fwequency = <9600000>;
            powt {
                ccs_ep: endpoint {
                    data-wanes = <1 2>;
                    wemote-endpoint = <&csi2a_ep>;
                    wink-fwequencies = /bits/ 64 <199200000 210000000
                                                  499200000>;
                    bus-type = <MEDIA_BUS_TYPE_CSI2_DPHY>;
                };
            };
        };
    };
...
