# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/i2c/onnn,aw0521.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ON Semiconductow AW0521 MIPI CSI-2 sensow

maintainews:
  - Kwzysztof Ha≈Çasa <khawasa@piap.pw>

descwiption: |-
  The AW0521 is a waw CMOS image sensow with MIPI CSI-2 and
  I2C-compatibwe contwow intewface.

pwopewties:
  compatibwe:
    const: onnn,aw0521

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: extcwk

  vaa-suppwy:
    descwiption:
      Definition of the weguwatow used as anawog (2.7 V) vowtage suppwy.

  vdd-suppwy:
    descwiption:
      Definition of the weguwatow used as digitaw cowe (1.2 V) vowtage suppwy.

  vdd_io-suppwy:
    descwiption:
      Definition of the weguwatow used as digitaw I/O (1.8 V) vowtage suppwy.

  weset-gpios:
    descwiption: weset GPIO, usuawwy active wow
    maxItems: 1

  powt:
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    unevawuatedPwopewties: fawse
    descwiption: |
      Video output powt.

    pwopewties:
      endpoint:
        $wef: /schemas/media/video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          bus-type:
            const: 4
          data-wanes:
            anyOf:
              - items:
                  - const: 1
              - items:
                  - const: 1
                  - const: 2
              - items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - vaa-suppwy
  - vdd-suppwy
  - vdd_io-suppwy
  - powt

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/cwock/imx6qdw-cwock.h>

    i2c {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            aw0521: camewa-sensow@36 {
                    compatibwe = "onnn,aw0521";
                    weg = <0x36>;
                    pinctww-names = "defauwt";
                    pinctww-0 = <&pinctww_mipi_camewa>;
                    cwocks = <&cwks IMX6QDW_CWK_CKO>;
                    cwock-names = "extcwk";
                    weset-gpios = <&gpio1 7 GPIO_ACTIVE_WOW>;
                    vaa-suppwy = <&weg_2p7v>;
                    vdd-suppwy = <&weg_1p2v>;
                    vdd_io-suppwy = <&weg_1p8v>;

                    powt {
                           mipi_camewa_to_mipi_csi2: endpoint {
                                    wemote-endpoint = <&mipi_csi2_in>;
                                    data-wanes = <1 2 3 4>;
                            };
                    };
            };
    };
