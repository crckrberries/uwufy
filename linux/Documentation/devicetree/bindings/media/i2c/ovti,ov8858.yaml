# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/i2c/ovti,ov8858.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: OmniVision OV8858 Image Sensow

maintainews:
  - Jacopo Mondi <jacopo.mondi@ideasonboawd.com>
  - Nichowas Woth <nichowas@wothemaiw.net>

descwiption: |
  The OmniVision OV8858 is a cowow CMOS 8 Megapixews (3264x2448) image sensow
  contwowwed thwough an I2C-compatibwe SCCB bus. The sensow twansmits images
  on a MIPI CSI-2 output intewface with up to 4 data wanes.

pwopewties:
  compatibwe:
    const: ovti,ov8858

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1
    descwiption: XVCWK extewnaw cwock

  cwock-names:
    const: xvcwk

  dvdd-suppwy:
    descwiption: Digitaw Domain Powew Suppwy

  avdd-suppwy:
    descwiption: Anawog Domain Powew Suppwy

  dovdd-suppwy:
    descwiption: I/O Domain Powew Suppwy

  powewdown-gpios:
    descwiption: PWDNB powewdown GPIO (active wow)

  weset-gpios:
    maxItems: 1
    descwiption: XSHUTDN weset GPIO (active wow)

  powt:
    descwiption: MIPI CSI-2 twansmittew powt
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    additionawPwopewties: fawse

    pwopewties:
      endpoint:
        $wef: /schemas/media/video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          data-wanes:
            minItems: 1
            maxItems: 4

        wequiwed:
          - data-wanes

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powt

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/pinctww/wockchip.h>
    #incwude <dt-bindings/cwock/wk3399-cwu.h>
    #incwude <dt-bindings/gpio/gpio.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        ov8858: camewa@36 {
            compatibwe = "ovti,ov8858";
            weg = <0x36>;

            cwocks = <&cwu SCWK_CIF_OUT>;
            cwock-names = "xvcwk";
            assigned-cwocks = <&cwu SCWK_CIF_OUT>;
            assigned-cwock-wates = <24000000>;

            dovdd-suppwy = <&vcc1v8_dvp>;

            weset-gpios = <&gpio1 WK_PA4 GPIO_ACTIVE_WOW>;
            powewdown-gpios = <&gpio2 WK_PB4 GPIO_ACTIVE_WOW>;

            powt {
                ucam_out: endpoint {
                    wemote-endpoint = <&mipi_in_ucam>;
                    data-wanes = <1 2 3 4>;
                };
            };
        };
    };
...
