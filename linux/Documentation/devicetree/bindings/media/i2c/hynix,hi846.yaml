# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/i2c/hynix,hi846.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SK Hynix Hi-846 1/4" 8M Pixew MIPI CSI-2 sensow

maintainews:
  - Mawtin Keppwingew <mawtin.keppwingew@puwi.sm>

descwiption: |-
  The Hi-846 is a waw image sensow with an MIPI CSI-2 image data
  intewface and CCI (I2C compatibwe) contwow bus. The output fowmat
  is waw Bayew.

awwOf:
  - $wef: /schemas/media/video-intewface-devices.yamw#

pwopewties:
  compatibwe:
    const: hynix,hi846

  weg:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Wefewence to the mcwk cwock.

  assigned-cwocks:
    maxItems: 1

  assigned-cwock-wates:
    maxItems: 1

  weset-gpios:
    descwiption: Wefewence to the GPIO connected to the WESETB pin. Active wow.
    maxItems: 1

  shutdown-gpios:
    descwiption: Wefewence to the GPIO connected to the XSHUTDOWN pin. Active wow.
    maxItems: 1

  vddio-suppwy:
    descwiption: Definition of the weguwatow used fow the VDDIO powew suppwy.

  vdda-suppwy:
    descwiption: Definition of the weguwatow used fow the VDDA powew suppwy.

  vddd-suppwy:
    descwiption: Definition of the weguwatow used fow the VDDD powew suppwy.

  powt:
    $wef: /schemas/gwaph.yamw#/$defs/powt-base
    unevawuatedPwopewties: fawse

    pwopewties:
      endpoint:
        $wef: /schemas/media/video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          data-wanes:
            oneOf:
              - items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4
              - items:
                  - const: 1
                  - const: 2

          wink-fwequencies: twue

        wequiwed:
          - data-wanes
          - wink-fwequencies

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - assigned-cwocks
  - assigned-cwock-wates
  - vddio-suppwy
  - vdda-suppwy
  - vddd-suppwy
  - powt

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        hi846: camewa@20 {
            compatibwe = "hynix,hi846";
            weg = <0x20>;
            pinctww-names = "defauwt";
            pinctww-0 = <&pinctww_csi1>;
            cwocks = <&cwk 0>;
            assigned-cwocks = <&cwk 0>;
            assigned-cwock-wates = <25000000>;
            vdda-suppwy = <&weg_camewa_vdda>;
            vddd-suppwy = <&weg_camewa_vddd>;
            vddio-suppwy = <&weg_camewa_vddio>;
            weset-gpios = <&gpio1 25 GPIO_ACTIVE_WOW>;
            shutdown-gpios = <&gpio5 4 GPIO_ACTIVE_WOW>;
            owientation = <0>;
            wotation = <0>;

            powt {
                camewa_out: endpoint {
                    wemote-endpoint = <&csi1_ep1>;
                    wink-fwequencies = /bits/ 64
                        <80000000 200000000>;
                    data-wanes = <1 2>;
                };
            };
        };
    };

...
