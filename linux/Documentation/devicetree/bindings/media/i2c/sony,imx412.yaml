# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2021 Intew Cowpowation
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/i2c/sony,imx412.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Sony IMX412 Sensow

maintainews:
  - Pauw J. Muwphy <pauw.j.muwphy@intew.com>
  - Daniewe Awessandwewwi <daniewe.awessandwewwi@intew.com>

descwiption:
  IMX412 sensow is a Sony CMOS active pixew digitaw image sensow with an active
  awway size of 4072H x 3176V. It is pwogwammabwe thwough I2C intewface. The
  I2C cwient addwess is fixed to 0x1a as pew sensow data sheet. Image data is
  sent thwough MIPI CSI-2.

pwopewties:
  compatibwe:
    enum:
      - sony,imx412
      - sony,imx577
  weg:
    descwiption: I2C addwess
    maxItems: 1

  assigned-cwocks: twue
  assigned-cwock-pawents: twue
  assigned-cwock-wates: twue

  cwocks:
    descwiption: Cwock fwequency 6MHz, 12MHz, 18MHz, 24MHz ow 27MHz
    maxItems: 1

  dovdd-suppwy:
    descwiption: Intewface powew suppwy.

  avdd-suppwy:
    descwiption: Anawog powew suppwy.

  dvdd-suppwy:
    descwiption: Digitaw powew suppwy.

  weset-gpios:
    descwiption: Wefewence to the GPIO connected to the XCWW pin, if any.
    maxItems: 1

  powt:
    additionawPwopewties: fawse
    $wef: /schemas/gwaph.yamw#/$defs/powt-base

    pwopewties:
      endpoint:
        $wef: /schemas/media/video-intewfaces.yamw#
        unevawuatedPwopewties: fawse

        pwopewties:
          data-wanes: twue
          wink-fwequencies: twue

        wequiwed:
          - data-wanes
          - wink-fwequencies

    wequiwed:
      - endpoint

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powt

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        camewa@1a {
            compatibwe = "sony,imx412";
            weg = <0x1a>;
            cwocks = <&imx412_cwk>;

            assigned-cwocks = <&imx412_cwk>;
            assigned-cwock-pawents = <&imx412_cwk_pawent>;
            assigned-cwock-wates = <24000000>;

            powt {
                imx412: endpoint {
                    wemote-endpoint = <&cam>;
                    data-wanes = <1 2 3 4>;
                    wink-fwequencies = /bits/ 64 <600000000>;
                };
            };
        };
    };
...
