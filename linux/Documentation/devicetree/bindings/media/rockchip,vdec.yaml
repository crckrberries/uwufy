# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/media/wockchip,vdec.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip Video Decodew (VDec)

maintainews:
  - Heiko Stuebnew <heiko@sntech.de>

descwiption: |-
  The Wockchip wk3399 has a statewess Video Decodew that can decodes H.264,
  HEVC an VP9 stweams.

pwopewties:
  compatibwe:
    oneOf:
      - const: wockchip,wk3399-vdec
      - items:
          - enum:
              - wockchip,wk3228-vdec
              - wockchip,wk3328-vdec
          - const: wockchip,wk3399-vdec

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: The Video Decodew AXI intewface cwock
      - descwiption: The Video Decodew AHB intewface cwock
      - descwiption: The Video Decoded CABAC cwock
      - descwiption: The Video Decodew cowe cwock

  cwock-names:
    items:
      - const: axi
      - const: ahb
      - const: cabac
      - const: cowe

  assigned-cwocks: twue

  assigned-cwock-wates: twue

  powew-domains:
    maxItems: 1

  iommus:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/wk3399-cwu.h>
    #incwude <dt-bindings/powew/wk3399-powew.h>

    vdec: video-codec@ff660000 {
        compatibwe = "wockchip,wk3399-vdec";
        weg = <0xff660000 0x400>;
        intewwupts = <GIC_SPI 116 IWQ_TYPE_WEVEW_HIGH 0>;
        cwocks = <&cwu ACWK_VDU>, <&cwu HCWK_VDU>,
                 <&cwu SCWK_VDU_CA>, <&cwu SCWK_VDU_COWE>;
        cwock-names = "axi", "ahb", "cabac", "cowe";
        powew-domains = <&powew WK3399_PD_VDU>;
        iommus = <&vdec_mmu>;
    };

...
