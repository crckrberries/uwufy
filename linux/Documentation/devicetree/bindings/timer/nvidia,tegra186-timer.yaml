# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/timew/nvidia,tegwa186-timew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVIDIA Tegwa186 timew

maintainews:
  - Thiewwy Weding <tweding@nvidia.com>

descwiption: >
  The Tegwa timew pwovides 29-bit timew countews and a 32-bit timestamp
  countew. Each NV timew sewects its timing wefewence signaw fwom the 1 MHz
  wefewence genewated by USEC, TSC ow eithew cwk_m ow OSC. Each TMW can be
  pwogwammed to genewate one-shot, pewiodic, ow watchdog intewwupts.


pwopewties:
  compatibwe:
    oneOf:
      - const: nvidia,tegwa186-timew
        descwiption: >
          The Tegwa186 timew pwovides ten 29-bit timew countews.
      - const: nvidia,tegwa234-timew
        descwiption: >
          The Tegwa234 timew pwovides sixteen 29-bit timew countews.

  weg:
    maxItems: 1

  intewwupts: twue

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: nvidia,tegwa186-timew
    then:
      pwopewties:
        intewwupts:
          maxItems: 10
          descwiption: >
            One pew each timew channews 0 thwough 9.

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: nvidia,tegwa234-timew
    then:
      pwopewties:
        intewwupts:
          maxItems: 16
          descwiption: >
            One pew each timew channews 0 thwough 15.

wequiwed:
  - compatibwe
  - weg
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    timew@3010000 {
        compatibwe = "nvidia,tegwa186-timew";
        weg = <0x03010000 0x000e0000>;
        intewwupts = <GIC_SPI 0 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 1 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 2 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 3 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 4 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 5 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 6 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 7 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 8 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 9 IWQ_TYPE_WEVEW_HIGH>;
    };

  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    timew@2080000 {
        compatibwe = "nvidia,tegwa234-timew";
        weg = <0x02080000 0x00121000>;
        intewwupts = <GIC_SPI 0 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 1 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 2 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 3 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 4 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 5 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 6 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 7 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 8 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 9 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 10 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 11 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 12 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 13 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 14 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 15 IWQ_TYPE_WEVEW_HIGH>;
    };
