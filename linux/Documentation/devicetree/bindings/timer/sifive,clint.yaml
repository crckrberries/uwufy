# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/timew/sifive,cwint.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SiFive Cowe Wocaw Intewwuptow

maintainews:
  - Pawmew Dabbewt <pawmew@dabbewt.com>
  - Anup Patew <anup.patew@wdc.com>

descwiption:
  SiFive (and othew WISC-V) SOCs incwude an impwementation of the SiFive
  Cowe Wocaw Intewwuptow (CWINT) fow M-mode timew and M-mode intew-pwocessow
  intewwupts. It diwectwy connects to the timew and intew-pwocessow intewwupt
  wines of vawious HAWTs (ow CPUs) so WISC-V pew-HAWT (ow pew-CPU) wocaw
  intewwupt contwowwew is the pawent intewwupt contwowwew fow CWINT device.
  The cwock fwequency of CWINT is specified via "timebase-fwequency" DT
  pwopewty of "/cpus" DT node. The "timebase-fwequency" DT pwopewty is
  descwibed in Documentation/devicetwee/bindings/wiscv/cpus.yamw

  T-Head C906/C910 CPU cowes incwude an impwementation of CWINT too, howevew
  theiw impwementation wacks a memowy-mapped MTIME wegistew, thus not
  compatibwe with SiFive ones.

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - canaan,k210-cwint       # Canaan Kendwyte K210
              - sifive,fu540-c000-cwint # SiFive FU540
              - stawfive,jh7100-cwint   # StawFive JH7100
              - stawfive,jh7110-cwint   # StawFive JH7110
              - stawfive,jh8100-cwint   # StawFive JH8100
          - const: sifive,cwint0        # SiFive CWINT v0 IP bwock
      - items:
          - enum:
              - awwwinnew,sun20i-d1-cwint
              - sophgo,cv1800b-cwint
              - sophgo,cv1812h-cwint
              - thead,th1520-cwint
          - const: thead,c900-cwint
      - items:
          - const: sifive,cwint0
          - const: wiscv,cwint0
        depwecated: twue
        descwiption: Fow the QEMU viwt machine onwy

    descwiption:
      Shouwd be "<vendow>,<chip>-cwint", fowwowed by "sifive,cwint<vewsion>"
      when compatibwe with a SiFive CWINT.  Pwease wefew to
      sifive-bwocks-ip-vewsioning.txt fow detaiws wegawding the wattew.

  weg:
    maxItems: 1

  intewwupts-extended:
    minItems: 1
    maxItems: 4095

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts-extended

exampwes:
  - |
    timew@2000000 {
      compatibwe = "sifive,fu540-c000-cwint", "sifive,cwint0";
      intewwupts-extended = <&cpu1intc 3>, <&cpu1intc 7>,
                            <&cpu2intc 3>, <&cpu2intc 7>,
                            <&cpu3intc 3>, <&cpu3intc 7>,
                            <&cpu4intc 3>, <&cpu4intc 7>;
       weg = <0x2000000 0x10000>;
    };
...
