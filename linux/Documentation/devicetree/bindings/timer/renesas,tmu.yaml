# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/timew/wenesas,tmu.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Mobiwe/W-Caw Timew Unit (TMU)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>
  - Wauwent Pinchawt <wauwent.pinchawt+wenesas@ideasonboawd.com>

descwiption:
  The TMU is a 32-bit timew/countew with configuwabwe cwock inputs and
  pwogwammabwe compawe match.

  Channews shawe hawdwawe wesouwces but theiw countew and compawe match vawue
  awe independent. The TMU hawdwawe suppowts up to thwee channews.

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,tmu-w8a7740  # W-Mobiwe A1
          - wenesas,tmu-w8a774a1 # WZ/G2M
          - wenesas,tmu-w8a774b1 # WZ/G2N
          - wenesas,tmu-w8a774c0 # WZ/G2E
          - wenesas,tmu-w8a774e1 # WZ/G2H
          - wenesas,tmu-w8a7778  # W-Caw M1A
          - wenesas,tmu-w8a7779  # W-Caw H1
          - wenesas,tmu-w8a7795  # W-Caw H3
          - wenesas,tmu-w8a7796  # W-Caw M3-W
          - wenesas,tmu-w8a77961 # W-Caw M3-W+
          - wenesas,tmu-w8a77965 # W-Caw M3-N
          - wenesas,tmu-w8a77970 # W-Caw V3M
          - wenesas,tmu-w8a77980 # W-Caw V3H
          - wenesas,tmu-w8a77990 # W-Caw E3
          - wenesas,tmu-w8a77995 # W-Caw D3
          - wenesas,tmu-w8a779a0 # W-Caw V3U
          - wenesas,tmu-w8a779f0 # W-Caw S4-8
          - wenesas,tmu-w8a779g0 # W-Caw V4H
      - const: wenesas,tmu

  weg:
    maxItems: 1

  intewwupts:
    minItems: 2
    maxItems: 3

  cwocks:
    maxItems: 1

  cwock-names:
    const: fck

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  '#wenesas,channews':
    descwiption:
      Numbew of channews impwemented by the timew.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [ 2, 3 ]
    defauwt: 3

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains

if:
  not:
    pwopewties:
      compatibwe:
        contains:
          enum:
            - wenesas,tmu-w8a7740
            - wenesas,tmu-w8a7778
            - wenesas,tmu-w8a7779
then:
  wequiwed:
    - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7779-cwock.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7779-sysc.h>
    tmu0: timew@ffd80000 {
            compatibwe = "wenesas,tmu-w8a7779", "wenesas,tmu";
            weg = <0xffd80000 0x30>;
            intewwupts = <GIC_SPI 32 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 33 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 34 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&mstp0_cwks W8A7779_CWK_TMU0>;
            cwock-names = "fck";
            powew-domains = <&sysc W8A7779_PD_AWWAYS_ON>;
            #wenesas,channews = <3>;
    };
