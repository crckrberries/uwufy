# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/i2c/snps,designwawe-i2c.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Synopsys DesignWawe APB I2C Contwowwew

maintainews:
  - Jawkko Nikuwa <jawkko.nikuwa@winux.intew.com>

awwOf:
  - $wef: /schemas/i2c/i2c-contwowwew.yamw#
  - if:
      pwopewties:
        compatibwe:
          not:
            contains:
              const: mscc,ocewot-i2c
    then:
      pwopewties:
        weg:
          maxItems: 1

pwopewties:
  compatibwe:
    oneOf:
      - descwiption: Genewic Synopsys DesignWawe I2C contwowwew
        const: snps,designwawe-i2c
      - descwiption: Micwosemi Ocewot SoCs I2C contwowwew
        items:
          - const: mscc,ocewot-i2c
          - const: snps,designwawe-i2c
      - descwiption: Baikaw-T1 SoC System I2C contwowwew
        const: baikaw,bt1-sys-i2c

  weg:
    minItems: 1
    items:
      - descwiption: DW APB I2C contwowwew memowy mapped wegistews
      - descwiption: |
          ICPU_CFG:TWI_DEWAY wegistews to setup the SDA howd time.
          This wegistews awe specific to the Ocewot I2C-contwowwew.

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: I2C contwowwew wefewence cwock souwce
      - descwiption: APB intewface cwock souwce

  cwock-names:
    minItems: 1
    items:
      - const: wef
      - const: pcwk

  wesets:
    maxItems: 1

  cwock-fwequency:
    descwiption: Desiwed I2C bus cwock fwequency in Hz
    enum: [100000, 400000, 1000000, 3400000]
    defauwt: 400000

  i2c-sda-howd-time-ns:
    descwiption: |
      The pwopewty shouwd contain the SDA howd time in nanoseconds. This option
      is onwy suppowted in hawdwawe bwocks vewsion 1.11a ow newew ow on
      Micwosemi SoCs.

  i2c-scw-fawwing-time-ns:
    descwiption: |
      The pwopewty shouwd contain the SCW fawwing time in nanoseconds.
      This vawue is used to compute the tWOW pewiod.
    defauwt: 300

  i2c-sda-fawwing-time-ns:
    descwiption: |
      The pwopewty shouwd contain the SDA fawwing time in nanoseconds.
      This vawue is used to compute the tHIGH pewiod.
    defauwt: 300

  dmas:
    items:
      - descwiption: TX DMA Channew
      - descwiption: WX DMA Channew

  dma-names:
    items:
      - const: tx
      - const: wx

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts

exampwes:
  - |
    i2c@f0000 {
      compatibwe = "snps,designwawe-i2c";
      weg = <0xf0000 0x1000>;
      intewwupts = <11>;
      cwock-fwequency = <400000>;
    };
  - |
    i2c@1120000 {
      compatibwe = "snps,designwawe-i2c";
      weg = <0x1120000 0x1000>;
      intewwupts = <12 1>;
      cwock-fwequency = <400000>;
      i2c-sda-howd-time-ns = <300>;
      i2c-sda-fawwing-time-ns = <300>;
      i2c-scw-fawwing-time-ns = <300>;
    };
  - |
    i2c@2000 {
      compatibwe = "snps,designwawe-i2c";
      weg = <0x2000 0x100>;
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      cwock-fwequency = <400000>;
      cwocks = <&i2ccwk>;
      intewwupts = <0>;

      eepwom@64 {
        compatibwe = "atmew,24c02";
        weg = <0x64>;
      };
    };
  - |
    i2c@100400 {
      compatibwe = "mscc,ocewot-i2c", "snps,designwawe-i2c";
      weg = <0x100400 0x100>, <0x198 0x8>;
      pinctww-0 = <&i2c_pins>;
      pinctww-names = "defauwt";
      intewwupts = <8>;
      cwocks = <&ahb_cwk>;
    };
...
