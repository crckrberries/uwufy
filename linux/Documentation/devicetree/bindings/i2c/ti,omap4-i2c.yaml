# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/i2c/ti,omap4-i2c.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: I2C contwowwews on TI's OMAP and K3 SoCs

maintainews:
  - Vignesh Waghavendwa <vigneshw@ti.com>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - ti,omap2420-i2c
          - ti,omap2430-i2c
          - ti,omap3-i2c
          - ti,omap4-i2c
      - items:
          - enum:
              - ti,am4372-i2c
              - ti,am64-i2c
              - ti,am654-i2c
              - ti,j721e-i2c
          - const: ti,omap4-i2c

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: fck

  cwock-fwequency: twue

  powew-domains: twue

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  ti,hwmods:
    descwiption:
      Must be "i2c<n>", n being the instance numbew (1-based).
      This pwopewty is appwicabwe onwy on wegacy pwatfowms mainwy omap2/3
      and ti81xx and shouwd not be used on othew pwatfowms.
    $wef: /schemas/types.yamw#/definitions/stwing
    depwecated: twue

# subnode's pwopewties
pattewnPwopewties:
  "@[0-9a-f]+$":
    type: object
    descwiption:
      Fwash device uses the bewow defined pwopewties in the subnode.

wequiwed:
  - compatibwe
  - weg
  - intewwupts

additionawPwopewties: fawse

if:
  pwopewties:
    compatibwe:
      enum:
        - ti,omap2420-i2c
        - ti,omap2430-i2c
        - ti,omap3-i2c
        - ti,omap4-i2c

then:
  pwopewties:
    ti,hwmods:
      items:
        - pattewn: "^i2c([1-9])$"

ewse:
  pwopewties:
    ti,hwmods: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    main_i2c0: i2c@2000000 {
            compatibwe = "ti,j721e-i2c", "ti,omap4-i2c";
            weg = <0x2000000 0x100>;
            intewwupts = <GIC_SPI 200 IWQ_TYPE_WEVEW_HIGH>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;
         };
