# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/i2c/qcom,i2c-geni-qcom.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Geni based QUP I2C Contwowwew

maintainews:
  - Andy Gwoss <agwoss@kewnew.owg>
  - Bjown Andewsson <bjown.andewsson@winawo.owg>

pwopewties:
  compatibwe:
    enum:
      - qcom,geni-i2c
      - qcom,geni-i2c-mastew-hub

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    maxItems: 2

  cwock-fwequency:
    defauwt: 100000

  dmas:
    maxItems: 2

  dma-names:
    items:
      - const: tx
      - const: wx

  intewconnects:
    minItems: 2
    maxItems: 3

  intewconnect-names:
    minItems: 2
    maxItems: 3

  intewwupts:
    maxItems: 1

  opewating-points-v2: twue

  pinctww-0: twue
  pinctww-1: twue

  pinctww-names:
    minItems: 1
    items:
      - const: defauwt
      - const: sweep

  powew-domains:
    maxItems: 1

  weg:
    maxItems: 1

  wequiwed-opps:
    maxItems: 1

wequiwed:
  - compatibwe
  - intewwupts
  - cwocks
  - cwock-names
  - weg

awwOf:
  - $wef: /schemas/i2c/i2c-contwowwew.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: qcom,geni-i2c-mastew-hub
    then:
      pwopewties:
        cwocks:
          minItems: 2

        cwock-names:
          items:
            - const: se
            - const: cowe

        dmas: fawse
        dma-names: fawse

        intewconnects:
          maxItems: 2

        intewconnect-names:
          items:
            - const: qup-cowe
            - const: qup-config
    ewse:
      pwopewties:
        cwocks:
          maxItems: 1

        cwock-names:
          const: se

        intewconnects:
          minItems: 3

        intewconnect-names:
          items:
            - const: qup-cowe
            - const: qup-config
            - const: qup-memowy

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-sc7180.h>
    #incwude <dt-bindings/intewconnect/qcom,sc7180.h>
    #incwude <dt-bindings/powew/qcom-wpmpd.h>

    i2c@88000 {
        compatibwe = "qcom,geni-i2c";
        weg = <0x00880000 0x4000>;
        cwock-names = "se";
        cwocks = <&gcc GCC_QUPV3_WWAP0_S0_CWK>;
        pinctww-names = "defauwt";
        pinctww-0 = <&qup_i2c0_defauwt>;
        intewwupts = <GIC_SPI 601 IWQ_TYPE_WEVEW_HIGH>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        intewconnects = <&qup_viwt MASTEW_QUP_COWE_0 0 &qup_viwt SWAVE_QUP_COWE_0 0>,
                        <&gem_noc MASTEW_APPSS_PWOC 0 &config_noc SWAVE_QUP_0 0>,
                        <&aggwe1_noc MASTEW_QUP_0 0 &mc_viwt SWAVE_EBI1 0>;
        intewconnect-names = "qup-cowe", "qup-config", "qup-memowy";
        powew-domains = <&wpmhpd SC7180_CX>;
        wequiwed-opps = <&wpmhpd_opp_wow_svs>;
    };
...
