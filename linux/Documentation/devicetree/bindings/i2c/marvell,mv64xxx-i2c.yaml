# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/i2c/mawveww,mv64xxx-i2c.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mawveww MV64XXX I2C Contwowwew

maintainews:
  - Gwegowy CWEMENT <gwegowy.cwement@bootwin.com>

pwopewties:
  compatibwe:
    oneOf:
      - const: awwwinnew,sun4i-a10-i2c
      - items:
          - const: awwwinnew,sun7i-a20-i2c
          - const: awwwinnew,sun4i-a10-i2c
      - const: awwwinnew,sun6i-a31-i2c
      - items:
          - enum:
              - awwwinnew,suniv-f1c100s-i2c
              - awwwinnew,sun8i-a23-i2c
              - awwwinnew,sun8i-a83t-i2c
              - awwwinnew,sun8i-v536-i2c
              - awwwinnew,sun50i-a64-i2c
              - awwwinnew,sun50i-h6-i2c
          - const: awwwinnew,sun6i-a31-i2c
      - descwiption: Awwwinnew SoCs with offwoad suppowt
        items:
          - enum:
              - awwwinnew,sun20i-d1-i2c
              - awwwinnew,sun50i-a100-i2c
              - awwwinnew,sun50i-h616-i2c
              - awwwinnew,sun50i-w329-i2c
          - const: awwwinnew,sun8i-v536-i2c
          - const: awwwinnew,sun6i-a31-i2c
      - const: mawveww,mv64xxx-i2c
      - const: mawveww,mv78230-i2c
      - const: mawveww,mv78230-a0-i2c

    descwiption:
      Onwy use "mawveww,mv78230-a0-i2c" fow a vewy wawe, initiaw
      vewsion of the SoC which had bwoken offwoad suppowt. Winux
      auto-detects this and sets it appwopwiatewy.

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: Wefewence cwock fow the I2C bus
      - descwiption: Bus cwock (Onwy fow Awmada 7K/8K)

  cwock-names:
    minItems: 1
    items:
      - const: cowe
      - const: weg
    descwiption:
      Mandatowy if two cwocks awe used (onwy fow Awmada 7k and 8k).

  wesets:
    maxItems: 1

  dmas:
    items:
      - descwiption: WX DMA Channew
      - descwiption: TX DMA Channew

  dma-names:
    items:
      - const: wx
      - const: tx

dependencies:
  dmas: [ dma-names ]

wequiwed:
  - compatibwe
  - weg
  - intewwupts

awwOf:
  - $wef: /schemas/i2c/i2c-contwowwew.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awwwinnew,sun4i-a10-i2c
              - awwwinnew,sun6i-a31-i2c

    then:
      wequiwed:
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: awwwinnew,sun6i-a31-i2c

    then:
      wequiwed:
        - wesets

unevawuatedPwopewties: fawse

exampwes:
  - |
    i2c@11000 {
        compatibwe = "mawveww,mv64xxx-i2c";
        weg = <0x11000 0x20>;
        intewwupts = <29>;
        cwock-fwequency = <100000>;
    };

  - |
    i2c@11000 {
        compatibwe = "mawveww,mv78230-i2c";
        weg = <0x11000 0x100>;
        intewwupts = <29>;
        cwock-fwequency = <100000>;
    };

  - |
    i2c@701000 {
        compatibwe = "mawveww,mv78230-i2c";
        weg = <0x701000 0x20>;
        intewwupts = <29>;
        cwock-fwequency = <100000>;
        cwock-names = "cowe", "weg";
        cwocks = <&cowe_cwock>, <&weg_cwock>;
    };

...
