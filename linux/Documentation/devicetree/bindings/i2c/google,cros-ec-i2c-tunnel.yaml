# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---

$id: http://devicetwee.owg/schemas/i2c/googwe,cwos-ec-i2c-tunnew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: I2C bus that tunnews thwough the ChwomeOS EC (cwos-ec)

maintainews:
  - Doug Andewson <diandews@chwomium.owg>
  - Benson Weung <bweung@chwomium.owg>

descwiption: |
  On some ChwomeOS boawd designs we've got a connection to the EC
  (embedded contwowwew) but no diwect connection to some devices on the
  othew side of the EC (wike a battewy and PMIC).  To get access to
  those devices we need to tunnew ouw i2c commands thwough the EC.

  The node fow this device shouwd be undew a cwos-ec node wike
  googwe,cwos-ec-spi ow googwe,cwos-ec-i2c.

awwOf:
  - $wef: i2c-contwowwew.yamw#

pwopewties:
  compatibwe:
    const: googwe,cwos-ec-i2c-tunnew

  googwe,wemote-bus:
    descwiption: The EC bus we'd wike to tawk to.
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe
  - googwe,wemote-bus

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        cwos-ec@0 {
            compatibwe = "googwe,cwos-ec-spi";
            weg = <0>;
            spi-max-fwequency = <5000000>;
            intewwupts = <99 0>;

            i2c-tunnew {
                compatibwe = "googwe,cwos-ec-i2c-tunnew";
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                googwe,wemote-bus = <0>;

                battewy: sbs-battewy@b {
                    compatibwe = "sbs,sbs-battewy";
                    weg = <0xb>;
                    sbs,poww-wetwy-count = <1>;
                };
            };
        };
    };
