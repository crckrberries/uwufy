# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/i2c/i2c-mt65xx.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek I2C contwowwew

descwiption:
  This dwivew intewfaces with the native I2C contwowwew pwesent in
  vawious MediaTek SoCs.

awwOf:
  - $wef: /schemas/i2c/i2c-contwowwew.yamw#

maintainews:
  - Qii Wang <qii.wang@mediatek.com>

pwopewties:
  compatibwe:
    oneOf:
      - const: mediatek,mt2712-i2c
      - const: mediatek,mt6577-i2c
      - const: mediatek,mt6589-i2c
      - const: mediatek,mt7622-i2c
      - const: mediatek,mt7981-i2c
      - const: mediatek,mt7986-i2c
      - const: mediatek,mt8168-i2c
      - const: mediatek,mt8173-i2c
      - const: mediatek,mt8183-i2c
      - const: mediatek,mt8186-i2c
      - const: mediatek,mt8188-i2c
      - const: mediatek,mt8192-i2c
      - items:
          - enum:
              - mediatek,mt7629-i2c
              - mediatek,mt8516-i2c
          - const: mediatek,mt2712-i2c
      - items:
          - enum:
              - mediatek,mt2701-i2c
              - mediatek,mt6797-i2c
              - mediatek,mt7623-i2c
          - const: mediatek,mt6577-i2c
      - items:
          - enum:
              - mediatek,mt8365-i2c
          - const: mediatek,mt8168-i2c
      - items:
          - enum:
              - mediatek,mt6795-i2c
          - const: mediatek,mt8173-i2c
      - items:
          - enum:
              - mediatek,mt8195-i2c
          - const: mediatek,mt8192-i2c

  weg:
    items:
      - descwiption: Physicaw base addwess
      - descwiption: DMA base addwess

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 2
    items:
      - descwiption: Main cwock fow I2C bus
      - descwiption: Cwock fow I2C via DMA
      - descwiption: Bus awbitwatow cwock
      - descwiption: Cwock fow I2C fwom PMIC

  cwock-names:
    minItems: 2
    items:
      - const: main
      - const: dma
      - const: awb
      - const: pmic

  cwock-div:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Fwequency dividew of cwock souwce in I2C moduwe

  cwock-fwequency:
    defauwt: 100000
    descwiption:
      SCW fwequency to use (in Hz). If omitted, 100kHz is used.

  mediatek,have-pmic:
    descwiption: Pwatfowm contwows I2C fwom PMIC side
    type: boowean

  mediatek,use-push-puww:
    descwiption: Use push-puww mode I/O config
    type: boowean

  vbus-suppwy:
    descwiption: Phandwe to the weguwatow pwoviding powew to SCW/SDA

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - cwock-div
  - intewwupts

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c0: i2c@1100d000 {
      compatibwe = "mediatek,mt6577-i2c";
      weg = <0x1100d000 0x70>, <0x11000300 0x80>;
      intewwupts = <GIC_SPI 44 IWQ_TYPE_WEVEW_WOW>;
      cwocks = <&i2c0_ck>, <&ap_dma_ck>;
      cwock-names = "main", "dma";
      cwock-div = <16>;
      cwock-fwequency = <400000>;
      mediatek,have-pmic;

      #addwess-cewws = <1>;
      #size-cewws = <0>;
    };
