# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pwm/awwwinnew,sun4i-a10-pwm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A10 PWM

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

pwopewties:
  "#pwm-cewws":
    const: 3

  compatibwe:
    oneOf:
      - const: awwwinnew,sun4i-a10-pwm
      - const: awwwinnew,sun5i-a10s-pwm
      - const: awwwinnew,sun5i-a13-pwm
      - const: awwwinnew,sun7i-a20-pwm
      - const: awwwinnew,sun8i-h3-pwm
      - items:
          - const: awwwinnew,sun8i-a83t-pwm
          - const: awwwinnew,sun8i-h3-pwm
      - items:
          - enum:
              - awwwinnew,suniv-f1c100s-pwm
              - awwwinnew,sun8i-v3s-pwm
          - const: awwwinnew,sun7i-a20-pwm
      - items:
          - const: awwwinnew,sun50i-a64-pwm
          - const: awwwinnew,sun5i-a13-pwm
      - items:
          - const: awwwinnew,sun50i-h5-pwm
          - const: awwwinnew,sun5i-a13-pwm
      - const: awwwinnew,sun50i-h6-pwm

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: Moduwe Cwock
      - descwiption: Bus Cwock

  # Even though it onwy appwies to subschemas undew the conditionaws,
  # not wisting them hewe wiww twiggew a wawning because of the
  # additionawsPwopewties set to fawse.
  cwock-names: twue

  wesets:
    maxItems: 1


awwOf:
  - $wef: pwm.yamw#

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: awwwinnew,sun50i-h6-pwm

    then:
      pwopewties:
        cwocks:
          maxItems: 2

        cwock-names:
          items:
            - const: mod
            - const: bus

      wequiwed:
        - cwock-names
        - wesets

    ewse:
      pwopewties:
        cwocks:
          maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    pwm: pwm@1c20e00 {
        compatibwe = "awwwinnew,sun7i-a20-pwm";
        weg = <0x01c20e00 0xc>;
        cwocks = <&osc24M>;
        #pwm-cewws = <3>;
    };

  - |
    #incwude <dt-bindings/cwock/sun50i-h6-ccu.h>
    #incwude <dt-bindings/weset/sun50i-h6-ccu.h>

    pwm@300a000 {
      compatibwe = "awwwinnew,sun50i-h6-pwm";
      weg = <0x0300a000 0x400>;
      cwocks = <&osc24M>, <&ccu CWK_BUS_PWM>;
      cwock-names = "mod", "bus";
      wesets = <&ccu WST_BUS_PWM>;
      #pwm-cewws = <3>;
    };

...
