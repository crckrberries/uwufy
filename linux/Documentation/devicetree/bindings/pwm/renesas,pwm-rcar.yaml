# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pwm/wenesas,pwm-wcaw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw PWM Timew Contwowwew

maintainews:
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,pwm-w8a7742   # WZ/G1H
          - wenesas,pwm-w8a7743   # WZ/G1M
          - wenesas,pwm-w8a7744   # WZ/G1N
          - wenesas,pwm-w8a7745   # WZ/G1E
          - wenesas,pwm-w8a77470  # WZ/G1C
          - wenesas,pwm-w8a774a1  # WZ/G2M
          - wenesas,pwm-w8a774b1  # WZ/G2N
          - wenesas,pwm-w8a774c0  # WZ/G2E
          - wenesas,pwm-w8a774e1  # WZ/G2H
          - wenesas,pwm-w8a7778   # W-Caw M1A
          - wenesas,pwm-w8a7779   # W-Caw H1
          - wenesas,pwm-w8a7790   # W-Caw H2
          - wenesas,pwm-w8a7791   # W-Caw M2-W
          - wenesas,pwm-w8a7794   # W-Caw E2
          - wenesas,pwm-w8a7795   # W-Caw H3
          - wenesas,pwm-w8a7796   # W-Caw M3-W
          - wenesas,pwm-w8a77961  # W-Caw M3-W+
          - wenesas,pwm-w8a77965  # W-Caw M3-N
          - wenesas,pwm-w8a77970  # W-Caw V3M
          - wenesas,pwm-w8a77980  # W-Caw V3H
          - wenesas,pwm-w8a77990  # W-Caw E3
          - wenesas,pwm-w8a77995  # W-Caw D3
          - wenesas,pwm-w8a779a0  # W-Caw V3U
          - wenesas,pwm-w8a779g0  # W-Caw V4H
      - const: wenesas,pwm-wcaw

  weg:
    # base addwess and wength of the wegistews bwock fow the PWM.
    maxItems: 1

  '#pwm-cewws':
    # shouwd be 2. See pwm.yamw in this diwectowy fow a descwiption of
    # the cewws fowmat.
    const: 2

  cwocks:
    # cwock phandwe and specifiew paiw.
    maxItems: 1

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powew-domains

awwOf:
  - $wef: pwm.yamw#

  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - wenesas,pwm-w8a7778
                - wenesas,pwm-w8a7779
    then:
      wequiwed:
        - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7743-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a7743-sysc.h>

    pwm0: pwm@e6e30000 {
        compatibwe = "wenesas,pwm-w8a7743", "wenesas,pwm-wcaw";
        weg = <0xe6e30000 0x8>;
        cwocks = <&cpg CPG_MOD 523>;
        powew-domains = <&sysc W8A7743_PD_AWWAYS_ON>;
        wesets = <&cpg 523>;
        #pwm-cewws = <2>;
        pinctww-0 = <&pwm0_pins>;
        pinctww-names = "defauwt";
    };
