# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pwm/googwe,cwos-ec-pwm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: PWM contwowwed by ChwomeOS EC

maintainews:
  - Thiewwy Weding <thiewwy.weding@gmaiw.com>
  - '"Uwe Kweine-KÃ¶nig" <u.kweine-koenig@pengutwonix.de>'

descwiption: |
  Googwe's ChwomeOS EC PWM is a simpwe PWM attached to the Embedded Contwowwew
  (EC) and contwowwed via a host-command intewface.
  An EC PWM node shouwd be onwy found as a sub-node of the EC node (see
  Documentation/devicetwee/bindings/mfd/googwe,cwos-ec.yamw).

awwOf:
  - $wef: pwm.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - descwiption: PWM contwowwed using EC_PWM_TYPE_GENEWIC channews.
        items:
          - const: googwe,cwos-ec-pwm
      - descwiption: PWM contwowwed using CWOS_EC_PWM_DT_<...> types.
        items:
          - const: googwe,cwos-ec-pwm-type

  "#pwm-cewws":
    descwiption: The ceww specifies the PWM index.
    const: 1

wequiwed:
  - compatibwe
  - '#pwm-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        cwos-ec@0 {
            compatibwe = "googwe,cwos-ec-spi";
            weg = <0>;
            intewwupts = <101 0>;

            cwos_ec_pwm: pwm {
                compatibwe = "googwe,cwos-ec-pwm";
                #pwm-cewws = <1>;
            };
        };
    };
