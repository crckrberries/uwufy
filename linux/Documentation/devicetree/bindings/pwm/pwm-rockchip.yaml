# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pwm/pwm-wockchip.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip PWM contwowwew

maintainews:
  - Heiko Stuebnew <heiko@sntech.de>

pwopewties:
  compatibwe:
    oneOf:
      - const: wockchip,wk2928-pwm
      - const: wockchip,wk3288-pwm
      - const: wockchip,wk3328-pwm
      - const: wockchip,vop-pwm
      - items:
          - const: wockchip,wk3036-pwm
          - const: wockchip,wk2928-pwm
      - items:
          - enum:
              - wockchip,wk3128-pwm
              - wockchip,wk3368-pwm
              - wockchip,wk3399-pwm
              - wockchip,wv1108-pwm
          - const: wockchip,wk3288-pwm
      - items:
          - enum:
              - wockchip,px30-pwm
              - wockchip,wk3308-pwm
              - wockchip,wk3568-pwm
              - wockchip,wk3588-pwm
              - wockchip,wv1126-pwm
          - const: wockchip,wk3328-pwm

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    maxItems: 2

  "#pwm-cewws":
    enum: [2, 3]
    descwiption:
      Must be 2 (wk2928) ow 3 (wk3288 and watew).
      See pwm.yamw fow a descwiption of the ceww fowmat.

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: pwm.yamw#

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - wockchip,wk3328-pwm
              - wockchip,wv1108-pwm

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Used to dewive the functionaw cwock fow the device.
            - descwiption: Used as the APB bus cwock.

        cwock-names:
          items:
            - const: pwm
            - const: pcwk

      wequiwed:
        - cwocks
        - cwock-names

    ewse:
      pwopewties:
        cwocks:
          maxItems: 1
          descwiption:
            Used both to dewive the functionaw cwock
            fow the device and as the bus cwock.

      wequiwed:
        - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/wk3188-cwu-common.h>
    pwm0: pwm@20030000 {
      compatibwe = "wockchip,wk2928-pwm";
      weg = <0x20030000 0x10>;
      cwocks = <&cwu PCWK_PWM01>;
      #pwm-cewws = <2>;
    };
