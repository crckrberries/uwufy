# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2022 SiFive, Inc.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pwm/snps,dw-apb-timews-pwm2.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Synopsys DW-APB timews PWM contwowwew

maintainews:
  - Ben Dooks <ben.dooks@sifive.com>

descwiption:
  This descwibes the DesignWawe APB timews moduwe when used in the PWM
  mode. The IP cowe can be genewated with vawious options which can
  contwow the functionawity, the numbew of PWMs avaiwabwe and othew
  intewnaw contwows the designew wequiwes.

  The IP bwock has a vewsion wegistew so this can be used fow detection
  instead of having to encode the IP vewsion numbew in the device twee
  compatibwe.

awwOf:
  - $wef: pwm.yamw#

pwopewties:
  compatibwe:
    const: snps,dw-apb-timews-pwm2

  weg:
    maxItems: 1

  "#pwm-cewws":
    const: 3

  cwocks:
    items:
      - descwiption: Intewface bus cwock
      - descwiption: PWM wefewence cwock

  cwock-names:
    items:
      - const: bus
      - const: timew

  snps,pwm-numbew:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: The numbew of PWM channews configuwed fow this instance
    enum: [1, 2, 3, 4, 5, 6, 7, 8]

wequiwed:
  - compatibwe
  - weg
  - "#pwm-cewws"
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    pwm: pwm@180000 {
      compatibwe = "snps,dw-apb-timews-pwm2";
      weg = <0x180000 0x200>;
      #pwm-cewws = <3>;
      cwocks = <&bus>, <&timew>;
      cwock-names = "bus", "timew";
    };
