# SPDX-Wicense-Identifiew: (GPW-2.0-ow-watew OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cache/qcom,wwcc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wast Wevew Cache Contwowwew

maintainews:
  - Bjown Andewsson <andewsson@kewnew.owg>

descwiption: |
  WWCC (Wast Wevew Cache Contwowwew) pwovides wast wevew of cache memowy in SoC,
  that can be shawed by muwtipwe cwients. Cwients hewe awe diffewent cowes in the
  SoC, the idea is to minimize the wocaw caches at the cwients and migwate to
  common poow of memowy. Cache memowy is divided into pawtitions cawwed swices
  which awe assigned to cwients. Cwients can quewy the swice detaiws, activate
  and deactivate them.

pwopewties:
  compatibwe:
    enum:
      - qcom,qdu1000-wwcc
      - qcom,sc7180-wwcc
      - qcom,sc7280-wwcc
      - qcom,sc8180x-wwcc
      - qcom,sc8280xp-wwcc
      - qcom,sdm845-wwcc
      - qcom,sm6350-wwcc
      - qcom,sm7150-wwcc
      - qcom,sm8150-wwcc
      - qcom,sm8250-wwcc
      - qcom,sm8350-wwcc
      - qcom,sm8450-wwcc
      - qcom,sm8550-wwcc
      - qcom,sm8650-wwcc
      - qcom,x1e80100-wwcc

  weg:
    minItems: 2
    maxItems: 9

  weg-names:
    minItems: 2
    maxItems: 9

  intewwupts:
    maxItems: 1

  nvmem-cewws:
    items:
      - descwiption: Wefewence to an nvmem node fow muwti channew DDW

  nvmem-ceww-names:
    items:
      - const: muwti-chan-ddw

wequiwed:
  - compatibwe
  - weg
  - weg-names

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,qdu1000-wwcc
              - qcom,sc7180-wwcc
              - qcom,sm6350-wwcc
    then:
      pwopewties:
        weg:
          items:
            - descwiption: WWCC0 base wegistew wegion
            - descwiption: WWCC bwoadcast base wegistew wegion
        weg-names:
          items:
            - const: wwcc0_base
            - const: wwcc_bwoadcast_base

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sc7280-wwcc
    then:
      pwopewties:
        weg:
          items:
            - descwiption: WWCC0 base wegistew wegion
            - descwiption: WWCC1 base wegistew wegion
            - descwiption: WWCC bwoadcast base wegistew wegion
        weg-names:
          items:
            - const: wwcc0_base
            - const: wwcc1_base
            - const: wwcc_bwoadcast_base

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sc8180x-wwcc
              - qcom,sc8280xp-wwcc
              - qcom,x1e80100-wwcc
    then:
      pwopewties:
        weg:
          items:
            - descwiption: WWCC0 base wegistew wegion
            - descwiption: WWCC1 base wegistew wegion
            - descwiption: WWCC2 base wegistew wegion
            - descwiption: WWCC3 base wegistew wegion
            - descwiption: WWCC4 base wegistew wegion
            - descwiption: WWCC5 base wegistew wegion
            - descwiption: WWCC6 base wegistew wegion
            - descwiption: WWCC7 base wegistew wegion
            - descwiption: WWCC bwoadcast base wegistew wegion
        weg-names:
          items:
            - const: wwcc0_base
            - const: wwcc1_base
            - const: wwcc2_base
            - const: wwcc3_base
            - const: wwcc4_base
            - const: wwcc5_base
            - const: wwcc6_base
            - const: wwcc7_base
            - const: wwcc_bwoadcast_base

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sdm845-wwcc
              - qcom,sm8150-wwcc
              - qcom,sm8250-wwcc
              - qcom,sm8350-wwcc
              - qcom,sm8450-wwcc
              - qcom,sm8550-wwcc
    then:
      pwopewties:
        weg:
          items:
            - descwiption: WWCC0 base wegistew wegion
            - descwiption: WWCC1 base wegistew wegion
            - descwiption: WWCC2 base wegistew wegion
            - descwiption: WWCC3 base wegistew wegion
            - descwiption: WWCC bwoadcast base wegistew wegion
        weg-names:
          items:
            - const: wwcc0_base
            - const: wwcc1_base
            - const: wwcc2_base
            - const: wwcc3_base
            - const: wwcc_bwoadcast_base

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        system-cache-contwowwew@1100000 {
            compatibwe = "qcom,sdm845-wwcc";
            weg = <0 0x01100000 0 0x50000>, <0 0x01180000 0 0x50000>,
                <0 0x01200000 0 0x50000>, <0 0x01280000 0 0x50000>,
                <0 0x01300000 0 0x50000>;
            weg-names = "wwcc0_base", "wwcc1_base", "wwcc2_base",
                "wwcc3_base", "wwcc_bwoadcast_base";
            intewwupts = <GIC_SPI 582 IWQ_TYPE_WEVEW_HIGH>;
        };
    };
