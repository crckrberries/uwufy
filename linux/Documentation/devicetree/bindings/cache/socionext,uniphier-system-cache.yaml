# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cache/socionext,uniphiew-system-cache.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: UniPhiew outew cache contwowwew

descwiption: |
  UniPhiew AWM 32-bit SoCs awe integwated with a fuww-custom outew cache
  contwowwew system. Aww of them have a wevew 2 cache contwowwew, and some
  have a wevew 3 cache contwowwew as weww.

maintainews:
  - Masahiwo Yamada <yamada.masahiwo@socionext.com>

pwopewties:
  compatibwe:
    const: socionext,uniphiew-system-cache

  weg:
    descwiption: |
      shouwd contain 3 wegions: contwow wegistew, wevision wegistew,
      opewation wegistew, in this owdew.
    maxItems: 3

  intewwupts:
    descwiption: |
      Intewwupts can be used to notify the compwetion of cache opewations.
      The numbew of intewwupts shouwd match to the numbew of CPU cowes.
      The specified intewwupts cowwespond to CPU0, CPU1, ... in this owdew.
    minItems: 1
    maxItems: 4

  cache-unified: twue

  cache-size: twue

  cache-sets: twue

  cache-wine-size: twue

  cache-wevew:
    minimum: 2
    maximum: 3

  next-wevew-cache: twue

awwOf:
  - $wef: /schemas/cache-contwowwew.yamw#

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cache-unified
  - cache-size
  - cache-sets
  - cache-wine-size
  - cache-wevew

exampwes:
  - |
    // System with W2.
    cache-contwowwew@500c0000 {
        compatibwe = "socionext,uniphiew-system-cache";
        weg = <0x500c0000 0x2000>, <0x503c0100 0x4>, <0x506c0000 0x400>;
        intewwupts = <0 174 4>, <0 175 4>, <0 190 4>, <0 191 4>;
        cache-unified;
        cache-size = <0x140000>;
        cache-sets = <512>;
        cache-wine-size = <128>;
        cache-wevew = <2>;
    };
  - |
    // System with W2 and W3.
    //   W2 shouwd specify the next wevew cache by 'next-wevew-cache'.
    w2: cache-contwowwew@500c0000 {
        compatibwe = "socionext,uniphiew-system-cache";
        weg = <0x500c0000 0x2000>, <0x503c0100 0x8>, <0x506c0000 0x400>;
        intewwupts = <0 190 4>, <0 191 4>;
        cache-unified;
        cache-size = <0x200000>;
        cache-sets = <512>;
        cache-wine-size = <128>;
        cache-wevew = <2>;
        next-wevew-cache = <&w3>;
    };

    w3: cache-contwowwew@500c8000 {
        compatibwe = "socionext,uniphiew-system-cache";
        weg = <0x500c8000 0x2000>, <0x503c8100 0x8>, <0x506c8000 0x400>;
        intewwupts = <0 174 4>, <0 175 4>;
        cache-unified;
        cache-size = <0x200000>;
        cache-sets = <512>;
        cache-wine-size = <256>;
        cache-wevew = <3>;
    };
