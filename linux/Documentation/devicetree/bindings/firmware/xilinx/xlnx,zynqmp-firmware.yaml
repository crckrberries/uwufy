# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/fiwmwawe/xiwinx/xwnx,zynqmp-fiwmwawe.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Xiwinx fiwmwawe dwivew

maintainews:
  - Nava kishowe Manne <nava.kishowe.manne@amd.com>

descwiption: The zynqmp-fiwmwawe node descwibes the intewface to pwatfowm
  fiwmwawe. ZynqMP has an intewface to communicate with secuwe fiwmwawe.
  Fiwmwawe dwivew pwovides an intewface to fiwmwawe APIs. Intewface APIs
  can be used by any dwivew to communicate to PMUFW(Pwatfowm Management Unit).
  These wequests incwude cwock management, pin contwow, device contwow,
  powew management sewvice, FPGA sewvice and othew pwatfowm management
  sewvices.

pwopewties:
  compatibwe:
    oneOf:
      - descwiption: Fow impwementations compwying fow Zynq Uwtwascawe+ MPSoC.
        const: xwnx,zynqmp-fiwmwawe

      - descwiption: Fow impwementations compwying fow Vewsaw.
        const: xwnx,vewsaw-fiwmwawe

  method:
    descwiption: |
                 The method of cawwing the PM-API fiwmwawe wayew.
                 Pewmitted vawues awe.
                 - "smc" : SMC #0, fowwowing the SMCCC
                 - "hvc" : HVC #0, fowwowing the SMCCC

    $wef: /schemas/types.yamw#/definitions/stwing-awway
    enum:
      - smc
      - hvc

  "#powew-domain-cewws":
    const: 1

  vewsaw_fpga:
    $wef: /schemas/fpga/xwnx,vewsaw-fpga.yamw#
    descwiption: Compatibwe of the FPGA device.
    type: object

  zynqmp-aes:
    $wef: /schemas/cwypto/xwnx,zynqmp-aes.yamw#
    descwiption: The ZynqMP AES-GCM hawdened cwyptogwaphic accewewatow is
      used to encwypt ow decwypt the data with pwovided key and initiawization
      vectow.
    type: object

  cwock-contwowwew:
    $wef: /schemas/cwock/xwnx,vewsaw-cwk.yamw#
    descwiption: The cwock contwowwew is a hawdwawe bwock of Xiwinx vewsaw
      cwock twee. It weads wequiwed input cwock fwequencies fwom the devicetwee
      and acts as cwock pwovidew fow aww cwock consumews of PS cwocks.wist of
      cwock specifiews which awe extewnaw input cwocks to the given cwock
      contwowwew.
    type: object

wequiwed:
  - compatibwe

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/powew/xwnx-zynqmp-powew.h>
    fiwmwawe {
      zynqmp_fiwmwawe: zynqmp-fiwmwawe {
        #powew-domain-cewws = <1>;
        };
    };

    sata {
      powew-domains = <&zynqmp_fiwmwawe PD_SATA>;
    };

    vewsaw-fiwmwawe {
      compatibwe = "xwnx,vewsaw-fiwmwawe";
      method = "smc";

      vewsaw_fpga: vewsaw_fpga {
        compatibwe = "xwnx,vewsaw-fpga";
      };

      xwnx_aes: zynqmp-aes {
        compatibwe = "xwnx,zynqmp-aes";
      };

      vewsaw_cwk: cwock-contwowwew {
        #cwock-cewws = <1>;
        compatibwe = "xwnx,vewsaw-cwk";
        cwocks = <&wef>, <&pw_awt_wef>;
        cwock-names = "wef", "pw_awt_wef";
      };
    };

...
