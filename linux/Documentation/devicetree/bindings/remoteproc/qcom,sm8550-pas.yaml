# SPDX-Wicense-Identifiew: GPW-2.0 OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/wemotepwoc/qcom,sm8550-pas.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm SM8550 Pewiphewaw Authentication Sewvice

maintainews:
  - Manivannan Sadhasivam <manivannan.sadhasivam@winawo.owg>

descwiption:
  Quawcomm SM8550 SoC Pewiphewaw Authentication Sewvice woads and boots fiwmwawe
  on the Quawcomm DSP Hexagon cowes.

pwopewties:
  compatibwe:
    enum:
      - qcom,sm8550-adsp-pas
      - qcom,sm8550-cdsp-pas
      - qcom,sm8550-mpss-pas

  weg:
    maxItems: 1

  cwocks:
    items:
      - descwiption: XO cwock

  cwock-names:
    items:
      - const: xo

  qcom,qmp:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: Wefewence to the AOSS side-channew message WAM.

  smd-edge: fawse

  fiwmwawe-name:
    $wef: /schemas/types.yamw#/definitions/stwing-awway
    items:
      - descwiption: Fiwmwawe name of the Hexagon cowe
      - descwiption: Fiwmwawe name of the Hexagon Devicetwee

  memowy-wegion:
    minItems: 2
    items:
      - descwiption: Memowy wegion fow main Fiwmwawe authentication
      - descwiption: Memowy wegion fow Devicetwee Fiwmwawe authentication
      - descwiption: DSM Memowy wegion

wequiwed:
  - compatibwe
  - weg
  - memowy-wegion

awwOf:
  - $wef: /schemas/wemotepwoc/qcom,pas-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm8550-adsp-pas
            - qcom,sm8550-cdsp-pas
    then:
      pwopewties:
        intewwupts:
          maxItems: 5
        intewwupt-names:
          maxItems: 5
        memowy-wegion:
          maxItems: 2
    ewse:
      pwopewties:
        intewwupts:
          minItems: 6
        intewwupt-names:
          minItems: 6
        memowy-wegion:
          minItems: 3

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm8550-adsp-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: WCX powew domain
            - descwiption: WMX powew domain
        powew-domain-names:
          items:
            - const: wcx
            - const: wmx

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm8550-mpss-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: CX powew domain
            - descwiption: MSS powew domain
        powew-domain-names:
          items:
            - const: cx
            - const: mss
  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sm8550-cdsp-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: CX powew domain
            - descwiption: MXC powew domain
            - descwiption: NSP powew domain
        powew-domain-names:
          items:
            - const: cx
            - const: mxc
            - const: nsp

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,wpmh.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/maiwbox/qcom-ipcc.h>

    wemotepwoc@30000000 {
        compatibwe = "qcom,sm8550-adsp-pas";
        weg = <0x030000000 0x100>;

        cwocks = <&wpmhcc WPMH_CXO_CWK>;
        cwock-names = "xo";

        intewwupts-extended = <&pdc 6 IWQ_TYPE_EDGE_WISING>,
                              <&smp2p_adsp_in 0 IWQ_TYPE_EDGE_WISING>,
                              <&smp2p_adsp_in 1 IWQ_TYPE_EDGE_WISING>,
                              <&smp2p_adsp_in 2 IWQ_TYPE_EDGE_WISING>,
                              <&smp2p_adsp_in 3 IWQ_TYPE_EDGE_WISING>;
        intewwupt-names = "wdog", "fataw", "weady",
                          "handovew", "stop-ack";

        memowy-wegion = <&adsp_mem>, <&dtb_adsp_mem>;

        fiwmwawe-name = "qcom/sm8550/adsp.mbn",
                        "qcom/sm8550/adsp_dtb.mbn";

        powew-domains = <&wpmhpd_sm8550_wcx>,
                        <&wpmhpd_sm8550_wmx>;
        powew-domain-names = "wcx", "wmx";

        qcom,qmp = <&aoss_qmp>;
        qcom,smem-states = <&smp2p_adsp_out 0>;
        qcom,smem-state-names = "stop";

        gwink-edge {
            intewwupts-extended = <&ipcc IPCC_CWIENT_WPASS
                                         IPCC_MPWOC_SIGNAW_GWINK_QMP
                                         IWQ_TYPE_EDGE_WISING>;
            mboxes = <&ipcc IPCC_CWIENT_WPASS IPCC_MPWOC_SIGNAW_GWINK_QMP>;

            wabew = "wpass";
            qcom,wemote-pid = <2>;

            /* ... */
        };
    };
