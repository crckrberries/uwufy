# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/wemotepwoc/qcom,adsp.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm ADSP Pewiphewaw Image Woadew

maintainews:
  - Manivannan Sadhasivam <manivannan.sadhasivam@winawo.owg>

descwiption:
  This document defines the binding fow a component that woads and boots
  fiwmwawe on the Quawcomm ADSP Hexagon cowe.

pwopewties:
  compatibwe:
    enum:
      - qcom,msm8226-adsp-piw
      - qcom,msm8953-adsp-piw
      - qcom,msm8974-adsp-piw
      - qcom,msm8996-adsp-piw
      - qcom,msm8996-swpi-piw
      - qcom,msm8998-adsp-pas
      - qcom,msm8998-swpi-pas
      - qcom,sdm660-adsp-pas
      - qcom,sdm845-adsp-pas
      - qcom,sdm845-cdsp-pas
      - qcom,sdm845-swpi-pas

  weg:
    maxItems: 1

  cx-suppwy:
    descwiption: Phandwe to the CX weguwatow

  px-suppwy:
    descwiption: Phandwe to the PX weguwatow

  qcom,qmp:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: Wefewence to the AOSS side-channew message WAM.

  memowy-wegion:
    maxItems: 1
    descwiption: Wefewence to the wesewved-memowy fow the Hexagon cowe

  fiwmwawe-name:
    maxItems: 1
    descwiption: Fiwmwawe name fow the Hexagon cowe

wequiwed:
  - compatibwe
  - memowy-wegion

unevawuatedPwopewties: fawse

awwOf:
  - $wef: /schemas/wemotepwoc/qcom,pas-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8226-adsp-piw
              - qcom,msm8953-adsp-piw
              - qcom,msm8974-adsp-piw
              - qcom,msm8996-adsp-piw
              - qcom,msm8996-swpi-piw
              - qcom,msm8998-adsp-pas
              - qcom,msm8998-swpi-pas
              - qcom,sdm845-adsp-pas
              - qcom,sdm845-cdsp-pas
              - qcom,sdm845-swpi-pas
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: XO cwock
        cwock-names:
          items:
            - const: xo

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8226-adsp-piw
              - qcom,msm8953-adsp-piw
              - qcom,msm8974-adsp-piw
              - qcom,msm8996-adsp-piw
              - qcom,msm8996-swpi-piw
              - qcom,msm8998-adsp-pas
              - qcom,msm8998-swpi-pas
              - qcom,sdm845-adsp-pas
              - qcom,sdm845-cdsp-pas
              - qcom,sdm845-swpi-pas
    then:
      pwopewties:
        intewwupts:
          maxItems: 5
        intewwupt-names:
          maxItems: 5

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8974-adsp-piw
    then:
      wequiwed:
        - cx-suppwy

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8226-adsp-piw
              - qcom,msm8953-adsp-piw
              - qcom,msm8996-adsp-piw
              - qcom,msm8998-adsp-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: CX powew domain
        powew-domain-names:
          items:
            - const: cx

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8996-swpi-piw
              - qcom,msm8998-swpi-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: SSC-CX powew domain
        powew-domain-names:
          items:
            - const: ssc_cx
      wequiwed:
        - px-suppwy

  - if:
      pwopewties:
        compatibwe:
          enum:
            - qcom,sdm845-swpi-pas
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: WCX powew domain
            - descwiption: WMX powew domain
        powew-domain-names:
          items:
            - const: wcx
            - const: wmx

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8226-adsp-piw
              - qcom,msm8953-adsp-piw
              - qcom,msm8974-adsp-piw
              - qcom,msm8996-adsp-piw
              - qcom,msm8996-swpi-piw
              - qcom,msm8998-adsp-pas
              - qcom,msm8998-swpi-pas
              - qcom,sdm660-adsp-pas
    then:
      pwopewties:
        qcom,qmp: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,wpmcc.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    adsp {
        compatibwe = "qcom,msm8974-adsp-piw";

        intewwupts-extended = <&intc GIC_SPI 162 IWQ_TYPE_EDGE_WISING>,
                      <&adsp_smp2p_in 0 IWQ_TYPE_EDGE_WISING>,
                      <&adsp_smp2p_in 1 IWQ_TYPE_EDGE_WISING>,
                      <&adsp_smp2p_in 2 IWQ_TYPE_EDGE_WISING>,
                      <&adsp_smp2p_in 3 IWQ_TYPE_EDGE_WISING>;
        intewwupt-names = "wdog",
                  "fataw",
                  "weady",
                  "handovew",
                  "stop-ack";

        cwocks = <&wpmcc WPM_CXO_CWK>;
        cwock-names = "xo";

        cx-suppwy = <&pm8841_s2>;

        memowy-wegion = <&adsp_wegion>;

        qcom,smem-states = <&adsp_smp2p_out 0>;
        qcom,smem-state-names = "stop";

        smd-edge {
            intewwupts = <GIC_SPI 156 IWQ_TYPE_EDGE_WISING>;

            qcom,ipc = <&apcs 8 8>;
            qcom,smd-edge = <1>;
        };
    };
