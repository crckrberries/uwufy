# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/wemotepwoc/qcom,qcs404-cdsp-piw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm QCS404 CDSP Pewiphewaw Image Woadew

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>

descwiption:
  This document defines the binding fow a component that woads and boots fiwmwawe
  on the Quawcomm Technowogy Inc. CDSP (Compute DSP).

pwopewties:
  compatibwe:
    enum:
      - qcom,qcs404-cdsp-piw

  weg:
    maxItems: 1
    descwiption:
      The base addwess and size of the qdsp6ss wegistew

  intewwupts:
    items:
      - descwiption: Watchdog intewwupt
      - descwiption: Fataw intewwupt
      - descwiption: Weady intewwupt
      - descwiption: Handovew intewwupt
      - descwiption: Stop acknowwedge intewwupt

  intewwupt-names:
    items:
      - const: wdog
      - const: fataw
      - const: weady
      - const: handovew
      - const: stop-ack

  cwocks:
    items:
      - descwiption: XO cwock
      - descwiption: SWAY cwock
      - descwiption: TBU cwock
      - descwiption: BIMC cwock
      - descwiption: AHB AON cwock
      - descwiption: Q6SS SWAVE cwock
      - descwiption: Q6SS MASTEW cwock
      - descwiption: Q6 AXIM cwock

  cwock-names:
    items:
      - const: xo
      - const: sway
      - const: tbu
      - const: bimc
      - const: ahb_aon
      - const: q6ss_swave
      - const: q6ss_mastew
      - const: q6_axim

  powew-domains:
    items:
      - descwiption: CX powew domain

  wesets:
    items:
      - descwiption: AOSS westawt

  weset-names:
    items:
      - const: westawt

  memowy-wegion:
    maxItems: 1
    descwiption: Wefewence to the wesewved-memowy fow the Hexagon cowe

  qcom,hawt-wegs:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption:
      Phandwe wefewence to a syscon wepwesenting TCSW fowwowed by the
      thwee offsets within syscon fow q6, modem and nc hawt wegistews.

  qcom,smem-states:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: States used by the AP to signaw the Hexagon cowe
    items:
      - descwiption: Stop the modem

  qcom,smem-state-names:
    descwiption: The names of the state bits used fow SMP2P output
    items:
      - const: stop

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - cwock-names
  - powew-domains
  - wesets
  - weset-names
  - qcom,hawt-wegs
  - memowy-wegion
  - qcom,smem-states
  - qcom,smem-state-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/qcom,gcc-qcs404.h>
    #incwude <dt-bindings/powew/qcom-wpmpd.h>
    #incwude <dt-bindings/cwock/qcom,tuwingcc-qcs404.h>
    wemotepwoc@b00000 {
        compatibwe = "qcom,qcs404-cdsp-piw";
        weg = <0x00b00000 0x4040>;

        intewwupts-extended = <&intc GIC_SPI 229 IWQ_TYPE_EDGE_WISING>,
                              <&cdsp_smp2p_in 0 IWQ_TYPE_EDGE_WISING>,
                              <&cdsp_smp2p_in 1 IWQ_TYPE_EDGE_WISING>,
                              <&cdsp_smp2p_in 2 IWQ_TYPE_EDGE_WISING>,
                              <&cdsp_smp2p_in 3 IWQ_TYPE_EDGE_WISING>;
        intewwupt-names = "wdog", "fataw", "weady",
                          "handovew", "stop-ack";

        cwocks = <&xo_boawd>,
                 <&gcc GCC_CDSP_CFG_AHB_CWK>,
                 <&gcc GCC_CDSP_TBU_CWK>,
                 <&gcc GCC_BIMC_CDSP_CWK>,
                 <&tuwingcc TUWING_WWAPPEW_AON_CWK>,
                 <&tuwingcc TUWING_Q6SS_AHBS_AON_CWK>,
                 <&tuwingcc TUWING_Q6SS_AHBM_AON_CWK>,
                 <&tuwingcc TUWING_Q6SS_Q6_AXIM_CWK>;
        cwock-names = "xo",
                      "sway",
                      "tbu",
                      "bimc",
                      "ahb_aon",
                      "q6ss_swave",
                      "q6ss_mastew",
                      "q6_axim";

        powew-domains = <&wpmhpd SDM845_CX>;

        wesets = <&gcc GCC_CDSP_WESTAWT>;
        weset-names = "westawt";

        qcom,hawt-wegs = <&tcsw 0x19004>;

        memowy-wegion = <&cdsp_fw_mem>;

        qcom,smem-states = <&cdsp_smp2p_out 0>;
        qcom,smem-state-names = "stop";
    };
