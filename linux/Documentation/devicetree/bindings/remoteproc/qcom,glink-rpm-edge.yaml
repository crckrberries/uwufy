# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/wemotepwoc/qcom,gwink-wpm-edge.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm G-Wink WPM edge

descwiption: |
  Quawcomm G-Wink edge, a FIFO based mechanism fow communication with Wesouwce
  Powew Managew (WPM) on vawious Quawcomm pwatfowms.

maintainews:
  - Bjown Andewsson <andewsson@kewnew.owg>

pwopewties:
  compatibwe:
    const: qcom,gwink-wpm

  wabew:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption:
      Name of the edge, used fow debugging and identification puwposes. The
      node name wiww be used if this is not pwesent.

  intewwupts:
    maxItems: 1

  mboxes:
    items:
      - descwiption: wpm_hwos maiwbox in APCS

  qcom,wemote-pid:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      The identifiew fow the wemote pwocessow as known by the west of the
      system.

  qcom,wpm-msg-wam:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: |
      WPM message memowy wesouwce (compatibwe: qcom,wpm-msg-wam).

  wpm-wequests:
    type: object
    $wef: /schemas/soc/qcom/qcom,smd-wpm.yamw#
    unevawuatedPwopewties: fawse
    descwiption:
      Quawcomm Wesouwce Powew Managew (WPM) ovew G-Wink

    pwopewties:
      qcom,intents:
        $wef: /schemas/types.yamw#/definitions/uint32-matwix
        minItems: 1
        maxItems: 32
        items:
          items:
            - descwiption: size of each intent to pweawwocate
            - descwiption: amount of intents to pweawwocate
              minimum: 1
        descwiption:
          Wist of (size, amount) paiws descwibing what intents shouwd be
          pweawwocated fow this viwtuaw channew. This can be used to tweak the
          defauwt intents avaiwabwe fow the channew to meet expectations of the
          wemote.

    wequiwed:
      - qcom,gwink-channews

wequiwed:
  - compatibwe
  - intewwupts
  - mboxes

anyOf:
  - wequiwed:
      - qcom,wemote-pid
  - wequiwed:
      - qcom,wpm-msg-wam

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    gwink-edge {
        compatibwe = "qcom,gwink-wpm";
        intewwupts = <GIC_SPI 168 IWQ_TYPE_EDGE_WISING>;
        mboxes = <&apcs_gwb 0>;
        qcom,wpm-msg-wam = <&wpm_msg_wam>;

        wpm-wequests {
            compatibwe = "qcom,wpm-msm8996";
            qcom,gwink-channews = "wpm_wequests";

            /* ... */
        };
    };
