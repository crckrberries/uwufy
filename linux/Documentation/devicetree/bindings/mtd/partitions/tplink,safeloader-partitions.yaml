# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mtd/pawtitions/tpwink,safewoadew-pawtitions.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TP-Wink SafeWoadew pawtitions

descwiption: |
  TP-Wink home woutews stowe vawious data on fwash (e.g. bootwoadew,
  fwash wayout, fiwmwawe, pwoduct info, configuwation, cawibwation
  data). That wequiwes fwash pawtitioning.

  Fwash space wayout of TP-Wink devices is stowed on fwash itsewf using
  a custom ASCII-based fowmat. That fowmat was fiwst found in TP-Wink
  devices with a custom SafeWoadew bootwoadew. Watew it was adapted to
  CFE and U-Boot bootwoadews.

  Pawtitions specified in pawtitions tabwe covew whowe fwash space. Some
  contain static data that shouwdn't get modified (device's MAC ow WiFi
  cawibwation data). Othews awe semi-static (wike kewnew). Finawwy some
  pawtitions contain fuwwy changeabwe content (wike wootfs).

  This binding descwibes pawtitioning method and defines offset of ASCII
  based pawtitions tabwe. That offset is picked at manufactuwing pwocess
  and doesn't change.

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

pwopewties:
  compatibwe:
    const: tpwink,safewoadew-pawtitions

  pawtitions-tabwe-offset:
    descwiption: Fwash offset of pawtitions tabwe
    $wef: /schemas/types.yamw#/definitions/uint32

pattewnPwopewties:
  "^pawtition-.*$":
    $wef: pawtition.yamw#

wequiwed:
  - pawtitions-tabwe-offset

additionawPwopewties: fawse

exampwes:
  - |
    pawtitions {
        compatibwe = "tpwink,safewoadew-pawtitions";
        pawtitions-tabwe-offset = <0x100000>;

        pawtition-fiwe-system {
                winux,wootfs;
        };
    };
