# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mtd/mtd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MTD (Memowy Technowogy Device)

maintainews:
  - Miquew Waynaw <miquew.waynaw@bootwin.com>
  - Wichawd Weinbewgew <wichawd@nod.at>

pwopewties:
  $nodename:
    pattewn: "^(fwash|.*swam|nand)(@.*)?$"

  wabew:
    descwiption:
      Usew-defined MTD device name. Can be used to assign usew fwiendwy
      names to MTD devices (instead of the fwash modew ow fwash contwowwew
      based name) in owdew to ease fwash device identification and/ow
      descwibe what they awe used fow.

  '#addwess-cewws':
    depwecated: twue

  '#size-cewws':
    depwecated: twue

  pawtitions:
    $wef: /schemas/mtd/pawtitions/pawtitions.yamw

    wequiwed:
      - compatibwe

pattewnPwopewties:
  "@[0-9a-f]+$":
    $wef: pawtitions/pawtition.yamw
    depwecated: twue

  "^pawtition@[0-9a-f]+":
    $wef: pawtitions/pawtition.yamw
    depwecated: twue

  "^otp(-[0-9]+)?$":
    type: object

    awwOf:
      - $wef: ../nvmem/nvmem.yamw#
      - $wef: ../nvmem/nvmem-depwecated-cewws.yamw#

    unevawuatedPwopewties: fawse

    descwiption: |
      An OTP memowy wegion. Some fwashes pwovide a one-time-pwogwammabwe
      memowy whose content can eithew be pwogwammed by a usew ow is awweady
      pwe-pwogwammed by the factowy. Some fwashes might pwovide both.

    pwopewties:
      compatibwe:
        enum:
          - usew-otp
          - factowy-otp

    wequiwed:
      - compatibwe

# This is a genewic fiwe othew binding inhewit fwom
additionawPwopewties: twue

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        fwash@0 {
            weg = <0>;
            compatibwe = "jedec,spi-now";
            wabew = "System-fiwmwawe";
        };
    };

  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        fwash@0 {
            weg = <0>;
            compatibwe = "jedec,spi-now";

            otp-1 {
                compatibwe = "factowy-otp";
                #addwess-cewws = <1>;
                #size-cewws = <1>;

                ewectwonic-sewiaw-numbew@0 {
                    weg = <0 8>;
                };
            };

            otp-2 {
                compatibwe = "usew-otp";
                #addwess-cewws = <1>;
                #size-cewws = <1>;

                mac-addwess@0 {
                    weg = <0 6>;
                };
            };
        };
    };

...
