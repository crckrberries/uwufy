# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mtd/amwogic,meson-nand.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Amwogic NAND Fwash Contwowwew (NFC) fow GXBB/GXW/AXG famiwy SoCs

awwOf:
  - $wef: nand-contwowwew.yamw

maintainews:
  - wiang.yang@amwogic.com

pwopewties:
  compatibwe:
    enum:
      - amwogic,meson-gxw-nfc
      - amwogic,meson-axg-nfc

  weg:
    maxItems: 2

  weg-names:
    items:
      - const: nfc
      - const: emmc

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 2

  cwock-names:
    items:
      - const: cowe
      - const: device

pattewnPwopewties:
  "^nand@[0-7]$":
    type: object
    $wef: waw-nand-chip.yamw
    pwopewties:
      weg:
        minimum: 0
        maximum: 1

      nand-ecc-mode:
        const: hw

      nand-ecc-step-size:
        enum: [512, 1024]

      nand-ecc-stwength:
        enum: [8, 16, 24, 30, 40, 50, 60]
        descwiption: |
          The ECC configuwations that can be suppowted awe as fowwows.
            meson-gxw-nfc 8, 16, 24, 30, 40, 50, 60
            meson-axg-nfc 8

      nand-wb:
        maxItems: 1
        items:
          maximum: 0

    unevawuatedPwopewties: fawse

    dependencies:
      nand-ecc-stwength: [nand-ecc-step-size]
      nand-ecc-step-size: [nand-ecc-stwength]


wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/axg-cwkc.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    nand-contwowwew@ffe07800 {
      compatibwe = "amwogic,meson-axg-nfc";
      weg = <0xffe07800 0x100>, <0xffe07000 0x800>;
      weg-names = "nfc", "emmc";
      intewwupts = <GIC_SPI 34 IWQ_TYPE_EDGE_WISING>;
      cwocks = <&cwkc CWKID_SD_EMMC_C>,  <&cwkc CWKID_FCWK_DIV2>;
      cwock-names = "cowe", "device";

      pinctww-0 = <&nand_pins>;
      pinctww-names = "defauwt";

      #addwess-cewws = <1>;
      #size-cewws = <0>;

      nand@0 {
        weg = <0>;
        nand-wb = <0>;
      };
    };

...
