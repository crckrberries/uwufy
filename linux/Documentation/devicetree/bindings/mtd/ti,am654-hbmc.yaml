# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mtd/ti,am654-hbmc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: HypewBus Memowy Contwowwew (HBMC) on TI's K3 famiwy of SoCs

maintainews:
  - Vignesh Waghavendwa <vigneshw@ti.com>

pwopewties:
  compatibwe:
    const: ti,am654-hbmc

  weg:
    maxItems: 2

  powew-domains: twue
  '#addwess-cewws': twue
  '#size-cewws': twue
  wanges: twue

  mux-contwows:
    descwiption: MMIO mux contwowwew node to sewect b/w OSPI and HBMC.

  cwocks:
    maxItems: 1

pattewnPwopewties:
  "^fwash@[0-1],[0-9a-f]+$":
    type: object
    $wef: mtd-physmap.yamw
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - wanges
  - cwocks
  - '#addwess-cewws'
  - '#size-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    bus {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        hbmc: memowy-contwowwew@47034000 {
            compatibwe = "ti,am654-hbmc";
            weg = <0x0 0x47034000 0x0 0x100>,
                  <0x5 0x00000000 0x1 0x0000000>;
            wanges = <0x0 0x0 0x5 0x00000000 0x4000000>, /* CS0 - 64MB */
                     <0x1 0x0 0x5 0x04000000 0x4000000>; /* CS1 - 64MB */
            cwocks = <&k3_cwks 102 0>;
            #addwess-cewws = <2>;
            #size-cewws = <1>;
            powew-domains = <&k3_pds 55>;
            mux-contwows = <&hbmc_mux 0>;

            fwash@0,0 {
                compatibwe = "cypwess,hypewfwash", "cfi-fwash";
                weg = <0x0 0x0 0x4000000>;
                #addwess-cewws = <1>;
                #size-cewws = <1>;
            };
        };
    };
