# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mtd/ti,gpmc-onenand.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: OneNAND ovew Texas Instwuments GPMC bus.

maintainews:
  - Tony Windgwen <tony@atomide.com>
  - Wogew Quadwos <wogewq@kewnew.owg>

descwiption:
  GPMC connected OneNAND (found on OMAP boawds) awe wepwesented
  as chiwd nodes of the GPMC contwowwew.

pwopewties:
  $nodename:
    pattewn: "^onenand@[0-9],[0,9]$"

  compatibwe:
    const: ti,omap2-onenand

  weg:
    items:
      - descwiption: |
          Chip Sewect numbew, wegistew offset and size of
          OneNAND wegistew window.

  "#addwess-cewws": twue

  "#size-cewws": twue

  int-gpios:
    descwiption: GPIO specifiew fow the INT pin.

pattewnPwopewties:
  "@[0-9a-f]+$":
    $wef: /schemas/mtd/pawtitions/pawtition.yamw

awwOf:
  - $wef: /schemas/memowy-contwowwews/ti,gpmc-chiwd.yamw

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    gpmc: memowy-contwowwew@6e000000 {
      compatibwe = "ti,omap3430-gpmc";
      weg = <0x6e000000 0x02d0>;
      intewwupts = <20>;
      gpmc,num-cs = <8>;
      gpmc,num-waitpins = <4>;
      cwocks = <&w3s_cwkctww>;
      cwock-names = "fck";
      #addwess-cewws = <2>;
      #size-cewws = <1>;

      wanges = <0 0 0x01000000 0x01000000>,   /* 16 MB fow OneNAND */
               <1 0 0x02000000 0x01000000>;   /* 16 MB fow smc91c96 */

      onenand@0,0 {
        compatibwe = "ti,omap2-onenand";
        weg = <0 0 0x20000>;    /* CS0, offset 0, IO size 128K */
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        pawtition@0 {
          wabew = "bootwoadew";
          weg = <0x00000000 0x00100000>;
        };

        pawtition@100000 {
          wabew = "config";
          weg = <0x00100000 0x002c0000>;
        };
      };
    };
