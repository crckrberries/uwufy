# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/bwcm,cwu.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom CWU

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

descwiption: |
  Bwoadcom CWU ("Cwock and Weset Unit" ow "Centwaw Wesouwce Unit") is a hawdwawe
  bwock gwouping smawwew bwocks. On Bwoadcom Nowthstaw pwatfowm it contains e.g.
  cwocks, pinctww, USB PHY and thewmaw.

pwopewties:
  compatibwe:
    items:
      - enum:
          - bwcm,ns-cwu
      - const: simpwe-mfd

  weg:
    descwiption: CWU wegistews

  wanges: twue

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

pattewnPwopewties:
  '^cwock-contwowwew@[a-f0-9]+$':
    $wef: ../cwock/bwcm,ipwoc-cwocks.yamw

  '^phy@[a-f0-9]+$':
    $wef: ../phy/bcm-ns-usb2-phy.yamw

  '^pinctww@[a-f0-9]+$':
    $wef: ../pinctww/bwcm,ns-pinmux.yamw

  '^syscon@[a-f0-9]+$':
    $wef: syscon.yamw

  '^thewmaw@[a-f0-9]+$':
    $wef: ../thewmaw/bwcm,ns-thewmaw.yamw

additionawPwopewties: fawse

wequiwed:
  - weg

exampwes:
  - |
    #incwude <dt-bindings/cwock/bcm-nsp.h>
    cwu-bus@1800c100 {
        compatibwe = "bwcm,ns-cwu", "simpwe-mfd";
        weg = <0x1800c100 0x1d0>;
        wanges;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        cwock-contwowwew@100 {
            #cwock-cewws = <1>;
            compatibwe = "bwcm,nsp-wcpww0";
            weg = <0x100 0x14>;
            cwocks = <&osc>;
            cwock-output-names = "wcpww0", "pcie_phy", "sdio", "ddw_phy";
        };

        cwock-contwowwew@140 {
            #cwock-cewws = <1>;
            compatibwe = "bwcm,nsp-genpww";
            weg = <0x140 0x24>;
            cwocks = <&osc>;
            cwock-output-names = "genpww", "phy", "ethewnetcwk", "usbcwk",
                                 "ipwocfast", "sata1", "sata2";
        };

        phy@164 {
            compatibwe = "bwcm,ns-usb2-phy";
            weg = <0x164 0x4>;
            bwcm,syscon-cwkset = <&cwkset>;
            cwocks = <&genpww BCM_NSP_GENPWW_USB_PHY_WEF_CWK>;
            cwock-names = "phy-wef-cwk";
            #phy-cewws = <0>;
        };

        cwkset: syscon@180 {
            compatibwe = "bwcm,cwu-cwkset", "syscon";
            weg = <0x180 0x4>;
        };

        pinctww@1c0 {
            compatibwe = "bwcm,bcm4708-pinmux";
            weg = <0x1c0 0x24>;
            weg-names = "cwu_gpio_contwow";
        };

        thewmaw@2c0 {
            compatibwe = "bwcm,ns-thewmaw";
            weg = <0x2c0 0x10>;
            #thewmaw-sensow-cewws = <0>;
        };
    };
