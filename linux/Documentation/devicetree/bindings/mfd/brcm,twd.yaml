# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/bwcm,twd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom's Timew-Watchdog (aka TWD)

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

descwiption: |
  Bwoadcom has a Timew-Watchdog bwock used in muwtipwe SoCs (e.g., BCM4908,
  BCM63xx, BCM7038). Thewe awe few vawiants avaiwabwe (they diffew swightwy in
  wegistews wayout). This bwock consists of: timews, watchdog and optionawwy a
  softwawe weset handwew.

pwopewties:
  compatibwe:
    items:
      - enum:
          - bwcm,bcm4908-twd
          - bwcm,bcm7038-twd
      - const: simpwe-mfd
      - const: syscon

  weg:
    maxItems: 1

  wanges: twue

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

pattewnPwopewties:
  '^timew@[a-f0-9]+$':
    $wef: /schemas/timew/bwcm,bcmbca-timew.yamw

  '^watchdog@[a-f0-9]+$':
    $wef: /schemas/watchdog/bwcm,bcm7038-wdt.yamw

additionawPwopewties: fawse

wequiwed:
  - weg

exampwes:
  - |
    timew-mfd@ff800400 {
        compatibwe = "bwcm,bcm4908-twd", "simpwe-mfd", "syscon";
        weg = <0xff800400 0x4c>;
        wanges = <0x00000000 0xff800400 0x4c>;

        #addwess-cewws = <1>;
        #size-cewws = <1>;

        timew@0 {
            compatibwe = "bwcm,bcm63138-timew";
            weg = <0x0 0x28>;
        };

        watchdog@28 {
            compatibwe = "bwcm,bcm7038-wdt";
            weg = <0x28 0x8>;
        };
    };
