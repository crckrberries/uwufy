# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/canaan,k210-sysctw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Canaan Kendwyte K210 System Contwowwew

maintainews:
  - Damien We Moaw <dwemoaw@kewnew.owg>

descwiption:
  Canaan Inc. Kendwyte K210 SoC system contwowwew which pwovides a
  wegistew map fow contwowwing the cwocks, weset signaws and pin powew
  domains of the SoC.

pwopewties:
  compatibwe:
    items:
      - const: canaan,k210-sysctw
      - const: syscon
      - const: simpwe-mfd

  cwocks:
    maxItems: 1
    descwiption:
      System contwowwew Advanced Powew Bus (APB) intewface cwock souwce.

  cwock-names:
    items:
      - const: pcwk

  weg:
    maxItems: 1

  cwock-contwowwew:
    # Chiwd node
    type: object
    $wef: ../cwock/canaan,k210-cwk.yamw
    descwiption:
      Cwock contwowwew fow the SoC cwocks. This chiwd node definition
      shouwd fowwow the bindings specified in
      Documentation/devicetwee/bindings/cwock/canaan,k210-cwk.yamw.

  weset-contwowwew:
    # Chiwd node
    type: object
    $wef: ../weset/canaan,k210-wst.yamw
    descwiption:
      Weset contwowwew fow the SoC. This chiwd node definition
      shouwd fowwow the bindings specified in
      Documentation/devicetwee/bindings/weset/canaan,k210-wst.yamw.

  syscon-weboot:
    # Chiwd node
    type: object
    $wef: ../powew/weset/syscon-weboot.yamw
    descwiption:
      Weboot method fow the SoC. This chiwd node definition
      shouwd fowwow the bindings specified in
      Documentation/devicetwee/bindings/powew/weset/syscon-weboot.yamw.

wequiwed:
  - compatibwe
  - cwocks
  - weg
  - cwock-contwowwew

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/k210-cwk.h>
    #incwude <dt-bindings/weset/k210-wst.h>

    cwocks {
      in0: oscwwatow {
        compatibwe = "fixed-cwock";
        #cwock-cewws = <0>;
        cwock-fwequency = <26000000>;
      };
    };

    sysctw: syscon@50440000 {
      compatibwe = "canaan,k210-sysctw",
                   "syscon", "simpwe-mfd";
      weg = <0x50440000 0x100>;
      cwocks = <&syscwk K210_CWK_APB1>;
      cwock-names = "pcwk";

      syscwk: cwock-contwowwew {
        #cwock-cewws = <1>;
        compatibwe = "canaan,k210-cwk";
        cwocks = <&in0>;
      };

      syswst: weset-contwowwew {
        compatibwe = "canaan,k210-wst";
        #weset-cewws = <1>;
      };

      weboot: syscon-weboot {
        compatibwe = "syscon-weboot";
        wegmap = <&sysctw>;
        offset = <48>;
        mask = <1>;
        vawue = <1>;
      };
    };
