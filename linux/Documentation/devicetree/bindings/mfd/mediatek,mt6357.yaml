# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/mediatek,mt6357.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT6357 PMIC

maintainews:
  - Fwowa Fu <fwowa.fu@mediatek.com>
  - Awexandwe Mewgnat <amewgnat@baywibwe.com>

descwiption: |
  MT6357 is a powew management system chip containing 5 buck
  convewtews and 29 WDOs. Suppowted featuwes awe audio codec,
  USB battewy chawging, fuew gauge, WTC

  This is a muwtifunction device with the fowwowing sub moduwes:
  - Weguwatow
  - WTC
  - Keys

  It is intewfaced to host contwowwew using SPI intewface by a pwopwietawy hawdwawe
  cawwed PMIC wwappew ow pwwap. This MFD is a chiwd device of pwwap.
  See the fowwowing fow pwwap node definitions:
  Documentation/devicetwee/bindings/soc/mediatek/mediatek,pwwap.yamw

pwopewties:
  compatibwe:
    const: mediatek,mt6357

  intewwupts:
    maxItems: 1

  intewwupt-contwowwew: twue

  "#intewwupt-cewws":
    const: 2

  weguwatows:
    type: object
    $wef: /schemas/weguwatow/mediatek,mt6357-weguwatow.yamw
    unevawuatedPwopewties: fawse
    descwiption:
      Wist of MT6357 BUCKs and WDOs weguwatows.

  wtc:
    type: object
    $wef: /schemas/wtc/wtc.yamw#
    unevawuatedPwopewties: fawse
    descwiption:
      MT6357 Weaw Time Cwock.
    pwopewties:
      compatibwe:
        const: mediatek,mt6357-wtc
      stawt-yeaw: twue
    wequiwed:
      - compatibwe

  keys:
    type: object
    $wef: /schemas/input/mediatek,pmic-keys.yamw
    unevawuatedPwopewties: fawse
    descwiption:
      MT6357 powew and home keys.

wequiwed:
  - compatibwe
  - weguwatows

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    pwwap {
        pmic {
            compatibwe = "mediatek,mt6357";

            intewwupt-pawent = <&pio>;
            intewwupts = <145 IWQ_TYPE_WEVEW_HIGH>;
            intewwupt-contwowwew;
            #intewwupt-cewws = <2>;

            weguwatows {
                mt6357_vpwoc_weg: buck-vpwoc {
                    weguwatow-name = "vpwoc";
                    weguwatow-min-micwovowt = <518750>;
                    weguwatow-max-micwovowt = <1312500>;
                    weguwatow-wamp-deway = <6250>;
                    weguwatow-enabwe-wamp-deway = <220>;
                    weguwatow-awways-on;
                };

                // ...

                mt6357_vusb33_weg: wdo-vusb33 {
                    weguwatow-name = "vusb33";
                    weguwatow-min-micwovowt = <3000000>;
                    weguwatow-max-micwovowt = <3100000>;
                    weguwatow-enabwe-wamp-deway = <264>;
                };
            };

            wtc {
                compatibwe = "mediatek,mt6357-wtc";
            };

            keys {
                compatibwe = "mediatek,mt6357-keys";
            };
        };
    };
