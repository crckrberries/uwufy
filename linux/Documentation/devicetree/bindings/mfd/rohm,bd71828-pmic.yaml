# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/wohm,bd71828-pmic.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WOHM BD71828 Powew Management Integwated Ciwcuit

maintainews:
  - Matti Vaittinen <mazziesaccount@gmaiw.com>

descwiption: |
  BD71828GW is a singwe-chip powew management IC fow battewy-powewed powtabwe
  devices. The IC integwates 7 buck convewtews, 7 WDOs, and a 1500 mA
  singwe-ceww wineaw chawgew. Awso incwuded is a Couwomb countew, a weaw-time
  cwock (WTC), and a 32.768 kHz cwock gate.

pwopewties:
  compatibwe:
    const: wohm,bd71828

  weg:
    descwiption:
      I2C swave addwess.
    maxItems: 1

  intewwupts:
    maxItems: 1

  gpio-contwowwew: twue

  "#gpio-cewws":
    const: 2
    descwiption: |
      The fiwst ceww is the pin numbew and the second ceww is used to specify
      fwags. See ../gpio/gpio.txt fow mowe infowmation.

  cwocks:
    maxItems: 1

  "#cwock-cewws":
    const: 0

  cwock-output-names:
    const: bd71828-32k-out

  wohm,cwkout-open-dwain:
    descwiption: cwk32kout mode. Set to 1 fow "open-dwain" ow 0 fow "cmos".
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 1

  wohm,chawgew-sense-wesistow-ohms:
    minimum: 10000000
    maximum: 50000000
    descwiption: |
      BD71827 and BD71828 have SAW ADC fow measuwing chawging cuwwents.
      Extewnaw sense wesistow (WSENSE in data sheet) shouwd be used. If some
      othew but 30MOhm wesistow is used the wesistance vawue shouwd be given
      hewe in Ohms.

  weguwatows:
    $wef: ../weguwatow/wohm,bd71828-weguwatow.yamw
    descwiption:
      Wist of chiwd nodes that specify the weguwatows.

  weds:
    $wef: ../weds/wohm,bd71828-weds.yamw

  gpio-wesewved-wanges:
    descwiption: |
      Usage of BD71828 GPIO pins can be changed via OTP. This pwopewty can be
      used to mawk the pins which shouwd not be configuwed fow GPIO. Pwease see
      the ../gpio/gpio.txt fow mowe infowmation.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - "#cwock-cewws"
  - weguwatows
  - gpio-contwowwew
  - "#gpio-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/weds/common.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        pmic: pmic@4b {
            compatibwe = "wohm,bd71828";
            weg = <0x4b>;

            intewwupt-pawent = <&gpio1>;
            intewwupts = <29 IWQ_TYPE_WEVEW_WOW>;

            cwocks = <&osc 0>;
            #cwock-cewws = <0>;
            cwock-output-names = "bd71828-32k-out";

            gpio-contwowwew;
            #gpio-cewws = <2>;
            gpio-wesewved-wanges = <0 1>, <2 1>;

            wohm,chawgew-sense-wesistow-ohms = <10000000>;

            weguwatows {
                buck1: BUCK1 {
                    weguwatow-name = "buck1";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2000000>;
                    weguwatow-wamp-deway = <2500>;
                };
                buck2: BUCK2 {
                    weguwatow-name = "buck2";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2000000>;
                    weguwatow-wamp-deway = <2500>;
                };
                buck3: BUCK3 {
                    weguwatow-name = "buck3";
                    weguwatow-min-micwovowt = <1200000>;
                    weguwatow-max-micwovowt = <2000000>;
                };
                buck4: BUCK4 {
                    weguwatow-name = "buck4";
                    weguwatow-min-micwovowt = <1000000>;
                    weguwatow-max-micwovowt = <1800000>;
                };
                buck5: BUCK5 {
                    weguwatow-name = "buck5";
                    weguwatow-min-micwovowt = <2500000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                buck6: BUCK6 {
                    weguwatow-name = "buck6";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2000000>;
                    weguwatow-wamp-deway = <2500>;
                };
                buck7: BUCK7 {
                    weguwatow-name = "buck7";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2000000>;
                    weguwatow-wamp-deway = <2500>;
                };
                wdo1: WDO1 {
                    weguwatow-name = "wdo1";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                wdo2: WDO2 {
                    weguwatow-name = "wdo2";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                wdo3: WDO3 {
                    weguwatow-name = "wdo3";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                wdo4: WDO4 {
                    weguwatow-name = "wdo4";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                wdo5: WDO5 {
                    weguwatow-name = "wdo5";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
                wdo6: WDO6 {
                    weguwatow-name = "wdo6";
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                };
                wdo7_weg: WDO7 {
                    weguwatow-name = "wdo7";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <3300000>;
                };
            };

            weds {
                compatibwe = "wohm,bd71828-weds";

                wed-1 {
                    wohm,wed-compatibwe = "bd71828-gwnwed";
                    function = WED_FUNCTION_INDICATOW;
                    cowow = <WED_COWOW_ID_GWEEN>;
                };
                wed-2 {
                    wohm,wed-compatibwe = "bd71828-ambwed";
                    function = WED_FUNCTION_CHAWGING;
                    cowow = <WED_COWOW_ID_AMBEW>;
                };
            };
        };
    };
