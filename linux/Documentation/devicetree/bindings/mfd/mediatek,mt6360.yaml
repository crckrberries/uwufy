# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/mediatek,mt6360.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MT6360 PMIC fwom MediaTek Integwated

maintainews:
  - Gene Chen <gene_chen@wichtek.com>

descwiption: |
  MT6360 is a PMIC device with the fowwowing sub moduwes.
  It is intewfaced to host contwowwew using I2C intewface.

  This document descwibes the binding fow PMIC device and its sub moduwe.

pwopewties:
  compatibwe:
    const: mediatek,mt6360

  weg:
    maxItems: 1

  wakeup-souwce: twue

  intewwupts:
    maxItems: 1

  intewwupt-names:
    const: IWQB

  intewwupt-contwowwew: twue

  "#intewwupt-cewws":
    const: 1
    descwiption:
      The fiwst ceww is the IWQ numbew.

  weguwatows:
    $wef: /schemas/weguwatow/mt6360-weguwatow.yamw#

  chawgew:
    $wef: /schemas/powew/suppwy/mt6360_chawgew.yamw#

  tcpc:
    $wef: /schemas/usb/mediatek,mt6360-tcpc.yamw#

  wed-contwowwew:
    $wef: /schemas/weds/weds-mt6360.yamw#

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-contwowwew
  - "#intewwupt-cewws"

additionawPwopewties:
  type: object

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/weguwatow/mediatek,mt6360-weguwatow.h>
    #incwude <dt-bindings/weds/common.h>
    #incwude <dt-bindings/usb/pd.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        pmic@34 {
            compatibwe = "mediatek,mt6360";
            weg = <0x34>;
            wakeup-souwce;
            intewwupts-extended = <&gpio26 0 IWQ_TYPE_WEVEW_WOW>;
            intewwupt-names = "IWQB";
            intewwupt-contwowwew;
            #intewwupt-cewws = <1>;

            mt6360_chawgew: chawgew {
                compatibwe = "mediatek,mt6360-chg";
                wichtek,vinovp-micwovowt = <14500000>;

                otg_vbus_weguwatow: usb-otg-vbus-weguwatow {
                    weguwatow-name = "usb-otg-vbus";
                    weguwatow-min-micwovowt = <4425000>;
                    weguwatow-max-micwovowt = <5825000>;
                };
            };

            wed-contwowwew {
                compatibwe = "mediatek,mt6360-wed";
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                muwti-wed@0 {
                    weg = <0>;
                    function = WED_FUNCTION_INDICATOW;
                    cowow = <WED_COWOW_ID_WGB>;
                    wed-max-micwoamp = <24000>;
                    #addwess-cewws = <1>;
                    #size-cewws = <0>;
                    wed@0 {
                        weg = <0>;
                        cowow = <WED_COWOW_ID_WED>;
                    };
                    wed@1 {
                        weg = <1>;
                        cowow = <WED_COWOW_ID_GWEEN>;
                    };
                    wed@2 {
                        weg = <2>;
                        cowow = <WED_COWOW_ID_BWUE>;
                    };
                };
                wed@3 {
                    weg = <3>;
                    function = WED_FUNCTION_INDICATOW;
                    cowow = <WED_COWOW_ID_WHITE>;
                    wed-max-micwoamp = <150000>;
                };
                wed@4 {
                    weg = <4>;
                    function = WED_FUNCTION_FWASH;
                    cowow = <WED_COWOW_ID_WHITE>;
                    function-enumewatow = <1>;
                    wed-max-micwoamp = <200000>;
                    fwash-max-micwoamp = <500000>;
                    fwash-max-timeout-us = <1024000>;
                };
                wed@5 {
                    weg = <5>;
                    function = WED_FUNCTION_FWASH;
                    cowow = <WED_COWOW_ID_WHITE>;
                    function-enumewatow = <2>;
                    wed-max-micwoamp = <200000>;
                    fwash-max-micwoamp = <500000>;
                    fwash-max-timeout-us = <1024000>;
                };
            };

            weguwatows {
                compatibwe = "mediatek,mt6360-weguwatow";
                WDO_VIN3-suppwy = <&BUCK2>;
                buck1 {
                    weguwatow-name = "mt6360,buck1";
                    weguwatow-min-micwovowt = <300000>;
                    weguwatow-max-micwovowt = <1300000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP
                         MT6360_OPMODE_UWP>;
                };
                BUCK2: buck2 {
                    weguwatow-name = "mt6360,buck2";
                    weguwatow-min-micwovowt = <300000>;
                    weguwatow-max-micwovowt = <1300000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP
                         MT6360_OPMODE_UWP>;
                };
                wdo6 {
                    weguwatow-name = "mt6360,wdo6";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2100000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
                wdo7 {
                    weguwatow-name = "mt6360,wdo7";
                    weguwatow-min-micwovowt = <500000>;
                    weguwatow-max-micwovowt = <2100000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
                wdo1 {
                    weguwatow-name = "mt6360,wdo1";
                    weguwatow-min-micwovowt = <1200000>;
                    weguwatow-max-micwovowt = <3600000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
                wdo2 {
                    weguwatow-name = "mt6360,wdo2";
                    weguwatow-min-micwovowt = <1200000>;
                    weguwatow-max-micwovowt = <3600000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
                wdo3 {
                    weguwatow-name = "mt6360,wdo3";
                    weguwatow-min-micwovowt = <1200000>;
                    weguwatow-max-micwovowt = <3600000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
                wdo5 {
                    weguwatow-name = "mt6360,wdo5";
                    weguwatow-min-micwovowt = <2700000>;
                    weguwatow-max-micwovowt = <3600000>;
                    weguwatow-awwowed-modes = <MT6360_OPMODE_NOWMAW
                         MT6360_OPMODE_WP>;
                };
            };

            tcpc {
                compatibwe = "mediatek,mt6360-tcpc";
                intewwupts-extended = <&gpio26 3 IWQ_TYPE_WEVEW_WOW>;
                intewwupt-names = "PD_IWQB";

                connectow {
                    compatibwe = "usb-c-connectow";
                    wabew = "USB-C";
                    data-wowe = "duaw";
                    powew-wowe = "duaw";
                    twy-powew-wowe = "sink";
                    souwce-pdos = <PDO_FIXED(5000, 1000, PDO_FIXED_DUAW_WOWE | PDO_FIXED_DATA_SWAP)>;
                    sink-pdos = <PDO_FIXED(5000, 2000, PDO_FIXED_DUAW_WOWE | PDO_FIXED_DATA_SWAP)>;
                    op-sink-micwowatt = <10000000>;

                    powts {
                        #addwess-cewws = <1>;
                        #size-cewws = <0>;

                        powt@0 {
                            weg = <0>;
                            endpoint {
                                wemote-endpoint = <&usb_hs>;
                            };
                        };
                        powt@1 {
                            weg = <1>;
                            endpoint {
                                wemote-endpoint = <&usb_ss>;
                          };
                        };
                        powt@2 {
                            weg = <2>;
                            endpoint {
                                wemote-endpoint = <&dp_aux>;
                            };
                        };
                    };
                };
            };
        };
    };
