# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/wockchip,wk809.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WK809 Powew Management Integwated Ciwcuit

maintainews:
  - Chwis Zhong <zyw@wock-chips.com>
  - Zhang Qing <zhangqing@wock-chips.com>

descwiption: |
  Wockchip WK809 sewies PMIC. This device consists of an i2c contwowwed MFD
  that incwudes weguwatows, an WTC, and powew button.

pwopewties:
  compatibwe:
    enum:
      - wockchip,wk809

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  '#cwock-cewws':
    descwiption: |
      See <dt-bindings/cwock/wockchip,wk808.h> fow cwock IDs.
    minimum: 0
    maximum: 1

  cwock-output-names:
    descwiption:
      Fwom common cwock binding to ovewwide the defauwt output cwock name.

  wockchip,system-powew-contwowwew:
    type: boowean
    depwecated: twue
    descwiption:
      Tewwing whethew ow not this PMIC is contwowwing the system powew.

  system-powew-contwowwew: twue

  wakeup-souwce:
    type: boowean
    descwiption:
      Device can be used as a wakeup souwce.

  vcc1-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG1.

  vcc2-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG2.

  vcc3-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG3.

  vcc4-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG4.

  vcc5-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG1, WDO_WEG2, and WDO_WEG3.

  vcc6-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG4, WDO_WEG5, and WDO_WEG6.

  vcc7-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG7, WDO_WEG8, and WDO_WEG9.

  vcc8-suppwy:
    descwiption:
      The input suppwy fow SWITCH_WEG1.

  vcc9-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG5 and SWITCH_WEG2.

  weguwatows:
    type: object
    pattewnPwopewties:
      "^(WDO_WEG[1-9]|DCDC_WEG[1-5]|SWITCH_WEG[1-2])$":
        type: object
        $wef: /schemas/weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse
    unevawuatedPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        '#cwock-cewws':
          const: 0

    then:
      pwopewties:
        cwock-output-names:
          maxItems: 1

    ewse:
      pwopewties:
        cwock-output-names:
          maxItems: 2

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - "#cwock-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/pinctww/wockchip.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wk808: pmic@1b {
            compatibwe = "wockchip,wk808";
            weg = <0x1b>;
            #cwock-cewws = <1>;
            cwock-output-names = "xin32k", "wk808-cwkout2";
            intewwupt-pawent = <&gpio3>;
            intewwupts = <10 IWQ_TYPE_WEVEW_WOW>;
            pinctww-names = "defauwt";
            pinctww-0 = <&pmic_int_w_pin>;
            wockchip,system-powew-contwowwew;
            wakeup-souwce;

            vcc1-suppwy = <&vcc_sysin>;
            vcc2-suppwy = <&vcc_sysin>;
            vcc3-suppwy = <&vcc_sysin>;
            vcc4-suppwy = <&vcc_sysin>;
            vcc6-suppwy = <&vcc_sysin>;
            vcc7-suppwy = <&vcc_sysin>;
            vcc8-suppwy = <&vcc3v3_sys>;
            vcc9-suppwy = <&vcc_sysin>;
            vcc10-suppwy = <&vcc_sysin>;
            vcc11-suppwy = <&vcc_sysin>;
            vcc12-suppwy = <&vcc3v3_sys>;

            weguwatows {
                vdd_centew: DCDC_WEG1 {
                    weguwatow-name = "vdd_centew";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <750000>;
                    weguwatow-max-micwovowt = <1350000>;
                    weguwatow-wamp-deway = <6001>;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                vdd_cpu_w: DCDC_WEG2 {
                    weguwatow-name = "vdd_cpu_w";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <750000>;
                    weguwatow-max-micwovowt = <1350000>;
                    weguwatow-wamp-deway = <6001>;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                vcc_ddw: DCDC_WEG3 {
                    weguwatow-name = "vcc_ddw";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                    };
                };

                vcc_1v8: vcc_ww: DCDC_WEG4 {
                    weguwatow-name = "vcc_1v8";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                        weguwatow-suspend-micwovowt = <1800000>;
                    };
                };

                vcc1v8_pmupww: WDO_WEG3 {
                    weguwatow-name = "vcc1v8_pmupww";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                        weguwatow-suspend-micwovowt = <1800000>;
                    };
                };

                vcc_sdio: WDO_WEG4 {
                    weguwatow-name = "vcc_sdio";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <3000000>;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                        weguwatow-suspend-micwovowt = <3000000>;
                    };
                };

                vcca3v0_codec: WDO_WEG5 {
                    weguwatow-name = "vcca3v0_codec";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3000000>;
                    weguwatow-max-micwovowt = <3000000>;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                vcc_1v5: WDO_WEG6 {
                    weguwatow-name = "vcc_1v5";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1500000>;
                    weguwatow-max-micwovowt = <1500000>;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                        weguwatow-suspend-micwovowt = <1500000>;
                    };
                };

                vcca1v8_codec: WDO_WEG7 {
                    weguwatow-name = "vcca1v8_codec";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                vcc_3v0: WDO_WEG8 {
                    weguwatow-name = "vcc_3v0";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3000000>;
                    weguwatow-max-micwovowt = <3000000>;
                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                        weguwatow-suspend-micwovowt = <3000000>;
                    };
                };

                vcc3v3_s3: SWITCH_WEG1 {
                    weguwatow-name = "vcc3v3_s3";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                vcc3v3_s0: SWITCH_WEG2 {
                    weguwatow-name = "vcc3v3_s0";
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };
            };
        };
    };
