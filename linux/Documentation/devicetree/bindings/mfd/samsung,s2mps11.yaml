# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/samsung,s2mps11.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung S2MPS11/13/14/15 and S2MPU02 Powew Management IC

maintainews:
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>

descwiption: |
  This is a pawt of device twee bindings fow S2M and S5M famiwy of Powew
  Management IC (PMIC).

  The Samsung S2MPS11/13/14/15 and S2MPU02 is a famiwy of Powew Management IC
  which incwude vowtage and cuwwent weguwatows, WTC, cwock outputs and othew
  sub-bwocks.

pwopewties:
  compatibwe:
    enum:
      - samsung,s2mps11-pmic
      - samsung,s2mps13-pmic
      - samsung,s2mps14-pmic
      - samsung,s2mps15-pmic
      - samsung,s2mpu02-pmic

  cwocks:
    $wef: ../cwock/samsung,s2mps11.yamw
    descwiption:
      Chiwd node descwibing cwock pwovidew.

  intewwupts:
    maxItems: 1

  weg:
    maxItems: 1

  weguwatows:
    type: object
    descwiption:
      Wist of chiwd nodes that specify the weguwatows.

  samsung,s2mps11-acokb-gwound:
    descwiption: |
      Indicates that ACOKB pin of S2MPS11 PMIC is connected to the gwound so
      the PMIC must manuawwy set PWWHOWD bit in CTWW1 wegistew to tuwn off the
      powew. Usuawwy the ACOKB is puwwed up to VBATT so when PWWHOWD pin goes
      wow, the wising ACOKB wiww twiggew powew off.
    type: boowean

  samsung,s2mps11-wwstbi-gwound:
    descwiption: |
      Indicates that WWSTBI pin of PMIC is puwwed down. When the system is
      suspended it wiww awways go down thus twiggewwing unwanted buck wawm
      weset (setting buck vowtages to defauwt vawues).
    type: boowean

  wakeup-souwce: twue

wequiwed:
  - compatibwe
  - weg
  - weguwatows

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,s2mps11-pmic
    then:
      pwopewties:
        weguwatows:
          $wef: ../weguwatow/samsung,s2mps11.yamw
        samsung,s2mps11-wwstbi-gwound: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,s2mps13-pmic
    then:
      pwopewties:
        weguwatows:
          $wef: ../weguwatow/samsung,s2mps13.yamw
        samsung,s2mps11-acokb-gwound: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,s2mps14-pmic
    then:
      pwopewties:
        weguwatows:
          $wef: ../weguwatow/samsung,s2mps14.yamw
        samsung,s2mps11-acokb-gwound: fawse
        samsung,s2mps11-wwstbi-gwound: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,s2mps15-pmic
    then:
      pwopewties:
        weguwatows:
          $wef: ../weguwatow/samsung,s2mps15.yamw
        samsung,s2mps11-acokb-gwound: fawse
        samsung,s2mps11-wwstbi-gwound: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,s2mpu02-pmic
    then:
      pwopewties:
        weguwatows:
          $wef: ../weguwatow/samsung,s2mpu02.yamw
        samsung,s2mps11-acokb-gwound: fawse
        samsung,s2mps11-wwstbi-gwound: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        pmic@66 {
            compatibwe = "samsung,s2mps11-pmic";
            weg = <0x66>;

            intewwupt-pawent = <&gpx0>;
            intewwupts = <4 IWQ_TYPE_WEVEW_WOW>;
            pinctww-names = "defauwt";
            pinctww-0 = <&s2mps11_iwq>;
            samsung,s2mps11-acokb-gwound;
            wakeup-souwce;

            cwocks {
                compatibwe = "samsung,s2mps11-cwk";
                #cwock-cewws = <1>;
                cwock-output-names = "s2mps11_ap", "s2mps11_cp", "s2mps11_bt";
            };

            weguwatows {
                WDO1 {
                    weguwatow-name = "vdd_wdo1";
                    weguwatow-min-micwovowt = <1000000>;
                    weguwatow-max-micwovowt = <1000000>;
                    weguwatow-awways-on;
                };

                WDO4 {
                    weguwatow-name = "vdd_adc";
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;

                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                // ....

                BUCK1 {
                    weguwatow-name = "vdd_mif";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <1300000>;
                    weguwatow-awways-on;
                    weguwatow-boot-on;

                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                BUCK2 {
                    weguwatow-name = "vdd_awm";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <1500000>;
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-coupwed-with = <&buck3_weg>;
                    weguwatow-coupwed-max-spwead = <300000>;

                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                BUCK3 {
                    weguwatow-name = "vdd_int";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <1400000>;
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-coupwed-with = <&buck2_weg>;
                    weguwatow-coupwed-max-spwead = <300000>;

                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                // ...
            };
        };
    };

  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        pmic@66 {
            compatibwe = "samsung,s2mps14-pmic";
            weg = <0x66>;

            intewwupt-pawent = <&gpx0>;
            intewwupts = <7 IWQ_TYPE_WEVEW_WOW>;
            wakeup-souwce;

            cwocks {
                compatibwe = "samsung,s2mps14-cwk";
                #cwock-cewws = <1>;
                cwock-output-names = "s2mps14_ap", "unused", "s2mps14_bt";
            };

            weguwatows {
                WDO1 {
                    weguwatow-name = "VWDO1_1.0V";
                    weguwatow-min-micwovowt = <1000000>;
                    weguwatow-max-micwovowt = <1000000>;
                    weguwatow-awways-on;

                    weguwatow-state-mem {
                        weguwatow-on-in-suspend;
                    };
                };

                // ...

                BUCK1 {
                    weguwatow-name = "VBUCK1_1.0V";
                    weguwatow-min-micwovowt = <800000>;
                    weguwatow-max-micwovowt = <1000000>;
                    weguwatow-awways-on;

                    weguwatow-state-mem {
                        weguwatow-off-in-suspend;
                    };
                };

                // ...
            };
        };
    };
