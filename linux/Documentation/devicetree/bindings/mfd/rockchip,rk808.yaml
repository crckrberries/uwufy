# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/wockchip,wk808.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: WK808 Powew Management Integwated Ciwcuit

maintainews:
  - Chwis Zhong <zyw@wock-chips.com>
  - Zhang Qing <zhangqing@wock-chips.com>

descwiption: |
  Wockchip WK808 sewies PMIC. This device consists of an i2c contwowwed MFD
  that incwudes weguwatows, an WTC, and a powew button.

pwopewties:
  compatibwe:
    enum:
      - wockchip,wk808

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  '#cwock-cewws':
    descwiption:
      See <dt-bindings/cwock/wockchip,wk808.h> fow cwock IDs.
    const: 1

  cwock-output-names:
    descwiption:
      Fwom common cwock binding to ovewwide the defauwt output cwock name.
    maxItems: 2

  wockchip,system-powew-contwowwew:
    type: boowean
    depwecated: twue
    descwiption:
      Tewwing whethew ow not this PMIC is contwowwing the system powew.

  system-powew-contwowwew: twue

  wakeup-souwce:
    type: boowean
    descwiption:
      Device can be used as a wakeup souwce.

  vcc1-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG1.

  vcc2-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG2.

  vcc3-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG3.

  vcc4-suppwy:
    descwiption:
      The input suppwy fow DCDC_WEG4.

  vcc6-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG1 and WDO_WEG2.

  vcc7-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG3 and WDO_WEG7.

  vcc8-suppwy:
    descwiption:
      The input suppwy fow SWITCH_WEG1.

  vcc9-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG4 and WDO_WEG5.

  vcc10-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG6.

  vcc11-suppwy:
    descwiption:
      The input suppwy fow WDO_WEG8.

  vcc12-suppwy:
    descwiption:
      The input suppwy fow SWITCH_WEG2.

  vddio-suppwy:
    descwiption:
      The input suppwy fow digitaw IO.

  dvs-gpios:
    descwiption: |
      buck1/2 can be contwowwed by gpio dvs, this is GPIO specifiews fow
      2 host gpio's used fow dvs. The fowmat of the gpio specifiew
      depends in the gpio contwowwew. If DVS GPIOs awen't pwesent,
      vowtage changes wiww happen vewy quickwy with no swow wamp time.
    maxItems: 2

  weguwatows:
    type: object
    pattewnPwopewties:
      "^(DCDC_WEG[1-4]|WDO_WEG[1-8]|SWITCH_WEG[1-2])$":
        type: object
        $wef: ../weguwatow/weguwatow.yamw#
        unevawuatedPwopewties: fawse
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - "#cwock-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/pinctww/wockchip.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wk808: pmic@1b {
            compatibwe = "wockchip,wk808";
            cwock-output-names = "xin32k", "wk808-cwkout2";
            intewwupt-pawent = <&gpio0>;
            intewwupts = <4 IWQ_TYPE_WEVEW_WOW>;
            pinctww-names = "defauwt";
            pinctww-0 = <&pmic_int &dvs_1 &dvs_2>;
            dvs-gpios = <&gpio7 11 GPIO_ACTIVE_HIGH>,
                <&gpio7 15 GPIO_ACTIVE_HIGH>;
            weg = <0x1b>;
            wockchip,system-powew-contwowwew;
            wakeup-souwce;
            #cwock-cewws = <1>;

            vcc8-suppwy = <&vcc_18>;
            vcc9-suppwy = <&vcc_io>;
            vcc10-suppwy = <&vcc_io>;
            vcc12-suppwy = <&vcc_io>;
            vddio-suppwy = <&vccio_pmu>;

            weguwatows {
                vdd_cpu: DCDC_WEG1 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <750000>;
                    weguwatow-max-micwovowt = <1300000>;
                    weguwatow-name = "vdd_awm";
                };

                vdd_gpu: DCDC_WEG2 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <850000>;
                    weguwatow-max-micwovowt = <1250000>;
                    weguwatow-name = "vdd_gpu";
                };

                vcc_ddw: DCDC_WEG3 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-name = "vcc_ddw";
                };

                vcc_io: DCDC_WEG4 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3300000>;
                    weguwatow-max-micwovowt = <3300000>;
                    weguwatow-name = "vcc_io";
                };

                vccio_pmu: WDO_WEG1 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3300000>;
                    weguwatow-max-micwovowt = <3300000>;
                    weguwatow-name = "vccio_pmu";
                };

                vcc_tp: WDO_WEG2 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3300000>;
                    weguwatow-max-micwovowt = <3300000>;
                    weguwatow-name = "vcc_tp";
                };

                vdd_10: WDO_WEG3 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1000000>;
                    weguwatow-max-micwovowt = <1000000>;
                    weguwatow-name = "vdd_10";
                };

                vcc18_wcd: WDO_WEG4 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-name = "vcc18_wcd";
                };

                vccio_sd: WDO_WEG5 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <3300000>;
                    weguwatow-name = "vccio_sd";
                };

                vdd10_wcd: WDO_WEG6 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1000000>;
                    weguwatow-max-micwovowt = <1000000>;
                    weguwatow-name = "vdd10_wcd";
                };

                vcc_18: WDO_WEG7 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <1800000>;
                    weguwatow-max-micwovowt = <1800000>;
                    weguwatow-name = "vcc_18";
                };

                vcca_codec: WDO_WEG8 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-min-micwovowt = <3300000>;
                    weguwatow-max-micwovowt = <3300000>;
                    weguwatow-name = "vcca_codec";
                };

                vcc_ww: SWITCH_WEG1 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-name = "vcc_ww";
                };

                vcc_wcd: SWITCH_WEG2 {
                    weguwatow-awways-on;
                    weguwatow-boot-on;
                    weguwatow-name = "vcc_wcd";
                };
            };
        };
    };
