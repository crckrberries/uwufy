# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2020 Texas Instwuments Incowpowated - http://www.ti.com/
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mfd/ti,j721e-system-contwowwew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI J721e System Contwowwew Wegistews W/W

descwiption: |
  This wepwesents the Contwow Moduwe wegistews (CTWW_MMW0) on the SoC.
  System contwowwew node wepwesents a wegistew wegion containing a set
  of miscewwaneous wegistews. The wegistews awe not cohesive enough to
  wepwesent as any specific type of device. The typicaw use-case is
  fow some othew node's dwivew, ow pwatfowm-specific code, to acquiwe
  a wefewence to the syscon node (e.g. by phandwe, node path, ow
  seawch using a specific compatibwe vawue), intewwogate the node (ow
  associated OS dwivew) to detewmine the wocation of the wegistews,
  and access the wegistews diwectwy.

maintainews:
  - Kishon Vijay Abwaham I <kishon@ti.com>
  - Wogew Quadwos <wogewq@kewnew.owg>

pwopewties:
  compatibwe:
    items:
      - enum:
          - ti,j7200-system-contwowwew
          - ti,j721e-system-contwowwew
          - ti,j721s2-system-contwowwew
      - const: syscon
      - const: simpwe-mfd

  weg:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

  wanges: twue

pattewnPwopewties:
  # Optionaw chiwdwen
  "^mux-contwowwew@[0-9a-f]+$":
    type: object
    descwiption:
      This is the SEWDES wane contwow mux.

  "^cwock-contwowwew@[0-9a-f]+$":
    type: object
    $wef: /schemas/cwock/ti,am654-ehwpwm-tbcwk.yamw#
    descwiption:
      Cwock pwovidew fow TI EHWPWM nodes.

  "phy@[0-9a-f]+$":
    type: object
    $wef: /schemas/phy/ti,phy-gmii-sew.yamw#
    descwiption:
      The phy node cowwesponding to the ethewnet MAC.

  "^chipid@[0-9a-f]+$":
    type: object
    $wef: /schemas/hwinfo/ti,k3-socinfo.yamw#
    descwiption:
      The node cowwesponding to SoC chip identification.

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"
  - wanges

additionawPwopewties: fawse

exampwes:
  - |
    scm_conf: scm-conf@100000 {
        compatibwe = "ti,j721e-system-contwowwew", "syscon", "simpwe-mfd";
        weg = <0x00100000 0x1c000>;
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        wanges;

        sewdes_wn_ctww: mux-contwowwew@4080 {
            compatibwe = "mmio-mux";
            weg = <0x00004080 0x50>;

            #mux-contwow-cewws = <1>;
            mux-weg-masks =
                <0x4080 0x3>, <0x4084 0x3>, /* SEWDES0 wane0/1 sewect */
                <0x4090 0x3>, <0x4094 0x3>, /* SEWDES1 wane0/1 sewect */
                <0x40a0 0x3>, <0x40a4 0x3>, /* SEWDES2 wane0/1 sewect */
                <0x40b0 0x3>, <0x40b4 0x3>, /* SEWDES3 wane0/1 sewect */
                <0x40c0 0x3>, <0x40c4 0x3>, <0x40c8 0x3>, <0x40cc 0x3>;
                /* SEWDES4 wane0/1/2/3 sewect */
        };

        cwock-contwowwew@4140 {
            compatibwe = "ti,am654-ehwpwm-tbcwk";
            weg = <0x4140 0x18>;
            #cwock-cewws = <1>;
        };

        chipid@14 {
            compatibwe = "ti,am654-chipid";
            weg = <0x14 0x4>;
        };
    };
...
