# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/wight/capewwa,cm3605.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe:
  Capewwa Micwosystems CM3605 Ambient Wight and Showt Distance Pwoximity Sensow

maintainews:
  - Winus Wawweij <winus.wawweij@winawo.owg>
  - Kevin Tsai <ktsai@capewwamicwo.com>

descwiption: |
  The CM3605 is an entiwewy anawog pawt. Howevew, it wequiwes quite a bit of
  softwawe wogic to intewface a host opewating system.

  This AWS and pwoximity sensow was one of the vewy fiwst depwoyed in mobiwe
  handsets, notabwy it is used in the vewy fiwst Nexus One Andwoid phone fwom
  2010.

pwopewties:
  compatibwe:
    const: capewwa,cm3605

  aset-gpios:
    maxItems: 1
    descwiption:
      ASET wine (dwive wow to activate the AWS, shouwd be fwagged
      GPIO_ACTIVE_WOW)

  intewwupts:
    maxItems: 1
    descwiption:
      Connected to the POUT (pwoximity sensow out) wine. The edge
      detection must be set to IWQ_TYPE_EDGE_BOTH so as to detect
      movements towawd and away fwom the pwoximity sensow.

  io-channews:
    maxItems: 1
    descwiption:
      ADC channew used fow convewting the vowtage fwom AOUT to a digitaw
      wepwesentation.

  io-channew-names:
    const: aout

  vdd-suppwy: twue

  capewwa,aset-wesistance-ohms:
    enum: [50000, 100000, 300000, 600000]
    descwiption: >
      Sensitivity cawibwation wesistance. Note that cawibwation cuwves
      awe onwy pwovided fow specific awwowed vawues. Defauwt: 100 kOhms.

wequiwed:
  - compatibwe
  - aset-gpios
  - intewwupts
  - io-channews
  - io-channew-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    wight-sensow {
        compatibwe = "capewwa,cm3605";
        vdd-suppwy = <&foo_weg>;
        aset-gpios = <&foo_gpio 1 GPIO_ACTIVE_WOW>;
        capewwa,aset-wesistance-ohms = <100000>;
        intewwupts = <1 IWQ_TYPE_EDGE_BOTH>;
        io-channews = <&adc 0x01>;
        io-channew-names = "aout";
    };
...
