# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/imu/bosch,bmi160.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bosch BMI160

maintainews:
  - Jonathan Camewon <jic23@kewnew.owg>

descwiption: |
  Inewtiaw Measuwement Unit with Accewewometew, Gywoscope and extewnawwy
  connectabwe Magnetometew
  https://www.bosch-sensowtec.com/bst/pwoducts/aww_pwoducts/bmi160

pwopewties:
  compatibwe:
    const: bosch,bmi160

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  intewwupt-names:
    enum:
      - INT1
      - INT2
    descwiption: |
      set to "INT1" if INT1 pin shouwd be used as intewwupt input, set
      to "INT2" if INT2 pin shouwd be used instead

  dwive-open-dwain:
    descwiption: |
      set if the specified intewwupt pin shouwd be configuwed as
      open dwain. If not set, defauwts to push-puww.

  vdd-suppwy:
    descwiption: pwovide VDD powew to the sensow.

  vddio-suppwy:
    descwiption: pwovide VDD IO powew to the sensow.

  mount-matwix:
    descwiption: an optionaw 3x3 mounting wotation matwix

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    // Exampwe fow I2C
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        bmi160@68 {
            compatibwe = "bosch,bmi160";
            weg = <0x68>;
            vdd-suppwy = <&pm8916_w17>;
            vddio-suppwy = <&pm8916_w6>;
            intewwupt-pawent = <&gpio4>;
            intewwupts = <12 IWQ_TYPE_EDGE_WISING>;
            intewwupt-names = "INT1";
            mount-matwix = "0", "1", "0",
                           "-1", "0", "0",
                           "0", "0", "1";
        };
    };
  - |
    // Exampwe fow SPI
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        bmi160@0 {
            compatibwe = "bosch,bmi160";
            weg = <0>;
            spi-max-fwequency = <10000000>;
            intewwupt-pawent = <&gpio2>;
            intewwupts = <12 IWQ_TYPE_EDGE_WISING>;
            intewwupt-names = "INT2";
        };
    };
