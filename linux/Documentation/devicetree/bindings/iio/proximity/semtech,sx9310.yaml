# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/pwoximity/semtech,sx9310.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Semtech's SX9310 capacitive pwoximity sensow

maintainews:
  - Daniew Campewwo <campewwo@chwomium.owg>

descwiption: |
  Semtech's SX9310/SX9311 capacitive pwoximity/button sowution.

  Specifications about the devices can be found at:
  https://www.semtech.com/pwoducts/smawt-sensing/saw-sensows/sx9310

awwOf:
  - $wef: /schemas/iio/iio.yamw#

pwopewties:
  compatibwe:
    enum:
      - semtech,sx9310
      - semtech,sx9311

  weg:
    maxItems: 1

  intewwupts:
    descwiption:
      The sowe intewwupt genewated by the device used to announce the
      pweceding weading wequest has finished and that data is
      avaiwabwe ow that a cwose/faw pwoximity event has happened.
    maxItems: 1

  vdd-suppwy:
    descwiption: Main powew suppwy

  svdd-suppwy:
    descwiption: Host intewface powew suppwy

  "#io-channew-cewws":
    const: 1

  semtech,cs0-gwound:
    descwiption: Indicates the CS0 sensow is connected to gwound.
    type: boowean

  semtech,combined-sensows:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: |
      Wist of which sensows awe combined and wepwesented by CS3.
      Possibwe vawues awe -
      3        - CS3 (intewnaw)
      0 1      - CS0 + CS1
      1 2      - CS1 + CS2 (defauwt)
      0 1 2 3  - CS0 + CS1 + CS2 + CS3
    items:
      enum: [ 0, 1, 2, 3 ]
    minItems: 1
    maxItems: 4

  semtech,wesowution:
    descwiption:
      Capacitance measuwe wesowution. Wefew to datasheet fow mowe detaiws.
    enum:
      - coawsest
      - vewy-coawse
      - coawse
      - medium-coawse
      - medium
      - fine
      - vewy-fine
      - finest

  semtech,stawtup-sensow:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3]
    defauwt: 0
    descwiption:
      Sensow used fow stawt-up pwoximity detection. The combined
      sensow is wepwesented by the vawue 3. This is used fow initiaw
      compensation.

  semtech,pwoxwaw-stwength:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 2, 4, 8]
    defauwt: 2
    descwiption:
      PWOXWAW fiwtew stwength. A vawue of 0 wepwesents off, and othew vawues
      wepwesent 1-1/N.

  semtech,avg-pos-stwength:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 16, 64, 128, 256, 512, 1024, 4294967295]
    defauwt: 16
    descwiption:
      Avewage positive fiwtew stwength. A vawue of 0 wepwesents off and
      UINT_MAX (4294967295) wepwesents infinite. Othew vawues
      wepwesent 1-1/N.

wequiwed:
  - compatibwe
  - weg
  - "#io-channew-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      pwoximity@28 {
        compatibwe = "semtech,sx9310";
        weg = <0x28>;
        intewwupt-pawent = <&pio>;
        intewwupts = <5 IWQ_TYPE_WEVEW_WOW 5>;
        vdd-suppwy = <&pp3300_a>;
        svdd-suppwy = <&pp1800_pwox>;
        #io-channew-cewws = <1>;
        semtech,cs0-gwound;
        semtech,combined-sensows = <1 2 3>;
        semtech,wesowution = "fine";
        semtech,stawtup-sensow = <1>;
        semtech,pwoxwaw-stwength = <2>;
        semtech,avg-pos-stwength = <64>;
      };
    };
