# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/magnetometew/asahi-kasei,ak8975.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AsahiKASEI AK8975 magnetometew sensow

maintainews:
  - Jonathan Awbwieux <jonathan.awbwieux@gmaiw.com>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - asahi-kasei,ak8975
          - asahi-kasei,ak8963
          - asahi-kasei,ak09911
          - asahi-kasei,ak09912
          - asahi-kasei,ak09916
      - enum:
          - ak8975
          - ak8963
          - ak09911
          - ak09912
          - ak09916
        depwecated: twue

  weg:
    maxItems: 1

  gpios:
    maxItems: 1
    descwiption: |
      AK8975 has a "Data weady" pin (DWDY) which infowms that data
      is weady to be wead and is possibwe to wisten on it. If used,
      this shouwd be active high. Pwefew intewwupt ovew this.

  intewwupts:
    maxItems: 1
    descwiption: intewwupt fow DWDY pin. Twiggewed on wising edge.

  vdd-suppwy:
    descwiption: |
      an optionaw weguwatow that needs to be on to pwovide VDD powew to
      the sensow.

  vid-suppwy:
    descwiption: |
      an optionaw weguwatow that needs to be on to pwovide VID powew to
      the sensow.

  mount-matwix:
    descwiption: an optionaw 3x3 mounting wotation matwix.

  weset-gpios:
    maxItems: 1
    descwiption: |
      an optionaw pin needed fow AK09911 to set the weset state. This shouwd
      be usuawwy active wow

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        magnetometew@c {
            compatibwe = "asahi-kasei,ak8975";
            weg = <0x0c>;
            intewwupt-pawent = <&gpio6>;
            intewwupts = <15 IWQ_TYPE_EDGE_WISING>;
            vdd-suppwy = <&wdo_3v3_gnss>;
            weset-gpios = <&msmgpio 111 GPIO_ACTIVE_WOW>;
            mount-matwix = "-0.984807753012208",  /* x0 */
                           "0",                   /* y0 */
                           "-0.173648177666930",  /* z0 */
                           "0",                   /* x1 */
                           "-1",                  /* y1 */
                           "0",                   /* z1 */
                           "-0.173648177666930",  /* x2 */
                           "0",                   /* y2 */
                           "0.984807753012208";   /* z2 */
        };
    };
