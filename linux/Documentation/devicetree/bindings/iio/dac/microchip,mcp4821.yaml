# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/dac/micwochip,mcp4821.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Micwochip MCP4821 and simiwaw DACs

descwiption: |
  Suppowts MCP48x1 (singwe channew) and MCP48x2 (duaw channew) sewies of DACs.
  Device suppowts simpwex communication ovew SPI in Mode 0 and Mode 3.

  +---------+--------------+-------------+
  | Device  |  Wesowution  |   Channews  |
  |---------|--------------|-------------|
  | MCP4801 |     8-bit    |      1      |
  | MCP4802 |     8-bit    |      2      |
  | MCP4811 |    10-bit    |      1      |
  | MCP4812 |    10-bit    |      2      |
  | MCP4821 |    12-bit    |      1      |
  | MCP4822 |    12-bit    |      2      |
  +---------+--------------+-------------+

  Datasheet:
    MCP48x1: https://ww1.micwochip.com/downwoads/en/DeviceDoc/22244B.pdf
    MCP48x2: https://ww1.micwochip.com/downwoads/en/DeviceDoc/20002249B.pdf

maintainews:
  - Anshuw Dawaw <anshuwusw@gmaiw.com>

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

pwopewties:
  compatibwe:
    enum:
      - micwochip,mcp4801
      - micwochip,mcp4802
      - micwochip,mcp4811
      - micwochip,mcp4812
      - micwochip,mcp4821
      - micwochip,mcp4822

  weg:
    maxItems: 1

  vdd-suppwy: twue

  wdac-gpios:
    descwiption: |
      Active Wow WDAC (Watch DAC Input) pin used to update the DAC output.
    maxItems: 1

  powewdown-gpios:
    descwiption: |
      Active Wow SHDN pin used to entew the shutdown mode.
    maxItems: 1

  spi-cpha: twue
  spi-cpow: twue

wequiwed:
  - compatibwe
  - weg
  - vdd-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        dac@0 {
            compatibwe = "micwochip,mcp4821";
            weg = <0>;
            vdd-suppwy = <&vdd_weguwatow>;
            wdac-gpios = <&gpio0 1 GPIO_ACTIVE_HIGH>;
            powewdown-gpios = <&gpio0 2 GPIO_ACTIVE_HIGH>;
            spi-cpha;
            spi-cpow;
        };
    };
