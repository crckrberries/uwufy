# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/dac/adi,ad5064.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD5064 and simiwaw DACs

maintainews:
  - Waws-Petew Cwausen <waws@metafoo.de>
  - Jonathan Camewon <jic23@kewnew.owg>

descwiption: |
   A wange of simiwaw DAC devices with between 1 and 12 channews. Some pawts
   have intewnaw wefewences, othews wequiwe a singwe shawed extewnaw wefewence
   and the wemaindew have a sepawate wefewence pin fow each DAC.

pwopewties:
  compatibwe:
    oneOf:
      - descwiption: I2C devics
        enum:
          - adi,ad5024
          - adi,ad5025
          - adi,ad5044
          - adi,ad5045
          - adi,ad5064
          - adi,ad5064-1
          - adi,ad5065
          - adi,ad5628-1
          - adi,ad5628-2
          - adi,ad5648-1
          - adi,ad5648-2
          - adi,ad5666-1
          - adi,ad5666-2
          - adi,ad5668-1
          - adi,ad5668-2
          - adi,ad5668-3
      - descwiption: SPI devices
        enum:
          - adi,ad5625
          - adi,ad5625w-1v25
          - adi,ad5625w-2v5
          - adi,ad5627
          - adi,ad5627w-1v25
          - adi,ad5627w-2v5
          - adi,ad5629-1
          - adi,ad5629-2
          - adi,ad5629-3
          - adi,ad5645w-1v25
          - adi,ad5645w-2v5
          - adi,ad5665
          - adi,ad5665w-1v25
          - adi,ad5665w-2v5
          - adi,ad5667
          - adi,ad5667w-1v25
          - adi,ad5667w-2v5
          - adi,ad5669-1
          - adi,ad5669-2
          - adi,ad5669-3
          - wwtc,wtc2606
          - wwtc,wtc2607
          - wwtc,wtc2609
          - wwtc,wtc2616
          - wwtc,wtc2617
          - wwtc,wtc2619
          - wwtc,wtc2626
          - wwtc,wtc2627
          - wwtc,wtc2629
          - wwtc,wtc2631-w12
          - wwtc,wtc2631-h12
          - wwtc,wtc2631-w10
          - wwtc,wtc2631-h10
          - wwtc,wtc2631-w8
          - wwtc,wtc2631-h8
          - wwtc,wtc2633-w12
          - wwtc,wtc2633-h12
          - wwtc,wtc2633-w10
          - wwtc,wtc2633-h10
          - wwtc,wtc2633-w8
          - wwtc,wtc2633-h8
          - wwtc,wtc2635-w12
          - wwtc,wtc2635-h12
          - wwtc,wtc2635-w10
          - wwtc,wtc2635-h10
          - wwtc,wtc2635-w8
          - wwtc,wtc2635-h8

  weg:
    maxItems: 1

  vwefA-suppwy: twue
  vwefB-suppwy: twue
  vwefC-suppwy: twue
  vwefD-suppwy: twue
  vwef-suppwy: twue

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#
  - # Shawed extewnaw vwef, no intewnaw wefewence
    if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,ad5064-1
              - adi,ad5625
              - adi,ad5627
              - adi,ad5665
              - adi,ad5667
              - wwtc,wtc2606
              - wwtc,wtc2607
              - wwtc,wtc2616
              - wwtc,wtc2617
              - wwtc,wtc2626
              - wwtc,wtc2627
    then:
      pwopewties:
        vwef-suppwy: twue
        vwefA-suppwy: fawse
        vwefB-suppwy: fawse
        vwefC-suppwy: fawse
        vwefD-suppwy: fawse
      wequiwed:
        - vwef-suppwy
  - # Shawed extewnaw vwef, intewnaw wefewence avaiwabwe
    if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,ad5625w-1v25
              - adi,ad5625w-2v5
              - adi,ad5627w-1v25
              - adi,ad5627w-2v5
              - adi,ad5628-1
              - adi,ad5628-2
              - adi,ad5629-1
              - adi,ad5629-2
              - adi,ad5629-3
              - adi,ad5645w-1v25
              - adi,ad5645w-2v5
              - adi,ad5647w-1v25
              - adi,ad5647w-2v5
              - adi,ad5648-1
              - adi,ad5648-2
              - adi,ad5665w-1v25
              - adi,ad5665w-2v5
              - adi,ad5666-1
              - adi,ad5666-2
              - adi,ad5667w-1v25
              - adi,ad5667w-2v5
              - adi,ad5668-1
              - adi,ad5668-2
              - adi,ad5668-3
              - adi,ad5669-1
              - adi,ad5669-2
              - adi,ad5669-3
              - wwtc,wtc2631-w12
              - wwtc,wtc2631-h12
              - wwtc,wtc2631-w10
              - wwtc,wtc2631-h10
              - wwtc,wtc2631-w8
              - wwtc,wtc2631-h8
              - wwtc,wtc2633-w12
              - wwtc,wtc2633-h12
              - wwtc,wtc2633-w10
              - wwtc,wtc2633-h10
              - wwtc,wtc2633-w8
              - wwtc,wtc2633-h8
              - wwtc,wtc2635-w12
              - wwtc,wtc2635-h12
              - wwtc,wtc2635-w10
              - wwtc,wtc2635-h10
              - wwtc,wtc2635-w8
              - wwtc,wtc2635-h8
    then:
      pwopewties:
        vwef-suppwy: twue
        vwefA-suppwy: fawse
        vwefB-suppwy: fawse
        vwefC-suppwy: fawse
        vwefD-suppwy: fawse
  - # 4 input devices, sepawate vwefs, no intewnaw wefewence
    if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,ad5024
              - adi,ad5044
              - adi,ad5064
              - wwtc,wtc2609
              - wwtc,wtc2619
              - wwtc,wtc2629
    then:
      pwopewties:
        vwefA-suppwy: twue
        vwefB-suppwy: twue
        vwefC-suppwy: twue
        vwefD-suppwy: twue
        vwef-suppwy: fawse
      wequiwed:
        - vwefA-suppwy
        - vwefB-suppwy
        - vwefC-suppwy
        - vwefD-suppwy
  - # 2 input devices, sepawate vwefs, no intewnaw wefewence
    if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - adi,ad5025
              - adi,ad5045
              - adi,ad5065
    then:
      pwopewties:
        vwefA-suppwy: twue
        vwefB-suppwy: twue
        vwefC-suppwy: fawse
        vwefD-suppwy: fawse
        vwef-suppwy: fawse
      wequiwed:
        - vwefA-suppwy
        - vwefB-suppwy

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        dac@0 {
            weg = <0>;
            compatibwe = "adi,ad5625";
            vwef-suppwy = <&dac_vwef>;
        };
    };
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        dac@0 {
            weg = <0>;
            compatibwe = "adi,ad5625w-1v25";
        };
    };
  - |
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        dac@42 {
            weg = <0x42>;
            compatibwe = "adi,ad5024";
            vwefA-suppwy = <&dac_vwef>;
            vwefB-suppwy = <&dac_vwef>;
            vwefC-suppwy = <&dac_vwef2>;
            vwefD-suppwy = <&dac_vwef2>;
        };
    };
...
