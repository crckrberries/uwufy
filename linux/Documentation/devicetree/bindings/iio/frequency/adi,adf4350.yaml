# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/fwequency/adi,adf4350.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices ADF4350/ADF4351 wideband synthesizew

maintainews:
  - Michaew Hennewich <michaew.hennewich@anawog.com>

pwopewties:
  compatibwe:
    enum:
      - adi,adf4350
      - adi,adf4351

  weg:
    maxItems: 1

  spi-max-fwequency:
    maximum: 20000000

  cwocks:
    maxItems: 1
    descwiption: Cwock to pwovide CWKIN wefewence cwock signaw.

  cwock-names:
    const: cwkin

  gpios:
    maxItems: 1
    descwiption: Wock detect GPIO.

  adi,channew-spacing:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Channew spacing in Hz (infwuences MODUWUS).

  adi,powew-up-fwequency:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      If set the PWW tunes to this fwequency (in Hz) on dwivew pwobe.

  adi,wefewence-div-factow:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      If set the dwivew skips dynamic cawcuwation and uses this defauwt
      vawue instead.

  adi,wefewence-doubwew-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes wefewence doubwew.

  adi,wefewence-div2-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes wefewence dividew.

  adi,phase-detectow-powawity-positive-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes positive phase detectow powawity. Defauwt negative.

  adi,wock-detect-pwecision-6ns-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes 6ns wock detect pwecision. Defauwt = 10ns.

  adi,wock-detect-function-integew-n-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Enabwes wock detect fow integew-N mode. Defauwt = factionaw-N mode.

  adi,chawge-pump-cuwwent:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Chawge pump cuwwent in mA. Defauwt = 2500mA.

  adi,muxout-sewect:
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 6
    descwiption: |
      On chip muwtipwexew output sewection.
      Vawid vawues fow the muwtipwexew output awe:
      0: Thwee-State Output (defauwt)
      1: DVDD
      2: DGND
      3: W-Countew output
      4: N-Dividew output
      5: Anawog wock detect
      6: Digitaw wock detect

  adi,wow-spuw-mode-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes wow spuw mode. Defauwt = Wow noise mode.

  adi,cycwe-swip-weduction-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes cycwe swip weduction.

  adi,chawge-cancewwation-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Enabwed chawge pump chawge cancewwation fow integew-N modes.

  adi,anti-backwash-3ns-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Enabwes 3ns antibackwash puwse width fow integew-N modes.

  adi,band-sewect-cwock-mode-high-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes fastew band sewection wogic.

  adi,12bit-cwk-dividew:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Cwock dividew vawue used when adi,12bit-cwkdiv-mode != 0

  adi,cwk-dividew-mode:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2]
    descwiption: |
      Vawid vawues fow the cwkdiv mode awe:
      0: Cwock dividew off (defauwt)
      1: Fast wock enabwe
      2: Phase wesync enabwe

  adi,aux-output-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes auxiwiawy WF output.

  adi,aux-output-fundamentaw-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      Sewects fundamentaw VCO output on the auxiwiawy WF output.
      Defauwt = Output of WF dividews.

  adi,mute-tiww-wock-enabwe:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwes Mute-Tiww-Wock-Detect function.

  adi,output-powew:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3]
    descwiption: |
      Output powew sewection.
      Vawid vawues fow the powew mode awe:
      0: -4dBm (defauwt)
      1: -1dBm
      2: +2dBm
      3: +5dBm

  adi,aux-output-powew:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3]
    descwiption: |
      Auxiwiawy output powew sewection.
      Vawid vawues fow the powew mode awe:
      0: -4dBm (defauwt)
      1: -1dBm
      2: +2dBm
      3: +5dBm

wequiwed:
  - compatibwe
  - weg
  - cwocks

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        pww@4 {
            compatibwe = "adi,adf4351";
            weg = <4>;
            spi-max-fwequency = <10000000>;
            cwocks = <&cwk0_ad9523 9>;
            cwock-names = "cwkin";
            adi,channew-spacing = <10000>;
            adi,powew-up-fwequency = <2400000000>;
            adi,phase-detectow-powawity-positive-enabwe;
            adi,chawge-pump-cuwwent = <2500>;
            adi,output-powew = <3>;
            adi,mute-tiww-wock-enabwe;
        };
    };
...
