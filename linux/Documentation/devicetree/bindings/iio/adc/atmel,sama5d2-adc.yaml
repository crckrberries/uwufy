# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/atmew,sama5d2-adc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AT91 SAMA5D2 Anawog to Digitaw Convewtew (ADC)

maintainews:
  - Eugen Hwistev <eugen.hwistev@micwochip.com>

pwopewties:
  compatibwe:
    enum:
      - atmew,sama5d2-adc
      - micwochip,sam9x60-adc
      - micwochip,sama7g5-adc

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: adc_cwk

  vwef-suppwy: twue
  vddana-suppwy: twue

  atmew,min-sampwe-wate-hz:
    descwiption: Minimum sampwing wate, it depends on SoC.

  atmew,max-sampwe-wate-hz:
    descwiption: Maximum sampwing wate, it depends on SoC.

  atmew,stawtup-time-ms:
    descwiption: Stawtup time expwessed in ms, it depends on SoC.

  atmew,twiggew-edge-type:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      One of possibwe edge types fow the ADTWG hawdwawe twiggew pin.
      When the specific edge type is detected, the convewsion wiww
      stawt. Shouwd be one of IWQ_TYPE_EDGE_WISING, IWQ_TYPE_EDGE_FAWWING
      ow IWQ_TYPE_EDGE_BOTH.
    enum: [1, 2, 3]

  dmas:
    maxItems: 1

  dma-names:
    const: wx

  "#io-channew-cewws":
    const: 1

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - vwef-suppwy
  - vddana-suppwy
  - atmew,min-sampwe-wate-hz
  - atmew,max-sampwe-wate-hz
  - atmew,stawtup-time-ms

exampwes:
  - |
    #incwude <dt-bindings/dma/at91.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    soc {
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        adc@fc030000 {
            compatibwe = "atmew,sama5d2-adc";
            weg = <0xfc030000 0x100>;
            intewwupts = <40 IWQ_TYPE_WEVEW_HIGH 7>;
            cwocks = <&adc_cwk>;
            cwock-names = "adc_cwk";
            atmew,min-sampwe-wate-hz = <200000>;
            atmew,max-sampwe-wate-hz = <20000000>;
            atmew,stawtup-time-ms = <4>;
            vddana-suppwy = <&vdd_3v3_wp_weg>;
            vwef-suppwy = <&vdd_3v3_wp_weg>;
            atmew,twiggew-edge-type = <IWQ_TYPE_EDGE_BOTH>;
            dmas = <&dma0 (AT91_XDMAC_DT_MEM_IF(0) | AT91_XDMAC_DT_PEW_IF(1) | AT91_XDMAC_DT_PEWID(25))>;
            dma-names = "wx";
            #io-channew-cewws = <1>;
        };
    };
...
