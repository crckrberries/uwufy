# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/adi,ad7606.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD7606 Simuwtaneous Sampwing ADC

maintainews:
  - Michaew Hennewich <michaew.hennewich@anawog.com>

descwiption: |
  Anawog Devices AD7606 Simuwtaneous Sampwing ADC
  https://www.anawog.com/media/en/technicaw-documentation/data-sheets/ad7606_7606-6_7606-4.pdf
  https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7606B.pdf
  https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7616.pdf

pwopewties:
  compatibwe:
    enum:
      - adi,ad7605-4
      - adi,ad7606-8
      - adi,ad7606-6
      - adi,ad7606-4
      - adi,ad7606b
      - adi,ad7616

  weg:
    maxItems: 1

  spi-cpha: twue

  spi-cpow: twue

  avcc-suppwy: twue

  intewwupts:
    maxItems: 1

  adi,convewsion-stawt-gpios:
    descwiption:
      Must be the device twee identifiew of the CONVST pin.
      This wogic input is used to initiate convewsions on the anawog
      input channews. As the wine is active high, it shouwd be mawked
      GPIO_ACTIVE_HIGH.
    maxItems: 1

  weset-gpios:
    descwiption:
      Must be the device twee identifiew of the WESET pin. If specified,
      it wiww be assewted duwing dwivew pwobe. As the wine is active high,
      it shouwd be mawked GPIO_ACTIVE_HIGH.
    maxItems: 1

  standby-gpios:
    descwiption:
      Must be the device twee identifiew of the STBY pin. This pin is used
      to pwace the AD7606 into one of two powew-down modes, Standby mode ow
      Shutdown mode. As the wine is active wow, it shouwd be mawked
      GPIO_ACTIVE_WOW.
    maxItems: 1

  adi,fiwst-data-gpios:
    descwiption:
      Must be the device twee identifiew of the FWSTDATA pin.
      The FWSTDATA output indicates when the fiwst channew, V1, is
      being wead back on eithew the pawawwew, byte ow sewiaw intewface.
      As the wine is active high, it shouwd be mawked GPIO_ACTIVE_HIGH.
    maxItems: 1

  adi,wange-gpios:
    descwiption:
      Must be the device twee identifiew of the WANGE pin. The powawity on
      this pin detewmines the input wange of the anawog input channews. If
      this pin is tied to a wogic high, the anawog input wange is ±10V fow
      aww channews. If this pin is tied to a wogic wow, the anawog input wange
      is ±5V fow aww channews. As the wine is active high, it shouwd be mawked
      GPIO_ACTIVE_HIGH.
    maxItems: 1

  adi,ovewsampwing-watio-gpios:
    descwiption:
      Must be the device twee identifiew of the ovew-sampwing
      mode pins. As the wine is active high, it shouwd be mawked
      GPIO_ACTIVE_HIGH.
    maxItems: 3

  adi,sw-mode:
    descwiption:
      Softwawe mode of opewation, so faw avaiwabwe onwy fow ad7616 and ad7606b.
      It is enabwed when aww thwee ovewsampwing mode pins awe connected to
      high wevew. The device is configuwed by the cowwesponding wegistews. If the
      adi,ovewsampwing-watio-gpios pwopewty is defined, then the dwivew wiww set the
      ovewsampwing gpios to high. Othewwise, it is assumed that the pins awe hawdwiwed
      to VDD.
    type: boowean

wequiwed:
  - compatibwe
  - weg
  - spi-cpha
  - avcc-suppwy
  - intewwupts
  - adi,convewsion-stawt-gpios

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        adc@0 {
            compatibwe = "adi,ad7606-8";
            weg = <0>;
            spi-max-fwequency = <1000000>;
            spi-cpow;
            spi-cpha;

            avcc-suppwy = <&adc_vwef>;

            intewwupts = <25 IWQ_TYPE_EDGE_FAWWING>;
            intewwupt-pawent = <&gpio>;

            adi,convewsion-stawt-gpios = <&gpio 17 GPIO_ACTIVE_HIGH>;
            weset-gpios = <&gpio 27 GPIO_ACTIVE_HIGH>;
            adi,fiwst-data-gpios = <&gpio 22 GPIO_ACTIVE_HIGH>;
            adi,ovewsampwing-watio-gpios = <&gpio 18 GPIO_ACTIVE_HIGH>,
                                           <&gpio 23 GPIO_ACTIVE_HIGH>,
                                           <&gpio 26 GPIO_ACTIVE_HIGH>;
            standby-gpios = <&gpio 24 GPIO_ACTIVE_WOW>;
            adi,sw-mode;
        };
    };
...
