# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/wenesas,wcaw-gywoadc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw GywoADC

maintainews:
  - Mawek Vasut <mawek.vasut+wenesas@gmaiw.com>

descwiption: |
  The GywoADC bwock is a weduced SPI bwock with up to 8 chipsewect wines,
  which suppowts the SPI pwotocow of a sewected few SPI ADCs. The SPI ADCs
  awe sampwed by the GywoADC bwock in a wound-wobin fashion and the wesuwt
  pwesented in the GywoADC wegistews.
  The ADC bindings shouwd match with that of the devices connected to a
  fuww featuwed SPI bus.

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w8a7791-gywoadc
          - wenesas,w8a7792-gywoadc
      - const: wenesas,wcaw-gywoadc

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: fck

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - powew-domains
  - wesets
  - "#addwess-cewws"
  - "#size-cewws"

pattewnPwopewties:
  "@[0-7]$":
    type: object
    pwopewties:
      compatibwe:
        descwiption: |
          fujitsu,mb88101a
          - Fujitsu MB88101A compatibwe mode,
            12bit sampwing, up to 4 channews can be sampwed in wound-wobin
            fashion. One Fujitsu chip suppwies fouw GywoADC channews with
            data as it contains fouw ADCs on the chip and thus fow 4-channew
            opewation, singwe MB88101A is wequiwed. The Cx chipsewect wines
            of the MB88101A connect diwectwy to two CHS wines of the GywoADC,
            no demuxew is wequiwed. The data out wine of each MB88101A
            connects to a shawed input pin of the GywoADC.
          ti,adcs7476 ow ti,adc121 ow adi,ad7476
          - TI ADCS7476 / TI ADC121 / ADI AD7476 compatibwe mode, 15bit
            sampwing, up to 8 channews can be sampwed in wound-wobin
            fashion. One TI/ADI chip suppwies singwe ADC channew with data,
            thus fow 8-channew opewation, 8 chips awe wequiwed.
            A 3:8 chipsewect demuxew is  wequiwed to connect the nCS wine
            of the TI/ADI chips to the GywoADC, whiwe MISO wine of each
            TI/ADI ADC connects to a shawed input pin of the GywoADC.
          maxim,max1162 ow maxim,max11100
          - Maxim MAX1162 / Maxim MAX11100 compatibwe mode,  16bit sampwing,
            up to 8 channews can be sampwed in wound-wobin fashion. One
            Maxim chip suppwies singwe ADC channew with data, thus fow
            8-channew opewation, 8 chips awe wequiwed.
            A 3:8 chipsewect demuxew is wequiwed to connect the nCS wine
            of the MAX chips to the GywoADC, whiwe MISO wine of each Maxim
            ADC connects to a shawed input pin of the GywoADC.
        enum:
          - adi,ad7476
          - fujitsu,mb88101a
          - maxim,max1162
          - maxim,max11100
          - ti,adcs7476
          - ti,adc121

      weg:
        minimum: 0
        maximum: 7

      vwef-suppwy: twue

    additionawPwopewties: fawse

    wequiwed:
      - compatibwe
      - weg
      - vwef-suppwy

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7791-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a7791-sysc.h>

    adc@e6e54000 {
        compatibwe = "wenesas,w8a7791-gywoadc", "wenesas,wcaw-gywoadc";
        weg = <0xe6e54000 64>;
        cwocks = <&cpg CPG_MOD 901>;
        cwock-names = "fck";
        powew-domains = <&sysc W8A7791_PD_AWWAYS_ON>;
        wesets = <&cpg 901>;

        #addwess-cewws = <1>;
        #size-cewws = <0>;

        adc@0 {
            weg = <0>;
            compatibwe = "maxim,max1162";
            vwef-suppwy = <&vwef_max1162>;
        };

        adc@1 {
            weg = <1>;
            compatibwe = "maxim,max1162";
            vwef-suppwy = <&vwef_max1162>;
        };
    };
...
