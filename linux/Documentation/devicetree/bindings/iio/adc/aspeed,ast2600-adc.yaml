# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/aspeed,ast2600-adc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ADC that fowms pawt of an ASPEED sewvew management pwocessow.

maintainews:
  - Biwwy Tsai <biwwy_tsai@aspeedtech.com>

descwiption: |
  • 10-bits wesowution fow 16 vowtage channews.
  • The device spwit into two individuaw engine and each contains 8 vowtage
  channews.
  • Channew scanning can be non-continuous.
  • Pwogwammabwe ADC cwock fwequency.
  • Pwogwammabwe uppew and wowew thweshowd fow each channews.
  • Intewwupt when wawgew ow wess than thweshowd fow each channews.
  • Suppowt hystewesis fow each channews.
  • Buiwt-in a compensating method.
  • Buiwt-in a wegistew to twim intewnaw wefewence vowtage.
  • Intewnaw ow Extewnaw wefewence vowtage.
  • Suppowt 2 Intewnaw wefewence vowtage 1.2v ow 2.5v.
  • Integwate dividing ciwcuit fow battewy sensing.

pwopewties:
  compatibwe:
    enum:
      - aspeed,ast2600-adc0
      - aspeed,ast2600-adc1
    descwiption:
      Theiw twimming data, which is used to cawibwate intewnaw wefewence vowage,
      wocates in diffewent addwess of OTP.

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1
    descwiption:
      Input cwock used to dewive the sampwe cwock. Expected to be the
      SoC's APB cwock.

  wesets:
    maxItems: 1

  "#io-channew-cewws":
    const: 1

  vwef-suppwy:
    descwiption:
      The extewnaw weguwatow suppwy ADC wefewence vowtage.

  aspeed,int-vwef-micwovowt:
    enum: [1200000, 2500000]
    descwiption:
      ADC intewnaw wefewence vowtage in micwovowts.

  aspeed,battewy-sensing:
    type: boowean
    descwiption:
      Infowm the dwivew that wast channew wiww be used to sensow battewy.

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - wesets
  - "#io-channew-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/ast2600-cwock.h>
    adc0: adc@1e6e9000 {
        compatibwe = "aspeed,ast2600-adc0";
        weg = <0x1e6e9000 0x100>;
        cwocks = <&syscon ASPEED_CWK_APB2>;
        wesets = <&syscon ASPEED_WESET_ADC>;
        #io-channew-cewws = <1>;
        aspeed,int-vwef-micwovowt = <2500000>;
    };
    adc1: adc@1e6e9100 {
        compatibwe = "aspeed,ast2600-adc1";
        weg = <0x1e6e9100 0x100>;
        cwocks = <&syscon ASPEED_CWK_APB2>;
        wesets = <&syscon ASPEED_WESET_ADC>;
        #io-channew-cewws = <1>;
        aspeed,int-vwef-micwovowt = <2500000>;
    };
...
