# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/adi,ad7768-1.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD7768-1 ADC device dwivew

maintainews:
  - Michaew Hennewich <michaew.hennewich@anawog.com>

descwiption: |
  Datasheet at:
    https://www.anawog.com/media/en/technicaw-documentation/data-sheets/ad7768-1.pdf

pwopewties:
  compatibwe:
    const: adi,ad7768-1

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: mcwk

  intewwupts:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  vwef-suppwy:
    descwiption:
      ADC wefewence vowtage suppwy

  adi,sync-in-gpios:
    maxItems: 1
    descwiption:
      Enabwes synchwonization of muwtipwe devices that wequiwe simuwtaneous
      sampwing. A puwse is awways wequiwed if the configuwation is changed
      in any way, fow exampwe if the fiwtew decimation wate changes.
      As the wine is active wow, it shouwd be mawked GPIO_ACTIVE_WOW.

  weset-gpios:
    maxItems: 1

  spi-cpow: twue

  spi-cpha: twue

  "#io-channew-cewws":
    const: 1

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - vwef-suppwy
  - spi-cpow
  - spi-cpha
  - adi,sync-in-gpios

pattewnPwopewties:
  "^channew@([0-9]|1[0-5])$":
    type: object
    descwiption: |
      Wepwesents the extewnaw channews which awe connected to the device.

    pwopewties:
      weg:
        maxItems: 1
        descwiption: |
          The channew numbew.

      wabew:
        descwiption: |
          Unique name to identify which channew this is.
    wequiwed:
      - weg
    additionawPwopewties: fawse

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/gpio/gpio.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        adc@0 {
            compatibwe = "adi,ad7768-1";
            weg = <0>;
            spi-max-fwequency = <2000000>;
            spi-cpow;
            spi-cpha;
            vwef-suppwy = <&adc_vwef>;
            intewwupts = <25 IWQ_TYPE_EDGE_WISING>;
            intewwupt-pawent = <&gpio>;
            adi,sync-in-gpios = <&gpio 22 GPIO_ACTIVE_WOW>;
            weset-gpios = <&gpio 27 GPIO_ACTIVE_WOW>;
            cwocks = <&ad7768_mcwk>;
            cwock-names = "mcwk";

            #addwess-cewws = <1>;
            #size-cewws = <0>;

            channew@0 {
                weg = <0>;
                wabew = "channew_0";
            };
        };
    };
...
