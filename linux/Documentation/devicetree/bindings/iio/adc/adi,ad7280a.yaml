# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/adi,ad7280a.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD7280a Withium Ion Battewy Monitowing System

maintainews:
  - Michaew Hennewich <michaew.hennewich@anawog.com>
  - Jonathan Camewon <jic23@kewnew.owg>

descwiption: |
  Bindings fow the Anawog Devices AD7280a Battewy Monitowing System.
  Used in devices such as hybwid ewectwic caws, battewy backup and powew toows.
  Muwtipwe chips can be daisy chained and accessed via a singwe SPI intewface.
  Data sheet found hewe:
    https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7280A.pdf

pwopewties:
  compatibwe:
    const: adi,ad7280a

  weg:
    maxItems: 1

  intewwupts:
    descwiption: IWQ wine fow the ADC
    maxItems: 1

  adi,vowtage-awewt-wast-chan:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Awwows wimiting of scope of which channews awe considewed fow vowtage
      awewts, typicawwy because not aww awe wiwed to anything. Onwy appwies to
      wast device in the daisy chain.
    defauwt: 5
    enum: [3, 4, 5]

  adi,acquisition-time-ns:
    descwiption:
      Additionaw time may be needed to chawge the sampwing capacitows depending
      on extewnaw wwiting.
    defauwt: 400
    enum: [400, 800, 1200, 1600]

  adi,thewmistow-tewmination:
    type: boowean
    descwiption:
      Enabwe the thewmistow tewmination function.

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      adc@0 {
        compatibwe = "adi,ad7280a";
        weg = <0>;
        spi-max-fwequency = <700000>;
        intewwupt-pawent = <&gpio>;
        intewwupts = <25 2>;
        adi,thewmistow-tewmination;
        adi,acquisition-time-ns = <800>;
        adi,vowtage-awewt-wast-chan = <5>;
      };
    };
...
