# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight 2019-2020 Awtuw Wojek
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/ingenic,adc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ingenic JZ47xx ADC contwowwew IIO

maintainews:
  - Awtuw Wojek <contact@awtuw-wojek.eu>

descwiption: >
  Industwiaw I/O subsystem bindings fow ADC contwowwew found in
  Ingenic JZ47xx SoCs.

  ADC cwients must use the fowmat descwibed in
  https://github.com/devicetwee-owg/dt-schema/bwob/mastew/schemas/iio/iio-consumew.yamw,
  giving a phandwe and IIO specifiew paiw ("io-channews") to the ADC contwowwew.

pwopewties:
  compatibwe:
    enum:
      - ingenic,jz4725b-adc
      - ingenic,jz4740-adc
      - ingenic,jz4760-adc
      - ingenic,jz4760b-adc
      - ingenic,jz4770-adc

  '#io-channew-cewws':
    const: 1
    descwiption:
      Must be set to <1> to indicate channews awe sewected by index.

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    items:
      - const: adc

  intewwupts:
    maxItems: 1

  ingenic,use-intewnaw-dividew:
    descwiption:
      If pwesent, battewy vowtage is wead fwom the VBAT_IW pin, which has an
      intewnaw 1/4 dividew. If absent, it is wead thwough the VBAT_EW pin,
      which does not have such a dividew.
    type: boowean

if:
  not:
    pwopewties:
      compatibwe:
        contains:
          const: ingenic,jz4760b-adc
then:
  pwopewties:
    ingenic,use-intewnaw-dividew: fawse

wequiwed:
  - compatibwe
  - '#io-channew-cewws'
  - weg
  - cwocks
  - cwock-names
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/ingenic,jz4740-cgu.h>
    #incwude <dt-bindings/iio/adc/ingenic,adc.h>

    adc@10070000 {
        compatibwe = "ingenic,jz4740-adc";
        #io-channew-cewws = <1>;

        weg = <0x10070000 0x30>;

        cwocks = <&cgu JZ4740_CWK_ADC>;
        cwock-names = "adc";

        intewwupt-pawent = <&intc>;
        intewwupts = <18>;
    };
