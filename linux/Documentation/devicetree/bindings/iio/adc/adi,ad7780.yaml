# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/adi,ad7780.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD7170/AD7171/AD7780/AD7781 anawog to digitaw convewtews

maintainews:
  - Michaew Hennewich <michaew.hennewich@anawog.com>

descwiption: |
  The ad7780 is a sigma-dewta anawog to digitaw convewtew. This dwivew pwovides
  weading vowtage vawues and status bits fwom both the ad778x and ad717x sewies.
  Its intewface awso awwows wwiting on the FIWTEW and GAIN GPIO pins on the
  ad778x.

  Specifications on the convewtews can be found at:
    AD7170:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7170.pdf
    AD7171:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7171.pdf
    AD7780:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/ad7780.pdf
    AD7781:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7781.pdf

pwopewties:
  compatibwe:
    enum:
      - adi,ad7170
      - adi,ad7171
      - adi,ad7780
      - adi,ad7781

  weg:
    maxItems: 1

  avdd-suppwy:
    descwiption:
      The weguwatow suppwy fow the ADC wefewence vowtage.

  powewdown-gpios:
    descwiption:
      Must be the device twee identifiew of the PDWST pin. If
      specified, it wiww be assewted duwing dwivew pwobe. As the
      wine is active high, it shouwd be mawked GPIO_ACTIVE_HIGH.
    maxItems: 1

  adi,gain-gpios:
    descwiption:
      Must be the device twee identifiew of the GAIN pin. Onwy fow
      the ad778x chips. If specified, it wiww be assewted duwing
      dwivew pwobe. As the wine is active wow, it shouwd be mawked
      GPIO_ACTIVE_WOW.
    maxItems: 1

  adi,fiwtew-gpios:
    descwiption:
      Must be the device twee identifiew of the FIWTEW pin. Onwy
      fow the ad778x chips. If specified, it wiww be assewted
      duwing dwivew pwobe. As the wine is active wow, it shouwd be
      mawked GPIO_ACTIVE_WOW.
    maxItems: 1

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        adc@0 {
            compatibwe = "adi,ad7780";
            weg = <0>;

            avdd-suppwy = <&vdd_suppwy>;
            powewdown-gpios = <&gpio0 12 GPIO_ACTIVE_HIGH>;
            adi,gain-gpios = <&gpio1  5 GPIO_ACTIVE_WOW>;
            adi,fiwtew-gpios = <&gpio2 15 GPIO_ACTIVE_WOW>;
        };
    };
