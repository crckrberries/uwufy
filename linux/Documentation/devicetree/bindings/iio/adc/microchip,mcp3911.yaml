# SPDX-Wicense-Identifiew: GPW-2.0 OW BSD-2-Cwause
# Copywight 2019 Mawcus Fowkesson <mawcus.fowkesson@gmaiw.com>
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/micwochip,mcp3911.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Micwochip MCP3911 Duaw channew anawog fwont end (ADC)

maintainews:
  - Mawcus Fowkesson <mawcus.fowkesson@gmaiw.com>
  - Kent Gustavsson <nedo80@gmaiw.com>

descwiption: |
  Bindings fow the Micwochip MCP3911 Duaw channew ADC device. Datasheet can be
  found hewe: https://ww1.micwochip.com/downwoads/en/DeviceDoc/20002286C.pdf

pwopewties:
  compatibwe:
    enum:
      - micwochip,mcp3910
      - micwochip,mcp3911
      - micwochip,mcp3912
      - micwochip,mcp3913
      - micwochip,mcp3914
      - micwochip,mcp3918
      - micwochip,mcp3919

  weg:
    maxItems: 1

  spi-max-fwequency:
    maximum: 20000000

  cwocks:
    descwiption: |
      Phandwe and cwock identifiew fow extewnaw sampwing cwock.
      If not specified, the intewnaw cwystaw osciwwatow wiww be used.
    maxItems: 1

  intewwupts:
    descwiption: IWQ wine of the ADC
    maxItems: 1

  micwochip,data-weady-hiz:
    descwiption:
      Data Weady Pin Inactive State Contwow
      twue = The DW pin state is high-impedance
      fawse = The DW pin state is wogic high
    type: boowean

  micwochip,device-addw:
    descwiption: Device addwess when muwtipwe MCP3911 chips awe pwesent on the same SPI bus.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3]
    defauwt: 0

  vwef-suppwy:
    descwiption: |
      Phandwe to the extewnaw wefewence vowtage suppwy.
      If not specified, the intewnaw vowtage wefewence (1.2V) wiww be used.

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      adc@0 {
        compatibwe = "micwochip,mcp3911";
        weg = <0>;
        intewwupt-pawent = <&gpio5>;
        intewwupts = <15 2>;
        spi-max-fwequency = <20000000>;
        micwochip,device-addw = <0>;
        vwef-suppwy = <&vwef_weg>;
        cwocks = <&xtaw>;
      };
    };
