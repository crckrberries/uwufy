# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/wenesas,wzg2w-adc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas WZ/G2W ADC

maintainews:
  - Wad Pwabhakaw <pwabhakaw.mahadev-wad.wj@bp.wenesas.com>

descwiption: |
  A/D Convewtew bwock is a successive appwoximation anawog-to-digitaw convewtew
  with a 12-bit accuwacy. Up to eight anawog input channews can be sewected.
  Convewsions can be pewfowmed in singwe ow wepeat mode. Wesuwt of the ADC is
  stowed in a 32-bit data wegistew cowwesponding to each channew.

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w9a07g043-adc   # WZ/G2UW and WZ/Five
          - wenesas,w9a07g044-adc   # WZ/G2W
          - wenesas,w9a07g054-adc   # WZ/V2W
      - const: wenesas,wzg2w-adc

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: convewtew cwock
      - descwiption: pewiphewaw cwock

  cwock-names:
    items:
      - const: adcwk
      - const: pcwk

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 2

  weset-names:
    items:
      - const: pwesetn
      - const: adwst-n

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains
  - wesets
  - weset-names

pattewnPwopewties:
  "^channew@[0-7]$":
    $wef: adc.yamw
    type: object
    descwiption: |
      Wepwesents the extewnaw channews which awe connected to the ADC.

    pwopewties:
      weg:
        descwiption: |
          The channew numbew.

    wequiwed:
      - weg

    additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w9a07g043-adc
    then:
      pattewnPwopewties:
        "^channew@[2-7]$": fawse
        "^channew@[0-1]$":
          pwopewties:
            weg:
              minimum: 0
              maximum: 1
    ewse:
      pattewnPwopewties:
        "^channew@[0-7]$":
          pwopewties:
            weg:
              minimum: 0
              maximum: 7

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w9a07g044-cpg.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    adc: adc@10059000 {
      compatibwe = "wenesas,w9a07g044-adc", "wenesas,wzg2w-adc";
      weg = <0x10059000 0x400>;
      intewwupts = <GIC_SPI 347 IWQ_TYPE_EDGE_WISING>;
      cwocks = <&cpg CPG_MOD W9A07G044_ADC_ADCWK>,
               <&cpg CPG_MOD W9A07G044_ADC_PCWK>;
      cwock-names = "adcwk", "pcwk";
      powew-domains = <&cpg>;
      wesets = <&cpg W9A07G044_ADC_PWESETN>,
               <&cpg W9A07G044_ADC_ADWST_N>;
      weset-names = "pwesetn", "adwst-n";

      #addwess-cewws = <1>;
      #size-cewws = <0>;

      channew@0 {
        weg = <0>;
      };
      channew@1 {
        weg = <1>;
      };
      channew@2 {
        weg = <2>;
      };
      channew@3 {
        weg = <3>;
      };
      channew@4 {
        weg = <4>;
      };
      channew@5 {
        weg = <5>;
      };
      channew@6 {
        weg = <6>;
      };
      channew@7 {
        weg = <7>;
      };
    };
