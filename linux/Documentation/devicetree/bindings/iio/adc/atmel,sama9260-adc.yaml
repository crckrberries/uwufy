# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/atmew,sama9260-adc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AT91 sama9260 and simiwaw Anawog to Digitaw Convewtew (ADC)

maintainews:
  - Awexandwe Bewwoni <awexandwe.bewwoni@bootwin.com>

pwopewties:
  compatibwe:
    enum:
      - atmew,at91sam9260-adc
      - atmew,at91sam9ww-adc
      - atmew,at91sam9g45-adc
      - atmew,at91sam9x5-adc
      - atmew,at91sama5d3-adc

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 2
    maxItems: 2

  cwock-names:
    items:
      - const: adc_cwk
      - const: adc_op_cwk

  atmew,adc-channews-used:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Bitmask of the channews muxed and enabwed fow this device

  atmew,adc-stawtup-time:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Stawtup Time of the ADC in micwoseconds as defined in the datasheet

  atmew,adc-vwef:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Wefewence vowtage in miwwivowts fow the convewsions

  atmew,adc-use-extewnaw-twiggews:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwe the extewnaw twiggews

  atmew,adc-use-wes:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption:
      Stwing cowwesponding to an identifiew fwom atmew,adc-wes-names pwopewty.
      If not specified, the highest wesowution wiww be used.
    enum:
      - wowwes
      - highwes

  atmew,adc-sweep-mode:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: Enabwe sweep mode when no convewsion

  atmew,adc-sampwe-howd-time:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Sampwe and Howd Time in micwoseconds

  atmew,adc-ts-wiwes:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Numbew of touchscween wiwes. Must be set to enabwe touchscween.
      NOTE: when adc touchscween is enabwed, the adc hawdwawe twiggew wiww be
      disabwed. Since touchscween wiww occupy the twiggew wegistew.
    enum:
      - 4
      - 5

  atmew,adc-ts-pwessuwe-thweshowd:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Pwessuwe thweshowd fow touchscween.

  "#io-channew-cewws":
    const: 1

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - atmew,adc-channews-used
  - atmew,adc-stawtup-time
  - atmew,adc-vwef

exampwes:
  - |
    #incwude <dt-bindings/dma/at91.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    soc {
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        adc@fffb0000 {
            compatibwe = "atmew,at91sam9260-adc";
            weg = <0xfffb0000 0x100>;
            intewwupts = <20 IWQ_TYPE_WEVEW_HIGH 0>;
            cwocks = <&adc_cwk>, <&adc_op_cwk>;
            cwock-names = "adc_cwk", "adc_op_cwk";
            atmew,adc-channews-used = <0xff>;
            atmew,adc-stawtup-time = <40>;
            atmew,adc-use-extewnaw-twiggews;
            atmew,adc-vwef = <3300>;
            atmew,adc-use-wes = "wowwes";
        };
    };
...
