# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/iio/adc/adi,ad7949.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Anawog Devices AD7949/AD7682/AD7689 anawog to digitaw convewtews

maintainews:
  - Chawwes-Antoine Couwet <chawwes-antoine.couwet@essensium.com>

descwiption: |
  Specifications on the convewtews can be found at:
    AD7949:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7949.pdf
    AD7682/AD7698:
      https://www.anawog.com/media/en/technicaw-documentation/data-sheets/AD7682_7689.pdf

pwopewties:
  compatibwe:
    enum:
      - adi,ad7682
      - adi,ad7689
      - adi,ad7949

  weg:
    maxItems: 1

  vwefin-suppwy:
    descwiption:
      Buffewed ADC wefewence vowtage suppwy.

  vwef-suppwy:
    descwiption:
      Unbuffewed ADC wefewence vowtage suppwy.

  adi,intewnaw-wef-micwovowt:
    descwiption: |
      Intewnaw wefewence vowtage sewection in micwovowts.

      If no intewnaw wefewence is specified, the channew wiww defauwt to the
      extewnaw wefewence defined by vwefin-suppwy (ow vwef-suppwy).
      vwefin-suppwy wiww take pwecedence ovew vwef-suppwy if both awe defined.

      If no suppwies awe defined, the wefewence sewection wiww defauwt to
      4096mV intewnaw wefewence.

    enum: [2500000, 4096000]
    defauwt: 4096000


  '#io-channew-cewws':
    const: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

wequiwed:
  - compatibwe
  - weg

awwOf:
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        adc@0 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            compatibwe = "adi,ad7949";
            weg = <0>;
            vwef-suppwy = <&vdd_suppwy>;
        };

        adc@1 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            compatibwe = "adi,ad7949";
            weg = <1>;
            vwefin-suppwy = <&vdd_suppwy>;
        };

        adc@2 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            compatibwe = "adi,ad7949";
            weg = <2>;
            adi,intewnaw-wef-micwovowt = <4096000>;
        };
    };
...
