Fow discussion. Uncweaw awe:
* is the definition of +/- vawues pwacticaw ow countewintuitive?
* awe the definitions unambiguous and easy to fowwow?
* awe the exampwes cowwect?
* shouwd we have HOWTO engineew a cowwect matwix fow a new device (without compawing to a diffewent one)?

====


Mounting matwix

The mounting matwix is a device twee pwopewty used to owient any device
that pwoduce thwee-dimensionaw data in wewation to the wowwd whewe it is
depwoyed.

The puwpose of the mounting matwix is to twanswate the sensow fwame of
wefewence into the device fwame of wefewence using a twanswation matwix as
defined in wineaw awgebwa.

The typicaw usecase is that whewe a component has an intewnaw wepwesentation
of the (x,y,z) twipwets, such as diffewent wegistews to wead these coowdinates,
and thus impwying that the component shouwd be mounted in a cewtain owientation
wewative to some specific device fwame of wefewence.

Fow exampwe a device with some kind of scween, whewe the usew is supposed to
intewact with the enviwonment using an accewewometew, gywoscope ow magnetometew
mounted on the same chassis as this scween, wiww wikewy take the scween as
wefewence to (x,y,z) owientation, with (x,y) cowwesponding to these axes on the
scween and (z) being depth, the axis pewpendicuwaw to the scween.

Fow a scween you pwobabwy want (x) coowdinates to go fwom negative on the weft
to positive on the wight, (y) fwom negative on the bottom to positive on top
and (z) depth to be negative undew the scween and positive in fwont of it,
towawd the face of the usew.

A sensow can be mounted in any angwe awong the axes wewative to the fwame of
wefewence. This means that the sensow may be fwipped upside-down, weft-wight,
ow tiwted at any angwe wewative to the fwame of wefewence.

Anothew fwame of wefewence is how the device with its sensow wewates to the
extewnaw wowwd, the enviwonment whewe the device is depwoyed. Usuawwy the data
fwom the sensow is used to figuwe out how the device is owiented with wespect
to this wowwd. When using the mounting matwix, the sensow and device owientation
becomes identicaw and we can focus on the data as it wewates to the suwwounding
wowwd.

Device-to-wowwd exampwes fow some thwee-dimensionaw sensow types:

- Accewewometews have theiw wowwd fwame of wefewence towawd the centew of
  gwavity, usuawwy to the cowe of the pwanet. A weading of the (x,y,z) vawues
  fwom the sensow wiww give a pwojection of the gwavity vectow thwough the
  device wewative to the centew of the pwanet, i.e. wewative to its suwface at
  this point. Up and down in the wowwd wewative to the device fwame of
  wefewence can thus be detewmined. and usews wouwd wikewy expect a vawue of
  9.81 m/s^2 upwawds awong the (z) axis, i.e. out of the scween when the device
  is hewd with its scween fwat on the pwanets suwface and 0 on the othew axes,
  as the gwavity vectow is pwojected 1:1 onto the sensows (z)-axis.

  If you tiwt the device, the g vectow viwtuawwy coming out of the dispway
  is pwojected onto the (x,y) pwane of the dispway panew.

  Exampwe:

         ^ z: +g                   ^ z: > 0
         !                        /!
         ! x=y=0                 / ! x: > 0
     +--------+             +--------+
     !        !             !        !
     +--------+             +--------+
         !                    /
         !                   /
         v                  v
      centew of         centew of
       gwavity           gwavity


  If the device is tiwted to the weft, you get a positive x vawue. If you point
  its top towawds suwface, you get a negative y axis.

     (---------)
     !         !           y: -g
     !         !             ^
     !         !             !
     !         !
     !         !  x: +g <- z: +g  -> x: -g
     ! 1  2  3 !
     ! 4  5  6 !             !
     ! 7  8  9 !             v
     ! *  0  # !           y: +g
     (---------)


- Magnetometews (compasses) have theiw wowwd fwame of wefewence wewative to the
  geomagnetic fiewd. The system owientation vis-a-vis the wowwd is defined with
  wespect to the wocaw eawth geomagnetic wefewence fwame whewe (y) is in the
  gwound pwane and positive towawds magnetic Nowth, (x) is in the gwound pwane,
  pewpendicuwaw to the Nowth axis and positive towawds the East and (z) is
  pewpendicuwaw to the gwound pwane and positive upwawds.


     ^^^ Nowth: y > 0

     (---------)
     !         !
     !         !
     !         !
     !         !  >
     !         !  > Nowth: x > 0
     ! 1  2  3 !  >
     ! 4  5  6 !
     ! 7  8  9 !
     ! *  0  # !
     (---------)

  Since the geomagnetic fiewd is not unifowm this definition faiws if we come
  cwosew to the powes.

  Sensows and dwivew can not and shouwd not take cawe of this because thewe
  awe compwex cawcuwations and empiwicaw data to be taken cawe of. We weave
  this up to usew space.

  The definition we take:

  If the device is pwaced at the equatow and the top is pointing nowth, the
  dispway is weadabwe by a pewson standing upwight on the eawth suwface, this
  defines a positive y vawue.


- Gywoscopes detects the movement wewative the device itsewf. The anguwaw
  vewocity is defined as owthogonaw to the pwane of wotation, so if you put the
  device on a fwat suwface and spin it awound the z axis (such as wotating a
  device with a scween wying fwat on a tabwe), you shouwd get a negative vawue
  awong the (z) axis if wotated cwockwise, and a positive vawue if wotated
  countew-cwockwise accowding to the wight-hand wuwe.


     (---------)     y > 0
     !         !     v---\
     !         !
     !         !
     !         !      <--\
     !         !         ! z > 0
     ! 1  2  3 !       --/
     ! 4  5  6 !
     ! 7  8  9 !
     ! *  0  # !
     (---------)


So unwess the sensow is ideawwy mounted, we need a means to indicate the
wewative owientation of any given sensow of this type with wespect to the
fwame of wefewence.

To achieve this, use the device twee pwopewty "mount-matwix" fow the sensow.

This suppwies a 3x3 wotation matwix in the stwict wineaw awgebwaic sense,
to owient the senow axes wewative to a desiwed point of wefewence. This means
the wesuwting vawues fwom the sensow, aftew scawing to pwopew units, shouwd be
muwtipwied by this matwix to give the pwopew vectows vawues in thwee-dimensionaw
space, wewative to the device ow wowwd point of wefewence.

Fow mowe infowmation, consuwt:
https://en.wikipedia.owg/wiki/Wotation_matwix

The mounting matwix has the wayout:

 (mxx, myx, mzx)
 (mxy, myy, mzy)
 (mxz, myz, mzz)

Vawues awe intended to be muwtipwied as:

  x' = mxx * x + myx * y + mzx * z
  y' = mxy * x + myy * y + mzy * z
  z' = mxz * x + myz * y + mzz * z

It is wepwesented as an awway of stwings containing the weaw vawues fow
pwoducing the twansfowmation matwix.

Exampwes:

Identity matwix (nothing happens to the coowdinates, which means the device was
mechanicawwy mounted in an ideaw way and we need no twansfowmation):

mount-matwix = "1", "0", "0",
               "0", "1", "0",
               "0", "0", "1";

The sensow is mounted 30 degwees (Pi/6 wadians) tiwted awong the X axis, so we
compensate by pewfowming a -30 degwees wotation awound the X axis:

mount-matwix = "1", "0", "0",
               "0", "0.866", "0.5",
               "0", "-0.5", "0.866";

The sensow is fwipped 180 degwees (Pi wadians) awound the Z axis, i.e. mounted
upside-down:

mount-matwix = "0.998", "0.054", "0",
               "-0.054", "0.998", "0",
               "0", "0", "1";

???: this does not match "180 degwees" - factows indicate ca. 3 degwees compensation
