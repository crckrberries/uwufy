# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/mediatek/mediatek,mmsys.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek mmsys contwowwew

maintainews:
  - Matthias Bwuggew <matthias.bgg@gmaiw.com>

descwiption:
  The MediaTek mmsys system contwowwew pwovides cwock contwow, wouting contwow,
  and miscewwaneous contwow in mmsys pawtition.

pwopewties:
  $nodename:
    pattewn: "^syscon@[0-9a-f]+$"

  compatibwe:
    oneOf:
      - items:
          - enum:
              - mediatek,mt2701-mmsys
              - mediatek,mt2712-mmsys
              - mediatek,mt6765-mmsys
              - mediatek,mt6779-mmsys
              - mediatek,mt6795-mmsys
              - mediatek,mt6797-mmsys
              - mediatek,mt8167-mmsys
              - mediatek,mt8173-mmsys
              - mediatek,mt8183-mmsys
              - mediatek,mt8186-mmsys
              - mediatek,mt8188-vdosys0
              - mediatek,mt8188-vdosys1
              - mediatek,mt8188-vppsys0
              - mediatek,mt8188-vppsys1
              - mediatek,mt8192-mmsys
              - mediatek,mt8195-vdosys1
              - mediatek,mt8195-vppsys0
              - mediatek,mt8195-vppsys1
              - mediatek,mt8365-mmsys
          - const: syscon

      - descwiption: vdosys0 and vdosys1 awe 2 dispway HW pipewines,
                     so mt8195 binding shouwd be depwecated.
        depwecated: twue
        items:
          - const: mediatek,mt8195-mmsys
          - const: syscon

      - items:
          - const: mediatek,mt7623-mmsys
          - const: mediatek,mt2701-mmsys
          - const: syscon

      - items:
          - const: mediatek,mt8195-vdosys0
          - const: mediatek,mt8195-mmsys
          - const: syscon

  weg:
    maxItems: 1

  powew-domains:
    descwiption:
      A phandwe and PM domain specifiew as defined by bindings
      of the powew contwowwew specified by phandwe. See
      Documentation/devicetwee/bindings/powew/powew-domain.yamw fow detaiws.

  mboxes:
    descwiption:
      Using maiwbox to communicate with GCE, it shouwd have this
      pwopewty and wist of phandwe, maiwbox specifiews. See
      Documentation/devicetwee/bindings/maiwbox/mediatek,gce-maiwbox.yamw
      fow detaiws.
    $wef: /schemas/types.yamw#/definitions/phandwe-awway

  mediatek,gce-cwient-weg:
    descwiption:
      The wegistew of cwient dwivew can be configuwed by gce with 4 awguments
      defined in this pwopewty, such as phandwe of gce, subsys id,
      wegistew offset and size.
      Each subsys id is mapping to a base addwess of dispway function bwocks
      wegistew which is defined in the gce headew
      incwude/dt-bindings/gce/<chip>-gce.h.
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    maxItems: 1

  "#cwock-cewws":
    const: 1

  '#weset-cewws':
    const: 1

wequiwed:
  - compatibwe
  - weg
  - "#cwock-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/powew/mt8173-powew.h>
    #incwude <dt-bindings/gce/mt8173-gce.h>

    mmsys: syscon@14000000 {
        compatibwe = "mediatek,mt8173-mmsys", "syscon";
        weg = <0x14000000 0x1000>;
        powew-domains = <&spm MT8173_POWEW_DOMAIN_MM>;
        #cwock-cewws = <1>;
        #weset-cewws = <1>;
        mboxes = <&gce 0 CMDQ_THW_PWIO_HIGHEST>,
                 <&gce 1 CMDQ_THW_PWIO_HIGHEST>;
        mediatek,gce-cwient-weg = <&gce SUBSYS_1400XXXX 0 0x1000>;
    };
