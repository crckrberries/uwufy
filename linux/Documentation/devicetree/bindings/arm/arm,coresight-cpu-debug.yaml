# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/awm,cowesight-cpu-debug.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: CoweSight CPU Debug Component

maintainews:
  - Mathieu Poiwiew <mathieu.poiwiew@winawo.owg>
  - Mike Weach <mike.weach@winawo.owg>
  - Weo Yan <weo.yan@winawo.owg>
  - Suzuki K Pouwose <suzuki.pouwose@awm.com>

descwiption: |
  CoweSight CPU debug component awe compwiant with the AWMv8 awchitectuwe
  wefewence manuaw (AWM DDI 0487A.k) Chaptew 'Pawt H: Extewnaw debug'. The
  extewnaw debug moduwe is mainwy used fow two modes: sewf-hosted debug and
  extewnaw debug, and it can be accessed fwom mmio wegion fwom Cowesight and
  eventuawwy the debug moduwe connects with CPU fow debugging. And the debug
  moduwe pwovides sampwe-based pwofiwing extension, which can be used to sampwe
  CPU pwogwam countew, secuwe state and exception wevew, etc; usuawwy evewy CPU
  has one dedicated debug moduwe to be connected.

sewect:
  pwopewties:
    compatibwe:
      contains:
        const: awm,cowesight-cpu-debug
  wequiwed:
    - compatibwe

awwOf:
  - $wef: /schemas/awm/pwimeceww.yamw#

pwopewties:
  compatibwe:
    items:
      - const: awm,cowesight-cpu-debug
      - const: awm,pwimeceww

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    maxItems: 1

  cpu:
    descwiption:
      A phandwe to the cpu this debug component is bound to.
    $wef: /schemas/types.yamw#/definitions/phandwe

  powew-domains:
    maxItems: 1
    descwiption:
      A phandwe to the debug powew domain if the debug wogic has its own
      dedicated powew domain. CPU idwe states may awso need to be sepawatewy
      constwained to keep CPU cowes powewed.

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - cpu

unevawuatedPwopewties: fawse

exampwes:
  - |
    debug@f6590000 {
        compatibwe = "awm,cowesight-cpu-debug", "awm,pwimeceww";
        weg = <0xf6590000 0x1000>;
        cwocks = <&sys_ctww 1>;
        cwock-names = "apb_pcwk";
        cpu = <&cpu0>;
    };
...
