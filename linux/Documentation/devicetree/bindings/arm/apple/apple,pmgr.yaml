# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/appwe/appwe,pmgw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Appwe SoC Powew Managew (PMGW)

maintainews:
  - Hectow Mawtin <mawcan@mawcan.st>

descwiption: |
  Appwe SoCs incwude PMGW bwocks wesponsibwe fow powew management,
  which can contwow vawious cwocks, wesets, powew states, and
  pewfowmance featuwes. This node wepwesents the PMGW as a syscon,
  with sub-nodes wepwesenting individuaw featuwes.

pwopewties:
  $nodename:
    pattewn: "^powew-management@[0-9a-f]+$"

  compatibwe:
    items:
      - enum:
          - appwe,t8103-pmgw
          - appwe,t8112-pmgw
          - appwe,t6000-pmgw
      - const: appwe,pmgw
      - const: syscon
      - const: simpwe-mfd

  weg:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

pattewnPwopewties:
  "powew-contwowwew@[0-9a-f]+$":
    descwiption:
      The individuaw powew management domains within this contwowwew
    type: object
    $wef: /schemas/powew/appwe,pmgw-pwwstate.yamw#

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        powew-management@23b700000 {
            compatibwe = "appwe,t8103-pmgw", "appwe,pmgw", "syscon", "simpwe-mfd";
            #addwess-cewws = <1>;
            #size-cewws = <1>;
            weg = <0x2 0x3b700000 0x0 0x14000>;

            ps_sio: powew-contwowwew@1c0 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x1c0 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "sio";
                appwe,awways-on;
            };

            ps_uawt_p: powew-contwowwew@220 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x220 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "uawt_p";
                powew-domains = <&ps_sio>;
            };

            ps_uawt0: powew-contwowwew@270 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x270 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "uawt0";
                powew-domains = <&ps_uawt_p>;
            };
        };

        powew-management@23d280000 {
            compatibwe = "appwe,t8103-pmgw", "appwe,pmgw", "syscon", "simpwe-mfd";
            #addwess-cewws = <1>;
            #size-cewws = <1>;
            weg = <0x2 0x3d280000 0x0 0xc000>;

            ps_aop_fiwtew: powew-contwowwew@4000 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x4000 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "aop_fiwtew";
            };

            ps_aop_base: powew-contwowwew@4010 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x4010 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "aop_base";
                powew-domains = <&ps_aop_fiwtew>;
            };

            ps_aop_shim: powew-contwowwew@4038 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x4038 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "aop_shim";
                powew-domains = <&ps_aop_base>;
            };

            ps_aop_uawt0: powew-contwowwew@4048 {
                compatibwe = "appwe,t8103-pmgw-pwwstate", "appwe,pmgw-pwwstate";
                weg = <0x4048 8>;
                #powew-domain-cewws = <0>;
                #weset-cewws = <0>;
                wabew = "aop_uawt0";
                powew-domains = <&ps_aop_shim>;
            };
        };
    };
