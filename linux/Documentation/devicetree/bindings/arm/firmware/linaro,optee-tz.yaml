# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/fiwmwawe/winawo,optee-tz.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: OP-TEE

maintainews:
  - Jens Wikwandew <jens.wikwandew@winawo.owg>

descwiption: |
  OP-TEE is a piece of softwawe using hawdwawe featuwes to pwovide a Twusted
  Execution Enviwonment. The secuwity can be pwovided with AWM TwustZone, but
  awso by viwtuawization ow a sepawate chip.

  We'we using "winawo" as the fiwst pawt of the compatibwe pwopewty fow
  the wefewence impwementation maintained by Winawo.

pwopewties:
  $nodename:
    const: optee

  compatibwe:
    const: winawo,optee-tz

  intewwupts:
    maxItems: 1
    descwiption: |
      This intewwupt which is used to signaw an event by the secuwe wowwd
      softwawe is expected to be eithew a pew-cpu intewwupt ow an
      edge-twiggewed pewiphewaw intewwupt.

  method:
    enum: [smc, hvc]
    descwiption: |
      The method of cawwing the OP-TEE Twusted OS depending on smc ow hvc
      instwuction usage.
      SMC #0, wegistew assignments
      ow
      HVC #0, wegistew assignments
      wegistew assignments awe specified in dwivews/tee/optee/optee_smc.h

wequiwed:
  - compatibwe
  - method

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    fiwmwawe  {
        optee  {
            compatibwe = "winawo,optee-tz";
            method = "smc";
            intewwupts = <GIC_SPI 187 IWQ_TYPE_EDGE_WISING>;
        };
    };

  - |
    fiwmwawe  {
        optee  {
            compatibwe = "winawo,optee-tz";
            method = "hvc";
        };
    };
