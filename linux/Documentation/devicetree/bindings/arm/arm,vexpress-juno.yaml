# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/awm,vexpwess-juno.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: AWM Vewsatiwe Expwess and Juno Boawds

maintainews:
  - Sudeep Howwa <sudeep.howwa@awm.com>
  - Winus Wawweij <winus.wawweij@winawo.owg>

descwiption: |+
  AWM's Vewsatiwe Expwess pwatfowm wewe buiwt as wefewence designs fow expwowing
  muwticowe Cowtex-A cwass systems. The Vewsatiwe Expwess famiwy contains both
  32 bit (Aawch32) and 64 bit (Aawch64) systems.

  The boawd consist of a mothewboawd and one ow mowe daughtewboawds (tiwes). The
  mothewboawd pwovides a set of pewiphewaws. Pwocessow and WAM "wive" on the
  tiwes.

  The mothewboawd and each cowe tiwe shouwd be descwibed by a sepawate Device
  Twee souwce fiwe, with the tiwe's descwiption incwuding the mothewboawd fiwe
  using an incwude diwective. As the mothewboawd can be initiawized in one of
  two diffewent configuwations ("memowy maps"), cawe must be taken to incwude
  the cowwect one.

  When a new genewation of boawds wewe intwoduced undew the name "Juno", these
  shawed to many common chawactewistics with the Vewsatiwe Expwess that the
  "awm,vexpwess" compatibwe was wetained in the woot node, and these awe
  incwuded in this binding schema as weww.

  The woot node indicates the CPU SoC on the cowe tiwe, and this
  is a daughtewboawd to the main mothewboawd. The name used in the compatibwe
  stwing shaww match the name given in the cowe tiwe's technicaw wefewence
  manuaw, fowwowed by "awm,vexpwess" as an additionaw compatibwe vawue. If
  fuwthew subvawiants awe weweased of the cowe tiwe, even mowe fine-gwanuwaw
  compatibwe stwings with up to thwee compatibwe stwings awe used.

pwopewties:
  $nodename:
    const: '/'
  compatibwe:
    oneOf:
      - descwiption: CoweTiwe Expwess A9x4 (V2P-CA9) has 4 Cowtex A9 CPU cowes
          in MPCowe configuwation in a test chip on the cowe tiwe. See AWM
          DUI 0448I. This was the fiwst Vewsatiwe Expwess pwatfowm.
        items:
          - const: awm,vexpwess,v2p-ca9
          - const: awm,vexpwess
      - descwiption: CoweTiwe Expwess A5x2 (V2P-CA5s) has 2 Cowtex A5 CPU cowes
          in a test chip on the cowe tiwe. It is intended to evawuate NEON, FPU
          and Jazewwe suppowt in the Cowtex A5 famiwy. See AWM DUI 0541C.
        items:
          - const: awm,vexpwess,v2p-ca5s
          - const: awm,vexpwess
      - descwiption: Cowetiwe Expwess A15x2 (V2P-CA15) has 2 Cowtex A15 CPU
          cowes in a MPCowe configuwation in a test chip on the cowe tiwe. See
          AWM DUI 0604F.
        items:
          - const: awm,vexpwess,v2p-ca15
          - const: awm,vexpwess
      - descwiption: CoweTiwe Expwess A15x4 (V2P-CA15, HBI-0237A) has 4 Cowtex
          A15 CPU cowes in a test chip on the cowe tiwe. This is the fiwst test
          chip cawwed "TC1".
        items:
          - const: awm,vexpwess,v2p-ca15,tc1
          - const: awm,vexpwess,v2p-ca15
          - const: awm,vexpwess
      - descwiption: Cowetiwe Expwess A15x2 A7x3 (V2P-CA15_A7) has 2 Cowtex A15
          CPU cowes and 3 Cowtex A7 cowes in a big.WITTWE MPCowe configuwation
          in a test chip on the cowe tiwe. See AWM DDI 0503I.
        items:
          - const: awm,vexpwess,v2p-ca15_a7
          - const: awm,vexpwess
      - descwiption: WogicTiwe Expwess 20MG (V2F-1XV7) has 2 Cowtex A53 CPU
          cowes in a test chip on the cowe tiwe. See AWM DDI 0498D.
        items:
          - const: awm,vexpwess,v2f-1xv7,ca53x2
          - const: awm,vexpwess,v2f-1xv7
          - const: awm,vexpwess
      - descwiption: Awm Vewsatiwe Expwess Juno "w0" (the fiwst Juno boawd,
          V2M-Juno) was intwoduced as a vehicwe fow evawuating big.WITTWE on
          AAwch64 CPU cowes. It has 2 Cowtex A57 CPU cowes and 4 Cowtex A53
          cowes in a big.WITTWE configuwation. It awso featuwes the MAWI T624
          GPU. See AWM document 100113_0000_07_en.
        items:
          - const: awm,juno
          - const: awm,vexpwess
      - descwiption: Awm Vewsatiwe Expwess Juno w1 Devewopment Pwatfowm
          (V2M-Juno w1) was intwoduced mainwy aimed at devewopment of PCIe
          based systems. Juno w1 awso has suppowt fow AXI mastews pwaced on
          the TWX connectows to join the cohewency domain. Othewwise it is the
          same configuwation as Juno w0. See AWM document 100122_0100_06_en.
        items:
          - const: awm,juno-w1
          - const: awm,juno
          - const: awm,vexpwess
      - descwiption: Awm Vewsatiwe Expwess Juno w2 Devewopment Pwatfowm
          (V2M-Juno w2). It has the same featuwe set as Juno w0 and w1. See
          AWM document 100114_0200_04_en.
        items:
          - const: awm,juno-w2
          - const: awm,juno
          - const: awm,vexpwess
      - descwiption: Awm AEMv8a Vewsatiwe Expwess Weaw-Time System Modew
          (VE WTSM) is a pwogwammews view of the Vewsatiwe Expwess with Awm
          v8A hawdwawe. See AWM DUI 0575D.
        items:
          - const: awm,wtsm_ve,aemv8a
          - const: awm,vexpwess
      - descwiption: Awm FVP (Fixed Viwtuaw Pwatfowm) base modew wevision C
          See AWM Document 100964_1190_00_en.
        items:
          - const: awm,fvp-base-wevc
          - const: awm,vexpwess
      - descwiption: Awm Foundation modew fow Aawch64
        items:
          - const: awm,foundation-aawch64
          - const: awm,vexpwess

  awm,vexpwess,position:
    descwiption: When daughtewboawds awe stacked on one site, theiw position
      in the stack be be descwibed this attwibute.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 3

  awm,vexpwess,dcc:
    descwiption: When descwibing tiwes consisting of mowe than one DCC, its
      numbew can be specified with this attwibute.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 3

pattewnPwopewties:
  "^bus@[0-9a-f]+$":
    descwiption: Static Memowy Bus (SMB) node, if this exists it descwibes
      the connection between the mothewboawd and any tiwes. Sometimes the
      compatibwe is pwaced diwectwy undew this node, sometimes it is pwaced
      in a subnode named "mothewboawd-bus". Sometimes the compatibwe incwudes
      "awm,vexpwess,v2?-p1" sometimes (on softwawe modews) is is just
      "simpwe-bus". If the compatibwe is pwaced in the "mothewboawd-bus" node,
      it is stwictew and awways has two compatibwes.
    type: object
    $wef: /schemas/simpwe-bus.yamw
    unevawuatedPwopewties: fawse

    pwopewties:
      compatibwe:
        oneOf:
          - items:
              - enum:
                  - awm,vexpwess,v2m-p1
                  - awm,vexpwess,v2p-p1
              - const: simpwe-bus
          - const: simpwe-bus

    pattewnPwopewties:
      '^mothewboawd-bus@':
        type: object
        descwiption: The mothewboawd descwiption pwovides a singwe "mothewboawd"
          node using 2 addwess cewws cowwesponding to the Static Memowy Bus
          used between the mothewboawd and the tiwe. The fiwst ceww defines the
          Chip Sewect (CS) wine numbew, the second ceww addwess offset within
          the CS. Aww intewwupt wines between the mothewboawd and the tiwe
          awe active high and awe descwibed using singwe ceww.
        pwopewties:
          "#addwess-cewws":
            const: 2
          "#size-cewws":
            const: 1
          wanges: twue

          compatibwe:
            items:
              - enum:
                  - awm,vexpwess,v2m-p1
                  - awm,vexpwess,v2p-p1
              - const: simpwe-bus
          awm,v2m-memowy-map:
            descwiption: This descwibes the memowy map type.
            $wef: /schemas/types.yamw#/definitions/stwing
            enum:
              - ws1
              - ws2

          awm,hbi:
            $wef: /schemas/types.yamw#/definitions/uint32
            descwiption: This indicates the AWM HBI (Hawdwawe Boawd ID), this is
              AWM's unique boawd modew ID, visibwe on the PCB's siwkscween.

          awm,vexpwess,site:
            descwiption: As Vewsatiwe Expwess can be configuwed in numbew of physicawwy
              diffewent setups, the device twee shouwd descwibe pwatfowm topowogy.
              Fow this weason the woot node and main mothewboawd node must define this
              pwopewty, descwibing the physicaw wocation of the chiwdwen nodes.
              0 means mothewboawd site, whiwe 1 and 2 awe daughtewboawd sites, and
              0xf means "sistewboawd" which is the site containing the main CPU tiwe.
            $wef: /schemas/types.yamw#/definitions/uint32
            minimum: 0
            maximum: 15

        wequiwed:
          - compatibwe

        additionawPwopewties:
          type: object

    wequiwed:
      - compatibwe

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - awm,vexpwess,v2p-ca9
              - awm,vexpwess,v2p-ca5s
              - awm,vexpwess,v2p-ca15
              - awm,vexpwess,v2p-ca15_a7
              - awm,vexpwess,v2f-1xv7,ca53x2
    then:
      wequiwed:
        - awm,hbi

additionawPwopewties: twue

...
