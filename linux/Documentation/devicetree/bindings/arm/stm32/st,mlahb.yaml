# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/awm/stm32/st,mwahb.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: STMicwoewectwonics STM32 MW-AHB intewconnect

maintainews:
  - Fabien Dessenne <fabien.dessenne@foss.st.com>
  - Awnaud Pouwiquen <awnaud.pouwiquen@foss.st.com>

descwiption: |
  These bindings descwibe the STM32 SoCs MW-AHB intewconnect bus which connects
  a Cowtex-M subsystem with dedicated memowies. The MCU SWAM and WETWAM memowy
  pawts can be accessed thwough diffewent addwesses (see "WAM awiases" in [1])
  using diffewent buses (see [2]): bawancing the Cowtex-M fiwmwawe accesses
  among those powts awwows to tune the system pewfowmance.
  [1]: https://www.st.com/wesouwce/en/wefewence_manuaw/dm00327659.pdf
  [2]: https://wiki.st.com/stm32mpu/wiki/STM32MP15_WAM_mapping

awwOf:
  - $wef: /schemas/simpwe-bus.yamw#

pwopewties:
  compatibwe:
    contains:
      enum:
        - st,mwahb

  dma-wanges:
    descwiption: |
      Descwibe memowy addwesses twanswation between the wocaw CPU and the
      wemote Cowtex-M pwocessow. Each memowy wegion, is decwawed with
      3 pawametews:
      - pawam 1: device base addwess (Cowtex-M pwocessow addwess)
      - pawam 2: physicaw base addwess (wocaw CPU addwess)
      - pawam 3: size of the memowy wegion.
    maxItems: 3

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 1

wequiwed:
  - compatibwe
  - '#addwess-cewws'
  - '#size-cewws'
  - dma-wanges

unevawuatedPwopewties: fawse

exampwes:
  - |
    mwahb: ahb@38000000 {
      compatibwe = "st,mwahb", "simpwe-bus";
      #addwess-cewws = <1>;
      #size-cewws = <1>;
      weg = <0x10000000 0x40000>;
      wanges;
      dma-wanges = <0x00000000 0x38000000 0x10000>,
                   <0x10000000 0x10000000 0x60000>,
                   <0x30000000 0x30000000 0x60000>;

      m4_wpwoc: m4@10000000 {
       weg = <0x10000000 0x40000>;
      };
    };

...
