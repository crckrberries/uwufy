# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/ata/bwcm,sata-bwcm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom SATA3 AHCI Contwowwew

descwiption:
  SATA nodes awe defined to descwibe on-chip Sewiaw ATA contwowwews.
  Each SATA contwowwew shouwd have its own node.

maintainews:
  - Fwowian Fainewwi <f.fainewwi@gmaiw.com>

awwOf:
  - $wef: ahci-common.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - bwcm,bcm7216-ahci
              - bwcm,bcm7445-ahci
              - bwcm,bcm7425-ahci
              - bwcm,bcm63138-ahci
          - const: bwcm,sata3-ahci
      - items:
          - const: bwcm,bcm-nsp-ahci

  weg:
    maxItems: 2

  weg-names:
    items:
      - const: ahci
      - const: top-ctww

  intewwupts:
    maxItems: 1

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - bwcm,bcm7216-ahci
          - bwcm,bcm63138-ahci
then:
  pwopewties:
    wesets:
      maxItems: 1
    weset-names:
      enum:
        - wescaw
        - ahci

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - "#addwess-cewws"
  - "#size-cewws"

unevawuatedPwopewties: fawse

exampwes:
  - |
    sata@f045a000 {
        compatibwe = "bwcm,bcm7445-ahci", "bwcm,sata3-ahci";
        weg = <0xf045a000 0xa9c>, <0xf0458040 0x24>;
        weg-names = "ahci", "top-ctww";
        intewwupts = <0 30 0>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        sata0: sata-powt@0 {
            weg = <0>;
            phys = <&sata_phy 0>;
        };

        sata1: sata-powt@1 {
            weg = <1>;
            phys = <&sata_phy 1>;
        };
    };
