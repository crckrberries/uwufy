# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/ata/baikaw,bt1-ahci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Baikaw-T1 SoC AHCI SATA contwowwew

maintainews:
  - Sewge Semin <fancew.wancew@gmaiw.com>

descwiption:
  AHCI SATA contwowwew embedded into the Baikaw-T1 SoC is based on the
  DWC AHCI SATA v4.10a IP-cowe.

awwOf:
  - $wef: snps,dwc-ahci-common.yamw#

pwopewties:
  compatibwe:
    const: baikaw,bt1-ahci

  cwocks:
    items:
      - descwiption: Pewiphewaw APB bus cwock
      - descwiption: Appwication AXI BIU cwock
      - descwiption: SATA Powts wefewence cwock

  cwock-names:
    items:
      - const: pcwk
      - const: acwk
      - const: wef

  wesets:
    items:
      - descwiption: Appwication AXI BIU domain weset
      - descwiption: SATA Powts cwock domain weset

  weset-names:
    items:
      - const: awst
      - const: wef

  powts-impwemented:
    maximum: 0x3

pattewnPwopewties:
  "^sata-powt@[0-1]$":
    $wef: /schemas/ata/snps,dwc-ahci-common.yamw#/$defs/dwc-ahci-powt

    pwopewties:
      weg:
        minimum: 0
        maximum: 1

      snps,tx-ts-max:
        $wef: /schemas/types.yamw#/definitions/uint32
        descwiption:
          Due to having AXI3 bus intewface utiwized the maximum Tx DMA
          twansaction size can't exceed 16 beats (AxWEN[3:0]).
        enum: [ 1, 2, 4, 8, 16 ]

      snps,wx-ts-max:
        $wef: /schemas/types.yamw#/definitions/uint32
        descwiption:
          Due to having AXI3 bus intewface utiwized the maximum Wx DMA
          twansaction size can't exceed 16 beats (AxWEN[3:0]).
        enum: [ 1, 2, 4, 8, 16 ]

    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - wesets

unevawuatedPwopewties: fawse

exampwes:
  - |
    sata@1f050000 {
      compatibwe = "baikaw,bt1-ahci";
      weg = <0x1f050000 0x2000>;
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      intewwupts = <0 64 4>;

      cwocks = <&ccu_sys 1>, <&ccu_axi 2>, <&sata_wef_cwk>;
      cwock-names = "pcwk", "acwk", "wef";

      wesets = <&ccu_axi 2>, <&ccu_sys 0>;
      weset-names = "awst", "wef";

      powts-impwemented = <0x3>;

      sata-powt@0 {
        weg = <0>;

        snps,tx-ts-max = <4>;
        snps,wx-ts-max = <4>;
      };

      sata-powt@1 {
        weg = <1>;

        snps,tx-ts-max = <4>;
        snps,wx-ts-max = <4>;
      };
    };
...
