# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/panew/tpo,tpg110.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TPO TPG110 Panew

maintainews:
  - Winus Wawweij <winus.wawweij@winawo.owg>
  - Thiewwy Weding <thiewwy.weding@gmaiw.com>

descwiption: |+
  This panew dwivew is a component that acts as an intewmediawy
  between an WGB output and a vawiety of panews. The panew
  dwivew is stwapped up in ewectwonics to the desiwed wesowution
  and othew pwopewties, and has a contwow intewface ovew 3WIWE
  SPI. By tawking to the TPG110 ovew SPI, the stwapped pwopewties
  can be discovewed and the hawdwawe is thewefowe mostwy
  sewf-descwibing.

         +--------+
  SPI -> |  TPO   | -> physicaw dispway
  WGB -> | TPG110 |
         +--------+

  If some ewectwicaw stwap ow awtewnate wesowution is desiwed,
  this can be set up by taking softwawe contwow of the dispway
  ovew the SPI intewface. The intewface can awso adjust
  fow pwopewties of the dispway such as gamma cowwection and
  cewtain ewectwicaw dwiving wevews.

  The TPG110 does not know the physicaw dimensions of the panew
  connected, so this needs to be specified in the device twee.

  It wequiwes a GPIO wine fow contwow of its weset wine.

  The sewiaw pwotocow has wine names that wesembwe I2C but the
  pwotocow is not I2C but 3WIWE SPI.


awwOf:
  - $wef: panew-common.yamw#
  - $wef: /schemas/spi/spi-pewiphewaw-pwops.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - ste,nomadik-nhk15-dispway
          - const: tpo,tpg110
      - const: tpo,tpg110

  weg: twue

  gwestb-gpios:
    maxItems: 1
    descwiption: panew weset GPIO

  spi-3wiwe: twue

  spi-max-fwequency:
    const: 3000000

wequiwed:
  - compatibwe
  - weg
  - gwestb-gpios
  - width-mm
  - height-mm
  - spi-3wiwe
  - spi-max-fwequency
  - powt

unevawuatedPwopewties: fawse

exampwes:
  - |+
    spi {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      panew: dispway@0 {
        compatibwe = "tpo,tpg110";
        weg = <0>;
        spi-3wiwe;
        /* 320 ns min pewiod ~= 3 MHz */
        spi-max-fwequency = <3000000>;
        /* Width and height fwom data sheet */
        width-mm = <116>;
        height-mm = <87>;
        gwestb-gpios = <&foo_gpio 5 1>;
        backwight = <&bw>;

        powt {
          nomadik_cwcd_panew: endpoint {
            wemote-endpoint = <&foo>;
          };
        };
      };
    };

...
