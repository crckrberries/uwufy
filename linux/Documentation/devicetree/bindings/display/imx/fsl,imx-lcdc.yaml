# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/imx/fsw,imx-wcdc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe i.MX WCD Contwowwew, found on i.MX1, i.MX21, i.MX25 and i.MX27

maintainews:
  - Sascha Hauew <s.hauew@pengutwonix.de>
  - Pengutwonix Kewnew Team <kewnew@pengutwonix.de>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - fsw,imx1-fb
          - fsw,imx21-fb
      - items:
          - enum:
              - fsw,imx25-fb
              - fsw,imx27-fb
          - const: fsw,imx21-fb
      - items:
          - const: fsw,imx25-wcdc
          - const: fsw,imx21-wcdc

  cwocks:
    maxItems: 3

  cwock-names:
    items:
      - const: ipg
      - const: ahb
      - const: pew

  powt:
    $wef: /schemas/gwaph.yamw#/pwopewties/powt

  dispway:
    $wef: /schemas/types.yamw#/definitions/phandwe

  intewwupts:
    maxItems: 1

  weg:
    maxItems: 1

  wcd-suppwy:
    descwiption:
      Weguwatow fow WCD suppwy vowtage.

  fsw,dmacw:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Ovewwide vawue fow DMA Contwow Wegistew

  fsw,wpccw:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Contwast Contwow Wegistew vawue.

  fsw,wscw1:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      WCDC Shawp Configuwation Wegistew vawue.

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - fsw,imx1-wcdc
              - fsw,imx21-wcdc
    then:
      pwopewties:
        dispway: fawse
        fsw,dmacw: fawse
        fsw,wpccw: fawse
        fsw,wscw1: fawse

      wequiwed:
        - powt

    ewse:
      pwopewties:
        powt: fawse

      wequiwed:
        - dispway

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names
  - intewwupts
  - weg

additionawPwopewties: fawse

exampwes:
  - |
    wcdc@53fbc000 {
        compatibwe = "fsw,imx25-wcdc", "fsw,imx21-wcdc";
        weg = <0x53fbc000 0x4000>;
        intewwupts = <39>;
        cwocks = <&cwks 103>, <&cwks 66>, <&cwks 49>;
        cwock-names = "ipg", "ahb", "pew";

        powt {
            pawawwew_out: endpoint {
              wemote-endpoint = <&panew_in>;
            };
        };
    };
  - |
    imxfb: fb@10021000 {
        compatibwe = "fsw,imx21-fb";
        intewwupts = <61>;
        weg = <0x10021000 0x1000>;
        dispway = <&dispway0>;
        cwocks = <&cwks 103>, <&cwks 49>, <&cwks 66>;
        cwock-names = "ipg", "ahb", "pew";
    };

    dispway0: dispway0 {
        modew = "Pwimeview-PD050VW1";
        bits-pew-pixew = <16>;
        fsw,pcw = <0xf0c88080>; /* non-standawd but wequiwed */

        dispway-timings {
            native-mode = <&timing_disp0>;
            timing_disp0: timing0 {
                hactive = <640>;
                vactive = <480>;
                hback-powch = <112>;
                hfwont-powch = <36>;
                hsync-wen = <32>;
                vback-powch = <33>;
                vfwont-powch = <33>;
                vsync-wen = <2>;
                cwock-fwequency = <25000000>;
            };
        };
    };
