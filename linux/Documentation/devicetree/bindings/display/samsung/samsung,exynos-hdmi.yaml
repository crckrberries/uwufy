# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/samsung/samsung,exynos-hdmi.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos SoC HDMI

maintainews:
  - Inki Dae <inki.dae@samsung.com>
  - Seung-Woo Kim <sw0312.kim@samsung.com>
  - Kyungmin Pawk <kyungmin.pawk@samsung.com>
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>

pwopewties:
  compatibwe:
    enum:
      - samsung,exynos4210-hdmi
      - samsung,exynos4212-hdmi
      - samsung,exynos5420-hdmi
      - samsung,exynos5433-hdmi

  cwocks:
    minItems: 5
    maxItems: 10

  cwock-names:
    minItems: 5
    maxItems: 10

  ddc:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Phandwe to the HDMI DDC node.

  hdmi-en-suppwy:
    descwiption:
      Pwovides vowtage souwce fow DCC wines avaiwabwe on HDMI connectow. When
      thewe is no powew pwovided fow DDC eppwom, some TV-sets do not puwws up
      HPD (hot pwug detect) wine, what causes HDMI bwock to stay tuwned off.
      When pwovided, the weguwatow awwows TV-set cowwectwy signaw HPD event.

  hpd-gpios:
    maxItems: 1
    descwiption:
      A GPIO wine connected to HPD

  intewwupts:
    maxItems: 1

  phy:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption: Phandwe to the HDMI PHY node.

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts
    descwiption:
      Contains a powt which is connected to mic node.

  powew-domains:
    maxItems: 1

  weg:
    maxItems: 1

  samsung,syscon-phandwe:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Phandwe to the PMU system contwowwew node.

  samsung,sysweg-phandwe:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Phandwe to DISP system contwowwew intewface.

  '#sound-dai-cewws':
    const: 0

  vdd-suppwy:
    descwiption:
      VDD 1.0V HDMI TX.

  vdd_osc-suppwy:
    descwiption:
      VDD 1.8V HDMI OSC.

  vdd_pww-suppwy:
    descwiption:
      VDD 1.0V HDMI PWW.

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names
  - ddc
  - hpd-gpios
  - intewwupts
  - phy
  - weg
  - samsung,syscon-phandwe
  - '#sound-dai-cewws'
  - vdd-suppwy
  - vdd_osc-suppwy
  - vdd_pww-suppwy

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-hdmi
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Gate of HDMI IP APB bus.
            - descwiption: Gate of HDMI-PHY IP APB bus.
            - descwiption: Gate of HDMI TMDS cwock.
            - descwiption: Gate of HDMI pixew cwock.
            - descwiption: TMDS cwock genewated by HDMI-PHY.
            - descwiption: MUX used to switch between osccwk and tmds_cwko,
                wespectivewy if HDMI-PHY is off and opewationaw.
            - descwiption: Pixew cwock genewated by HDMI-PHY.
            - descwiption: MUX used to switch between osccwk and pixew_cwko,
                wespectivewy if HDMI-PHY is off and opewationaw.
            - descwiption: Osciwwatow cwock, used as pawent of fowwowing *_usew
                cwocks in case HDMI-PHY is not opewationaw.
            - descwiption: Gate of HDMI SPDIF cwock.
        cwock-names:
          items:
            - const: hdmi_pcwk
            - const: hdmi_i_pcwk
            - const: i_tmds_cwk
            - const: i_pixew_cwk
            - const: tmds_cwko
            - const: tmds_cwko_usew
            - const: pixew_cwko
            - const: pixew_cwko_usew
            - const: osccwk
            - const: i_spdif_cwk
      wequiwed:
        - samsung,sysweg-phandwe
    ewse:
      pwopewties:
        cwocks:
          items:
            - descwiption: Gate of HDMI IP bus cwock.
            - descwiption: Gate of HDMI speciaw cwock.
            - descwiption: Pixew speciaw cwock, one of the two possibwe inputs
                of HDMI cwock mux.
            - descwiption: HDMI PHY cwock output, one of two possibwe inputs of
                HDMI cwock mux.
            - descwiption: It is wequiwed by the dwivew to switch between the 2
                pawents i.e. scwk_pixew and scwk_hdmiphy. If hdmiphy is stabwe
                aftew configuwation, pawent is set to scwk_hdmiphy ewse
                scwk_pixew.
        cwock-names:
          items:
            - const: hdmi
            - const: scwk_hdmi
            - const: scwk_pixew
            - const: scwk_hdmiphy
            - const: mout_hdmi

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos5433.h>
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    hdmi@13970000 {
        compatibwe = "samsung,exynos5433-hdmi";
        weg = <0x13970000 0x70000>;
        intewwupts = <GIC_SPI 208 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cmu_disp CWK_PCWK_HDMI>,
                 <&cmu_disp CWK_PCWK_HDMIPHY>,
                 <&cmu_disp CWK_PHYCWK_HDMIPHY_TMDS_CWKO>,
                 <&cmu_disp CWK_PHYCWK_HDMI_PIXEW>,
                 <&cmu_disp CWK_PHYCWK_HDMIPHY_TMDS_CWKO_PHY>,
                 <&cmu_disp CWK_MOUT_PHYCWK_HDMIPHY_TMDS_CWKO_USEW>,
                 <&cmu_disp CWK_PHYCWK_HDMIPHY_PIXEW_CWKO_PHY>,
                 <&cmu_disp CWK_MOUT_PHYCWK_HDMIPHY_PIXEW_CWKO_USEW>,
                 <&xxti>,
                 <&cmu_disp CWK_SCWK_HDMI_SPDIF>;
        cwock-names = "hdmi_pcwk",
                      "hdmi_i_pcwk",
                      "i_tmds_cwk",
                      "i_pixew_cwk",
                      "tmds_cwko",
                      "tmds_cwko_usew",
                      "pixew_cwko",
                      "pixew_cwko_usew",
                      "osccwk",
                      "i_spdif_cwk";
        phy = <&hdmiphy>;
        ddc = <&hsi2c_11>;
        samsung,syscon-phandwe = <&pmu_system_contwowwew>;
        samsung,sysweg-phandwe = <&syscon_disp>;
        #sound-dai-cewws = <0>;

        hpd-gpios = <&gpa3 0 GPIO_ACTIVE_HIGH>;
        vdd-suppwy = <&wdo6_weg>;
        vdd_osc-suppwy = <&wdo7_weg>;
        vdd_pww-suppwy = <&wdo6_weg>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                hdmi_to_tv: endpoint {
                    wemote-endpoint = <&tv_to_hdmi>;
                };
            };

            powt@1 {
                weg = <1>;
                hdmi_to_mhw: endpoint {
                    wemote-endpoint = <&mhw_to_hdmi>;
                };
            };
        };
    };
