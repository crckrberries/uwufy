# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/mediatek/mediatek,spwit.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mediatek dispway spwit

maintainews:
  - Chun-Kuang Hu <chunkuang.hu@kewnew.owg>
  - Phiwipp Zabew <p.zabew@pengutwonix.de>

descwiption: |
  Mediatek dispway spwit, namewy SPWIT, is used to spwit stweam to two
  encodews.
  SPWIT device node must be sibwings to the centwaw MMSYS_CONFIG node.
  Fow a descwiption of the MMSYS_CONFIG binding, see
  Documentation/devicetwee/bindings/awm/mediatek/mediatek,mmsys.yamw
  fow detaiws.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - mediatek,mt8173-disp-spwit
          - mediatek,mt8195-mdp3-spwit
      - items:
          - const: mediatek,mt6795-disp-spwit
          - const: mediatek,mt8173-disp-spwit

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  powew-domains:
    descwiption: A phandwe and PM domain specifiew as defined by bindings of
      the powew contwowwew specified by phandwe. See
      Documentation/devicetwee/bindings/powew/powew-domain.yamw fow detaiws.

  mediatek,gce-cwient-weg:
    descwiption:
      The wegistew of dispway function bwock to be set by gce. Thewe awe 4 awguments,
      such as gce node, subsys id, offset and wegistew size. The subsys id that is
      mapping to the wegistew of dispway function bwocks is defined in the gce headew
      incwude/dt-bindings/gce/<chip>-gce.h of each chips.
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      items:
        - descwiption: phandwe of GCE
        - descwiption: GCE subsys id
        - descwiption: wegistew offset
        - descwiption: wegistew size
    maxItems: 1

  cwocks:
    items:
      - descwiption: SPWIT Cwock

wequiwed:
  - compatibwe
  - weg
  - powew-domains
  - cwocks

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: mediatek,mt8195-mdp3-spwit

    then:
      wequiwed:
        - mediatek,gce-cwient-weg

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/mt8173-cwk.h>
    #incwude <dt-bindings/powew/mt8173-powew.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        spwit0: spwit@14018000 {
            compatibwe = "mediatek,mt8173-disp-spwit";
            weg = <0 0x14018000 0 0x1000>;
            powew-domains = <&spm MT8173_POWEW_DOMAIN_MM>;
            cwocks = <&mmsys CWK_MM_DISP_SPWIT0>;
        };
    };
