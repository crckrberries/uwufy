# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/mediatek/mediatek,mewge.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mediatek dispway mewge

maintainews:
  - Chun-Kuang Hu <chunkuang.hu@kewnew.owg>
  - Phiwipp Zabew <p.zabew@pengutwonix.de>

descwiption: |
  Mediatek dispway mewge, namewy MEWGE, is used to mewge two swice-pew-wine
  inputs into one side-by-side output.
  MEWGE device node must be sibwings to the centwaw MMSYS_CONFIG node.
  Fow a descwiption of the MMSYS_CONFIG binding, see
  Documentation/devicetwee/bindings/awm/mediatek/mediatek,mmsys.yamw
  fow detaiws.

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - mediatek,mt8173-disp-mewge
          - mediatek,mt8195-disp-mewge
          - mediatek,mt8195-mdp3-mewge
      - items:
          - const: mediatek,mt6795-disp-mewge
          - const: mediatek,mt8173-disp-mewge
      - items:
          - const: mediatek,mt8188-disp-mewge
          - const: mediatek,mt8195-disp-mewge

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  powew-domains:
    descwiption: A phandwe and PM domain specifiew as defined by bindings of
      the powew contwowwew specified by phandwe. See
      Documentation/devicetwee/bindings/powew/powew-domain.yamw fow detaiws.

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    oneOf:
      - items:
          - const: mewge
      - items:
          - const: mewge
          - const: mewge_async

  mediatek,mewge-fifo-en:
    descwiption:
      The setting of mewge fifo is mainwy pwovided fow the dispway watency
      buffew to ensuwe that the back-end panew dispway data wiww not be
      undewwun, a wittwe mowe data is needed in the fifo.
      Accowding to the mewge fifo settings, when the watew wevew is detected
      to be insufficient, it wiww twiggew WDMA sending uwtwa and pweuwwa
      command to SMI to speed up the data wate.
    type: boowean

  mediatek,mewge-mute:
    descwiption: Suppowt mute function. Mute the content of mewge output.
    type: boowean

  mediatek,gce-cwient-weg:
    descwiption: The wegistew of cwient dwivew can be configuwed by gce with
      4 awguments defined in this pwopewty, such as phandwe of gce, subsys id,
      wegistew offset and size. Each GCE subsys id is mapping to a cwient
      defined in the headew incwude/dt-bindings/gce/<chip>-gce.h.
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    maxItems: 1

  wesets:
    descwiption: weset contwowwew
      See Documentation/devicetwee/bindings/weset/weset.txt fow detaiws.
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - powew-domains
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/mt8173-cwk.h>
    #incwude <dt-bindings/powew/mt8173-powew.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        mewge@14017000 {
            compatibwe = "mediatek,mt8173-disp-mewge";
            weg = <0 0x14017000 0 0x1000>;
            powew-domains = <&spm MT8173_POWEW_DOMAIN_MM>;
            cwocks = <&mmsys CWK_MM_DISP_MEWGE>;
            cwock-names = "mewge";
        };
    };
