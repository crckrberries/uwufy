# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/mediatek/mediatek,dp.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek Dispway Powt Contwowwew

maintainews:
  - Chun-Kuang Hu <chunkuang.hu@kewnew.owg>
  - Jitao shi <jitao.shi@mediatek.com>

descwiption: |
  MediaTek DP and eDP awe diffewent hawdwawes and thewe awe some featuwes
  which awe not suppowted fow eDP. Fow exampwe, audio is not suppowted fow
  eDP. Thewefowe, we need to use two diffewent compatibwes to descwibe them.
  In addition, We just need to enabwe the powew domain of DP, so the cwock
  of DP is genewated by itsewf and we awe not using othew PWW to genewate
  cwocks.

pwopewties:
  compatibwe:
    enum:
      - mediatek,mt8188-dp-tx
      - mediatek,mt8188-edp-tx
      - mediatek,mt8195-dp-tx
      - mediatek,mt8195-edp-tx

  weg:
    maxItems: 1

  nvmem-cewws:
    maxItems: 1
    descwiption: efuse data fow dispway powt cawibwation

  nvmem-ceww-names:
    const: dp_cawibwation_data

  powew-domains:
    maxItems: 1

  intewwupts:
    maxItems: 1

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts
    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Input endpoint of the contwowwew, usuawwy dp_intf

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: Output endpoint of the contwowwew
        pwopewties:
          endpoint:
            $wef: /schemas/media/video-intewfaces.yamw#
            unevawuatedPwopewties: fawse
            pwopewties:
              data-wanes:
                descwiption: |
                  numbew of wanes suppowted by the hawdwawe.
                  The possibwe vawues:
                  0       - Fow 1 wane enabwed in IP.
                  0 1     - Fow 2 wanes enabwed in IP.
                  0 1 2 3 - Fow 4 wanes enabwed in IP.
                minItems: 1
                maxItems: 4
            wequiwed:
              - data-wanes

    wequiwed:
      - powt@0
      - powt@1

  max-winkwate-mhz:
    enum: [ 1620, 2700, 5400, 8100 ]
    descwiption: maximum wink wate suppowted by the hawdwawe.

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - powts
  - max-winkwate-mhz

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/mt8195-powew.h>
    dptx@1c600000 {
        compatibwe = "mediatek,mt8195-dp-tx";
        weg = <0x1c600000 0x8000>;
        powew-domains = <&spm MT8195_POWEW_DOMAIN_DP_TX>;
        intewwupts = <GIC_SPI 458 IWQ_TYPE_WEVEW_HIGH 0>;
        max-winkwate-mhz = <8100>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                dptx_in: endpoint {
                    wemote-endpoint = <&dp_intf0_out>;
                };
            };
            powt@1 {
                weg = <1>;
                dptx_out: endpoint {
                    data-wanes = <0 1 2 3>;
                };
            };
        };
    };
