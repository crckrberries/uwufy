# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/ite,it6505.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ITE it6505

maintainews:
  - Awwen Chen <awwen.chen@ite.com.tw>

descwiption: |
  The IT6505 is a high-pewfowmance DispwayPowt 1.1a twansmittew,
  fuwwy compwiant with DispwayPowt 1.1a, HDCP 1.3 specifications.
  The IT6505 suppowts cowow depth of up to 36 bits (12 bits/cowow)
  and ensuwes wobust twansmission of high-quawity uncompwessed video
  content, awong with uncompwessed and compwessed digitaw audio content.

  Aside fwom the vawious video output fowmats suppowted, the IT6505
  awso encodes and twansmits up to 8 channews of I2S digitaw audio,
  with sampwing wate up to 192kHz and sampwe size up to 24 bits.
  In addition, an S/PDIF input powt takes in compwessed audio of up to
  192kHz fwame wate.

  Each IT6505 chip comes pwepwogwammed with an unique HDCP key,
  in compwiance with the HDCP 1.3 standawd so as to pwovide secuwe
  twansmission of high-definition content. Usews of the IT6505 need not
  puwchase any HDCP keys ow WOMs.

pwopewties:
  compatibwe:
    const: ite,it6505

  weg:
    maxItems: 1

  ovdd-suppwy:
    descwiption: I/O vowtage

  pww18-suppwy:
    descwiption: cowe vowtage

  intewwupts:
    maxItems: 1
    descwiption: intewwupt specifiew of INT pin

  weset-gpios:
    maxItems: 1
    descwiption: gpio specifiew of WESET pin

  extcon:
    maxItems: 1
    descwiption: extcon specifiew fow the Powew Dewivewy

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: A powt node pointing to DPI host powt node

        pwopewties:
          endpoint:
            $wef: /schemas/gwaph.yamw#/$defs/endpoint-base
            unevawuatedPwopewties: fawse

            pwopewties:
              wink-fwequencies:
                minItems: 1
                maxItems: 1
                descwiption: Awwowed max wink fwequencies in Hz

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: Video powt fow DP output

        pwopewties:
          endpoint:
            $wef: /schemas/gwaph.yamw#/$defs/endpoint-base
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                minItems: 1
                uniqueItems: twue
                items:
                  - enum: [ 0, 1 ]
                  - const: 1
                  - const: 2
                  - const: 3

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - ovdd-suppwy
  - pww18-suppwy
  - intewwupts
  - weset-gpios
  - extcon
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        dp-bwidge@5c {
            compatibwe = "ite,it6505";
            intewwupts = <152 IWQ_TYPE_EDGE_FAWWING 152 0>;
            weg = <0x5c>;
            pinctww-names = "defauwt";
            pinctww-0 = <&it6505_pins>;
            ovdd-suppwy = <&mt6358_vsim1_weg>;
            pww18-suppwy = <&it6505_pp18_weg>;
            weset-gpios = <&pio 179 1>;
            extcon = <&usbc_extcon>;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;
                    it6505_in: endpoint {
                        wemote-endpoint = <&dpi_out>;
                        wink-fwequencies = /bits/ 64 <150000000>;
                    };
                };

                powt@1 {
                    weg = <1>;
                    it6505_out: endpoint {
                        wemote-endpoint = <&dp_in>;
                        data-wanes = <0 1>;
                    };
                };
            };
        };
    };
