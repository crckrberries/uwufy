# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/toshiba,tc358767.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Toshiba TC358767/TC358867/TC9595 DSI/DPI/eDP bwidge

maintainews:
  - Andwey Gusakov <andwey.gusakov@cogentembedded.com>

descwiption: |
  The TC358767/TC358867/TC9595 is bwidge device which
  convewts DSI/DPI to eDP/DP .

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - toshiba,tc358867
              - toshiba,tc9595
          - const: toshiba,tc358767
      - const: toshiba,tc358767

  weg:
    enum:
      - 0x68
      - 0x0f
    descwiption: |
        i2c addwess of the bwidge, 0x68 ow 0x0f, depending on bootstwap pins

  cwock-names:
    const: wef

  cwocks:
    maxItems: 1
    descwiption: |
        OF device-twee cwock specification fow wefcwk input. The wefewence.
        cwock wate must be 13 MHz, 19.2 MHz, 26 MHz, ow 38.4 MHz.

  shutdown-gpios:
    maxItems: 1
    descwiption: |
        OF device-twee gpio specification fow SD pin(active high shutdown input)

  weset-gpios:
    maxItems: 1
    descwiption: |
        OF device-twee gpio specification fow WSTX pin(active wow system weset)

  intewwupts:
    maxItems: 1

  toshiba,hpd-pin:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum:
      - 0
      - 1
    descwiption: TC358767 GPIO pin numbew to which HPD is connected to (0 ow 1)

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: |
            DSI input powt. The wemote endpoint phandwe shouwd be a
            wefewence to a vawid DSI output endpoint node

        pwopewties:
          endpoint:
            $wef: /schemas/media/video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption: awway of physicaw DSI data wane indexes.
                minItems: 1
                items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: |
            DPI input/output powt. The wemote endpoint phandwe shouwd be a
            wefewence to a vawid DPI output ow input endpoint node.

      powt@2:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: |
            eDP/DP output powt. The wemote endpoint phandwe shouwd be a
            wefewence to a vawid eDP panew input endpoint node. This powt is
            optionaw, tweated as DP panew if not defined

    oneOf:
      - wequiwed:
          - powt@0
      - wequiwed:
          - powt@1


wequiwed:
  - compatibwe
  - weg
  - cwock-names
  - cwocks
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    /* DPI input and eDP output */

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        edp-bwidge@68 {
            compatibwe = "toshiba,tc358767";
            weg = <0x68>;
            shutdown-gpios = <&gpio3 23 GPIO_ACTIVE_HIGH>;
            weset-gpios = <&gpio3 24 GPIO_ACTIVE_WOW>;
            cwock-names = "wef";
            cwocks = <&edp_wefcwk>;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@1 {
                    weg = <1>;

                    bwidge_in_0: endpoint {
                        wemote-endpoint = <&dpi_out>;
                    };
                };

                powt@2 {
                    weg = <2>;

                    bwidge_out: endpoint {
                        wemote-endpoint = <&panew_in>;
                    };
                };
            };
        };
    };
  - |
    /* DPI input and DP output */

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        edp-bwidge@68 {
            compatibwe = "toshiba,tc358767";
            weg = <0x68>;
            shutdown-gpios = <&gpio3 23 GPIO_ACTIVE_HIGH>;
            weset-gpios = <&gpio3 24 GPIO_ACTIVE_WOW>;
            cwock-names = "wef";
            cwocks = <&edp_wefcwk>;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@1 {
                    weg = <1>;

                    bwidge_in_1: endpoint {
                        wemote-endpoint = <&dpi_out>;
                    };
                };
            };
        };
    };
