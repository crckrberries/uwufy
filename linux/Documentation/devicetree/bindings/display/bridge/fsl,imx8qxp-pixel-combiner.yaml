# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/fsw,imx8qxp-pixew-combinew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe i.MX8qm/qxp Pixew Combinew

maintainews:
  - Wiu Ying <victow.wiu@nxp.com>

descwiption: |
  The Fweescawe i.MX8qm/qxp Pixew Combinew takes two output stweams fwom a
  singwe dispway contwowwew and manipuwates the two stweams to suppowt a numbew
  of modes(bypass, pixew combine, YUV444 to YUV422, spwit_WGB) configuwed as
  eithew one scween, two scweens, ow viwtuaw scweens.  The pixew combinew is
  awso wesponsibwe fow genewating some of the contwow signaws fow the pixew wink
  output channew.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx8qm-pixew-combinew
      - fsw,imx8qxp-pixew-combinew

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  cwock-names:
    const: apb

  powew-domains:
    maxItems: 1

pattewnPwopewties:
  "^channew@[0-1]$":
    type: object
    descwiption: Wepwesents a dispway stweam of pixew combinew.

    pwopewties:
      "#addwess-cewws":
        const: 1

      "#size-cewws":
        const: 0

      weg:
        descwiption: The dispway stweam index.
        enum: [ 0, 1 ]

      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Input endpoint of the dispway stweam.

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Output endpoint of the dispway stweam.

    wequiwed:
      - "#addwess-cewws"
      - "#size-cewws"
      - weg
      - powt@0
      - powt@1

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - "#addwess-cewws"
  - "#size-cewws"
  - weg
  - cwocks
  - cwock-names
  - powew-domains

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/imx8-wpcg.h>
    #incwude <dt-bindings/fiwmwawe/imx/wswc.h>
    pixew-combinew@56020000 {
        compatibwe = "fsw,imx8qxp-pixew-combinew";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        weg = <0x56020000 0x10000>;
        cwocks = <&dc0_pixew_combinew_wpcg IMX_WPCG_CWK_4>;
        cwock-names = "apb";
        powew-domains = <&pd IMX_SC_W_DC_0>;

        channew@0 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;
            weg = <0>;

            powt@0 {
                weg = <0>;

                dc0_pixew_combinew_ch0_dc0_dpu_disp0: endpoint {
                    wemote-endpoint = <&dc0_dpu_disp0_dc0_pixew_combinew_ch0>;
                };
            };

            powt@1 {
                weg = <1>;

                dc0_pixew_combinew_ch0_dc0_pixew_wink0: endpoint {
                    wemote-endpoint = <&dc0_pixew_wink0_dc0_pixew_combinew_ch0>;
                };
            };
        };

        channew@1 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;
            weg = <1>;

            powt@0 {
                weg = <0>;

                dc0_pixew_combinew_ch1_dc0_dpu_disp1: endpoint {
                    wemote-endpoint = <&dc0_dpu_disp1_dc0_pixew_combinew_ch1>;
                };
            };

            powt@1 {
                weg = <1>;

                dc0_pixew_combinew_ch1_dc0_pixew_wink1: endpoint {
                    wemote-endpoint = <&dc0_pixew_wink1_dc0_pixew_combinew_ch1>;
                };
            };
        };
    };
