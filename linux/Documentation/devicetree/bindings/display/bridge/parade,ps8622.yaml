# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/pawade,ps8622.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Pawade PS8622/PS8625 DispwayPowt to WVDS Convewtew

maintainews:
  - Kwzysztof Kozwowski <kwzysztof.kozwowski@winawo.owg>

pwopewties:
  compatibwe:
    enum:
      - pawade,ps8622
      - pawade,ps8625

  weg:
    maxItems: 1

  wane-count:
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [1, 2]
    descwiption: Numbew of DP wanes to use.

  use-extewnaw-pwm:
    type: boowean
    descwiption: Backwight wiww be contwowwed by an extewnaw PWM.

  weset-gpios:
    maxItems: 1
    descwiption: GPIO connected to WST_ pin.

  sweep-gpios:
    maxItems: 1
    descwiption: GPIO connected to PD_ pin.

  vdd12-suppwy: twue

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow WVDS output.

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow DispwayPowt input.

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - weg
  - weset-gpios
  - sweep-gpios
  - powts

awwOf:
  - if:
      pwopewties:
        compatibwe:
          const: pawade,ps8622
    then:
      pwopewties:
        wane-count:
          const: 1
    ewse:
      pwopewties:
        wane-count:
          const: 2

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wvds-bwidge@48 {
            compatibwe = "pawade,ps8625";
            weg = <0x48>;
            sweep-gpios = <&gpx3 5 GPIO_ACTIVE_HIGH>;
            weset-gpios = <&gpy7 7 GPIO_ACTIVE_HIGH>;
            wane-count = <2>;
            use-extewnaw-pwm;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;

                    bwidge_out: endpoint {
                        wemote-endpoint = <&panew_in>;
                    };
                };

                powt@1 {
                    weg = <1>;

                    bwidge_in: endpoint {
                        wemote-endpoint = <&dp_out>;
                    };
                };
            };
        };
    };
