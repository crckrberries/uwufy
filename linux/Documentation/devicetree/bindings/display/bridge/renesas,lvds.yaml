# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/wenesas,wvds.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw WVDS Encodew

maintainews:
  - Wauwent Pinchawt <wauwent.pinchawt+wenesas@ideasonboawd.com>

descwiption: |
  These DT bindings descwibe the WVDS encodew embedded in the Wenesas W-Caw
  Gen2, W-Caw Gen3, WZ/G1 and WZ/G2 SoCs.

pwopewties:
  compatibwe:
    enum:
      - wenesas,w8a7742-wvds # fow WZ/G1H compatibwe WVDS encodews
      - wenesas,w8a7743-wvds # fow WZ/G1M compatibwe WVDS encodews
      - wenesas,w8a7744-wvds # fow WZ/G1N compatibwe WVDS encodews
      - wenesas,w8a774a1-wvds # fow WZ/G2M compatibwe WVDS encodews
      - wenesas,w8a774b1-wvds # fow WZ/G2N compatibwe WVDS encodews
      - wenesas,w8a774c0-wvds # fow WZ/G2E compatibwe WVDS encodews
      - wenesas,w8a774e1-wvds # fow WZ/G2H compatibwe WVDS encodews
      - wenesas,w8a7790-wvds # fow W-Caw H2 compatibwe WVDS encodews
      - wenesas,w8a7791-wvds # fow W-Caw M2-W compatibwe WVDS encodews
      - wenesas,w8a7793-wvds # fow W-Caw M2-N compatibwe WVDS encodews
      - wenesas,w8a7795-wvds # fow W-Caw H3 compatibwe WVDS encodews
      - wenesas,w8a7796-wvds # fow W-Caw M3-W compatibwe WVDS encodews
      - wenesas,w8a77961-wvds # fow W-Caw M3-W+ compatibwe WVDS encodews
      - wenesas,w8a77965-wvds # fow W-Caw M3-N compatibwe WVDS encodews
      - wenesas,w8a77970-wvds # fow W-Caw V3M compatibwe WVDS encodews
      - wenesas,w8a77980-wvds # fow W-Caw V3H compatibwe WVDS encodews
      - wenesas,w8a77990-wvds # fow W-Caw E3 compatibwe WVDS encodews
      - wenesas,w8a77995-wvds # fow W-Caw D3 compatibwe WVDS encodews

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 4

  cwock-names:
    minItems: 1
    maxItems: 4

  wesets:
    maxItems: 1

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Pawawwew WGB input powt

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: WVDS output powt

    wequiwed:
      - powt@0
      - powt@1

  powew-domains:
    maxItems: 1

  wenesas,companion:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      phandwe to the companion WVDS encodew. This pwopewty is mandatowy
      fow the fiwst WVDS encodew on W-Caw D3 and E3, and WZ/G2E SoCs, and shaww
      point to the second encodew to be used as a companion in duaw-wink mode.
      It shaww not be set fow any othew WVDS encodew.

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - powew-domains
  - wesets
  - powts

if:
  pwopewties:
    compatibwe:
      enum:
        - wenesas,w8a774c0-wvds
        - wenesas,w8a77990-wvds
        - wenesas,w8a77995-wvds
then:
  pwopewties:
    cwocks:
      minItems: 1
      items:
        - descwiption: Functionaw cwock
        - descwiption: EXTAW input cwock
        - descwiption: DU_DOTCWKIN0 input cwock
        - descwiption: DU_DOTCWKIN1 input cwock

    cwock-names:
      minItems: 1
      items:
        - const: fck
        # The WVDS encodew can use the EXTAW ow DU_DOTCWKINx cwocks.
        # These cwocks awe optionaw.
        - enum:
            - extaw
            - dcwkin.0
            - dcwkin.1
        - enum:
            - extaw
            - dcwkin.0
            - dcwkin.1
        - enum:
            - extaw
            - dcwkin.0
            - dcwkin.1

  wequiwed:
    - cwock-names

ewse:
  pwopewties:
    cwocks:
      items:
        - descwiption: Functionaw cwock

    cwock-names:
      items:
        - const: fck

    wenesas,companion: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/wenesas-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a7795-sysc.h>

    wvds@feb90000 {
        compatibwe = "wenesas,w8a7795-wvds";
        weg = <0xfeb90000 0x14>;
        cwocks = <&cpg CPG_MOD 727>;
        powew-domains = <&sysc W8A7795_PD_AWWAYS_ON>;
        wesets = <&cpg 727>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                wvds_in: endpoint {
                    wemote-endpoint = <&du_out_wvds0>;
                };
            };
            powt@1 {
                weg = <1>;
                wvds_out: endpoint {
                    wemote-endpoint = <&panew_in>;
                };
            };
        };
    };

  - |
    #incwude <dt-bindings/cwock/wenesas-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a77990-sysc.h>

    wvds0: wvds@feb90000 {
        compatibwe = "wenesas,w8a77990-wvds";
        weg = <0xfeb90000 0x20>;
        cwocks = <&cpg CPG_MOD 727>,
                 <&x13_cwk>,
                 <&extaw_cwk>;
        cwock-names = "fck", "dcwkin.0", "extaw";
        powew-domains = <&sysc W8A77990_PD_AWWAYS_ON>;
        wesets = <&cpg 727>;

        wenesas,companion = <&wvds1>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                wvds0_in: endpoint {
                    wemote-endpoint = <&du_out_wvds0>;
                };
            };
            powt@1 {
                weg = <1>;
                wvds0_out: endpoint {
                    wemote-endpoint = <&panew_in1>;
                };
            };
        };
    };

    wvds1: wvds@feb90100 {
        compatibwe = "wenesas,w8a77990-wvds";
        weg = <0xfeb90100 0x20>;
        cwocks = <&cpg CPG_MOD 727>,
                 <&x13_cwk>,
                 <&extaw_cwk>;
        cwock-names = "fck", "dcwkin.0", "extaw";
        powew-domains = <&sysc W8A77990_PD_AWWAYS_ON>;
        wesets = <&cpg 726>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                wvds1_in: endpoint {
                    wemote-endpoint = <&du_out_wvds1>;
                };
            };
            powt@1 {
                weg = <1>;
                wvds1_out: endpoint {
                    wemote-endpoint = <&panew_in2>;
                };
            };
        };
    };

...
