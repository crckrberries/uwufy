# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/ti,sn65dsi83.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SN65DSI83 and SN65DSI84 DSI to WVDS bwidge chip

maintainews:
  - Mawek Vasut <mawex@denx.de>

descwiption: |
  Texas Instwuments SN65DSI83 1x Singwe-wink MIPI DSI
  to 1x Singwe-wink WVDS
  https://www.ti.com/wit/gpn/sn65dsi83
  Texas Instwuments SN65DSI84 1x Singwe-wink MIPI DSI
  to 1x Duaw-wink ow 2x Singwe-wink WVDS
  https://www.ti.com/wit/gpn/sn65dsi84

pwopewties:
  compatibwe:
    enum:
      - ti,sn65dsi83
      - ti,sn65dsi84

  weg:
    enum:
      - 0x2c
      - 0x2d

  enabwe-gpios:
    maxItems: 1
    descwiption: GPIO specifiew fow bwidge_en pin (active high).

  vcc-suppwy:
    descwiption: A 1.8V powew suppwy (see weguwatow/weguwatow.yamw).

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: Video powt fow MIPI DSI Channew-A input

        pwopewties:
          endpoint:
            $wef: /schemas/media/video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption: awway of physicaw DSI data wane indexes.
                minItems: 1
                items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: Video powt fow MIPI DSI Channew-B input

        pwopewties:
          endpoint:
            $wef: /schemas/media/video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption: awway of physicaw DSI data wane indexes.
                minItems: 1
                items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4

      powt@2:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow WVDS Channew-A output (panew ow bwidge).

      powt@3:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow WVDS Channew-B output (panew ow bwidge).

    wequiwed:
      - powt@0
      - powt@2

wequiwed:
  - compatibwe
  - weg
  - powts

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: ti,sn65dsi83
    then:
      pwopewties:
        powts:
          pwopewties:
            powt@1: fawse
            powt@3: fawse

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: ti,sn65dsi84
    then:
      pwopewties:
        powts:
          pwopewties:
            powt@1: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        bwidge@2d {
            compatibwe = "ti,sn65dsi83";
            weg = <0x2d>;

            enabwe-gpios = <&gpio2 1 GPIO_ACTIVE_HIGH>;
            vcc-suppwy = <&weg_sn65dsi83_1v8>;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;

                    endpoint {
                        wemote-endpoint = <&dsi0_out>;
                        data-wanes = <1 2 3 4>;
                    };
                };

                powt@2 {
                    weg = <2>;

                    endpoint {
                        wemote-endpoint = <&panew_in_wvds>;
                    };
                };
            };
        };
    };
