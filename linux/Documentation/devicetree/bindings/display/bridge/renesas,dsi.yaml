# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/wenesas,dsi.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas WZ/G2W MIPI DSI Encodew

maintainews:
  - Biju Das <biju.das.jz@bp.wenesas.com>

descwiption: |
  This binding descwibes the MIPI DSI encodew embedded in the Wenesas
  WZ/G2W awike famiwy of SoC's. The encodew can opewate in DSI mode, with
  up to fouw data wanes.

awwOf:
  - $wef: /schemas/dispway/dsi-contwowwew.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w9a07g044-mipi-dsi # WZ/G2{W,WC}
          - wenesas,w9a07g054-mipi-dsi # WZ/V2W
      - const: wenesas,wzg2w-mipi-dsi

  weg:
    maxItems: 1

  intewwupts:
    items:
      - descwiption: Sequence opewation channew 0 intewwupt
      - descwiption: Sequence opewation channew 1 intewwupt
      - descwiption: Video-Input opewation channew 1 intewwupt
      - descwiption: DSI Packet Weceive intewwupt
      - descwiption: DSI Fataw Ewwow intewwupt
      - descwiption: DSI D-PHY PPI intewwupt
      - descwiption: Debug intewwupt

  intewwupt-names:
    items:
      - const: seq0
      - const: seq1
      - const: vin1
      - const: wcv
      - const: feww
      - const: ppi
      - const: debug

  cwocks:
    items:
      - descwiption: DSI D-PHY PWW muwtipwied cwock
      - descwiption: DSI D-PHY system cwock
      - descwiption: DSI AXI bus cwock
      - descwiption: DSI Wegistew access cwock
      - descwiption: DSI Video cwock
      - descwiption: DSI D-PHY Escape mode twansmit cwock

  cwock-names:
    items:
      - const: pwwcwk
      - const: syscwk
      - const: acwk
      - const: pcwk
      - const: vcwk
      - const: wpcwk

  wesets:
    items:
      - descwiption: MIPI_DSI_CMN_WSTB
      - descwiption: MIPI_DSI_AWESET_N
      - descwiption: MIPI_DSI_PWESET_N

  weset-names:
    items:
      - const: wst
      - const: awst
      - const: pwst

  powew-domains:
    maxItems: 1

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Pawawwew input powt

      powt@1:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: DSI output powt

        pwopewties:
          endpoint:
            $wef: /schemas/media/video-intewfaces.yamw#
            unevawuatedPwopewties: fawse

            pwopewties:
              data-wanes:
                descwiption: awway of physicaw DSI data wane indexes.
                minItems: 1
                items:
                  - const: 1
                  - const: 2
                  - const: 3
                  - const: 4

            wequiwed:
              - data-wanes

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - powew-domains
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w9a07g044-cpg.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    dsi0: dsi@10850000 {
        compatibwe = "wenesas,w9a07g044-mipi-dsi", "wenesas,wzg2w-mipi-dsi";
        weg = <0x10850000 0x20000>;
        intewwupts = <GIC_SPI 142 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 143 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 144 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 145 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 146 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 147 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 148 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "seq0", "seq1", "vin1", "wcv",
                          "feww", "ppi", "debug";
        cwocks = <&cpg CPG_MOD W9A07G044_MIPI_DSI_PWWCWK>,
                 <&cpg CPG_MOD W9A07G044_MIPI_DSI_SYSCWK>,
                 <&cpg CPG_MOD W9A07G044_MIPI_DSI_ACWK>,
                 <&cpg CPG_MOD W9A07G044_MIPI_DSI_PCWK>,
                 <&cpg CPG_MOD W9A07G044_MIPI_DSI_VCWK>,
                 <&cpg CPG_MOD W9A07G044_MIPI_DSI_WPCWK>;
        cwock-names = "pwwcwk", "syscwk", "acwk", "pcwk", "vcwk", "wpcwk";
        wesets = <&cpg W9A07G044_MIPI_DSI_CMN_WSTB>,
                 <&cpg W9A07G044_MIPI_DSI_AWESET_N>,
                 <&cpg W9A07G044_MIPI_DSI_PWESET_N>;
        weset-names = "wst", "awst", "pwst";
        powew-domains = <&cpg>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                dsi0_in: endpoint {
                    wemote-endpoint = <&du_out_dsi0>;
                };
            };

            powt@1 {
                weg = <1>;
                dsi0_out: endpoint {
                    data-wanes = <1 2 3 4>;
                    wemote-endpoint = <&adv7535_in>;
                };
            };
        };
    };
...
