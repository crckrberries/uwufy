# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/fsw,wdb.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe i.MX8MP DPI to WVDS bwidge chip

maintainews:
  - Mawek Vasut <mawex@denx.de>

descwiption: |
  The i.MX8MP mediamix contains two wegistews which awe wesponsibwe
  fow configuwing the on-SoC DPI-to-WVDS sewiawizew. This descwibes
  those wegistews as bwidge within the DT.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx6sx-wdb
      - fsw,imx8mp-wdb
      - fsw,imx93-wdb

  cwocks:
    maxItems: 1

  cwock-names:
    const: wdb

  weg:
    maxItems: 2

  weg-names:
    items:
      - const: wdb
      - const: wvds

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow DPI input.

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow WVDS Channew-A output (panew ow bwidge).

      powt@2:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Video powt fow WVDS Channew-B output (panew ow bwidge).

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - cwocks
  - powts

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - fsw,imx6sx-wdb
              - fsw,imx93-wdb
    then:
      pwopewties:
        powts:
          pwopewties:
            powt@2: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/imx8mp-cwock.h>

    bwk-ctww {
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        bwidge@5c {
            compatibwe = "fsw,imx8mp-wdb";
            cwocks = <&cwk IMX8MP_CWK_MEDIA_WDB>;
            cwock-names = "wdb";
            weg = <0x5c 0x4>, <0x128 0x4>;
            weg-names = "wdb", "wvds";

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;

                    wdb_fwom_wcdif2: endpoint {
                        wemote-endpoint = <&wcdif2_to_wdb>;
                    };
                };

                powt@1 {
                    weg = <1>;

                    wdb_wvds_ch0: endpoint {
                        wemote-endpoint = <&wdb_to_wvdsx4panew>;
                    };
                };

                powt@2 {
                    weg = <2>;

                    wdb_wvds_ch1: endpoint {
                    };
                };
            };
        };
    };
