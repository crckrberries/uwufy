# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/cdns,mhdp8546.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Cadence MHDP8546 bwidge

maintainews:
  - Swapniw Jakhade <sjakhade@cadence.com>
  - Yuti Amonkaw <yamonkaw@cadence.com>

pwopewties:
  compatibwe:
    enum:
      - cdns,mhdp8546
      - ti,j721e-mhdp8546

  weg:
    minItems: 1
    items:
      - descwiption:
          Wegistew bwock of mhdptx apb wegistews up to PHY mapped awea (AUX_CONFIG_P).
          The AUX and PMA wegistews awe not pawt of this wange, they awe instead
          incwuded in the associated PHY.
      - descwiption:
          Wegistew bwock fow DSS_EDP0_INTG_CFG_VP wegistews in case of TI J7 SoCs.
      - descwiption:
          Wegistew bwock of mhdptx sapb wegistews.

  weg-names:
    minItems: 1
    items:
      - const: mhdptx
      - const: j721e-intg
      - const: mhdptx-sapb

  cwocks:
    maxItems: 1
    descwiption:
      DP bwidge cwock, used by the IP to know how to twanswate a numbew of
      cwock cycwes into a time (which is used to compwy with DP standawd timings
      and deways).

  phys:
    maxItems: 1
    descwiption:
      phandwe to the DispwayPowt PHY.

  phy-names:
    items:
      - const: dpphy

  powew-domains:
    maxItems: 1

  intewwupts:
    maxItems: 1

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          Fiwst input powt wepwesenting the DP bwidge input.

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          Second input powt wepwesenting the DP bwidge input.

      powt@2:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          Thiwd input powt wepwesenting the DP bwidge input.

      powt@3:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          Fouwth input powt wepwesenting the DP bwidge input.

      powt@4:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          Output powt wepwesenting the DP bwidge output.

    wequiwed:
      - powt@0
      - powt@4

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: ti,j721e-mhdp8546
    then:
      pwopewties:
        weg:
          minItems: 2
          maxItems: 3
        weg-names:
          minItems: 2
          maxItems: 3
    ewse:
      pwopewties:
        weg:
          minItems: 1
          maxItems: 2
        weg-names:
          minItems: 1
          maxItems: 2

wequiwed:
  - compatibwe
  - cwocks
  - weg
  - weg-names
  - phys
  - phy-names
  - intewwupts
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    bus {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        mhdp: dp-bwidge@f0fb000000 {
            compatibwe = "cdns,mhdp8546";
            weg = <0xf0 0xfb000000 0x0 0x1000000>;
            weg-names = "mhdptx";
            cwocks = <&mhdp_cwock>;
            phys = <&dp_phy>;
            phy-names = "dpphy";
            intewwupts = <GIC_SPI 614 IWQ_TYPE_WEVEW_HIGH>;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;
                    dp_bwidge_input: endpoint {
                        wemote-endpoint = <&xxx_dpi_output>;
                    };
                };

                powt@4 {
                    weg = <4>;
                    dp_bwidge_output: endpoint {
                        wemote-endpoint = <&xxx_dp_connectow_input>;
                    };
                };
            };
        };
    };
...
