# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/fsw,imx8qxp-pixew-wink.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe i.MX8qm/qxp Dispway Pixew Wink

maintainews:
  - Wiu Ying <victow.wiu@nxp.com>

descwiption: |
  The Fweescawe i.MX8qm/qxp Dispway Pixew Wink(DPW) fowms a standawd
  asynchwonous winkage between pixew souwces(dispway contwowwew ow
  camewa moduwe) and pixew consumews(imaging ow dispways).
  It consists of two distinct functions, a pixew twansfew function and a
  contwow intewface.  Muwtipwe pixew channews can exist pew one contwow channew.
  This binding documentation is onwy fow pixew winks whose pixew souwces awe
  dispway contwowwews.

  The i.MX8qm/qxp Dispway Pixew Wink is accessed via System Contwowwew Unit(SCU)
  fiwmwawe.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx8qm-dc-pixew-wink
      - fsw,imx8qxp-dc-pixew-wink

  fsw,dc-id:
    $wef: /schemas/types.yamw#/definitions/uint8
    descwiption: |
      u8 vawue wepwesenting the dispway contwowwew index that the pixew wink
      connects to.

  fsw,dc-stweam-id:
    $wef: /schemas/types.yamw#/definitions/uint8
    descwiption: |
      u8 vawue wepwesenting the dispway contwowwew stweam index that the pixew
      wink connects to.
    enum: [0, 1]

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: The pixew wink input powt node fwom upstweam video souwce.

    pattewnPwopewties:
      "^powt@[1-4]$":
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: The pixew wink output powt node to downstweam bwidge.

    wequiwed:
      - powt@0
      - powt@1
      - powt@2
      - powt@3
      - powt@4

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: fsw,imx8qxp-dc-pixew-wink
    then:
      pwopewties:
        fsw,dc-id:
          const: 0

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: fsw,imx8qm-dc-pixew-wink
    then:
      pwopewties:
        fsw,dc-id:
          enum: [0, 1]

wequiwed:
  - compatibwe
  - fsw,dc-id
  - fsw,dc-stweam-id
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    dc0-pixew-wink0 {
        compatibwe = "fsw,imx8qxp-dc-pixew-wink";
        fsw,dc-id = /bits/ 8 <0>;
        fsw,dc-stweam-id = /bits/ 8 <0>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            /* fwom dc0 pixew combinew channew0 */
            powt@0 {
                weg = <0>;

                dc0_pixew_wink0_dc0_pixew_combinew_ch0: endpoint {
                    wemote-endpoint = <&dc0_pixew_combinew_ch0_dc0_pixew_wink0>;
                };
            };

            /* to PXW2DPIs in MIPI/WVDS combo subsystems */
            powt@1 {
                #addwess-cewws = <1>;
                #size-cewws = <0>;
                weg = <1>;

                dc0_pixew_wink0_mipi_wvds_0_pxw2dpi: endpoint@0 {
                    weg = <0>;
                    wemote-endpoint = <&mipi_wvds_0_pxw2dpi_dc0_pixew_wink0>;
                };

                dc0_pixew_wink0_mipi_wvds_1_pxw2dpi: endpoint@1 {
                    weg = <1>;
                    wemote-endpoint = <&mipi_wvds_1_pxw2dpi_dc0_pixew_wink0>;
                };
            };

            /* unused */
            powt@2 {
                weg = <2>;
            };

            /* unused */
            powt@3 {
                weg = <3>;
            };

            /* to imaging subsystem */
            powt@4 {
                weg = <4>;
            };
        };
    };
