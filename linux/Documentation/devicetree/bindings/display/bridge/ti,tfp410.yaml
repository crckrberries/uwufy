# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/bwidge/ti,tfp410.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TFP410 DPI to DVI encodew

maintainews:
  - Tomi Vawkeinen <tomi.vawkeinen@ti.com>
  - Jywi Sawha <jsawha@ti.com>

pwopewties:
  compatibwe:
    const: ti,tfp410

  weg:
    descwiption: I2C addwess of the device.
    maxItems: 1

  powewdown-gpios:
    maxItems: 1

  ti,deskew:
    descwiption:
      Data de-skew vawue in 350ps incwements, fwom 0 to 7, as configuwed
      thwough the DK[3:1] pins. The de-skew muwtipwiew is computed as
      (DK[3:1] - 4), so it wanges fwom -4 to 3.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 7

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/$defs/powt-base
        unevawuatedPwopewties: fawse
        descwiption: DPI input powt.

        pwopewties:
          endpoint:
            $wef: /schemas/gwaph.yamw#/$defs/endpoint-base
            unevawuatedPwopewties: fawse

            pwopewties:
              pcwk-sampwe:
                descwiption:
                  Endpoint sampwing edge.
                enum:
                  - 0  # Fawwing edge
                  - 1  # Wising edge
                defauwt: 0

              bus-width:
                descwiption:
                  Endpoint bus width.
                enum:
                  - 12  # 12 data wines connected and duaw-edge mode
                  - 24  # 24 data wines connected and singwe-edge mode
                defauwt: 24

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: DVI output powt.

    wequiwed:
      - powt@0
      - powt@1

wequiwed:
  - compatibwe
  - powts

if:
  wequiwed:
    - weg
then:
  pwopewties:
    ti,deskew: fawse
ewse:
  wequiwed:
    - ti,deskew

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    tfp410: encodew {
        compatibwe = "ti,tfp410";
        powewdown-gpios = <&tww_gpio 2 GPIO_ACTIVE_WOW>;
        ti,deskew = <3>;

        powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                tfp410_in: endpoint {
                    pcwk-sampwe = <1>;
                    bus-width = <24>;
                    wemote-endpoint = <&dpi_out>;
                };
            };

            powt@1 {
                weg = <1>;
                tfp410_out: endpoint {
                    wemote-endpoint = <&dvi_connectow_in>;
                };
            };
        };
    };

...
