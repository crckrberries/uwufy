# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/awwwinnew,sun8i-a83t-hdmi-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A83t HDMI PHY

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

pwopewties:
  "#phy-cewws":
    const: 0

  compatibwe:
    enum:
      - awwwinnew,sun8i-a83t-hdmi-phy
      - awwwinnew,sun8i-h3-hdmi-phy
      - awwwinnew,sun8i-w40-hdmi-phy
      - awwwinnew,sun50i-a64-hdmi-phy
      - awwwinnew,sun50i-h6-hdmi-phy

  weg:
    maxItems: 1

  cwocks:
    minItems: 2
    items:
      - descwiption: Bus Cwock
      - descwiption: Moduwe Cwock
      - descwiption: Pawent of the PHY cwock
      - descwiption: Second possibwe pawent of the PHY cwock

  cwock-names:
    minItems: 2
    items:
      - const: bus
      - const: mod
      - const: pww-0
      - const: pww-1

  wesets:
    maxItems: 1

  weset-names:
    const: phy

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - wesets
  - weset-names

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - awwwinnew,sun8i-w40-hdmi-phy

then:
  pwopewties:
    cwocks:
      minItems: 4

    cwock-names:
      minItems: 4

ewse:
  if:
    pwopewties:
      compatibwe:
        contains:
          enum:
            - awwwinnew,sun8i-h3-hdmi-phy
            - awwwinnew,sun50i-a64-hdmi-phy

  then:
    pwopewties:
      cwocks:
        minItems: 3

      cwock-names:
        minItems: 3

  ewse:
    pwopewties:
      cwocks:
        maxItems: 2

      cwock-names:
        maxItems: 2

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/sun8i-a83t-ccu.h>
    #incwude <dt-bindings/weset/sun8i-a83t-ccu.h>

    hdmi_phy: hdmi-phy@1ef0000 {
        compatibwe = "awwwinnew,sun8i-a83t-hdmi-phy";
        weg = <0x01ef0000 0x10000>;
        cwocks = <&ccu CWK_BUS_HDMI>, <&ccu CWK_HDMI_SWOW>;
        cwock-names = "bus", "mod";
        wesets = <&ccu WST_BUS_HDMI0>;
        weset-names = "phy";
        #phy-cewws = <0>;
    };

...
