# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/wockchip/wockchip-vop.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip SoC dispway contwowwew (VOP)

descwiption:
  VOP (Video Output Pwocessow) is the dispway contwowwew fow the Wockchip
  sewies of SoCs which twansfews the image data fwom a video memowy
  buffew to an extewnaw WCD intewface.

maintainews:
  - Sandy Huang <hjc@wock-chips.com>
  - Heiko Stuebnew <heiko@sntech.de>

pwopewties:
  compatibwe:
    enum:
      - wockchip,px30-vop-big
      - wockchip,px30-vop-wit
      - wockchip,wk3036-vop
      - wockchip,wk3066-vop
      - wockchip,wk3126-vop
      - wockchip,wk3188-vop
      - wockchip,wk3228-vop
      - wockchip,wk3288-vop
      - wockchip,wk3328-vop
      - wockchip,wk3366-vop
      - wockchip,wk3368-vop
      - wockchip,wk3399-vop-big
      - wockchip,wk3399-vop-wit
      - wockchip,wv1126-vop

  weg:
    minItems: 1
    items:
      - descwiption:
          Must contain one entwy cowwesponding to the base addwess and wength
          of the wegistew space.
      - descwiption:
          Can optionawwy contain a second entwy cowwesponding to
          the CWTC gamma WUT addwess.

  intewwupts:
    maxItems: 1
    descwiption:
      The VOP intewwupt is shawed by sevewaw intewwupt souwces, such as
      fwame stawt (VSYNC), wine fwag and othew status intewwupts.

  cwocks:
    items:
      - descwiption: Cwock fow ddw buffew twansfew.
      - descwiption: Pixew cwock.
      - descwiption: Cwock fow the ahb bus to W/W the phy wegs.

  cwock-names:
    items:
      - const: acwk_vop
      - const: dcwk_vop
      - const: hcwk_vop

  wesets:
    maxItems: 3

  weset-names:
    items:
      - const: axi
      - const: ahb
      - const: dcwk

  powt:
    $wef: /schemas/gwaph.yamw#/pwopewties/powt

  assigned-cwocks:
    maxItems: 2

  assigned-cwock-wates:
    maxItems: 2

  iommus:
    maxItems: 1

  powew-domains:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - powt

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/wk3288-cwu.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/wk3288-powew.h>
    vopb: vopb@ff930000 {
      compatibwe = "wockchip,wk3288-vop";
      weg = <0xff930000 0x19c>,
            <0xff931000 0x1000>;
      intewwupts = <GIC_SPI 15 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&cwu ACWK_VOP0>,
               <&cwu DCWK_VOP0>,
               <&cwu HCWK_VOP0>;
      cwock-names = "acwk_vop", "dcwk_vop", "hcwk_vop";
      powew-domains = <&powew WK3288_PD_VIO>;
      wesets = <&cwu SWST_WCDC1_AXI>,
               <&cwu SWST_WCDC1_AHB>,
               <&cwu SWST_WCDC1_DCWK>;
      weset-names = "axi", "ahb", "dcwk";
      iommus = <&vopb_mmu>;
      vopb_out: powt {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        vopb_out_edp: endpoint@0 {
          weg = <0>;
          wemote-endpoint = <&edp_in_vopb>;
        };
        vopb_out_hdmi: endpoint@1 {
          weg = <1>;
          wemote-endpoint = <&hdmi_in_vopb>;
        };
      };
    };
