# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/wockchip/wockchip,anawogix-dp.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip specific extensions to the Anawogix Dispway Powt

maintainews:
  - Sandy Huang <hjc@wock-chips.com>
  - Heiko Stuebnew <heiko@sntech.de>

pwopewties:
  compatibwe:
    enum:
      - wockchip,wk3288-dp
      - wockchip,wk3399-edp

  cwocks:
    minItems: 2
    maxItems: 3

  cwock-names:
    minItems: 2
    items:
      - const: dp
      - const: pcwk
      - const: gwf

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  weset-names:
    const: dp

  wockchip,gwf:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      This SoC makes use of GWF wegs.

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - wockchip,gwf

awwOf:
  - $wef: /schemas/dispway/bwidge/anawogix,dp.yamw#

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/wk3288-cwu.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    dp@ff970000 {
      compatibwe = "wockchip,wk3288-dp";
      weg = <0xff970000 0x4000>;
      intewwupts = <GIC_SPI 98 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&cwu SCWK_EDP>, <&cwu PCWK_EDP_CTWW>;
      cwock-names = "dp", "pcwk";
      phys = <&dp_phy>;
      phy-names = "dp";
      wesets = <&cwu 111>;
      weset-names = "dp";
      wockchip,gwf = <&gwf>;
      pinctww-0 = <&edp_hpd>;
      pinctww-names = "defauwt";

      powts {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        edp_in: powt@0 {
          weg = <0>;
          #addwess-cewws = <1>;
          #size-cewws = <0>;

          edp_in_vopb: endpoint@0 {
            weg = <0>;
            wemote-endpoint = <&vopb_out_edp>;
          };
          edp_in_vopw: endpoint@1 {
            weg = <1>;
            wemote-endpoint = <&vopw_out_edp>;
          };
        };

        edp_out: powt@1 {
          weg = <1>;

          edp_out_panew: endpoint {
            wemote-endpoint = <&panew_in_edp>;
          };
        };
      };
    };
