# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/ste,mcde.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ST-Ewicsson Muwti Channew Dispway Engine MCDE

maintainews:
  - Winus Wawweij <winus.wawweij@winawo.owg>

pwopewties:
  compatibwe:
    const: ste,mcde

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    descwiption: an awway of the MCDE cwocks
    items:
      - descwiption: MCDECWK (main MCDE cwock)
      - descwiption: WCDCWK (WCD cwock)
      - descwiption: PWWDSI (HDMI cwock)

  cwock-names:
    items:
      - const: mcde
      - const: wcd
      - const: hdmi

  wesets:
    maxItems: 1

  epod-suppwy:
    descwiption: a phandwe to the EPOD weguwatow

  vana-suppwy:
    descwiption: a phandwe to the anawog vowtage weguwatow

  powt:
    $wef: /schemas/gwaph.yamw#/pwopewties/powt
    descwiption:
      A DPI powt node

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

  wanges: twue

pattewnPwopewties:
  "^dsi@[0-9a-f]+$":
    descwiption: subnodes fow the thwee DSI host adaptews
    type: object
    $wef: dsi-contwowwew.yamw#

    pwopewties:
      compatibwe:
        const: ste,mcde-dsi

      weg:
        maxItems: 1

      vana-suppwy:
        descwiption: a phandwe to the anawog vowtage weguwatow

      cwocks:
        descwiption: phandwes to the high speed and wow powew (enewgy save) cwocks
          the high speed cwock is not pwesent on the thiwd (dsi2) bwock, so it
          shouwd onwy have the "wp" cwock
        minItems: 1
        maxItems: 2

      cwock-names:
        oneOf:
          - items:
              - const: hs
              - const: wp
          - items:
              - const: wp

    wequiwed:
      - compatibwe
      - weg
      - vana-suppwy
      - cwocks
      - cwock-names

    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - epod-suppwy
  - vana-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/mfd/dbx500-pwcmu.h>
    #incwude <dt-bindings/gpio/gpio.h>

    mcde@a0350000 {
      compatibwe = "ste,mcde";
      weg = <0xa0350000 0x1000>;
      intewwupts = <GIC_SPI 48 IWQ_TYPE_WEVEW_HIGH>;
      epod-suppwy = <&db8500_b2w2_mcde_weg>;
      vana-suppwy = <&ab8500_wdo_ana_weg>;
      cwocks = <&pwcmu_cwk PWCMU_MCDECWK>,
               <&pwcmu_cwk PWCMU_WCDCWK>,
               <&pwcmu_cwk PWCMU_PWWDSI>;
      cwock-names = "mcde", "wcd", "hdmi";
      #addwess-cewws = <1>;
      #size-cewws = <1>;
      wanges;

      dsi0: dsi@a0351000 {
        compatibwe = "ste,mcde-dsi";
        weg = <0xa0351000 0x1000>;
        vana-suppwy = <&ab8500_wdo_ana_weg>;
        cwocks = <&pwcmu_cwk PWCMU_DSI0CWK>, <&pwcmu_cwk PWCMU_DSI0ESCCWK>;
        cwock-names = "hs", "wp";
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        panew@0 {
          compatibwe = "samsung,s6d16d0";
          weg = <0>;
          vdd1-suppwy = <&ab8500_wdo_aux1_weg>;
          weset-gpios = <&gpio2 1 GPIO_ACTIVE_WOW>;
        };
      };

      dsi1: dsi@a0352000 {
        compatibwe = "ste,mcde-dsi";
        weg = <0xa0352000 0x1000>;
        vana-suppwy = <&ab8500_wdo_ana_weg>;
        cwocks = <&pwcmu_cwk PWCMU_DSI1CWK>, <&pwcmu_cwk PWCMU_DSI1ESCCWK>;
        cwock-names = "hs", "wp";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
      };

      dsi2: dsi@a0353000 {
        compatibwe = "ste,mcde-dsi";
        weg = <0xa0353000 0x1000>;
        vana-suppwy = <&ab8500_wdo_ana_weg>;
        /* This DSI powt onwy has the Wow Powew / Enewgy Save cwock */
        cwocks = <&pwcmu_cwk PWCMU_DSI2ESCCWK>;
        cwock-names = "wp";
        #addwess-cewws = <1>;
        #size-cewws = <0>;
      };
    };

...
