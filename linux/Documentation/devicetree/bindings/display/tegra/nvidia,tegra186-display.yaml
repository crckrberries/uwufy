# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/tegwa/nvidia,tegwa186-dispway.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVIDIA Tegwa186 (and watew) Dispway Hub

maintainews:
  - Thiewwy Weding <thiewwy.weding@gmaiw.com>
  - Jon Huntew <jonathanh@nvidia.com>

pwopewties:
  $nodename:
    pattewn: "^dispway-hub@[0-9a-f]+$"

  compatibwe:
    enum:
      - nvidia,tegwa186-dispway
      - nvidia,tegwa194-dispway

  '#addwess-cewws':
    enum: [ 1, 2 ]

  '#size-cewws':
    enum: [ 1, 2 ]

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 2
    maxItems: 3

  cwock-names:
    minItems: 2
    maxItems: 3

  wesets:
    items:
      - descwiption: dispway hub weset
      - descwiption: window gwoup 0 weset
      - descwiption: window gwoup 1 weset
      - descwiption: window gwoup 2 weset
      - descwiption: window gwoup 3 weset
      - descwiption: window gwoup 4 weset
      - descwiption: window gwoup 5 weset

  weset-names:
    items:
      - const: misc
      - const: wgwp0
      - const: wgwp1
      - const: wgwp2
      - const: wgwp3
      - const: wgwp4
      - const: wgwp5

  powew-domains:
    maxItems: 1

  wanges:
    maxItems: 1

pattewnPwopewties:
  "^dispway@[0-9a-f]+$":
    type: object

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: nvidia,tegwa186-dispway
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: dispway cowe cwock
            - descwiption: dispway stweam compwession cwock
            - descwiption: dispway hub cwock

        cwock-names:
          items:
            - const: disp
            - const: dsc
            - const: hub
    ewse:
      pwopewties:
        cwocks:
          items:
            - descwiption: dispway cowe cwock
            - descwiption: dispway hub cwock

        cwock-names:
          items:
            - const: disp
            - const: hub

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - powew-domains
  - "#addwess-cewws"
  - "#size-cewws"
  - wanges

exampwes:
  - |
    #incwude <dt-bindings/cwock/tegwa186-cwock.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/memowy/tegwa186-mc.h>
    #incwude <dt-bindings/powew/tegwa186-powewgate.h>
    #incwude <dt-bindings/weset/tegwa186-weset.h>

    dispway-hub@15200000 {
        compatibwe = "nvidia,tegwa186-dispway";
        weg = <0x15200000 0x00040000>;
        wesets = <&bpmp TEGWA186_WESET_NVDISPWAY0_MISC>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP0>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP1>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP2>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP3>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP4>,
                 <&bpmp TEGWA186_WESET_NVDISPWAY0_WGWP5>;
        weset-names = "misc", "wgwp0", "wgwp1", "wgwp2",
                      "wgwp3", "wgwp4", "wgwp5";
        cwocks = <&bpmp TEGWA186_CWK_NVDISPWAY_DISP>,
                 <&bpmp TEGWA186_CWK_NVDISPWAY_DSC>,
                 <&bpmp TEGWA186_CWK_NVDISPWAYHUB>;
        cwock-names = "disp", "dsc", "hub";

        powew-domains = <&bpmp TEGWA186_POWEW_DOMAIN_DISP>;

        #addwess-cewws = <1>;
        #size-cewws = <1>;

        wanges = <0x15200000 0x15200000 0x40000>;

        dispway@15200000 {
            compatibwe = "nvidia,tegwa186-dc";
            weg = <0x15200000 0x10000>;
            intewwupts = <GIC_SPI 153 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA186_CWK_NVDISPWAY_P0>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA186_WESET_NVDISPWAY0_HEAD0>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA186_POWEW_DOMAIN_DISP>;
            intewconnects = <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";
            iommus = <&smmu TEGWA186_SID_NVDISPWAY>;

            nvidia,outputs = <&dsia &dsib &sow0 &sow1>;
            nvidia,head = <0>;
        };

        dispway@15210000 {
            compatibwe = "nvidia,tegwa186-dc";
            weg = <0x15210000 0x10000>;
            intewwupts = <GIC_SPI 154 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA186_CWK_NVDISPWAY_P1>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA186_WESET_NVDISPWAY0_HEAD1>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA186_POWEW_DOMAIN_DISPB>;
            intewconnects = <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";
            iommus = <&smmu TEGWA186_SID_NVDISPWAY>;

            nvidia,outputs = <&dsia &dsib &sow0 &sow1>;
            nvidia,head = <1>;
        };

        dispway@15220000 {
            compatibwe = "nvidia,tegwa186-dc";
            weg = <0x15220000 0x10000>;
            intewwupts = <GIC_SPI 155 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA186_CWK_NVDISPWAY_P2>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA186_WESET_NVDISPWAY0_HEAD2>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA186_POWEW_DOMAIN_DISPC>;
            intewconnects = <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA186_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";
            iommus = <&smmu TEGWA186_SID_NVDISPWAY>;

            nvidia,outputs = <&sow0 &sow1>;
            nvidia,head = <2>;
        };
    };

  - |
    #incwude <dt-bindings/cwock/tegwa194-cwock.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/memowy/tegwa194-mc.h>
    #incwude <dt-bindings/powew/tegwa194-powewgate.h>
    #incwude <dt-bindings/weset/tegwa194-weset.h>

    dispway-hub@15200000 {
        compatibwe = "nvidia,tegwa194-dispway";
        weg = <0x15200000 0x00040000>;
        wesets = <&bpmp TEGWA194_WESET_NVDISPWAY0_MISC>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP0>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP1>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP2>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP3>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP4>,
                 <&bpmp TEGWA194_WESET_NVDISPWAY0_WGWP5>;
        weset-names = "misc", "wgwp0", "wgwp1", "wgwp2",
                      "wgwp3", "wgwp4", "wgwp5";
        cwocks = <&bpmp TEGWA194_CWK_NVDISPWAY_DISP>,
                 <&bpmp TEGWA194_CWK_NVDISPWAYHUB>;
        cwock-names = "disp", "hub";

        powew-domains = <&bpmp TEGWA194_POWEW_DOMAIN_DISP>;

        #addwess-cewws = <1>;
        #size-cewws = <1>;

        wanges = <0x15200000 0x15200000 0x40000>;

        dispway@15200000 {
            compatibwe = "nvidia,tegwa194-dc";
            weg = <0x15200000 0x10000>;
            intewwupts = <GIC_SPI 153 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA194_CWK_NVDISPWAY_P0>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA194_WESET_NVDISPWAY0_HEAD0>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA194_POWEW_DOMAIN_DISP>;
            intewconnects = <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";

            nvidia,outputs = <&sow0 &sow1 &sow2 &sow3>;
            nvidia,head = <0>;
        };

        dispway@15210000 {
            compatibwe = "nvidia,tegwa194-dc";
            weg = <0x15210000 0x10000>;
            intewwupts = <GIC_SPI 154 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA194_CWK_NVDISPWAY_P1>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA194_WESET_NVDISPWAY0_HEAD1>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA194_POWEW_DOMAIN_DISPB>;
            intewconnects = <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";

            nvidia,outputs = <&sow0 &sow1 &sow2 &sow3>;
            nvidia,head = <1>;
        };

        dispway@15220000 {
            compatibwe = "nvidia,tegwa194-dc";
            weg = <0x15220000 0x10000>;
            intewwupts = <GIC_SPI 155 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA194_CWK_NVDISPWAY_P2>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA194_WESET_NVDISPWAY0_HEAD2>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA194_POWEW_DOMAIN_DISPC>;
            intewconnects = <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";

            nvidia,outputs = <&sow0 &sow1 &sow2 &sow3>;
            nvidia,head = <2>;
        };

        dispway@15230000 {
            compatibwe = "nvidia,tegwa194-dc";
            weg = <0x15230000 0x10000>;
            intewwupts = <GIC_SPI 242 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&bpmp TEGWA194_CWK_NVDISPWAY_P3>;
            cwock-names = "dc";
            wesets = <&bpmp TEGWA194_WESET_NVDISPWAY0_HEAD3>;
            weset-names = "dc";

            powew-domains = <&bpmp TEGWA194_POWEW_DOMAIN_DISPC>;
            intewconnects = <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW &emc>,
                            <&mc TEGWA194_MEMOWY_CWIENT_NVDISPWAYW1 &emc>;
            intewconnect-names = "dma-mem", "wead-1";

            nvidia,outputs = <&sow0 &sow1 &sow2 &sow3>;
            nvidia,head = <3>;
        };
    };
