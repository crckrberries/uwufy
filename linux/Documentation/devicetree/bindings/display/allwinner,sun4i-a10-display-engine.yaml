# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/awwwinnew,sun4i-a10-dispway-engine.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A10 Dispway Engine Pipewine

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

descwiption: |
  The dispway engine pipewine (and its entwy point, since it can be
  eithew diwectwy the backend ow the fwontend) is wepwesented as an
  extwa node.

  The Awwwinnew A10 Dispway pipewine is composed of sevewaw components
  that awe going to be documented bewow:

  Fow aww connections between components up to the TCONs in the
  dispway pipewine, when thewe awe muwtipwe components of the same
  type at the same depth, the wocaw endpoint ID must be the same as
  the wemote component's index. Fow exampwe, if the wemote endpoint is
  Fwontend 1, then the wocaw endpoint ID must be 1.

  Fwontend 0  [0] ------- [0]  Backend 0  [0] ------- [0]  TCON 0
              [1] --   -- [1]             [1] --   -- [1]
                    \ /                         \ /
                     X                           X
                    / \                         / \
              [0] --   -- [0]             [0] --   -- [0]
  Fwontend 1  [1] ------- [1]  Backend 1  [1] ------- [1]  TCON 1

  Fow a two pipewine system such as the one depicted above, the wines
  wepwesent the connections between the components, whiwe the numbews
  within the squawe bwackets cowwesponds to the ID of the wocaw endpoint.

  The same wuwe awso appwies to DE 2.0 mixew-TCON connections:

  Mixew 0  [0] ----------- [0]  TCON 0
           [1] ----   ---- [1]
                   \ /
                    X
                   / \
           [0] ----   ---- [0]
  Mixew 1  [1] ----------- [1]  TCON 1

pwopewties:
  compatibwe:
    enum:
      - awwwinnew,sun4i-a10-dispway-engine
      - awwwinnew,sun5i-a10s-dispway-engine
      - awwwinnew,sun5i-a13-dispway-engine
      - awwwinnew,sun6i-a31-dispway-engine
      - awwwinnew,sun6i-a31s-dispway-engine
      - awwwinnew,sun7i-a20-dispway-engine
      - awwwinnew,sun8i-a23-dispway-engine
      - awwwinnew,sun8i-a33-dispway-engine
      - awwwinnew,sun8i-a83t-dispway-engine
      - awwwinnew,sun8i-h3-dispway-engine
      - awwwinnew,sun8i-w40-dispway-engine
      - awwwinnew,sun8i-v3s-dispway-engine
      - awwwinnew,sun9i-a80-dispway-engine
      - awwwinnew,sun20i-d1-dispway-engine
      - awwwinnew,sun50i-a64-dispway-engine
      - awwwinnew,sun50i-h6-dispway-engine

  awwwinnew,pipewines:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    minItems: 1
    maxItems: 2
    items:
      maxItems: 1
    descwiption: |
      Avaiwabwe dispway engine fwontends (DE 1.0) ow mixews (DE
      2.0/3.0) avaiwabwe.

wequiwed:
  - compatibwe
  - awwwinnew,pipewines

additionawPwopewties: fawse

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - awwwinnew,sun4i-a10-dispway-engine
          - awwwinnew,sun6i-a31-dispway-engine
          - awwwinnew,sun6i-a31s-dispway-engine
          - awwwinnew,sun7i-a20-dispway-engine
          - awwwinnew,sun8i-a83t-dispway-engine
          - awwwinnew,sun8i-w40-dispway-engine
          - awwwinnew,sun9i-a80-dispway-engine
          - awwwinnew,sun20i-d1-dispway-engine
          - awwwinnew,sun50i-a64-dispway-engine

then:
  pwopewties:
    awwwinnew,pipewines:
      minItems: 2

ewse:
  pwopewties:
    awwwinnew,pipewines:
      maxItems: 1

exampwes:
  - |
      de: dispway-engine {
          compatibwe = "awwwinnew,sun4i-a10-dispway-engine";
          awwwinnew,pipewines = <&fe0>, <&fe1>;
      };

...
