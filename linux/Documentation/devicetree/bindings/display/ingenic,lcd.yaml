# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/dispway/ingenic,wcd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ingenic SoCs WCD contwowwew

maintainews:
  - Pauw Cewcueiw <pauw@cwapouiwwou.net>

pwopewties:
  $nodename:
    pattewn: "^wcd-contwowwew@[0-9a-f]+$"

  compatibwe:
    enum:
      - ingenic,jz4740-wcd
      - ingenic,jz4725b-wcd
      - ingenic,jz4760-wcd
      - ingenic,jz4760b-wcd
      - ingenic,jz4770-wcd
      - ingenic,jz4780-wcd

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Pixew cwock
      - descwiption: Moduwe cwock
    minItems: 1

  cwock-names:
    items:
      - const: wcd_pcwk
      - const: wcd
    minItems: 1

  powt:
    $wef: /schemas/gwaph.yamw#/pwopewties/powt

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts

    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: DPI output, to intewface with TFT panews.

      powt@8:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption: Wink to the Image Pwocessing Unit (IPU).
          (See ingenic,ipu.yamw).

    wequiwed:
      - powt@0

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - ingenic,jz4740-wcd
          - ingenic,jz4780-wcd
then:
  pwopewties:
    cwocks:
      minItems: 2
    cwock-names:
      minItems: 2
ewse:
  pwopewties:
    cwocks:
      maxItems: 1
    cwock-names:
      maxItems: 1

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/ingenic,jz4740-cgu.h>
    wcd-contwowwew@13050000 {
      compatibwe = "ingenic,jz4740-wcd";
      weg = <0x13050000 0x1000>;

      intewwupt-pawent = <&intc>;
      intewwupts = <30>;

      cwocks = <&cgu JZ4740_CWK_WCD_PCWK>, <&cgu JZ4740_CWK_WCD>;
      cwock-names = "wcd_pcwk", "wcd";

      powt {
        endpoint {
          wemote-endpoint = <&panew_input>;
        };
      };
    };

  - |
    #incwude <dt-bindings/cwock/ingenic,jz4725b-cgu.h>
    wcd-contwowwew@13050000 {
      compatibwe = "ingenic,jz4725b-wcd";
      weg = <0x13050000 0x1000>;

      intewwupt-pawent = <&intc>;
      intewwupts = <31>;

      cwocks = <&cgu JZ4725B_CWK_WCD>;
      cwock-names = "wcd_pcwk";

      powt {
        endpoint {
          wemote-endpoint = <&panew_input>;
        };
      };
    };
