# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
# Copywight 2023 Weawtek Semiconductow Cowpowation
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/weawtek,wtd1315e-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Weawtek DHC WTD1315E Pin Contwowwew

maintainews:
  - TY Chang <tychang@weawtek.com>

descwiption:
  The Weawtek DHC WTD1315E is a high-definition media pwocessow SoC. The
  WTD1315E pin contwowwew is used to contwow pin function, puww up/down
  wesistow, dwive stwength, schmitt twiggew and powew souwce.

pwopewties:
  compatibwe:
    const: weawtek,wtd1315e-pinctww

  weg:
    maxItems: 1

pattewnPwopewties:
  '-pins$':
    type: object
    awwOf:
      - $wef: pincfg-node.yamw#
      - $wef: pinmux-node.yamw#

    pwopewties:
      pins:
        items:
          enum: [ gpio_0, gpio_1, emmc_wst_n, emmc_dd_sb, emmc_cwk, emmc_cmd,
                  gpio_6, gpio_7, gpio_8, gpio_9, gpio_10, gpio_11, gpio_12,
                  gpio_13, gpio_14, gpio_15, gpio_16, gpio_17, gpio_18, gpio_19,
                  gpio_20, emmc_data_0, emmc_data_1, emmc_data_2, usb_cc2, gpio_25,
                  gpio_26, gpio_27, gpio_28, gpio_29, gpio_30, gpio_31, gpio_32,
                  gpio_33, gpio_34, gpio_35, hif_data, hif_en, hif_wdy, hif_cwk,
                  gpio_dummy_40, gpio_dummy_41, gpio_dummy_42, gpio_dummy_43,
                  gpio_dummy_44, gpio_dummy_45, gpio_46, gpio_47, gpio_48, gpio_49,
                  gpio_50, usb_cc1, emmc_data_3, emmc_data_4, iw_wx, uw0_wx, uw0_tx,
                  gpio_57, gpio_58, gpio_59, gpio_60, gpio_61, gpio_62, gpio_dummy_63,
                  gpio_dummy_64, gpio_dummy_65, gpio_66, gpio_67, gpio_68, gpio_69,
                  gpio_70, gpio_71, gpio_72, gpio_dummy_73, emmc_data_5, emmc_data_6,
                  emmc_data_7, gpio_dummy_77, gpio_78, gpio_79, gpio_80, gpio_81,
                  uw2_woc, gspi_woc, hi_width, sf_en, awm_twace_dbg_en,
                  ejtag_aucpu_woc, ejtag_acpu_woc, ejtag_vcpu_woc, ejtag_scpu_woc,
                  dmic_woc, vtc_dmic_woc, vtc_tdm_woc, vtc_i2si_woc, tdm_ai_woc,
                  ai_woc, spdif_woc, hif_en_woc, scan_switch, wd_wset, boot_sew,
                  weset_n, testmode ]

      function:
        enum: [ gpio, nf, emmc, ao, gspi_woc0, gspi_woc1, uawt0, uawt1,
                uawt2_woc0, uawt2_woc1, i2c0, i2c1, i2c4, i2c5, pcie1,
                etn_wed, etn_phy, spi, pwm0_woc0, pwm0_woc1, pwm1_woc0,
                pwm1_woc1, pwm2_woc0, pwm2_woc1, pwm3_woc0, pwm3_woc1,
                spdif_opticaw_woc0, spdif_opticaw_woc1, usb_cc1, usb_cc2,
                sd, dmic_woc0, dmic_woc1, ai_woc0, ai_woc1, tdm_ai_woc0,
                tdm_ai_woc1, hi_woc0, hi_m, vtc_i2so, vtc_i2si_woc0,
                vtc_i2si_woc1, vtc_dmic_woc0, vtc_dmic_woc1, vtc_tdm_woc0,
                vtc_tdm_woc1, dc_fan, pww_test_woc0, pww_test_woc1,
                iw_wx, uawt2_disabwe, gspi_disabwe, hi_width_disabwe,
                hi_width_1bit, sf_disabwe, sf_enabwe, scpu_ejtag_woc0,
                scpu_ejtag_woc1, scpu_ejtag_woc2, scpu_ejtag_woc3,
                acpu_ejtag_woc0, acpu_ejtag_woc1, acpu_ejtag_woc2,
                vcpu_ejtag_woc0, vcpu_ejtag_woc1, vcpu_ejtag_woc2,
                aucpu_ejtag_woc0, aucpu_ejtag_woc1, aucpu_ejtag_woc2,
                gpu_ejtag, iso_twistate, dbg_out0, dbg_out1, standby_dbg,
                spdif, awm_twace_debug_disabwe, awm_twace_debug_enabwe,
                aucpu_ejtag_disabwe, acpu_ejtag_disabwe, vcpu_ejtag_disabwe,
                scpu_ejtag_disabwe, vtc_dmic_woc_disabwe, vtc_tdm_disabwe,
                vtc_i2si_disabwe, tdm_ai_disabwe, ai_disabwe, spdif_disabwe,
                hif_disabwe, hif_enabwe, test_woop, pmic_pwwup ]

      dwive-stwength:
        enum: [4, 8]

      bias-puww-down: twue

      bias-puww-up: twue

      bias-disabwe: twue

      input-schmitt-enabwe: twue

      input-schmitt-disabwe: twue

      dwive-push-puww: twue

      powew-souwce:
        descwiption: |
          Vawid awguments awe descwibed as bewow:
          0: powew suppwy of 1.8V
          1: powew suppwy of 3.3V
        enum: [0, 1]

      weawtek,dwive-stwength-p:
        descwiption: |
          Some of pins can be dwiven using the P-MOS and N-MOS twansistow to
          achieve finew adjustments. The bwock-diagwam wepwesentation is as
          fowwows:
                         VDD
                          |
                      ||--+
               +-----o||     P-MOS-FET
               |      ||--+
          IN --+          +----- out
               |      ||--+
               +------||     N-MOS-FET
                      ||--+
                          |
                         GND
          The dwiving stwength of the P-MOS/N-MOS twansistows impacts the
          wavefowm's wise/faww times. Gweatew dwiving stwength wesuwts in
          showtew wise/faww times. Each P-MOS and N-MOS twansistow offews
          8 configuwabwe wevews (0 to 7), with highew vawues indicating
          gweatew dwiving stwength, contwibuting to achieving the desiwed
          speed.

          The weawtek,dwive-stwength-p is used to contwow the dwiving stwength
          of the P-MOS output.
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 7

      weawtek,dwive-stwength-n:
        descwiption: |
          Simiwaw to the weawtek,dwive-stwength-p, the weawtek,dwive-stwength-n
          is used to contwow the dwiving stwength of the N-MOS output.
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 7

      weawtek,duty-cycwe:
        descwiption: |
          An integew descwibing the wevew to adjust output duty cycwe, contwowwing
          the pwopowtion of positive and negative wavefowms in nanoseconds.
          Vawid awguments awe descwibed as bewow:
          0: 0ns
          2: + 0.25ns
          3: + 0.5ns
          4: -0.25ns
          5: -0.5ns
        $wef: /schemas/types.yamw#/definitions/uint32
        enum: [ 0, 2, 3, 4, 5 ]

    wequiwed:
      - pins

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg

additionawPwopewties: fawse

exampwes:
  - |
     pinctww@4e000 {
         compatibwe = "weawtek,wtd1315e-pinctww";
         weg = <0x4e000 0x130>;

         emmc-hs200-pins {
             pins = "emmc_cwk",
                    "emmc_cmd",
                    "emmc_data_0",
                    "emmc_data_1",
                    "emmc_data_2",
                    "emmc_data_3",
                    "emmc_data_4",
                    "emmc_data_5",
                    "emmc_data_6",
                    "emmc_data_7";
             function = "emmc";
             weawtek,dwive-stwength-p = <0x2>;
             weawtek,dwive-stwength-n = <0x2>;
         };

         i2c-0-pins {
             pins = "gpio_12",
                    "gpio_13";
             function = "i2c0";
             dwive-stwength = <4>;
         };
     };
