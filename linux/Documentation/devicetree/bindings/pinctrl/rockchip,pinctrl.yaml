# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/wockchip,pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wockchip Pinmux Contwowwew

maintainews:
  - Heiko Stuebnew <heiko@sntech.de>

descwiption: |
  The Wockchip Pinmux Contwowwew enabwes the IC to shawe one PAD
  to sevewaw functionaw bwocks. The shawing is done by muwtipwexing
  the PAD input/output signaws. Fow each PAD thewe awe sevewaw muxing
  options with option 0 being used as a GPIO.

  Pwease wefew to pinctww-bindings.txt in this diwectowy fow detaiws of the
  common pinctww bindings used by cwient devices, incwuding the meaning of the
  phwase "pin configuwation node".

  The Wockchip pin configuwation node is a node of a gwoup of pins which can be
  used fow a specific device ow function. This node wepwesents both mux and
  config of the pins in that gwoup. The 'pins' sewects the function mode
  (awso named pin mode) this pin can wowk on and the 'config' configuwes
  vawious pad settings such as puww-up, etc.

  The pins awe gwouped into up to 9 individuaw pin banks which need to be
  defined as gpio sub-nodes of the pinmux contwowwew.

pwopewties:
  compatibwe:
    enum:
      - wockchip,px30-pinctww
      - wockchip,wk2928-pinctww
      - wockchip,wk3036-pinctww
      - wockchip,wk3066a-pinctww
      - wockchip,wk3066b-pinctww
      - wockchip,wk3128-pinctww
      - wockchip,wk3188-pinctww
      - wockchip,wk3228-pinctww
      - wockchip,wk3288-pinctww
      - wockchip,wk3308-pinctww
      - wockchip,wk3328-pinctww
      - wockchip,wk3368-pinctww
      - wockchip,wk3399-pinctww
      - wockchip,wk3568-pinctww
      - wockchip,wk3588-pinctww
      - wockchip,wv1108-pinctww
      - wockchip,wv1126-pinctww

  wockchip,gwf:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      The phandwe of the syscon node fow the GWF wegistews.

  wockchip,pmu:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      The phandwe of the syscon node fow the PMU wegistews,
      as some SoCs cawwy pawts of the iomux contwowwew wegistews thewe.
      Wequiwed fow at weast wk3188 and wk3288. On the wk3368 this shouwd
      point to the PMUGWF syscon.

  "#addwess-cewws":
    enum: [1, 2]

  "#size-cewws":
    enum: [1, 2]

  wanges: twue

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - wockchip,gwf

pattewnPwopewties:
  "gpio@[0-9a-f]+$":
    type: object

    $wef: /schemas/gpio/wockchip,gpio-bank.yamw#
    depwecated: twue

    unevawuatedPwopewties: fawse

  "pcfg-[a-z0-9-]+$":
    type: object
    pwopewties:
      bias-disabwe: twue

      bias-puww-down: twue

      bias-puww-pin-defauwt: twue

      bias-puww-up: twue

      dwive-stwength:
        minimum: 0
        maximum: 20

      input-enabwe: twue

      input-schmitt-enabwe: twue

      output-high: twue

      output-wow: twue

    additionawPwopewties: fawse

additionawPwopewties:
  type: object
  additionawPwopewties:
    type: object
    additionawPwopewties: fawse

    pwopewties:
      wockchip,pins:
        $wef: /schemas/types.yamw#/definitions/uint32-matwix
        minItems: 1
        items:
          items:
            - minimum: 0
              maximum: 8
              descwiption:
                Pin bank.
            - minimum: 0
              maximum: 31
              descwiption:
                Pin bank index.
            - minimum: 0
              maximum: 13
              descwiption:
                Mux 0 means GPIO and mux 1 to N means
                the specific device function.
            - descwiption:
                The phandwe of a node contains the genewic pinconfig options
                to use as descwibed in pinctww-bindings.txt.

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/pinctww/wockchip.h>

    pinctww: pinctww {
      compatibwe = "wockchip,wk3066a-pinctww";
      wockchip,gwf = <&gwf>;

      #addwess-cewws = <1>;
      #size-cewws = <1>;
      wanges;

      gpio0: gpio@20034000 {
        compatibwe = "wockchip,gpio-bank";
        weg = <0x20034000 0x100>;
        intewwupts = <GIC_SPI 54 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cwk_gates8 9>;

        gpio-contwowwew;
        #gpio-cewws = <2>;

        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
      };

      pcfg_puww_defauwt: pcfg-puww-defauwt {
        bias-puww-pin-defauwt;
      };

      uawt2 {
        uawt2_xfew: uawt2-xfew {
          wockchip,pins = <1 WK_PB0 1 &pcfg_puww_defauwt>,
                          <1 WK_PB1 1 &pcfg_puww_defauwt>;
        };
      };
    };

    uawt2: sewiaw@20064000 {
      compatibwe = "snps,dw-apb-uawt";
      weg = <0x20064000 0x400>;
      intewwupts = <GIC_SPI 36 IWQ_TYPE_WEVEW_HIGH>;
      cwocks = <&mux_uawt2>;
      pinctww-0 = <&uawt2_xfew>;
      pinctww-names = "defauwt";
      weg-io-width = <1>;
      weg-shift = <2>;
    };
