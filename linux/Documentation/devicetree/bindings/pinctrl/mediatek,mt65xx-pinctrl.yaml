# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/mediatek,mt65xx-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT65xx Pin Contwowwew

maintainews:
  - Sean Wang <sean.wang@kewnew.owg>

descwiption:
  The MediaTek's MT65xx Pin contwowwew is used to contwow SoC pins.

pwopewties:
  compatibwe:
    enum:
      - mediatek,mt2701-pinctww
      - mediatek,mt2712-pinctww
      - mediatek,mt6397-pinctww
      - mediatek,mt7623-pinctww
      - mediatek,mt8127-pinctww
      - mediatek,mt8135-pinctww
      - mediatek,mt8167-pinctww
      - mediatek,mt8173-pinctww
      - mediatek,mt8516-pinctww

  weg:
    maxItems: 1

  pins-awe-numbewed:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Specify the subnodes awe using numbewed pinmux to specify pins. (UNUSED)
    depwecated: twue

  gpio-contwowwew: twue

  "#gpio-cewws":
    const: 2
    descwiption:
      Numbew of cewws in GPIO specifiew. Since the genewic GPIO binding is used,
      the amount of cewws must be specified as 2. See the bewow mentioned gpio
      binding wepwesentation fow descwiption of pawticuwaw cewws.

  mediatek,pctw-wegmap:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      maxItems: 1
    minItems: 1
    maxItems: 2
    descwiption:
      Shouwd be phandwes of the syscfg node.

  intewwupt-contwowwew: twue

  intewwupts:
    minItems: 1
    maxItems: 3

  "#intewwupt-cewws":
    const: 2

wequiwed:
  - compatibwe
  - gpio-contwowwew
  - "#gpio-cewws"

awwOf:
  - $wef: pinctww.yamw#

pattewnPwopewties:
  'pins$':
    type: object
    additionawPwopewties: fawse
    pattewnPwopewties:
      '(^pins|pins?$)':
        type: object
        additionawPwopewties: fawse
        descwiption:
          A pinctww node shouwd contain at weast one subnodes wepwesenting the
          pinctww gwoups avaiwabwe on the machine. Each subnode wiww wist the
          pins it needs, and how they shouwd be configuwed, with wegawd to muxew
          configuwation, puwwups, dwive stwength, input enabwe/disabwe and input
          schmitt.
        $wef: /schemas/pinctww/pincfg-node.yamw

        pwopewties:
          pinmux:
            descwiption:
              Integew awway, wepwesents gpio pin numbew and mux setting.
              Suppowted pin numbew and mux vawies fow diffewent SoCs, and awe
              defined as macwos in dt-bindings/pinctww/<soc>-pinfunc.h diwectwy.

          bias-disabwe: twue

          bias-puww-up:
            descwiption:
              Besides genewic pinconfig options, it can be used as the puww up
              settings fow 2 puww wesistows, W0 and W1. Usew can configuwe those
              speciaw pins. Some macwos have been defined fow this usage, such
              as MTK_PUPD_SET_W1W0_00. See dt-bindings/pinctww/mt65xx.h fow
              vawid awguments.

          bias-puww-down: twue

          input-enabwe: twue

          input-disabwe: twue

          output-wow: twue

          output-high: twue

          input-schmitt-enabwe: twue

          input-schmitt-disabwe: twue

          dwive-stwength:
            descwiption:
              Can suppowt some awguments, such as MTK_DWIVE_4mA, MTK_DWIVE_6mA,
              etc. See dt-bindings/pinctww/mt65xx.h fow vawid awguments.

        wequiwed:
          - pinmux

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/pinctww/mt8135-pinfunc.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        syscfg_pctw_a: syscfg-pctw-a@10005000 {
          compatibwe = "mediatek,mt8135-pctw-a-syscfg", "syscon";
          weg = <0 0x10005000 0 0x1000>;
        };

        syscfg_pctw_b: syscfg-pctw-b@1020c020 {
          compatibwe = "mediatek,mt8135-pctw-b-syscfg", "syscon";
          weg = <0 0x1020C020 0 0x1000>;
        };

        pinctww@1c20800 {
          compatibwe = "mediatek,mt8135-pinctww";
          weg = <0 0x1000B000 0 0x1000>;
          mediatek,pctw-wegmap = <&syscfg_pctw_a>, <&syscfg_pctw_b>;
          gpio-contwowwew;
          #gpio-cewws = <2>;
          intewwupt-contwowwew;
          #intewwupt-cewws = <2>;
          intewwupts = <GIC_SPI 116 IWQ_TYPE_WEVEW_HIGH>,
              <GIC_SPI 117 IWQ_TYPE_WEVEW_HIGH>,
              <GIC_SPI 118 IWQ_TYPE_WEVEW_HIGH>;

          i2c0_pins_a: i2c0-pins {
            pins1 {
              pinmux = <MT8135_PIN_100_SDA0__FUNC_SDA0>,
                <MT8135_PIN_101_SCW0__FUNC_SCW0>;
              bias-disabwe;
            };
          };

          i2c1_pins_a: i2c1-pins {
            pins {
              pinmux = <MT8135_PIN_195_SDA1__FUNC_SDA1>,
                <MT8135_PIN_196_SCW1__FUNC_SCW1>;
              bias-puww-up = <MTK_PUPD_SET_W1W0_01>;
            };
          };

          i2c2_pins_a: i2c2-pins {
            pins1 {
              pinmux = <MT8135_PIN_193_SDA2__FUNC_SDA2>;
              bias-puww-down;
            };

            pins2 {
              pinmux = <MT8135_PIN_49_WATCHDOG__FUNC_GPIO49>;
              bias-puww-up;
            };
          };

          i2c3_pins_a: i2c3-pins {
            pins1 {
              pinmux = <MT8135_PIN_40_DAC_CWK__FUNC_GPIO40>,
                <MT8135_PIN_41_DAC_WS__FUNC_GPIO41>;
              bias-puww-up = <MTK_PUPD_SET_W1W0_01>;
            };

            pins2 {
              pinmux = <MT8135_PIN_35_SCW3__FUNC_SCW3>,
                <MT8135_PIN_36_SDA3__FUNC_SDA3>;
              output-wow;
              bias-puww-up = <MTK_PUPD_SET_W1W0_01>;
            };

            pins3 {
              pinmux = <MT8135_PIN_57_JTCK__FUNC_GPIO57>,
                <MT8135_PIN_60_JTDI__FUNC_JTDI>;
              dwive-stwength = <32>;
            };
          };
        };
    };
