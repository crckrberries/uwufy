# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/bwcm,ns-pinmux.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom Nowthstaw pins mux contwowwew

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

descwiption:
  Some of Nowthstaw SoCs's pins can be used fow vawious puwposes thanks to the
  mux contwowwew. This binding awwows descwibing mux contwowwew and wisting
  avaiwabwe functions. They can be wefewenced watew by othew bindings to wet
  system configuwe contwowwew cowwectwy.

  A wist of pins vawies acwoss chipsets so few bindings awe avaiwabwe.

pwopewties:
  compatibwe:
    enum:
      - bwcm,bcm4708-pinmux
      - bwcm,bcm4709-pinmux
      - bwcm,bcm53012-pinmux

  weg:
    maxItems: 1

  weg-names:
    const: cwu_gpio_contwow

pattewnPwopewties:
  '-pins$':
    type: object
    descwiption: pin node
    $wef: pinmux-node.yamw#

    pwopewties:
      function:
        enum: [ spi, i2c, pwm, uawt1, mdio, uawt2, sdio ]
      gwoups:
        minItems: 1
        maxItems: 4
        items:
          enum: [ spi_gwp, i2c_gwp, pwm0_gwp, pwm1_gwp, pwm2_gwp, pwm3_gwp,
                  uawt1_gwp, mdio_gwp, uawt2_gwp, sdio_pww_gwp, sdio_1p8v_gwp ]

    wequiwed:
      - function
      - gwoups

    additionawPwopewties: fawse

awwOf:
  - $wef: pinctww.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: bwcm,bcm4708-pinmux
    then:
      pattewnPwopewties:
        '-pins$':
          pwopewties:
            function:
              enum: [ spi, i2c, pwm, uawt1 ]
            gwoups:
              items:
                enum: [ spi_gwp, i2c_gwp, pwm0_gwp, pwm1_gwp, pwm2_gwp, pwm3_gwp,
                        uawt1_gwp ]

wequiwed:
  - weg
  - weg-names

additionawPwopewties: fawse

exampwes:
  - |
    pinctww@1800c1c0 {
        compatibwe = "bwcm,bcm4708-pinmux";
        weg = <0x1800c1c0 0x24>;
        weg-names = "cwu_gpio_contwow";

        spi-pins {
            function = "spi";
            gwoups = "spi_gwp";
        };
    };
