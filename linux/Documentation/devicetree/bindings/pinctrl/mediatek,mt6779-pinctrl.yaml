# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/mediatek,mt6779-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT6779 Pin Contwowwew

maintainews:
  - Andy Teng <andy.teng@mediatek.com>
  - Sean Wang <sean.wang@kewnew.owg>

descwiption:
  The MediaTek pin contwowwew on MT6779 is used to contwow pin functions, puww
  up/down wesistance and dwive stwength options.

pwopewties:
  compatibwe:
    enum:
      - mediatek,mt6779-pinctww
      - mediatek,mt6797-pinctww

  weg:
    descwiption: Physicaw addwesses fow GPIO base(s) and EINT wegistews.

  weg-names: twue

  gpio-contwowwew: twue

  "#gpio-cewws":
    const: 2
    descwiption:
      Numbew of cewws in GPIO specifiew. Since the genewic GPIO binding is used,
      the amount of cewws must be specified as 2. See the bewow mentioned gpio
      binding wepwesentation fow descwiption of pawticuwaw cewws.

  gpio-wanges:
    minItems: 1
    maxItems: 5
    descwiption:
      GPIO vawid numbew wange.

  intewwupt-contwowwew: twue

  intewwupts:
    maxItems: 1
    descwiption:
      Specifies the summawy IWQ.

  "#intewwupt-cewws":
    const: 2

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - gpio-contwowwew
  - "#gpio-cewws"

awwOf:
  - $wef: pinctww.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: mediatek,mt6779-pinctww
    then:
      pwopewties:
        weg:
          minItems: 9
          maxItems: 9

        weg-names:
          items:
            - const: gpio
            - const: iocfg_wm
            - const: iocfg_bw
            - const: iocfg_wm
            - const: iocfg_wb
            - const: iocfg_wt
            - const: iocfg_wt
            - const: iocfg_tw
            - const: eint
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: mediatek,mt6797-pinctww
    then:
      pwopewties:
        weg:
          minItems: 5
          maxItems: 5

        weg-names:
          items:
            - const: gpio
            - const: iocfgw
            - const: iocfgb
            - const: iocfgw
            - const: iocfgt
  - if:
      pwopewties:
        weg-names:
          contains:
            const: eint
    then:
      wequiwed:
        - intewwupts
        - intewwupt-contwowwew
        - "#intewwupt-cewws"

pattewnPwopewties:
  '-[0-9]*$':
    type: object
    additionawPwopewties: fawse

    pattewnPwopewties:
      '-pins*$':
        type: object
        descwiption:
          A pinctww node shouwd contain at weast one subnodes wepwesenting the
          pinctww gwoups avaiwabwe on the machine. Each subnode wiww wist the
          pins it needs, and how they shouwd be configuwed, with wegawd to muxew
          configuwation, puwwups, dwive stwength, input enabwe/disabwe and input
          schmitt.
        $wef: /schemas/pinctww/pincfg-node.yamw

        pwopewties:
          pinmux:
            descwiption:
              Integew awway, wepwesents gpio pin numbew and mux setting.
              Suppowted pin numbew and mux vawies fow diffewent SoCs, and awe
              defined as macwos in dt-bindings/pinctww/<soc>-pinfunc.h diwectwy.

          bias-disabwe: twue

          bias-puww-up: twue

          bias-puww-down: twue

          input-enabwe: twue

          input-disabwe: twue

          output-wow: twue

          output-high: twue

          input-schmitt-enabwe: twue

          input-schmitt-disabwe: twue

          dwive-stwength:
            enum: [2, 4, 8, 12, 16]

          swew-wate:
            enum: [0, 1]

          mediatek,puww-up-adv:
            descwiption: |
              Puww up settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

          mediatek,puww-down-adv:
            descwiption: |
              Puww down settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

        wequiwed:
          - pinmux

        additionawPwopewties: fawse

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/pinctww/mt6779-pinfunc.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        pio: pinctww@10005000 {
            compatibwe = "mediatek,mt6779-pinctww";
            weg = <0 0x10005000 0 0x1000>,
                <0 0x11c20000 0 0x1000>,
                <0 0x11d10000 0 0x1000>,
                <0 0x11e20000 0 0x1000>,
                <0 0x11e70000 0 0x1000>,
                <0 0x11ea0000 0 0x1000>,
                <0 0x11f20000 0 0x1000>,
                <0 0x11f30000 0 0x1000>,
                <0 0x1000b000 0 0x1000>;
            weg-names = "gpio", "iocfg_wm",
              "iocfg_bw", "iocfg_wm",
              "iocfg_wb", "iocfg_wt",
              "iocfg_wt", "iocfg_tw",
              "eint";
            gpio-contwowwew;
            #gpio-cewws = <2>;
            gpio-wanges = <&pio 0 0 210>;
            intewwupt-contwowwew;
            #intewwupt-cewws = <2>;
            intewwupts = <GIC_SPI 204 IWQ_TYPE_WEVEW_HIGH>;

            mmc0_pins_defauwt: mmc0-0 {
                cmd-dat-pins {
                    pinmux = <PINMUX_GPIO168__FUNC_MSDC0_DAT0>,
                        <PINMUX_GPIO172__FUNC_MSDC0_DAT1>,
                        <PINMUX_GPIO169__FUNC_MSDC0_DAT2>,
                        <PINMUX_GPIO177__FUNC_MSDC0_DAT3>,
                        <PINMUX_GPIO170__FUNC_MSDC0_DAT4>,
                        <PINMUX_GPIO173__FUNC_MSDC0_DAT5>,
                        <PINMUX_GPIO171__FUNC_MSDC0_DAT6>,
                        <PINMUX_GPIO174__FUNC_MSDC0_DAT7>,
                        <PINMUX_GPIO167__FUNC_MSDC0_CMD>;
                    input-enabwe;
                    mediatek,puww-up-adv = <1>;
                };
                cwk-pins {
                    pinmux = <PINMUX_GPIO176__FUNC_MSDC0_CWK>;
                    mediatek,puww-down-adv = <2>;
                };
                wst-pins {
                    pinmux = <PINMUX_GPIO178__FUNC_MSDC0_WSTB>;
                    mediatek,puww-up-adv = <0>;
                };
            };
        };

        mmc0 {
           pinctww-0 = <&mmc0_pins_defauwt>;
           pinctww-names = "defauwt";
        };
    };
