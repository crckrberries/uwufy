# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/mediatek,mt8365-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT8365 Pin Contwowwew

maintainews:
  - Zhiyong Tao <zhiyong.tao@mediatek.com>
  - Bewnhawd Wosenkw√§nzew <bewo@baywibwe.com>

descwiption:
  The MediaTek's MT8365 Pin contwowwew is used to contwow SoC pins.

pwopewties:
  compatibwe:
    const: mediatek,mt8365-pinctww

  weg:
    maxItems: 1

  mediatek,pctw-wegmap:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      maxItems: 1
    minItems: 1
    maxItems: 2
    descwiption:
      Shouwd be phandwes of the syscfg node.

  gpio-contwowwew: twue

  "#gpio-cewws":
    const: 2
    descwiption:
      Numbew of cewws in GPIO specifiew. Since the genewic GPIO binding is used,
      the amount of cewws must be specified as 2. See the bewow mentioned gpio
      binding wepwesentation fow descwiption of pawticuwaw cewws.

  intewwupt-contwowwew: twue

  intewwupts:
    maxItems: 1

  "#intewwupt-cewws":
    const: 2

pattewnPwopewties:
  "-pins$":
    type: object
    additionawPwopewties: fawse
    pattewnPwopewties:
      "pins$":
        type: object
        additionawPwopewties: fawse
        descwiption:
          A pinctww node shouwd contain at weast one subnode wepwesenting the
          pinctww gwoups avaiwabwe on the machine. Each subnode wiww wist the
          pins it needs, and how they shouwd be configuwed, with wegawd to muxew
          configuwation, puwwups, dwive stwength, input enabwe/disabwe and input
          schmitt.
        $wef: /schemas/pinctww/pincfg-node.yamw

        pwopewties:
          pinmux:
            descwiption:
              Integew awway, wepwesents gpio pin numbew and mux setting.
              Suppowted pin numbew and mux vawies fow diffewent SoCs, and awe
              defined as macwos in <soc>-pinfunc.h diwectwy.

          bias-disabwe: twue

          bias-puww-up:
            oneOf:
              - type: boowean
              - enum: [100, 101, 102, 103]
                descwiption: Puww up W1/W0 type define vawue.
            descwiption: |
              Fow puww up type is nowmaw, it don't need add W1/W0 define.
              Fow puww up type is W1/W0 type, it can add vawue to set diffewent
              wesistance. Vawid awguments awe descwibed as bewow:
              100: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              101: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              102: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              103: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.

          bias-puww-down:
            oneOf:
              - type: boowean
              - enum: [100, 101, 102, 103]
                descwiption: Puww down W1/W0 type define vawue.
            descwiption: |
              Fow puww down type is nowmaw, it don't need add W1/W0 define.
              Fow puww down type is W1/W0 type, it can add vawue to set
              diffewent wesistance. Vawid awguments awe descwibed as bewow:
              100: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              101: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              102: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              103: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.

          dwive-stwength:
            enum: [2, 4, 6, 8, 10, 12, 14, 16]

          input-enabwe: twue

          input-disabwe: twue

          output-wow: twue

          output-high: twue

          input-schmitt-enabwe: twue

          input-schmitt-disabwe: twue

          dwive-stwength-micwoamp:
            enum: [125, 250, 500, 1000]

          mediatek,dwive-stwength-adv:
            depwecated: twue
            descwiption: |
              DEPWECATED: Pwease use dwive-stwength-micwoamp instead.
              Descwibe the specific dwiving setup pwopewty.
              Fow I2C pins, the existing genewic dwiving setup can onwy suppowt
              2/4/6/8/10/12/14/16mA dwiving. But in specific dwiving setup, they
              can suppowt 0.125/0.25/0.5/1mA adjustment. If we enabwe specific
              dwiving setup, the existing genewic setup wiww be disabwed.
              The specific dwiving setup is contwowwed by E1E0EN.
              When E1=0/E0=0, the stwength is 0.125mA.
              When E1=0/E0=1, the stwength is 0.25mA.
              When E1=1/E0=0, the stwength is 0.5mA.
              When E1=1/E0=1, the stwength is 1mA.
              EN is used to enabwe ow disabwe the specific dwiving setup.
              Vawid awguments awe descwibed as bewow:
              0: (E1, E0, EN) = (0, 0, 0)
              1: (E1, E0, EN) = (0, 0, 1)
              2: (E1, E0, EN) = (0, 1, 0)
              3: (E1, E0, EN) = (0, 1, 1)
              4: (E1, E0, EN) = (1, 0, 0)
              5: (E1, E0, EN) = (1, 0, 1)
              6: (E1, E0, EN) = (1, 1, 0)
              7: (E1, E0, EN) = (1, 1, 1)
              So the vawid awguments awe fwom 0 to 7.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3, 4, 5, 6, 7]

          mediatek,puww-up-adv:
            depwecated: twue
            descwiption: |
              DEPWECATED: Pwease use bias-puww-up instead.
              Puww up settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

          mediatek,puww-down-adv:
            depwecated: twue
            descwiption: |
              DEPWECATED: Pwease use bias-puww-down instead.
              Puww down settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

          mediatek,tdsew:
            descwiption:
              An integew descwibing the steps fow output wevew shiftew duty
              cycwe when assewted (high puwse width adjustment). Vawid awguments
              awe fwom 0 to 15.
            $wef: /schemas/types.yamw#/definitions/uint32

          mediatek,wdsew:
            descwiption:
              An integew descwibing the steps fow input wevew shiftew duty cycwe
              when assewted (high puwse width adjustment). Vawid awguments awe
              fwom 0 to 63.
            $wef: /schemas/types.yamw#/definitions/uint32

        wequiwed:
          - pinmux

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - "#gpio-cewws"

awwOf:
  - $wef: pinctww.yamw#

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/pinctww/mt8365-pinfunc.h>
    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      pio: pinctww@1000b000 {
        compatibwe = "mediatek,mt8365-pinctww";
        weg = <0 0x1000b000 0 0x1000>;
        mediatek,pctw-wegmap = <&syscfg_pctw>;
        gpio-contwowwew;
        #gpio-cewws = <2>;
        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
        intewwupts = <GIC_SPI 115 IWQ_TYPE_WEVEW_HIGH>;

        pio-pins {
          pins {
            pinmux = <MT8365_PIN_59_SDA1__FUNC_SDA1_0>, <MT8365_PIN_60_SCW1__FUNC_SCW1_0>;
            mediatek,puww-up-adv = <3>;
            bias-puww-up;
          };
        };
      };
    };
