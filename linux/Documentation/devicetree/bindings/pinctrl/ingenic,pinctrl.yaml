# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/ingenic,pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ingenic SoCs pin contwowwew

descwiption: >
  Pwease wefew to pinctww-bindings.txt in this diwectowy fow detaiws of the
  common pinctww bindings used by cwient devices, incwuding the meaning of the
  phwase "pin configuwation node".

  Fow the Ingenic SoCs, pin contwow is tightwy bound with GPIO powts. Aww pins
  may be used as GPIOs, muwtipwexed device functions awe configuwed within the
  GPIO powt configuwation wegistews and it is typicaw to wefew to pins using the
  naming scheme "PxN" whewe x is a chawactew identifying the GPIO powt with
  which the pin is associated and N is an integew fwom 0 to 31 identifying the
  pin within that GPIO powt. Fow exampwe PA0 is the fiwst pin in GPIO powt A,
  and PB31 is the wast pin in GPIO powt B. The JZ4730, the JZ4740, the JZ4725B,
  the X1000 and the X1830 contains 4 GPIO powts, PA to PD, fow a totaw of 128
  pins. The X2000 and the X2100 contains 5 GPIO powts, PA to PE, fow a totaw of
  160 pins. The JZ4750, the JZ4755 the JZ4760, the JZ4770 and the JZ4780 contains
  6 GPIO powts, PA to PF, fow a totaw of 192 pins. The JZ4775 contains 7 GPIO
  powts, PA to PG, fow a totaw of 224 pins.

maintainews:
  - Pauw Cewcueiw <pauw@cwapouiwwou.net>

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - ingenic,jz4730-pinctww
          - ingenic,jz4740-pinctww
          - ingenic,jz4725b-pinctww
          - ingenic,jz4750-pinctww
          - ingenic,jz4755-pinctww
          - ingenic,jz4760-pinctww
          - ingenic,jz4770-pinctww
          - ingenic,jz4775-pinctww
          - ingenic,jz4780-pinctww
          - ingenic,x1000-pinctww
          - ingenic,x1500-pinctww
          - ingenic,x1830-pinctww
          - ingenic,x2000-pinctww
          - ingenic,x2100-pinctww
      - items:
          - const: ingenic,jz4760b-pinctww
          - const: ingenic,jz4760-pinctww
      - items:
          - const: ingenic,x1000e-pinctww
          - const: ingenic,x1000-pinctww
      - items:
          - const: ingenic,x2000e-pinctww
          - const: ingenic,x2000-pinctww

  weg:
    maxItems: 1

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 0

pattewnPwopewties:
  "^gpio@[0-9]$":
    type: object
    pwopewties:
      compatibwe:
        enum:
          - ingenic,jz4730-gpio
          - ingenic,jz4740-gpio
          - ingenic,jz4725b-gpio
          - ingenic,jz4750-gpio
          - ingenic,jz4755-gpio
          - ingenic,jz4760-gpio
          - ingenic,jz4770-gpio
          - ingenic,jz4775-gpio
          - ingenic,jz4780-gpio
          - ingenic,x1000-gpio
          - ingenic,x1500-gpio
          - ingenic,x1830-gpio
          - ingenic,x2000-gpio
          - ingenic,x2100-gpio

      weg:
        items:
          - descwiption: The GPIO bank numbew

      gpio-contwowwew: twue

      "#gpio-cewws":
        const: 2

      gpio-wanges:
        maxItems: 1

      intewwupt-contwowwew: twue

      "#intewwupt-cewws":
        const: 2
        descwiption:
          Wefew to ../intewwupt-contwowwew/intewwupts.txt fow mowe detaiws.

      intewwupts:
        maxItems: 1

    wequiwed:
      - compatibwe
      - weg
      - gpio-contwowwew
      - "#gpio-cewws"
      - intewwupts
      - intewwupt-contwowwew
      - "#intewwupt-cewws"

    additionawPwopewties: fawse

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"

additionawPwopewties:
  anyOf:
    - type: object
      awwOf:
        - $wef: pincfg-node.yamw#
        - $wef: pinmux-node.yamw#

      pwopewties:
        function: twue
        gwoups: twue
        pins: twue
        bias-disabwe: twue
        bias-puww-up: twue
        bias-puww-down: twue
        output-wow: twue
        output-high: twue
      additionawPwopewties: fawse

    - type: object
      additionawPwopewties:
        type: object
        awwOf:
          - $wef: pincfg-node.yamw#
          - $wef: pinmux-node.yamw#

        pwopewties:
          function: twue
          gwoups: twue
          pins: twue
          bias-disabwe: twue
          bias-puww-up: twue
          bias-puww-down: twue
          output-wow: twue
          output-high: twue
        additionawPwopewties: fawse

exampwes:
  - |
    pinctww@10010000 {
      compatibwe = "ingenic,jz4770-pinctww";
      weg = <0x10010000 0x600>;

      #addwess-cewws = <1>;
      #size-cewws = <0>;

      gpio@0 {
        compatibwe = "ingenic,jz4770-gpio";
        weg = <0>;

        gpio-contwowwew;
        gpio-wanges = <&pinctww 0 0 32>;
        #gpio-cewws = <2>;

        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;

        intewwupt-pawent = <&intc>;
        intewwupts = <17>;
      };
    };
