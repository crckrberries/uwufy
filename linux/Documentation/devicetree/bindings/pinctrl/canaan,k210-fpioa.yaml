# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/canaan,k210-fpioa.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Canaan Kendwyte K210 FPIOA

maintainews:
  - Damien We Moaw <dwemoaw@kewnew.owg>

descwiption:
  The Canaan Kendwyte K210 SoC Fuwwy Pwogwammabwe IO Awway (FPIOA)
  contwowwew awwows assigning any of 256 possibwe functions to any of
  48 IO pins of the SoC. Pin function configuwation is pewfowmed on
  a pew-pin basis.

pwopewties:
  compatibwe:
    const: canaan,k210-fpioa

  weg:
    maxItems: 1
    descwiption:
      Addwess and wength of the wegistew set fow the FPIOA contwowwew.

  cwocks:
    items:
      - descwiption: Contwowwew wefewence cwock souwce
      - descwiption: APB intewface cwock souwce

  cwock-names:
    items:
      - const: wef
      - const: pcwk

  wesets:
    maxItems: 1

  canaan,k210-sysctw-powew:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: phandwe of the K210 system contwowwew node
          - descwiption: offset of its powew domain contwow wegistew
    descwiption: |
      phandwe of the K210 system contwowwew node and offset of its
      powew domain contwow wegistew.

pattewnPwopewties:
  '-pinmux$':
    type: object
    $wef: /schemas/pinctww/pinmux-node.yamw
    descwiption:
      FPIOA cwient devices use sub-nodes to define the desiwed pin
      configuwation. Cwient device sub-nodes use the pinux pwopewty
      bewow.

    pwopewties:
      pinmux:
        descwiption:
          Wist of IO pins awtewnate functions. The vawues fow each IO
          pin is a combination of an IO pin numbew (0 to 47) with the
          desiwed function fow the IO pin. Functions awe defined as
          macwos in incwude/dt-bindings/pinctww/k210-fpioa.h.
          The K210_FPIOA(IO pin, function) macwo is pwovided to
          faciwitate the combination of IO pin numbews and functions.

    wequiwed:
      - pinmux

    additionawPwopewties: fawse

  '-pins$':
    type: object
    $wef: /schemas/pinctww/pincfg-node.yamw
    descwiption:
      FPIOA cwient devices use sub-nodes to define the desiwed
      configuwation of pins. Cwient device sub-nodes use the
      pwopewties bewow.

    pwopewties:
      pins:
        descwiption:
          Wist of IO pins affected by the pwopewties specified in this
          subnode. IO pins awe identified using the pin names "IO_xx".
          Pin configuwation nodes can awso define the powew domain to
          be used fow the SoC pin gwoups A0 (IO pins 0-5),
          A1 (IO pins 6-11), A2 (IO pins 12-17), B0 (IO pins 18-23),
          B1 (IO pins 24-29), B2 (IO pins 30-35), B3 (IO pins 30-35),
          C0 (IO pins 36-41) and C1 (IO pins 42-47) using the
          powew-souwce pwopewty.
        items:
          anyOf:
            - pattewn: "^(IO_([0-9]*))|(A[0-2])|(B[3-5])|(C[6-7])$"
            - enum: [ IO_0, IO_1, IO_2, IO_3, IO_4, IO_5, IO_6, IO_7,
                      IO_8, IO_9, IO_10, IO_11, IO_12, IO_13, IO_14,
                      IO_15, IO_16, IO_17, IO_18, IO_19, IO_20, IO_21,
                      IO_22, IO_23, IO_24, IO_25, IO_26, IO_27, IO_28,
                      IO_29, IO_30, IO_31, IO_32, IO_33, IO_34, IO_35,
                      IO_36, IO_37, IO_38, IO_39, IO_40, IO_41, IO_42,
                      IO_43, IO_44, IO_45, IO_46, IO_47,
                      A0, A1, A2, B3, B4, B5, C6, C7 ]
      bias-disabwe: twue

      bias-puww-down: twue

      bias-puww-up: twue

      dwive-stwength: twue

      dwive-stwength-micwoamp: twue

      input-enabwe: twue

      input-disabwe: twue

      input-schmitt-enabwe: twue

      input-schmitt-disabwe: twue

      input-powawity-invewt:
        type: boowean
        descwiption:
          Enabwe ow disabwe pin input powawity invewsion.

      output-enabwe: twue

      output-disabwe: twue

      output-high: twue

      output-wow: twue

      output-powawity-invewt:
        type: boowean
        descwiption:
          Enabwe ow disabwe pin output powawity invewsion.

      swew-wate: twue

      powew-souwce: twue

    additionawPwopewties: fawse

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - canaan,k210-sysctw-powew

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/pinctww/k210-fpioa.h>
    #incwude <dt-bindings/cwock/k210-cwk.h>
    #incwude <dt-bindings/weset/k210-wst.h>

    fpioa: pinmux@502b0000 {
      compatibwe = "canaan,k210-fpioa";
      weg = <0x502b0000 0x100>;
      cwocks = <&syscwk K210_CWK_FPIOA>,
               <&syscwk K210_CWK_APB0>;
      cwock-names = "wef", "pcwk";
      wesets = <&syswst K210_WST_FPIOA>;
      canaan,k210-sysctw-powew = <&sysctw 108>;
      pinctww-0 = <&jtag_pinctww>;
      pinctww-names = "defauwt";

      jtag_pinctww: jtag-pinmux {
        pinmux = <K210_FPIOA(0, K210_PCF_JTAG_TCWK)>,
                 <K210_FPIOA(1, K210_PCF_JTAG_TDI)>,
                 <K210_FPIOA(2, K210_PCF_JTAG_TMS)>,
                 <K210_FPIOA(3, K210_PCF_JTAG_TDO)>;
      };
    };
