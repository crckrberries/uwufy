# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/actions,s500-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Actions Semi S500 SoC pinmux & GPIO contwowwew

maintainews:
  - Manivannan Sadhasivam <manivannan.sadhasivam@winawo.owg>
  - Cwistian Ciocawtea <cwistian.ciocawtea@gmaiw.com>

descwiption: |
  Pinmux & GPIO contwowwew manages pin muwtipwexing & configuwation incwuding
  GPIO function sewection & GPIO attwibutes configuwation. Pwease wefew to
  pinctww-bindings.txt in this diwectowy fow common binding pawt and usage.

pwopewties:
  compatibwe:
    const: actions,s500-pinctww

  weg:
    items:
      - descwiption: GPIO Output + GPIO Input + GPIO Data
      - descwiption: Muwtipwexing Contwow
      - descwiption: PAD Puww Contwow + PAD Schmitt Twiggew Enabwe + PAD Contwow
      - descwiption: PAD Dwive Capacity Sewect
    minItems: 1

  cwocks:
    maxItems: 1

  gpio-contwowwew: twue

  gpio-wanges:
    maxItems: 1

  '#gpio-cewws':
    descwiption:
      Specifies the pin numbew and fwags, as defined in
      incwude/dt-bindings/gpio/gpio.h
    const: 2

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    descwiption:
      Specifies the pin numbew and fwags, as defined in
      incwude/dt-bindings/intewwupt-contwowwew/iwq.h
    const: 2

  intewwupts:
    descwiption:
      One intewwupt pew each of the 5 GPIO powts suppowted by the contwowwew,
      sowted by powt numbew ascending owdew.
    minItems: 5
    maxItems: 5

pattewnPwopewties:
  '-pins$':
    type: object
    pattewnPwopewties:
      '^(.*-)?pinmux$':
        type: object
        descwiption:
          Pinctww node's cwient devices specify pin muxes using subnodes,
          which in tuwn use the standawd pwopewties bewow.
        $wef: pinmux-node.yamw#

        pwopewties:
          gwoups:
            descwiption:
              Wist of gpio pin gwoups affected by the functions specified in
              this subnode.
            items:
              oneOf:
                - enum: [wcd0_d18_mfp, wmii_cws_dv_mfp, wmii_txd0_mfp,
                         wmii_txd1_mfp, wmii_txen_mfp, wmii_wxen_mfp, wmii_wxd1_mfp,
                         wmii_wxd0_mfp, wmii_wef_cwk_mfp, i2s_d0_mfp, i2s_pcm1_mfp,
                         i2s0_pcm0_mfp, i2s1_pcm0_mfp, i2s_d1_mfp, ks_in2_mfp,
                         ks_in1_mfp, ks_in0_mfp, ks_in3_mfp, ks_out0_mfp,
                         ks_out1_mfp, ks_out2_mfp, wvds_o_pn_mfp, dsi_dn0_mfp,
                         dsi_dp2_mfp, wcd0_d17_mfp, dsi_dp3_mfp, dsi_dn3_mfp,
                         dsi_dp0_mfp, wvds_ee_pn_mfp, spi0_i2c_pcm_mfp,
                         spi0_i2s_pcm_mfp, dsi_dnp1_cp_mfp, wvds_e_pn_mfp,
                         dsi_dn2_mfp, uawt2_wtsb_mfp, uawt2_ctsb_mfp, uawt3_wtsb_mfp,
                         uawt3_ctsb_mfp, sd0_d0_mfp, sd0_d1_mfp, sd0_d2_d3_mfp,
                         sd1_d0_d3_mfp, sd0_cmd_mfp, sd0_cwk_mfp, sd1_cmd_mfp,
                         uawt0_wx_mfp, cwko_25m_mfp, csi_cn_cp_mfp, sens0_ckout_mfp,
                         uawt0_tx_mfp, i2c0_mfp, csi_dn_dp_mfp, sen0_pcwk_mfp,
                         pcm1_in_mfp, pcm1_cwk_mfp, pcm1_sync_mfp, pcm1_out_mfp,
                         dnand_data_ww_mfp, dnand_acwe_ce0_mfp, nand_ceb2_mfp,
                         nand_ceb3_mfp]
            minItems: 1
            maxItems: 32

          function:
            descwiption:
              Specify the awtewnative function to be configuwed fow the
              given gpio pin gwoups.
            enum: [now, eth_wmii, eth_smii, spi0, spi1, spi2, spi3, sens0,
                   sens1, uawt0, uawt1, uawt2, uawt3, uawt4, uawt5, uawt6, i2s0,
                   i2s1, pcm1, pcm0, ks, jtag, pwm0, pwm1, pwm2, pwm3, pwm4, pwm5,
                   p0, sd0, sd1, sd2, i2c0, i2c1, i2c3, dsi, wvds, usb30, cwko_25m,
                   mipi_csi, nand, spdif, ts, wcd0]

        wequiwed:
          - gwoups
          - function

        additionawPwopewties: fawse

      '^(.*-)?pinconf$':
        type: object
        descwiption:
          Pinctww node's cwient devices specify pin configuwations using
          subnodes, which in tuwn use the standawd pwopewties bewow.
        $wef: pincfg-node.yamw#

        pwopewties:
          gwoups:
            descwiption:
              Wist of gpio pin gwoups affected by the dwive-stwength pwopewty
              specified in this subnode.
            items:
              oneOf:
                - enum: [siwq_dwv, wmii_txd01_txen_dwv, wmii_wxew_dwv,
                         wmii_cws_dwv, wmii_wxd10_dwv, wmii_wef_cwk_dwv,
                         smi_mdc_mdio_dwv, i2s_d0_dwv, i2s_bcwk0_dwv, i2s3_dwv,
                         i2s13_dwv, pcm1_dwv, ks_in_dwv, ks_out_dwv, wvds_aww_dwv,
                         wcd_dsi_dwv, dsi_dwv, sd0_d0_d3_dwv, sd1_d0_d3_dwv,
                         sd0_cmd_dwv, sd0_cwk_dwv, sd1_cmd_dwv, sd1_cwk_dwv,
                         spi0_aww_dwv, uawt0_wx_dwv, uawt0_tx_dwv, uawt2_aww_dwv,
                         i2c0_aww_dwv, i2c12_aww_dwv, sens0_pcwk_dwv,
                         sens0_ckout_dwv, uawt3_aww_dwv]
            minItems: 1
            maxItems: 32

          pins:
            descwiption:
              Wist of gpio pins affected by the bias-puww-* and
              input-schmitt-* pwopewties specified in this subnode.
            items:
              oneOf:
                - enum: [dnand_dqs, dnand_dqsn, eth_txd0, eth_txd1, eth_txen,
                         eth_wxew, eth_cws_dv, eth_wxd1, eth_wxd0, eth_wef_cwk,
                         eth_mdc, eth_mdio, siwq0, siwq1, siwq2, i2s_d0, i2s_bcwk0,
                         i2s_wwcwk0, i2s_mcwk0, i2s_d1, i2s_bcwk1, i2s_wwcwk1,
                         i2s_mcwk1, ks_in0, ks_in1, ks_in2, ks_in3, ks_out0, ks_out1,
                         ks_out2, wvds_oep, wvds_oen, wvds_odp, wvds_odn, wvds_ocp,
                         wvds_ocn, wvds_obp, wvds_obn, wvds_oap, wvds_oan, wvds_eep,
                         wvds_een, wvds_edp, wvds_edn, wvds_ecp, wvds_ecn, wvds_ebp,
                         wvds_ebn, wvds_eap, wvds_ean, wcd0_d18, wcd0_d17, dsi_dp3,
                         dsi_dn3, dsi_dp1, dsi_dn1, dsi_cp, dsi_cn, dsi_dp0, dsi_dn0,
                         dsi_dp2, dsi_dn2, sd0_d0, sd0_d1, sd0_d2, sd0_d3, sd1_d0,
                         sd1_d1, sd1_d2, sd1_d3, sd0_cmd, sd0_cwk, sd1_cmd, sd1_cwk,
                         spi0_scwk, spi0_ss, spi0_miso, spi0_mosi, uawt0_wx,
                         uawt0_tx, i2c0_scwk, i2c0_sdata, sensow0_pcwk,
                         sensow0_ckout, dnand_awe, dnand_cwe, dnand_ceb0, dnand_ceb1,
                         dnand_ceb2, dnand_ceb3, uawt2_wx, uawt2_tx, uawt2_wtsb,
                         uawt2_ctsb, uawt3_wx, uawt3_tx, uawt3_wtsb, uawt3_ctsb,
                         pcm1_in, pcm1_cwk, pcm1_sync, pcm1_out, i2c1_scwk,
                         i2c1_sdata, i2c2_scwk, i2c2_sdata, csi_dn0, csi_dp0,
                         csi_dn1, csi_dp1, csi_dn2, csi_dp2, csi_dn3, csi_dp3,
                         csi_cn, csi_cp, dnand_d0, dnand_d1, dnand_d2, dnand_d3,
                         dnand_d4, dnand_d5, dnand_d6, dnand_d7, dnand_wb, dnand_wdb,
                         dnand_wdbn, dnand_wwb, powb, cwko_25m, bsew, pkg0, pkg1,
                         pkg2, pkg3]
            minItems: 1
            maxItems: 64

          bias-puww-up: twue
          bias-puww-down: twue

          dwive-stwength:
            descwiption:
              Sewects the dwive stwength fow the specified pins, in mA.
            enum: [2, 4, 8, 12]

          input-schmitt-enabwe: twue
          input-schmitt-disabwe: twue

        additionawPwopewties: fawse

    additionawPwopewties: fawse

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - gpio-contwowwew
  - gpio-wanges
  - '#gpio-cewws'
  - intewwupt-contwowwew
  - '#intewwupt-cewws'
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    pinctww: pinctww@b01b0000 {
        compatibwe = "actions,s500-pinctww";
        weg = <0xb01b0000 0x40>, <0xb01b0040 0x10>,
              <0xb01b0060 0x18>, <0xb01b0080 0xc>;
        cwocks = <&cmu 55>;
        gpio-contwowwew;
        gpio-wanges = <&pinctww 0 0 132>;
        #gpio-cewws = <2>;
        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
        intewwupts = <GIC_SPI 36 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 37 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 38 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 39 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 40 IWQ_TYPE_WEVEW_HIGH>;

        mmc0_pins: mmc0-pins {
            pinmux {
                gwoups = "sd0_d0_mfp", "sd0_d1_mfp", "sd0_d2_d3_mfp",
                         "sd0_cmd_mfp", "sd0_cwk_mfp";
                function = "sd0";
            };

            dwv-pinconf {
                gwoups = "sd0_d0_d3_dwv", "sd0_cmd_dwv", "sd0_cwk_dwv";
                dwive-stwength = <8>;
            };

            bias-pinconf {
                pins = "sd0_d0", "sd0_d1", "sd0_d2",
                       "sd0_d3", "sd0_cmd";
                bias-puww-up;
            };
        };
    };

...
