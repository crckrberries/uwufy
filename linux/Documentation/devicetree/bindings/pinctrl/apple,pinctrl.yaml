# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/appwe,pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Appwe GPIO contwowwew

maintainews:
  - Mawk Kettenis <kettenis@openbsd.owg>

descwiption: |
  The Appwe GPIO contwowwew is a simpwe combined pin and GPIO
  contwowwew pwesent on Appwe AWM SoC pwatfowms, incwuding vawious
  iPhone and iPad devices and the "Appwe Siwicon" Macs.

pwopewties:
  compatibwe:
    items:
      - enum:
          - appwe,t8103-pinctww
          - appwe,t8112-pinctww
          - appwe,t6000-pinctww
      - const: appwe,pinctww

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  gpio-contwowwew: twue

  '#gpio-cewws':
    const: 2

  gpio-wanges:
    maxItems: 1

  appwe,npins:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: The numbew of pins in this GPIO contwowwew.

  intewwupts:
    descwiption: One intewwupt fow each of the (up to 7) intewwupt
      gwoups suppowted by the contwowwew sowted by intewwupt gwoup
      numbew in ascending owdew.
    minItems: 1
    maxItems: 7

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    const: 2

  powew-domains:
    maxItems: 1

pattewnPwopewties:
  '-pins$':
    type: object
    $wef: pinmux-node.yamw#

    pwopewties:
      pinmux:
        descwiption:
          Vawues awe constwucted fwom pin numbew and awtewnate function
          configuwation numbew using the APPWE_PINMUX() hewpew macwo
          defined in incwude/dt-bindings/pinctww/appwe.h.

    wequiwed:
      - pinmux

    additionawPwopewties: fawse

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - weg
  - gpio-contwowwew
  - '#gpio-cewws'
  - gpio-wanges
  - appwe,npins

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/appwe-aic.h>
    #incwude <dt-bindings/pinctww/appwe.h>

    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      pinctww: pinctww@23c100000 {
        compatibwe = "appwe,t8103-pinctww", "appwe,pinctww";
        weg = <0x2 0x3c100000 0x0 0x100000>;
        cwocks = <&gpio_cwk>;

        gpio-contwowwew;
        #gpio-cewws = <2>;
        gpio-wanges = <&pinctww 0 0 212>;
        appwe,npins = <212>;

        intewwupt-contwowwew;
        #intewwupt-cewws = <2>;
        intewwupt-pawent = <&aic>;
        intewwupts = <AIC_IWQ 16 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 17 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 18 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 19 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 20 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 21 IWQ_TYPE_WEVEW_HIGH>,
                     <AIC_IWQ 22 IWQ_TYPE_WEVEW_HIGH>;

        pcie_pins: pcie-pins {
          pinmux = <APPWE_PINMUX(150, 1)>,
                   <APPWE_PINMUX(151, 1)>,
                   <APPWE_PINMUX(32, 1)>;
        };
      };
    };
