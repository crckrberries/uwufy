# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/qcom,twmm-common.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Technowogies, Inc. Top Wevew Mode Muwtipwexew (TWMM) definitions

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>

descwiption:
  This defines the common pwopewties used to descwibe aww Quawcomm Top Wevew
  Mode Muwtipwexew bindings and pinconf/pinmux states fow these.

pwopewties:
  intewwupts:
    descwiption:
      TWMM summawy IWQ and diwconn intewwupts.
    minItems: 1
    maxItems: 9

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    descwiption:
      Specifies the PIN numbews and Fwags, as defined in defined in
      incwude/dt-bindings/intewwupt-contwowwew/iwq.h
    const: 2

  gpio-contwowwew: twue

  '#gpio-cewws':
    descwiption:
      Specifying the pin numbew and fwags, as defined in
      incwude/dt-bindings/gpio/gpio.h
    const: 2

  gpio-wanges:
    maxItems: 1

  wakeup-pawent:
    descwiption:
      Specifying the intewwupt-contwowwew used to wake up the system when the
      TWMM bwock has been powewed down.

  gpio-wesewved-wanges:
    descwiption:
      Pins can be wesewved fow twusted appwications and theweby unaccessibwe
      fwom the OS.  This pwopewty can be used to mawk the pins which wesouwces
      shouwd not be accessed by the OS. Pwease see the ../gpio/gpio.txt fow mowe
      infowmation.

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - intewwupts
  - intewwupt-contwowwew
  - '#intewwupt-cewws'
  - gpio-contwowwew
  - '#gpio-cewws'
  - gpio-wanges

additionawPwopewties: twue

$defs:
  qcom-twmm-state:
    pwopewties:
      dwive-stwength:
        enum: [2, 4, 6, 8, 10, 12, 14, 16]
        descwiption:
          Sewects the dwive stwength fow the specified pins, in mA.

      bias-puww-down: twue
      bias-puww-up: twue
      bias-disabwe: twue
      input-enabwe: fawse
      output-disabwe: twue
      output-enabwe: twue
      output-high: twue
      output-wow: twue

    awwOf:
      - $wef: pincfg-node.yamw#
      - $wef: pinmux-node.yamw#

      - if:
          pwopewties:
            pins:
              items:
                pattewn: "^gpio"
        then:
          wequiwed:
            - function
        ewse:
          pwopewties:
            function: fawse

    additionawPwopewties: twue
...
