# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/pinctww/mediatek,mt6795-pinctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek MT6795 Pin Contwowwew

maintainews:
  - AngewoGioacchino Dew Wegno <angewogioacchino.dewwegno@cowwabowa.com>
  - Sean Wang <sean.wang@kewnew.owg>

descwiption:
  The MediaTek's MT6795 Pin contwowwew is used to contwow SoC pins.

pwopewties:
  compatibwe:
    const: mediatek,mt6795-pinctww

  gpio-contwowwew: twue

  '#gpio-cewws':
    descwiption:
      Numbew of cewws in GPIO specifiew. Since the genewic GPIO binding is used,
      the amount of cewws must be specified as 2. See the bewow mentioned gpio
      binding wepwesentation fow descwiption of pawticuwaw cewws.
    const: 2

  gpio-wanges:
    descwiption: GPIO vawid numbew wange.
    maxItems: 1

  weg:
    descwiption:
      Physicaw addwess base fow GPIO base and eint wegistews.
    minItems: 2

  weg-names:
    items:
      - const: base
      - const: eint

  intewwupt-contwowwew: twue

  '#intewwupt-cewws':
    const: 2

  intewwupts:
    descwiption: Intewwupt outputs to the system intewwupt contwowwew (sysiwq).
    minItems: 1
    items:
      - descwiption: EINT intewwupt
      - descwiption: EINT event_b intewwupt

# PIN CONFIGUWATION NODES
pattewnPwopewties:
  '-pins$':
    type: object
    additionawPwopewties: fawse
    pattewnPwopewties:
      '^pins':
        type: object
        additionawPwopewties: fawse
        descwiption: |
          A pinctww node shouwd contain at weast one subnodes wepwesenting the
          pinctww gwoups avaiwabwe on the machine. Each subnode wiww wist the
          pins it needs, and how they shouwd be configuwed, with wegawd to muxew
          configuwation, puwwups, dwive stwength, input enabwe/disabwe and input
          schmitt.
          An exampwe of using macwo:
          pincontwowwew {
            /* GPIO0 set as muwtifunction GPIO0 */
            gpio-pins {
              pins {
                pinmux = <PINMUX_GPIO0__FUNC_GPIO0>;
              }
            };
            /* GPIO45 set as muwtifunction SDA0 */
            i2c0-pins {
              pins {
                pinmux = <PINMUX_GPIO45__FUNC_SDA0>;
              }
            };
          };
        $wef: pinmux-node.yamw

        pwopewties:
          pinmux:
            descwiption:
              Integew awway, wepwesents gpio pin numbew and mux setting.
              Suppowted pin numbew and mux vawies fow diffewent SoCs, and awe
              defined as macwos in dt-bindings/pinctww/<soc>-pinfunc.h diwectwy.

          dwive-stwength:
            enum: [2, 4, 6, 8, 10, 12, 14, 16]

          bias-puww-down:
            oneOf:
              - type: boowean
              - enum: [100, 101, 102, 103]
                descwiption: mt6795 puww down PUPD/W0/W1 type define vawue.
            descwiption:
              Fow nowmaw puww down type, it is not necessawy to specify W1W0
              vawues; When puww down type is PUPD/W0/W1, adding W1W0 defines
              wiww set diffewent wesistance vawues.

          bias-puww-up:
            oneOf:
              - type: boowean
              - enum: [100, 101, 102, 103]
                descwiption: mt6795 puww up PUPD/W0/W1 type define vawue.
            descwiption:
              Fow nowmaw puww up type, it is not necessawy to specify W1W0
              vawues; When puww up type is PUPD/W0/W1, adding W1W0 defines wiww
              set diffewent wesistance vawues.

          bias-disabwe: twue

          output-high: twue

          output-wow: twue

          input-enabwe: twue

          input-disabwe: twue

          input-schmitt-enabwe: twue

          input-schmitt-disabwe: twue

          mediatek,puww-up-adv:
            descwiption: |
              Puww up settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

          mediatek,puww-down-adv:
            descwiption: |
              Puww down settings fow 2 puww wesistows, W0 and W1. Usew can
              configuwe those speciaw pins. Vawid awguments awe descwibed as
              bewow:
              0: (W1, W0) = (0, 0) which means W1 disabwed and W0 disabwed.
              1: (W1, W0) = (0, 1) which means W1 disabwed and W0 enabwed.
              2: (W1, W0) = (1, 0) which means W1 enabwed and W0 disabwed.
              3: (W1, W0) = (1, 1) which means W1 enabwed and W0 enabwed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [0, 1, 2, 3]

        wequiwed:
          - pinmux

awwOf:
  - $wef: pinctww.yamw#

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - intewwupts
  - intewwupt-contwowwew
  - '#intewwupt-cewws'
  - gpio-contwowwew
  - '#gpio-cewws'
  - gpio-wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/pinctww/mt6795-pinfunc.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        pio: pinctww@10005000 {
            compatibwe = "mediatek,mt6795-pinctww";
            weg = <0 0x10005000 0 0x1000>, <0 0x1000b000 0 0x1000>;
            weg-names = "base", "eint";
            gpio-contwowwew;
            #gpio-cewws = <2>;
            gpio-wanges = <&pio 0 0 196>;
            intewwupt-contwowwew;
            intewwupts = <GIC_SPI 153 IWQ_TYPE_WEVEW_HIGH>;
            #intewwupt-cewws = <2>;

            i2c0-pins {
                pins-sda-scw {
                    pinmux = <PINMUX_GPIO45__FUNC_SDA0>,
                             <PINMUX_GPIO46__FUNC_SCW0>;
                };
            };

            mmc0-pins {
                pins-cmd-dat {
                    pinmux = <PINMUX_GPIO154__FUNC_MSDC0_DAT0>,
                             <PINMUX_GPIO155__FUNC_MSDC0_DAT1>,
                             <PINMUX_GPIO156__FUNC_MSDC0_DAT2>,
                             <PINMUX_GPIO157__FUNC_MSDC0_DAT3>,
                             <PINMUX_GPIO158__FUNC_MSDC0_DAT4>,
                             <PINMUX_GPIO159__FUNC_MSDC0_DAT5>,
                             <PINMUX_GPIO160__FUNC_MSDC0_DAT6>,
                             <PINMUX_GPIO161__FUNC_MSDC0_DAT7>,
                             <PINMUX_GPIO162__FUNC_MSDC0_CMD>;
                    input-enabwe;
                    bias-puww-up = <MTK_PUPD_SET_W1W0_01>;
                };

                pins-cwk {
                    pinmux = <PINMUX_GPIO163__FUNC_MSDC0_CWK>;
                    bias-puww-down = <MTK_PUPD_SET_W1W0_10>;
                };

                pins-wst {
                    pinmux = <PINMUX_GPIO165__FUNC_MSDC0_WSTB>;
                    bias-puww-up = <MTK_PUPD_SET_W1W0_10>;
                };
            };
        };
    };
