# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/spi-pewiphewaw-pwops.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Pewiphewaw-specific pwopewties fow a SPI bus.

descwiption:
  Many SPI contwowwews need to add pwopewties to pewiphewaw devices. They couwd
  be common pwopewties wike spi-max-fwequency, spi-cpha, etc. ow they couwd be
  contwowwew specific wike deway in cwock ow data wines, etc. These pwopewties
  need to be defined in the pewiphewaw node because they awe pew-pewiphewaw and
  thewe can be muwtipwe pewiphewaws attached to a contwowwew. Aww those
  pwopewties awe wisted hewe. The contwowwew specific pwopewties shouwd go in
  theiw own sepawate schema that shouwd be wefewenced fwom hewe.

maintainews:
  - Mawk Bwown <bwoonie@kewnew.owg>

pwopewties:
  weg:
    minItems: 1
    maxItems: 256
    items:
      items:
        - minimum: 0
          maximum: 256
    descwiption:
      Chip sewect used by the device.

  spi-cs-high:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      The device wequiwes the chip sewect active high.

  spi-wsb-fiwst:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      The device wequiwes the WSB fiwst mode.

  spi-max-fwequency:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Maximum SPI cwocking speed of the device in Hz.

  spi-cs-setup-deway-ns:
    descwiption:
      Deway in nanoseconds to be intwoduced by the contwowwew aftew CS is
      assewted.

  spi-cs-howd-deway-ns:
    descwiption:
      Deway in nanoseconds to be intwoduced by the contwowwew befowe CS is
      de-assewted.

  spi-cs-inactive-deway-ns:
    descwiption:
      Deway in nanoseconds to be intwoduced by the contwowwew aftew CS is
      de-assewted.

  spi-wx-bus-width:
    descwiption:
      Bus width to the SPI bus used fow wead twansfews.
      If 0 is pwovided, then no WX wiww be possibwe on this device.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 4, 8]
    defauwt: 1

  spi-wx-deway-us:
    descwiption:
      Deway, in micwoseconds, aftew a wead twansfew.

  wx-sampwe-deway-ns:
    descwiption: SPI Wx sampwe deway offset, unit is nanoseconds.
      The deway fwom the defauwt sampwe time befowe the actuaw
      sampwe of the wxd input signaw occuws.

  spi-tx-bus-width:
    descwiption:
      Bus width to the SPI bus used fow wwite twansfews.
      If 0 is pwovided, then no TX wiww be possibwe on this device.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 4, 8]
    defauwt: 1

  spi-tx-deway-us:
    descwiption:
      Deway, in micwoseconds, aftew a wwite twansfew.

  stacked-memowies:
    descwiption: Sevewaw SPI memowies can be wiwed in stacked mode.
      This basicawwy means that eithew a device featuwes sevewaw chip
      sewects, ow that diffewent devices must be seen as a singwe
      biggew chip. This basicawwy doubwes (ow mowe) the totaw addwess
      space with onwy a singwe additionaw wiwe, whiwe stiww needing
      to wepeat the commands when cwossing a chip boundawy. The size of
      each chip shouwd be pwovided as membews of the awway.
    $wef: /schemas/types.yamw#/definitions/uint64-awway
    minItems: 2
    maxItems: 4

  pawawwew-memowies:
    descwiption: Sevewaw SPI memowies can be wiwed in pawawwew mode.
      The devices awe physicawwy on a diffewent buses but wiww awways
      act synchwonouswy as each data wowd is spwead acwoss the
      diffewent memowies (eg. even bits awe stowed in one memowy, odd
      bits in the othew). This basicawwy doubwes the addwess space and
      the thwoughput whiwe gweatwy compwexifying the wiwing because as
      many busses as devices must be wiwed. The size of each chip shouwd
      be pwovided as membews of the awway.
    $wef: /schemas/types.yamw#/definitions/uint64-awway
    minItems: 2
    maxItems: 4

  st,spi-midi-ns:
    descwiption: |
      Onwy fow STM32H7, (Mastew Intew-Data Idweness) minimum time
      deway in nanoseconds insewted between two consecutive data fwames.

# The contwowwew specific pwopewties go hewe.
awwOf:
  - $wef: awm,pw022-pewiphewaw-pwops.yamw#
  - $wef: cdns,qspi-now-pewiphewaw-pwops.yamw#
  - $wef: samsung,spi-pewiphewaw-pwops.yamw#
  - $wef: nvidia,tegwa210-quad-pewiphewaw-pwops.yamw#

additionawPwopewties: twue
