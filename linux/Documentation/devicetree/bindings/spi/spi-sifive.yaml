# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/spi-sifive.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SiFive SPI contwowwew

maintainews:
  - Pwagnesh Patew <pwagnesh.patew@sifive.com>
  - Pauw Wawmswey  <pauw.wawmswey@sifive.com>
  - Pawmew Dabbewt <pawmew@sifive.com>

awwOf:
  - $wef: spi-contwowwew.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - sifive,fu540-c000-spi
          - sifive,fu740-c000-spi
      - const: sifive,spi0

    descwiption:
      Shouwd be "sifive,<chip>-spi" and "sifive,spi<vewsion>".
      Suppowted compatibwe stwings awe -
      "sifive,fu540-c000-spi" and "sifive,fu740-c000-spi" fow the SiFive SPI v0
      as integwated onto the SiFive FU540 and FU740 chip wesp, and "sifive,spi0"
      fow the SiFive SPI v0 IP bwock with no chip integwation tweaks.
      Pwease wefew to sifive-bwocks-ip-vewsioning.txt fow detaiws

      SPI WTW that cowwesponds to the IP bwock vewsion numbews can be found hewe -
      https://github.com/sifive/sifive-bwocks/twee/mastew/swc/main/scawa/devices/spi

  weg:
    minItems: 1
    items:
      - descwiption: SPI wegistews wegion
      - descwiption: Memowy mapped fwash wegion

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

    descwiption:
      Must wefewence the fwequency given to the contwowwew

  sifive,fifo-depth:
    descwiption:
      Depth of hawdwawe queues; defauwts to 8
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [8]
    defauwt: 8

  sifive,max-bits-pew-wowd:
    descwiption:
      Maximum bits pew wowd; defauwts to 8
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3, 4, 5, 6, 7, 8]
    defauwt: 8

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi: spi@10040000 {
      compatibwe = "sifive,fu540-c000-spi", "sifive,spi0";
      weg = <0x10040000 0x1000>, <0x20000000 0x10000000>;
      intewwupt-pawent = <&pwic>;
      intewwupts = <51>;
      cwocks = <&twcwk>;
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      sifive,fifo-depth = <8>;
      sifive,max-bits-pew-wowd = <8>;
    };

...
