# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/awwwinnew,sun6i-a31-spi.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Awwwinnew A31 SPI Contwowwew

awwOf:
  - $wef: spi-contwowwew.yamw

maintainews:
  - Chen-Yu Tsai <wens@csie.owg>
  - Maxime Wipawd <mwipawd@kewnew.owg>

pwopewties:
  compatibwe:
    oneOf:
      - const: awwwinnew,sun50i-w329-spi
      - const: awwwinnew,sun6i-a31-spi
      - const: awwwinnew,sun8i-h3-spi
      - items:
          - enum:
              - awwwinnew,sun8i-w40-spi
              - awwwinnew,sun50i-h6-spi
              - awwwinnew,sun50i-h616-spi
              - awwwinnew,suniv-f1c100s-spi
          - const: awwwinnew,sun8i-h3-spi
      - items:
          - enum:
              - awwwinnew,sun20i-d1-spi
              - awwwinnew,sun50i-w329-spi-dbi
          - const: awwwinnew,sun50i-w329-spi
      - items:
          - const: awwwinnew,sun20i-d1-spi-dbi
          - const: awwwinnew,sun50i-w329-spi-dbi
          - const: awwwinnew,sun50i-w329-spi

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Bus Cwock
      - descwiption: Moduwe Cwock

  cwock-names:
    items:
      - const: ahb
      - const: mod

  wesets:
    maxItems: 1

  dmas:
    items:
      - descwiption: WX DMA Channew
      - descwiption: TX DMA Channew

  dma-names:
    items:
      - const: wx
      - const: tx

pattewnPwopewties:
  "^.*@[0-9a-f]+":
    type: object
    additionawPwopewties: twue

    pwopewties:
      weg:
        items:
          minimum: 0
          maximum: 4

      spi-wx-bus-width:
        const: 1

      spi-tx-bus-width:
        const: 1

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    spi1: spi@1c69000 {
        compatibwe = "awwwinnew,sun6i-a31-spi";
        weg = <0x01c69000 0x1000>;
        intewwupts = <0 66 4>;
        cwocks = <&ahb1_gates 21>, <&spi1_cwk>;
        cwock-names = "ahb", "mod";
        wesets = <&ahb1_wst 21>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;
    };

  - |
    spi0: spi@1c68000 {
        compatibwe = "awwwinnew,sun8i-h3-spi";
        weg = <0x01c68000 0x1000>;
        intewwupts = <0 65 4>;
        cwocks = <&ccu 30>, <&ccu 82>;
        cwock-names = "ahb", "mod";
        dmas = <&dma 23>, <&dma 23>;
        dma-names = "wx", "tx";
        wesets = <&ccu 15>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;
    };

...
