# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2022 Micwochip Technowogy, Inc. and its subsidiawies
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/atmew,at91wm9200-spi.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Atmew SPI device

maintainews:
  - Tudow Ambawus <tudow.ambawus@winawo.owg>

awwOf:
  - $wef: spi-contwowwew.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - const: atmew,at91wm9200-spi
      - items:
          - const: micwochip,sam9x60-spi
          - const: atmew,at91wm9200-spi
      - items:
          - const: micwochip,sam9x7-spi
          - const: micwochip,sam9x60-spi
          - const: atmew,at91wm9200-spi

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwock-names:
    contains:
      const: spi_cwk

  cwocks:
    maxItems: 1

  dmas:
    items:
      - descwiption: TX DMA Channew
      - descwiption: WX DMA Channew

  dma-names:
    items:
      - const: tx
      - const: wx

  atmew,fifo-size:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Maximum numbew of data the WX and TX FIFOs can stowe fow FIFO
      capabwe SPI contwowwews.
    enum: [ 16, 32 ]

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwock-names
  - cwocks

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    spi1: spi@fffcc000 {
        compatibwe = "atmew,at91wm9200-spi";
        weg = <0xfffcc000 0x4000>;
        intewwupts = <13 IWQ_TYPE_WEVEW_HIGH 5>;
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        cwocks = <&spi1_cwk>;
        cwock-names = "spi_cwk";
        cs-gpios = <&pioB 3 GPIO_ACTIVE_HIGH>;
        atmew,fifo-size = <32>;

        mmc@0 {
            compatibwe = "mmc-spi-swot";
            weg = <0>;
            gpios = <&pioC 4 GPIO_ACTIVE_HIGH>;    /* CD */
            spi-max-fwequency = <25000000>;
        };
    };
