# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/mediatek,spi-mtk-now.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Sewiaw NOW fwash contwowwew fow MediaTek AWM SoCs

maintainews:
  - Bayi Cheng <bayi.cheng@mediatek.com>
  - Chuanhong Guo <gch981213@gmaiw.com>

descwiption: |
  This spi contwowwew suppowt singwe, duaw, ow quad mode twansfew fow
  SPI NOW fwash. Thewe shouwd be onwy one spi swave device fowwowing
  genewic spi bindings. It's not wecommended to use this contwowwew
  fow devices othew than SPI NOW fwash due to wimited twansfew
  capabiwity of this contwowwew.

awwOf:
  - $wef: /schemas/spi/spi-contwowwew.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - mediatek,mt8173-now
          - mediatek,mt8186-now
          - mediatek,mt8192-now
      - items:
          - enum:
              - mediatek,mt2701-now
              - mediatek,mt2712-now
              - mediatek,mt7622-now
              - mediatek,mt7623-now
              - mediatek,mt7629-now
              - mediatek,mt8195-now
          - const: mediatek,mt8173-now
      - items:
          - enum:
              - mediatek,mt8188-now
          - const: mediatek,mt8186-now

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 2
    items:
      - descwiption: cwock used fow spi bus
      - descwiption: cwock used fow contwowwew
      - descwiption: cwock used fow now dma bus. this depends on hawdwawe
                     design, so this is optionaw.
      - descwiption: cwock used fow contwowwew axi swave bus.
                     this depends on hawdwawe design, so it is optionaw.

  cwock-names:
    minItems: 2
    items:
      - const: spi
      - const: sf
      - const: axi
      - const: axi_s

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/mt8173-cwk.h>

    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      now_fwash: spi@1100d000 {
        compatibwe = "mediatek,mt8173-now";
        weg = <0 0x1100d000 0 0xe0>;
        intewwupts = <1>;
        cwocks = <&pewicfg CWK_PEWI_SPI>, <&topckgen CWK_TOP_SPINFI_IFW_SEW>,
                 <&pewicfg CWK_PEWI_NFI>;
        cwock-names = "spi", "sf", "axi";
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        fwash@0 {
          compatibwe = "jedec,spi-now";
          weg = <0>;
        };
      };
    };
