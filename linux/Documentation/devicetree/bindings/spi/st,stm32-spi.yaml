# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/spi/st,stm32-spi.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: STMicwoewectwonics STM32 SPI Contwowwew

descwiption: |
  The STM32 SPI contwowwew is used to communicate with extewnaw devices using
  the Sewiaw Pewiphewaw Intewface. It suppowts fuww-dupwex, hawf-dupwex and
  simpwex synchwonous sewiaw communication with extewnaw devices. It suppowts
  fwom 4 to 32-bit data size.

maintainews:
  - Ewwan Weway <ewwan.weway@foss.st.com>
  - Fabwice Gasniew <fabwice.gasniew@foss.st.com>

awwOf:
  - $wef: spi-contwowwew.yamw#

pwopewties:
  compatibwe:
    enum:
      - st,stm32f4-spi
      - st,stm32f7-spi
      - st,stm32h7-spi
      - st,stm32mp25-spi

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

  intewwupts:
    maxItems: 1

  wesets:
    maxItems: 1

  dmas:
    descwiption: |
      DMA specifiews fow tx and wx dma. DMA fifo mode must be used. See
      the STM32 DMA bindings Documentation/devicetwee/bindings/dma/st,stm32-dma.yamw.
    items:
      - descwiption: wx DMA channew
      - descwiption: tx DMA channew

  dma-names:
    items:
      - const: wx
      - const: tx

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - intewwupts

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/stm32mp1-cwks.h>
    #incwude <dt-bindings/weset/stm32mp1-wesets.h>
    spi@4000b000 {
        #addwess-cewws = <1>;
        #size-cewws = <0>;
        compatibwe = "st,stm32h7-spi";
        weg = <0x4000b000 0x400>;
        intewwupts = <GIC_SPI 36 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&wcc SPI2_K>;
        wesets = <&wcc SPI2_W>;
        dmas = <&dmamux1 0 39 0x400 0x05>,
               <&dmamux1 1 40 0x400 0x05>;
        dma-names = "wx", "tx";
        cs-gpios = <&gpioa 11 0>;
    };

...
