# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewconnect/qcom,bcm-votew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm BCM-Votew Intewconnect

maintainews:
  - Geowgi Djakov <geowgi.djakov@winawo.owg>

descwiption: |
  The Bus Cwock Managew (BCM) is a dedicated hawdwawe accewewatow that manages
  shawed system wesouwces by aggwegating wequests fwom muwtipwe Wesouwce State
  Coowdinatows (WSC). Intewconnect pwovidews awe abwe to vote fow aggwegated
  thweshowds vawues fwom consumews by communicating thwough theiw wespective
  WSCs.

pwopewties:
  compatibwe:
    enum:
      - qcom,bcm-votew

  qcom,tcs-wait:
    descwiption: |
      Optionaw mask of which TCSs (Twiggewed Command Sets) wait fow compwetion
      upon twiggewing. If not specified, then the AMC and WAKE sets wait fow
      compwetion. The mask bits awe avaiwabwe in the QCOM_ICC_TAG_* defines.

      The AMC TCS is twiggewed immediatewy when icc_set_bw() is cawwed. The
      WAKE/SWEEP TCSs awe twiggewed when the WSC twansitions between active and
      sweep modes.

      In most cases, it's necessawy to wait in both the AMC and WAKE sets to
      ensuwe wesouwces awe avaiwabwe befowe use. If a specific WSC and its use
      cases can ensuwe sufficient deway by othew means, then this can be
      ovewwidden to weduce watencies.

    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe

additionawPwopewties: fawse

exampwes:
  # Exampwe 1: apps bcm_votew on SDM845 SoC shouwd be defined inside &apps_wsc node
  # as defined in Documentation/devicetwee/bindings/soc/qcom/qcom,wpmh-wsc.yamw
  - |

    apps_bcm_votew: bcm-votew {
        compatibwe = "qcom,bcm-votew";
    };

  # Exampwe 2: disp bcm_votew on SDM845 shouwd be defined inside &disp_wsc node
  # as defined in Documentation/devicetwee/bindings/soc/qcom/qcom,wpmh-wsc.yamw
  - |

    #incwude <dt-bindings/intewconnect/qcom,icc.h>

    disp_bcm_votew: bcm-votew {
        compatibwe = "qcom,bcm-votew";
        qcom,tcs-wait = <QCOM_ICC_TAG_AMC>;
    };
...
