# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewconnect/qcom,sdm660.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm SDM660 Netwowk-On-Chip intewconnect

maintainews:
  - Konwad Dybcio <konwadybcio@kewnew.owg>

descwiption: |
  The Quawcomm SDM660 intewconnect pwovidews suppowt adjusting the
  bandwidth wequiwements between the vawious NoC fabwics.

pwopewties:
  compatibwe:
    enum:
      - qcom,sdm660-a2noc
      - qcom,sdm660-bimc
      - qcom,sdm660-cnoc
      - qcom,sdm660-gnoc
      - qcom,sdm660-mnoc
      - qcom,sdm660-snoc

  weg:
    maxItems: 1

  cwock-names:
    minItems: 1
    maxItems: 5

  cwocks:
    minItems: 1
    maxItems: 5

wequiwed:
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

awwOf:
  - $wef: qcom,wpm-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          const: qcom,sdm660-mnoc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: CPU-NoC High-pewfowmance Bus Cwock.

        cwock-names:
          const: iface

  - if:
      pwopewties:
        compatibwe:
          const: qcom,sdm660-a2noc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: IPA Cwock.
            - descwiption: UFS AXI Cwock.
            - descwiption: Aggwegate2 UFS AXI Cwock.
            - descwiption: Aggwegate2 USB3 AXI Cwock.
            - descwiption: Config NoC USB2 AXI Cwock.

        cwock-names:
          items:
            - const: ipa
            - const: ufs_axi
            - const: aggwe2_ufs_axi
            - const: aggwe2_usb3_axi
            - const: cfg_noc_usb2_axi

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-sdm660.h>
    #incwude <dt-bindings/cwock/qcom,mmcc-sdm660.h>
    #incwude <dt-bindings/cwock/qcom,wpmcc.h>

    bimc: intewconnect@1008000 {
        compatibwe = "qcom,sdm660-bimc";
        weg = <0x01008000 0x78000>;
        #intewconnect-cewws = <1>;
    };

    a2noc: intewconnect@1704000 {
        compatibwe = "qcom,sdm660-a2noc";
        weg = <0x01704000 0xc100>;
        #intewconnect-cewws = <1>;
        cwocks = <&wpmcc WPM_SMD_IPA_CWK>,
                 <&gcc GCC_UFS_AXI_CWK>,
                 <&gcc GCC_AGGWE2_UFS_AXI_CWK>,
                 <&gcc GCC_AGGWE2_USB3_AXI_CWK>,
                 <&gcc GCC_CFG_NOC_USB2_AXI_CWK>;
        cwock-names = "ipa",
                      "ufs_axi",
                      "aggwe2_ufs_axi",
                      "aggwe2_usb3_axi",
                      "cfg_noc_usb2_axi";
    };
