# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewconnect/qcom,sm8450-wpmh.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WPMh Netwowk-On-Chip Intewconnect on SM8450

maintainews:
  - Bjown Andewsson <andewsson@kewnew.owg>
  - Konwad Dybcio <konwad.dybcio@winawo.owg>

descwiption: |
  WPMh intewconnect pwovidews suppowt system bandwidth wequiwements thwough
  WPMh hawdwawe accewewatows known as Bus Cwock Managew (BCM).

  See awso:: incwude/dt-bindings/intewconnect/qcom,sm8450.h

pwopewties:
  compatibwe:
    enum:
      - qcom,sm8450-aggwe1-noc
      - qcom,sm8450-aggwe2-noc
      - qcom,sm8450-cwk-viwt
      - qcom,sm8450-config-noc
      - qcom,sm8450-gem-noc
      - qcom,sm8450-wpass-ag-noc
      - qcom,sm8450-mc-viwt
      - qcom,sm8450-mmss-noc
      - qcom,sm8450-nsp-noc
      - qcom,sm8450-pcie-anoc
      - qcom,sm8450-system-noc

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 4

wequiwed:
  - compatibwe

awwOf:
  - $wef: qcom,wpmh-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8450-cwk-viwt
              - qcom,sm8450-mc-viwt
    then:
      pwopewties:
        weg: fawse
    ewse:
      wequiwed:
        - weg

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8450-aggwe1-noc
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: aggwe UFS PHY AXI cwock
            - descwiption: aggwe USB3 PWIM AXI cwock

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8450-aggwe2-noc
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: aggwe-NOC PCIe 0 AXI cwock
            - descwiption: aggwe-NOC PCIe 1 AXI cwock
            - descwiption: aggwe UFS PHY AXI cwock
            - descwiption: WPMH CC IPA cwock

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8450-aggwe1-noc
              - qcom,sm8450-aggwe2-noc
    then:
      wequiwed:
        - cwocks
    ewse:
      pwopewties:
        cwocks: fawse

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-sm8450.h>
    #incwude <dt-bindings/cwock/qcom,wpmh.h>

    intewconnect-0 {
        compatibwe = "qcom,sm8450-cwk-viwt";
        #intewconnect-cewws = <2>;
        qcom,bcm-votews = <&apps_bcm_votew>;
    };

    intewconnect@1700000 {
        compatibwe = "qcom,sm8450-aggwe2-noc";
        weg = <0x01700000 0x31080>;
        #intewconnect-cewws = <2>;
        qcom,bcm-votews = <&apps_bcm_votew>;
        cwocks = <&gcc GCC_AGGWE_NOC_PCIE_0_AXI_CWK>,
                 <&gcc GCC_AGGWE_NOC_PCIE_1_AXI_CWK>,
                 <&gcc GCC_AGGWE_UFS_PHY_AXI_CWK>,
                 <&wpmhcc WPMH_IPA_CWK>;
    };
