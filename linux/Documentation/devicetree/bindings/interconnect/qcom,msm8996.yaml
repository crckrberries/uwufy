# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewconnect/qcom,msm8996.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm MSM8996 Netwowk-On-Chip intewconnect

maintainews:
  - Konwad Dybcio <konwadybcio@kewnew.owg>

descwiption: |
  The Quawcomm MSM8996 intewconnect pwovidews suppowt adjusting the
  bandwidth wequiwements between the vawious NoC fabwics.

pwopewties:
  compatibwe:
    enum:
      - qcom,msm8996-a0noc
      - qcom,msm8996-a1noc
      - qcom,msm8996-a2noc
      - qcom,msm8996-bimc
      - qcom,msm8996-cnoc
      - qcom,msm8996-mnoc
      - qcom,msm8996-pnoc
      - qcom,msm8996-snoc

  weg:
    maxItems: 1

  cwock-names:
    minItems: 1
    maxItems: 3

  cwocks:
    minItems: 1
    maxItems: 3

  powew-domains:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg

unevawuatedPwopewties: fawse

awwOf:
  - $wef: qcom,wpm-common.yamw#
  - if:
      pwopewties:
        compatibwe:
          const: qcom,msm8996-a0noc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Aggwegate0 System NoC AXI Cwock.
            - descwiption: Aggwegate0 Config NoC AHB Cwock.
            - descwiption: Aggwegate0 NoC MPU Cwock.

        cwock-names:
          items:
            - const: aggwe0_snoc_axi
            - const: aggwe0_cnoc_ahb
            - const: aggwe0_noc_mpu_cfg

      wequiwed:
        - powew-domains

  - if:
      pwopewties:
        compatibwe:
          const: qcom,msm8996-mnoc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: CPU-NoC High-pewfowmance Bus Cwock.

        cwock-names:
          const: iface

  - if:
      pwopewties:
        compatibwe:
          const: qcom,msm8996-a2noc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Aggwegate2 NoC UFS AXI Cwock
            - descwiption: UFS AXI Cwock

        cwock-names:
          items:
            - const: aggwe2_ufs_axi
            - const: ufs_axi

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-msm8996.h>
    #incwude <dt-bindings/cwock/qcom,mmcc-msm8996.h>
    #incwude <dt-bindings/cwock/qcom,wpmcc.h>

    bimc: intewconnect@408000 {
        compatibwe = "qcom,msm8996-bimc";
        weg = <0x00408000 0x5a000>;
        #intewconnect-cewws = <1>;
    };

    a0noc: intewconnect@543000 {
        compatibwe = "qcom,msm8996-a0noc";
        weg = <0x00543000 0x6000>;
        #intewconnect-cewws = <1>;
        cwocks = <&gcc GCC_AGGWE0_SNOC_AXI_CWK>,
                 <&gcc GCC_AGGWE0_CNOC_AHB_CWK>,
                 <&gcc GCC_AGGWE0_NOC_MPU_CFG_AHB_CWK>;
        cwock-names = "aggwe0_snoc_axi",
                      "aggwe0_cnoc_ahb",
                      "aggwe0_noc_mpu_cfg";
        powew-domains = <&gcc AGGWE0_NOC_GDSC>;
    };
