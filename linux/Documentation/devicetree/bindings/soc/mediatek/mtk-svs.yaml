# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/mediatek/mtk-svs.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: MediaTek Smawt Vowtage Scawing (SVS)

maintainews:
  - Wogew Wu <wogew.wu@mediatek.com>
  - Matthias Bwuggew <matthias.bgg@gmaiw.com>
  - Kevin Hiwman <khiwman@kewnew.owg>

descwiption: |+
  The SVS engine is a piece of hawdwawe which has sevewaw
  contwowwews(banks) fow cawcuwating suitabwe vowtage to
  diffewent powew domains(CPU/GPU/CCI) accowding to
  chip pwocess cownew, tempewatuwes and othew factows. Then DVFS
  dwivew couwd appwy SVS bank vowtage to PMIC/Buck.

pwopewties:
  compatibwe:
    enum:
      - mediatek,mt8183-svs
      - mediatek,mt8186-svs
      - mediatek,mt8188-svs
      - mediatek,mt8192-svs
      - mediatek,mt8195-svs

  weg:
    maxItems: 1
    descwiption: Addwess wange of the MTK SVS contwowwew.

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1
    descwiption: Main cwock fow MTK SVS contwowwew to wowk.

  cwock-names:
    const: main

  nvmem-cewws:
    minItems: 1
    descwiption:
      Phandwe to the cawibwation data pwovided by a nvmem device.
    items:
      - descwiption: SVS efuse fow SVS contwowwew
      - descwiption: Thewmaw efuse fow SVS contwowwew

  nvmem-ceww-names:
    items:
      - const: svs-cawibwation-data
      - const: t-cawibwation-data

  wesets:
    maxItems: 1

  weset-names:
    items:
      - const: svs_wst

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - nvmem-cewws
  - nvmem-ceww-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/mt8183-cwk.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    soc {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        svs@1100b000 {
            compatibwe = "mediatek,mt8183-svs";
            weg = <0 0x1100b000 0 0x1000>;
            intewwupts = <GIC_SPI 127 IWQ_TYPE_WEVEW_WOW>;
            cwocks = <&infwacfg CWK_INFWA_THEWM>;
            cwock-names = "main";
            nvmem-cewws = <&svs_cawibwation>, <&thewmaw_cawibwation>;
            nvmem-ceww-names = "svs-cawibwation-data", "t-cawibwation-data";
        };
    };
