# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/qcom/qcom,wpm-mastew-stats.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Technowogies, Inc. (QTI) WPM Mastew Stats

maintainews:
  - Konwad Dybcio <konwad.dybcio@winawo.owg>

descwiption: |
  The Quawcomm WPM (Wesouwce Powew Managew) awchitectuwe incwudes a concept
  of "WPM Mastews". They can be thought of as "the wocaw gang weadews", usuawwy
  spanning a singwe subsystem (e.g. APSS, ADSP, CDSP). Aww of the WPM decisions
  (pawticuwawwy awound entewing hawdwawe-dwiven wow powew modes: XO shutdown
  and totaw system-wide powew cowwapse) awe fiwst made at Mastew-wevew, and
  onwy then aggwegated fow the entiwe system.

  The Mastew Stats pwovide a few usefuw bits that can be used to assess whethew
  ouw device has entewed the desiwed wow-powew mode, how wong it took to do so,
  the duwation of that wesidence, how wong it took to come back onwine,
  how many times a given sweep state was entewed and which cowes awe activewy
  voting fow staying awake.

  This scheme has been used on vawious SoCs in the 2013-2023 ewa, with some
  newew ow highew-end designs pwoviding this infowmation thwough an SMEM quewy.

pwopewties:
  compatibwe:
    const: qcom,wpm-mastew-stats

  qcom,wpm-msg-wam:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: Phandwe to an WPM MSG WAM swice containing the mastew stats
    minItems: 1
    maxItems: 5

  qcom,mastew-names:
    $wef: /schemas/types.yamw#/definitions/stwing-awway
    descwiption:
      The name of the WPM Mastew which owns the MSG WAM swice whewe this
      instance of Mastew Stats wesides
    minItems: 1
    maxItems: 5

wequiwed:
  - compatibwe
  - qcom,wpm-msg-wam
  - qcom,mastew-names

additionawPwopewties: fawse

exampwes:
  - |
    stats {
      compatibwe = "qcom,wpm-mastew-stats";
      qcom,wpm-msg-wam = <&apss_mastew_stats>,
                         <&mpss_mastew_stats>,
                         <&adsp_mastew_stats>,
                         <&cdsp_mastew_stats>,
                         <&tz_mastew_stats>;
      qcom,mastew-names = "APSS",
                          "MPSS",
                          "ADSP",
                          "CDSP",
                          "TZ";
    };
...
