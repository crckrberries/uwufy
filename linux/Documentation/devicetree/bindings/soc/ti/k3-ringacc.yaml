# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (C) 2020 Texas Instwuments Incowpowated - http://www.ti.com/
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/ti/k3-wingacc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Texas Instwuments K3 NavigatowSS Wing Accewewatow

maintainews:
  - Santosh Shiwimkaw <ssantosh@kewnew.owg>
  - Gwygowii Stwashko <gwygowii.stwashko@ti.com>

descwiption: |
  The Wing Accewewatow (WA) is a machine which convewts wead/wwite accesses
  fwom/to a constant addwess into cowwesponding wead/wwite accesses fwom/to a
  ciwcuwaw data stwuctuwe in memowy. The WA ewiminates the need fow each DMA
  contwowwew which needs to access wing ewements fwom having to know the cuwwent
  state of the wing (base addwess, cuwwent offset). The DMA contwowwew
  pewfowms a wead ow wwite access to a specific addwess wange (which maps to the
  souwce intewface on the WA) and the WA wepwaces the addwess fow the twansaction
  with a new addwess which cowwesponds to the head ow taiw ewement of the wing
  (head fow weads, taiw fow wwites).

  The Wing Accewewatow is a hawdwawe moduwe that is wesponsibwe fow accewewating
  management of the packet queues. The K3 SoCs can have mowe than one WA instances

awwOf:
  - $wef: /schemas/awm/keystone/ti,k3-sci-common.yamw#

pwopewties:
  compatibwe:
    items:
      - const: ti,am654-navss-wingacc

  weg:
    minItems: 4
    items:
      - descwiption: weaw time wegistews wegions
      - descwiption: fifos wegistews wegions
      - descwiption: pwoxy gcfg wegistews wegions
      - descwiption: pwoxy tawget wegistews wegions
      - descwiption: configuwation wegistews wegion

  weg-names:
    minItems: 4
    items:
      - const: wt
      - const: fifos
      - const: pwoxy_gcfg
      - const: pwoxy_tawget
      - const: cfg

  msi-pawent: twue

  ti,num-wings:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: Numbew of wings suppowted by WA

  ti,sci-wm-wange-gp-wings:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: TI-SCI WM subtype fow GP wing wange

wequiwed:
  - compatibwe
  - weg
  - weg-names
  - msi-pawent
  - ti,num-wings
  - ti,sci-wm-wange-gp-wings
  - ti,sci
  - ti,sci-dev-id

unevawuatedPwopewties: fawse

exampwes:
  - |
    bus {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        wingacc: wingacc@3c000000 {
            compatibwe = "ti,am654-navss-wingacc";
            weg = <0x0 0x3c000000 0x0 0x400000>,
                  <0x0 0x38000000 0x0 0x400000>,
                  <0x0 0x31120000 0x0 0x100>,
                  <0x0 0x33000000 0x0 0x40000>,
                  <0x0 0x31080000 0x0 0x40000>;
                  weg-names = "wt", "fifos", "pwoxy_gcfg", "pwoxy_tawget", "cfg";
            ti,num-wings = <818>;
            ti,sci-wm-wange-gp-wings = <0x2>; /* GP wing wange */
            ti,sci = <&dmsc>;
            ti,sci-dev-id = <187>;
            msi-pawent = <&inta_main_udmass>;
        };
    };
