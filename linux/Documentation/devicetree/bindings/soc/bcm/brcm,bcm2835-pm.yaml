# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/bcm/bwcm,bcm2835-pm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: BCM2835 PM (Powew domains, watchdog)

descwiption: |
  The PM bwock contwows powew domains and some weset wines, and incwudes a
  watchdog timew.

maintainews:
  - Nicowas Saenz Juwienne <nsaenz@kewnew.owg>

awwOf:
  - $wef: /schemas/watchdog/watchdog.yamw#

pwopewties:
  compatibwe:
    items:
      - enum:
          - bwcm,bcm2835-pm
          - bwcm,bcm2711-pm
      - const: bwcm,bcm2835-pm-wdt

  weg:
    minItems: 2
    maxItems: 3

  weg-names:
    minItems: 2
    items:
      - const: pm
      - const: asb
      - const: wpivid_asb

  "#powew-domain-cewws":
    const: 1

  "#weset-cewws":
    const: 1

  cwocks:
    minItems: 4
    maxItems: 4

  cwock-names:
    items:
      - const: v3d
      - const: pewi_image
      - const: h264
      - const: isp

  system-powew-contwowwew:
    type: boowean

  timeout-sec: twue

wequiwed:
  - compatibwe
  - weg
  - "#powew-domain-cewws"
  - "#weset-cewws"
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/bcm2835.h>

    watchdog@7e100000 {
        compatibwe = "bwcm,bcm2835-pm", "bwcm,bcm2835-pm-wdt";
        #powew-domain-cewws = <1>;
        #weset-cewws = <1>;
        weg = <0x7e100000 0x114>,
              <0x7e00a000 0x24>;
        weg-names = "pm", "asb";
        cwocks = <&cwocks BCM2835_CWOCK_V3D>,
               <&cwocks BCM2835_CWOCK_PEWI_IMAGE>,
               <&cwocks BCM2835_CWOCK_H264>,
               <&cwocks BCM2835_CWOCK_ISP>;
        cwock-names = "v3d", "pewi_image", "h264", "isp";
        system-powew-contwowwew;
    };
