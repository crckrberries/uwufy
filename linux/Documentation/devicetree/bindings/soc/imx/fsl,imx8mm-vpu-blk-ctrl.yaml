# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/imx/fsw,imx8mm-vpu-bwk-ctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8MM VPU bwk-ctww

maintainews:
  - Wucas Stach <w.stach@pengutwonix.de>

descwiption:
  The i.MX8MM VPU bwk-ctww is a top-wevew pewiphewaw pwoviding access to
  the NoC and ensuwing pwopew powew sequencing of the VPU pewiphewaws
  wocated in the VPU domain of the SoC.

pwopewties:
  compatibwe:
    items:
      - const: fsw,imx8mm-vpu-bwk-ctww
      - const: syscon

  weg:
    maxItems: 1

  '#powew-domain-cewws':
    const: 1

  powew-domains:
    maxItems: 4

  powew-domain-names:
    maxItems: 4

  cwocks:
    maxItems: 3

  cwock-names:
    maxItems: 3

  intewconnects:
    maxItems: 3

  intewconnect-names:
    maxItems: 3

wequiwed:
  - compatibwe
  - weg
  - powew-domains
  - powew-domain-names
  - cwocks
  - cwock-names

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: fsw,imx8mm-vpu-bwk-ctww
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: bus powew domain
            - descwiption: G1 decodew powew domain
            - descwiption: G2 decodew powew domain
            - descwiption: H1 encodew powew domain

        powew-domain-names:
          items:
            - const: bus
            - const: g1
            - const: g2
            - const: h1

        cwocks:
          items:
            - descwiption: G1 decodew cwk
            - descwiption: G2 decodew cwk
            - descwiption: H1 encodew cwk

        cwock-names:
          items:
            - const: g1
            - const: g2
            - const: h1

        intewconnects:
          items:
            - descwiption: G1 decodew intewconnect
            - descwiption: G2 decodew intewconnect
            - descwiption: H1 encodew powew domain

        intewconnect-names:
          items:
            - const: g1
            - const: g2
            - const: h1

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: fsw,imx8mp-vpu-bwk-ctww
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: bus powew domain
            - descwiption: G1 decodew powew domain
            - descwiption: G2 decodew powew domain
            - descwiption: VC8000E encodew powew domain

        powew-domain-names:
          items:
            - const: bus
            - const: g1
            - const: g2
            - const: vc8000e

        cwocks:
          items:
            - descwiption: G1 decodew cwk
            - descwiption: G2 decodew cwk
            - descwiption: VC8000E encodew cwk

        cwock-names:
          items:
            - const: g1
            - const: g2
            - const: vc8000e

        intewconnects:
          items:
            - descwiption: G1 decodew intewconnect
            - descwiption: G2 decodew intewconnect
            - descwiption: VC8000E encodew intewconnect

        intewconnect-names:
          items:
            - const: g1
            - const: g2
            - const: vc8000e

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/imx8mm-cwock.h>
    #incwude <dt-bindings/powew/imx8mm-powew.h>

    bwk-ctww@38330000 {
      compatibwe = "fsw,imx8mm-vpu-bwk-ctww", "syscon";
      weg = <0x38330000 0x100>;
      powew-domains = <&pgc_vpumix>, <&pgc_vpu_g1>,
                      <&pgc_vpu_g2>, <&pgc_vpu_h1>;
      powew-domain-names = "bus", "g1", "g2", "h1";
      cwocks = <&cwk IMX8MM_CWK_VPU_G1_WOOT>,
               <&cwk IMX8MM_CWK_VPU_G2_WOOT>,
               <&cwk IMX8MM_CWK_VPU_H1_WOOT>;
      cwock-names = "g1", "g2", "h1";
      #powew-domain-cewws = <1>;
    };
