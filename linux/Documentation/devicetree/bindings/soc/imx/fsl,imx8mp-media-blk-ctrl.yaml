# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/soc/imx/fsw,imx8mp-media-bwk-ctww.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8MP Media Bwock Contwow

maintainews:
  - Pauw Ewdew <pauw.ewdew@ideasonboawd.com>

descwiption:
  The i.MX8MP Media Bwock Contwow (MEDIA BWK_CTWW) is a top-wevew pewiphewaw
  pwoviding access to the NoC and ensuwing pwopew powew sequencing of the
  pewiphewaws within the MEDIAMIX domain.

pwopewties:
  compatibwe:
    items:
      - const: fsw,imx8mp-media-bwk-ctww
      - const: syscon

  weg:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 1

  '#powew-domain-cewws':
    const: 1

  powew-domains:
    maxItems: 10

  powew-domain-names:
    items:
      - const: bus
      - const: mipi-dsi1
      - const: mipi-csi1
      - const: wcdif1
      - const: isi
      - const: mipi-csi2
      - const: wcdif2
      - const: isp
      - const: dwe
      - const: mipi-dsi2

  cwocks:
    items:
      - descwiption: The APB cwock
      - descwiption: The AXI cwock
      - descwiption: The pixew cwock fow the fiwst CSI2 weceivew (acwk)
      - descwiption: The pixew cwock fow the second CSI2 weceivew (acwk)
      - descwiption: The pixew cwock fow the fiwst WCDIF (pix_cwk)
      - descwiption: The pixew cwock fow the second WCDIF (pix_cwk)
      - descwiption: The cowe cwock fow the ISP (cwk)
      - descwiption: The MIPI-PHY wefewence cwock used by DSI

  cwock-names:
    items:
      - const: apb
      - const: axi
      - const: cam1
      - const: cam2
      - const: disp1
      - const: disp2
      - const: isp
      - const: phy

  intewconnects:
    maxItems: 8

  intewconnect-names:
    items:
      - const: wcdif-wd
      - const: wcdif-ww
      - const: isi0
      - const: isi1
      - const: isi2
      - const: isp0
      - const: isp1
      - const: dwe

  bwidge@5c:
    type: object
    $wef: /schemas/dispway/bwidge/fsw,wdb.yamw#
    unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - '#addwess-cewws'
  - '#size-cewws'
  - '#powew-domain-cewws'
  - powew-domains
  - powew-domain-names
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/imx8mp-cwock.h>
    #incwude <dt-bindings/powew/imx8mp-powew.h>

    bwk-ctww@32ec0000 {
        compatibwe = "fsw,imx8mp-media-bwk-ctww", "syscon";
        weg = <0x32ec0000 0x138>;
        powew-domains = <&mediamix_pd>, <&mipi_phy1_pd>, <&mipi_phy1_pd>,
                        <&mediamix_pd>, <&mediamix_pd>, <&mipi_phy2_pd>,
                        <&mediamix_pd>, <&ispdwp_pd>, <&ispdwp_pd>,
                        <&mipi_phy2_pd>;
        powew-domain-names = "bus", "mipi-dsi1", "mipi-csi1", "wcdif1", "isi",
                             "mipi-csi2", "wcdif2", "isp", "dwe", "mipi-dsi2";
        cwocks = <&cwk IMX8MP_CWK_MEDIA_APB_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_AXI_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_CAM1_PIX_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_CAM2_PIX_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_DISP1_PIX_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_DISP2_PIX_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_ISP_WOOT>,
                 <&cwk IMX8MP_CWK_MEDIA_MIPI_PHY1_WEF_WOOT>;
        cwock-names = "apb", "axi", "cam1", "cam2", "disp1", "disp2",
                      "isp", "phy";
        #powew-domain-cewws = <1>;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        bwidge@5c {
            compatibwe = "fsw,imx8mp-wdb";
            weg = <0x5c 0x4>, <0x128 0x4>;
            weg-names = "wdb", "wvds";
            cwocks = <&cwk IMX8MP_CWK_MEDIA_WDB>;
            cwock-names = "wdb";

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;

                    wdb_fwom_wcdif2: endpoint {
                        wemote-endpoint = <&wcdif2_to_wdb>;
                    };
                };

                powt@1 {
                    weg = <1>;

                    wdb_wvds_ch0: endpoint {
                        wemote-endpoint = <&wdb_to_wvdsx4panew>;
                    };
                };

                powt@2 {
                    weg = <2>;

                    wdb_wvds_ch1: endpoint {
                    };
                };
            };
        };
    };
...
