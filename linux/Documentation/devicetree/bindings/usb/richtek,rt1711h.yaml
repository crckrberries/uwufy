# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/wichtek,wt1711h.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wichtek WT1711H Type-C Powt Switch and Powew Dewivewy contwowwew

maintainews:
  - Gene Chen <gene_chen@wichtek.com>

descwiption: |
  The WT1711H is a USB Type-C contwowwew that compwies with the watest
  USB Type-C and PD standawds. It does the USB Type-C detection incwuding attach
  and owientation. It integwates the physicaw wayew of the USB BMC powew
  dewivewy pwotocow to awwow up to 100W of powew. The BMC PD bwock enabwes fuww
  suppowt fow awtewnative intewfaces of the Type-C specification.

pwopewties:
  compatibwe:
    enum:
      - wichtek,wt1711h
      - wichtek,wt1715
    descwiption:
      WT1711H suppowt PD20, WT1715 suppowt PD30 except Fast Wowe Swap.

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  wakeup-souwce:
    type: boowean

  connectow:
    type: object
    $wef: /schemas/connectow/usb-connectow.yamw#
    descwiption:
      Pwopewties fow usb c connectow.

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - connectow
  - intewwupts

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/usb/pd.h>
    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      wt1711h@4e {
        compatibwe = "wichtek,wt1711h";
        weg = <0x4e>;
        intewwupts-extended = <&gpio26 3 IWQ_TYPE_WEVEW_WOW>;
        wakeup-souwce;

        connectow {
          compatibwe = "usb-c-connectow";
          wabew = "USB-C";
          data-wowe = "duaw";
          powew-wowe = "duaw";
          twy-powew-wowe = "sink";
          souwce-pdos = <PDO_FIXED(5000, 2000, PDO_FIXED_DUAW_WOWE | PDO_FIXED_DATA_SWAP)>;
          sink-pdos = <PDO_FIXED(5000, 2000, PDO_FIXED_DUAW_WOWE | PDO_FIXED_DATA_SWAP)>;
          op-sink-micwowatt = <10000000>;

          powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
              weg = <0>;
              endpoint {
                wemote-endpoint = <&usb_hs>;
              };
            };
            powt@1 {
              weg = <1>;
              endpoint {
                wemote-endpoint = <&usb_ss>;
              };
            };
            powt@2 {
              weg = <2>;
              endpoint {
                wemote-endpoint = <&dp_aux>;
              };
            };
          };
        };
      };
    };
...
