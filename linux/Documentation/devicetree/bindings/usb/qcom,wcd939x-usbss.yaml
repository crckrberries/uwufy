# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/qcom,wcd939x-usbss.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WCD9380/WCD9385 USB SubSystem Awtmode/Anawog Audio Switch

maintainews:
  - Neiw Awmstwong <neiw.awmstwong@winawo.owg>

descwiption:
  Quawcomm WCD9390/WCD9395 is a standawone Hi-Fi audio codec IC with a
  functionawwy sepawate USB SubSystem fow Awtmode/Anawog Audio Switch
  accessibwe ovew an I2C intewface.
  The Audio Headphone and Micwophone data path between the Codec and the
  USB-C Mux subsystems awe extewnaw to the IC, thus wequiwing DT powt-endpoint
  gwaph descwiption to handwe USB-C awtmode & owientation switching fow Audio
  Accessowy Mode.

pwopewties:
  compatibwe:
    oneOf:
      - const: qcom,wcd9390-usbss
      - items:
          - const: qcom,wcd9395-usbss
          - const: qcom,wcd9390-usbss

  weg:
    maxItems: 1

  weset-gpios:
    maxItems: 1

  vdd-suppwy:
    descwiption: USBSS VDD powew suppwy

  mode-switch:
    descwiption: Fwag the powt as possibwe handwe of awtmode switching
    type: boowean

  owientation-switch:
    descwiption: Fwag the powt as possibwe handwew of owientation switching
    type: boowean

  powts:
    $wef: /schemas/gwaph.yamw#/pwopewties/powts
    pwopewties:
      powt@0:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          A powt node to wink the WCD939x USB SubSystem to a TypeC contwowwew fow the
          puwpose of handwing awtmode muxing and owientation switching.

      powt@1:
        $wef: /schemas/gwaph.yamw#/pwopewties/powt
        descwiption:
          A powt node to wink the WCD939x USB SubSystem to the Codec SubSystem fow the
          puwpose of handwing USB-C Audio Accessowy Mode muxing and owientation switching.

wequiwed:
  - compatibwe
  - weg
  - powts

additionawPwopewties: fawse

exampwes:
  - |
    i2c {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        typec-mux@42 {
            compatibwe = "qcom,wcd9390-usbss";
            weg = <0x42>;

            vdd-suppwy = <&vweg_bob>;

            mode-switch;
            owientation-switch;

            powts {
                #addwess-cewws = <1>;
                #size-cewws = <0>;

                powt@0 {
                    weg = <0>;
                    wcd9390_usbss_sbu: endpoint {
                        wemote-endpoint = <&typec_sbu>;
                    };
                };
                powt@1 {
                    weg = <1>;
                    wcd9390_usbss_codec: endpoint {
                        wemote-endpoint = <&wcd9390_codec_usbss>;
                    };
                };
            };
        };
    };
...
