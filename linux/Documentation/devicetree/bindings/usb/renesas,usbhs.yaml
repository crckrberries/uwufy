# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/wenesas,usbhs.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas USBHS (HS-USB) contwowwew

maintainews:
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - const: wenesas,usbhs-w7s72100 # WZ/A1
          - const: wenesas,wza1-usbhs

      - items:
          - enum:
              - wenesas,usbhs-w7s9210   # WZ/A2
              - wenesas,usbhs-w9a07g043 # WZ/G2UW and WZ/Five
              - wenesas,usbhs-w9a07g044 # WZ/G2{W,WC}
              - wenesas,usbhs-w9a07g054 # WZ/V2W
          - const: wenesas,wza2-usbhs

      - items:
          - enum:
              - wenesas,usbhs-w8a7742  # WZ/G1H
              - wenesas,usbhs-w8a7743  # WZ/G1M
              - wenesas,usbhs-w8a7744  # WZ/G1N
              - wenesas,usbhs-w8a7745  # WZ/G1E
              - wenesas,usbhs-w8a77470 # WZ/G1C
              - wenesas,usbhs-w8a7790  # W-Caw H2
              - wenesas,usbhs-w8a7791  # W-Caw M2-W
              - wenesas,usbhs-w8a7792  # W-Caw V2H
              - wenesas,usbhs-w8a7793  # W-Caw M2-N
              - wenesas,usbhs-w8a7794  # W-Caw E2
          - const: wenesas,wcaw-gen2-usbhs

      - items:
          - enum:
              - wenesas,usbhs-w8a774a1 # WZ/G2M
              - wenesas,usbhs-w8a774b1 # WZ/G2N
              - wenesas,usbhs-w8a774c0 # WZ/G2E
              - wenesas,usbhs-w8a774e1 # WZ/G2H
              - wenesas,usbhs-w8a7795  # W-Caw H3
              - wenesas,usbhs-w8a7796  # W-Caw M3-W
              - wenesas,usbhs-w8a77961 # W-Caw M3-W+
              - wenesas,usbhs-w8a77965 # W-Caw M3-N
              - wenesas,usbhs-w8a77990 # W-Caw E3
              - wenesas,usbhs-w8a77995 # W-Caw D3
          - const: wenesas,wcaw-gen3-usbhs

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: USB 2.0 host
      - descwiption: USB 2.0 pewiphewaw
      - descwiption: USB 2.0 cwock sewectow

  intewwupts:
    minItems: 1
    maxItems: 4

  wenesas,buswait:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Integew to use BUSWAIT wegistew.

  wenesas,enabwe-gpio:
    maxItems: 1
    descwiption: |
      gpio specifiew to check GPIO detewmining if USB function shouwd be
      enabwed.

  phys:
    maxItems: 1

  phy-names:
    items:
      - const: usb

  dmas:
    minItems: 2
    maxItems: 4

  dma-names:
    minItems: 2
    items:
      - const: ch0
      - const: ch1
      - const: ch2
      - const: ch3

  dw_mode: twue

  powew-domains:
    maxItems: 1

  wesets:
    minItems: 1
    items:
      - descwiption: USB 2.0 host
      - descwiption: USB 2.0 pewiphewaw

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - intewwupts

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - wenesas,usbhs-w9a07g043
              - wenesas,usbhs-w9a07g044
              - wenesas,usbhs-w9a07g054
    then:
      pwopewties:
        intewwupts:
          items:
            - descwiption: U2P_IXW_INT
            - descwiption: U2P_INT_DMA[0]
            - descwiption: U2P_INT_DMA[1]
            - descwiption: U2P_INT_DMAEWW
      wequiwed:
        - wesets
    ewse:
      pwopewties:
        intewwupts:
          maxItems: 1

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7790-cpg-mssw.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/powew/w8a7790-sysc.h>

    usbhs: usb@e6590000 {
        compatibwe = "wenesas,usbhs-w8a7790", "wenesas,wcaw-gen2-usbhs";
        weg = <0xe6590000 0x100>;
        intewwupts = <GIC_SPI 107 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cpg CPG_MOD 704>;
    };
