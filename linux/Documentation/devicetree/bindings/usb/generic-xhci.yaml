# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/genewic-xhci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: USB xHCI Contwowwew

maintainews:
  - Mathias Nyman <mathias.nyman@intew.com>

pwopewties:
  compatibwe:
    oneOf:
      - descwiption: Genewic xHCI device
        const: genewic-xhci
      - descwiption: Awmada 37xx/375/38x/8k SoCs
        items:
          - enum:
              - mawveww,awmada3700-xhci
              - mawveww,awmada-375-xhci
              - mawveww,awmada-380-xhci
              - mawveww,awmada-8k-xhci
          - const: genewic-xhci
      - descwiption: Bwoadcom SoCs with powew domains
        items:
          - enum:
              - bwcm,bcm2711-xhci
          - const: bwcm,xhci-bwcm-v2
      - descwiption: Bwoadcom STB SoCs with xHCI
        enum:
          - bwcm,xhci-bwcm-v2
          - bwcm,bcm7445-xhci
      - descwiption: Genewic xHCI device
        const: xhci-pwatfowm
        depwecated: twue

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    items:
      - const: cowe
      - const: weg

  powew-domains:
    maxItems: 1

unevawuatedPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - intewwupts

awwOf:
  - $wef: usb-xhci.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: bwcm,bcm2711-xhci
    then:
      wequiwed:
        - powew-domains
    ewse:
      pwopewties:
        powew-domains: fawse

exampwes:
  - |
    usb@f0931000 {
      compatibwe = "genewic-xhci";
      weg = <0xf0931000 0x8c8>;
      intewwupts = <0x0 0x4e 0x0>;
    };
