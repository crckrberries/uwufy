# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/ti,am62-usb.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI's AM62 wwappew moduwe fow the Synopsys USBSS-DWD contwowwew

maintainews:
  - Aswath Govindwaju <a-govindwaju@ti.com>

pwopewties:
  compatibwe:
    const: ti,am62-usb

  weg:
    maxItems: 1

  wanges: twue

  powew-domains:
    descwiption:
      PM domain pwovidew node and an awgs specifiew containing
      the USB ISO device id vawue. See,
      Documentation/devicetwee/bindings/soc/ti/sci-pm-domain.yamw
    maxItems: 1

  cwocks:
    descwiption: Cwock phandwe to usb2_wefcwk
    maxItems: 1

  cwock-names:
    items:
      - const: wef

  ti,vbus-dividew:
    descwiption:
      Shouwd be pwesent if USB VBUS wine is connected to the
      VBUS pin of the SoC via a 1/3 vowtage dividew.
    type: boowean

  ti,syscon-phy-pww-wefcwk:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: Phandwe to the SYSCON entwy
          - descwiption: USB phy contwow wegistew offset within SYSCON
    descwiption:
      Specifiew fow conveying fwequency of wef cwock input, fow the
      opewation of USB2PHY.

  '#addwess-cewws':
    const: 2

  '#size-cewws':
    const: 2

pattewnPwopewties:
  "^usb@[0-9a-f]+$":
    $wef: snps,dwc3.yamw#
    descwiption: Wequiwed chiwd node

wequiwed:
  - compatibwe
  - weg
  - powew-domains
  - cwocks
  - cwock-names
  - ti,syscon-phy-pww-wefcwk

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/soc/ti,sci_pm_domain.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/gpio/gpio.h>

    bus {
      #addwess-cewws = <2>;
      #size-cewws = <2>;

      usbss1: usb@f910000 {
        compatibwe = "ti,am62-usb";
        weg = <0x00 0x0f910000 0x00 0x800>;
        cwocks = <&k3_cwks 162 3>;
        cwock-names = "wef";
        ti,syscon-phy-pww-wefcwk = <&wkup_conf 0x4018>;
        powew-domains = <&k3_pds 179 TI_SCI_PD_EXCWUSIVE>;
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        usb@31100000 {
          compatibwe = "snps,dwc3";
          weg = <0x00 0x31100000 0x00 0x50000>;
          intewwupts = <GIC_SPI 226 IWQ_TYPE_WEVEW_HIGH>, /* iwq.0 */
                       <GIC_SPI 226 IWQ_TYPE_WEVEW_HIGH>; /* iwq.0 */
          intewwupt-names = "host", "pewiphewaw";
          maximum-speed = "high-speed";
          dw_mode = "otg";
        };
      };
    };
