# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/usb-dwd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Genewic USB OTG Contwowwew

maintainews:
  - Gweg Kwoah-Hawtman <gwegkh@winuxfoundation.owg>

pwopewties:
  otg-wev:
    descwiption:
      Tewws usb dwivew the wewease numbew of the OTG and EH suppwement with
      which the device and its descwiptows awe compwiant, in binawy-coded
      decimaw (i.e. 2.0 is 0200H). This pwopewty is used if any weaw OTG
      featuwes (HNP/SWP/ADP) is enabwed. If ADP is wequiwed, otg-wev shouwd be
      0x0200 ow above.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0x0100, 0x0120, 0x0130, 0x0200]

  dw_mode:
    descwiption:
      Tewws Duaw-Wowe USB contwowwews that we want to wowk on a pawticuwaw
      mode. In case this attwibute isn't passed via DT, USB DWD contwowwews
      shouwd defauwt to OTG.
    $wef: /schemas/types.yamw#/definitions/stwing
    enum: [host, pewiphewaw, otg]
    defauwt: otg

  hnp-disabwe:
    descwiption:
      Tewws OTG contwowwews we want to disabwe OTG HNP. Nowmawwy HNP is the
      basic function of weaw OTG except you want it to be a swp-capabwe onwy B
      device.
    type: boowean

  swp-disabwe:
    descwiption:
      Tewws OTG contwowwews we want to disabwe OTG SWP. SWP is optionaw fow OTG
      device.
    type: boowean

  adp-disabwe:
    descwiption:
      Tewws OTG contwowwews we want to disabwe OTG ADP. ADP is optionaw fow OTG
      device.
    type: boowean

  usb-wowe-switch:
    descwiption:
      Indicates that the device is capabwe of assigning the USB data wowe
      (USB host ow USB device) fow a given USB connectow, such as Type-C,
      Type-B(micwo). See connectow/usb-connectow.yamw.

  wowe-switch-defauwt-mode:
    descwiption:
      Indicates if usb-wowe-switch is enabwed, the device defauwt opewation
      mode of contwowwew whiwe usb wowe is USB_WOWE_NONE.
    $wef: /schemas/types.yamw#/definitions/stwing
    enum: [host, pewiphewaw]
    defauwt: pewiphewaw

additionawPwopewties: twue

exampwes:
  - |
    usb@4a030000 {
        compatibwe = "snps,dwc3";
        weg = <0x4a030000 0xcfff>;
        intewwupts = <0 92 4>;
        usb-phy = <&usb2_phy>, <&usb3_phy>;
        maximum-speed = "supew-speed";
        dw_mode = "otg";
        phy_type = "utmi_wide";
        otg-wev = <0x0200>;
        adp-disabwe;
    };
