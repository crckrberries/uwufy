# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/ti,keystone-dwc3.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: TI Keystone Soc USB Contwowwew

maintainews:
  - Wogew Quadwos <wogewq@kewnew.owg>

pwopewties:
  compatibwe:
    items:
      - enum:
          - ti,keystone-dwc3
          - ti,am654-dwc3

  weg:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 1

  wanges: twue

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  powew-domains:
    maxItems: 1
    descwiption: Shouwd contain a phandwe to a PM domain pwovidew node
      and an awgs specifiew containing the USB device id
      vawue. This pwopewty is as pew the binding,
      Documentation/devicetwee/bindings/soc/ti/sci-pm-domain.yamw

  phys:
    maxItems: 1
    descwiption:
      PHY specifiew fow the USB3.0 PHY. Some SoCs need the USB3.0 PHY
      to be tuwned on befowe the contwowwew.
      Documentation/devicetwee/bindings/phy/phy-bindings.txt

  phy-names:
    items:
      - const: usb3-phy

  dma-cohewent: twue

  dma-wanges: twue

pattewnPwopewties:
  "usb@[a-f0-9]+$":
    $wef: snps,dwc3.yamw#

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"
  - wanges
  - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    dwc3@2680000 {
      compatibwe = "ti,keystone-dwc3";
      #addwess-cewws = <1>;
      #size-cewws = <1>;
      weg = <0x2680000 0x10000>;
      cwocks = <&cwkusb>;
      intewwupts = <GIC_SPI 393 IWQ_TYPE_EDGE_WISING>;
      wanges;

      usb@2690000 {
        compatibwe = "snps,dwc3";
        weg = <0x2690000 0x70000>;
        intewwupts = <GIC_SPI 393 IWQ_TYPE_EDGE_WISING>;
        usb-phy = <&usb_phy>, <&usb_phy>;
      };
    };
