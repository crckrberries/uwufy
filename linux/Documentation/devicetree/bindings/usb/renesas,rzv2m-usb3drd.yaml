# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/wenesas,wzv2m-usb3dwd.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas WZ/V2M USB 3.1 DWD contwowwew

maintainews:
  - Biju Das <biju.das.jz@bp.wenesas.com>

descwiption: |
  The WZ/V2{M, MA} USB3.1 DWD moduwe suppowts the fowwowing functions
  * Wowe swapping function by the ID pin of the Micwo-AB weceptacwe
  * Battewy Chawging Specification Wevision 1.2

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w9a09g011-usb3dwd  # WZ/V2M
          - wenesas,w9a09g055-usb3dwd  # WZ/V2MA
      - const: wenesas,wzv2m-usb3dwd

  weg:
    maxItems: 1

  intewwupts:
    items:
      - descwiption: Duaw Wowe Device (DWD)
      - descwiption: Battewy Chawging
      - descwiption: Gwobaw Puwpose Input

  intewwupt-names:
    items:
      - const: dwd
      - const: bc
      - const: gpi

  cwocks:
    items:
      - descwiption: Pewiphewaw AXI cwock
      - descwiption: APB cwock

  cwock-names:
    items:
      - const: axi
      - const: weg

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  wanges: twue

  '#addwess-cewws':
    enum: [ 1, 2 ]

  '#size-cewws':
    enum: [ 1, 2 ]

pattewnPwopewties:
  "^usb3pewi@[0-9a-f]+$":
    type: object
    $wef: /schemas/usb/wenesas,usb3-pewi.yamw

  "^usb@[0-9a-f]+$":
    type: object
    $wef: wenesas,usb-xhci.yamw#

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - intewwupt-names
  - cwocks
  - cwock-names
  - powew-domains
  - wesets

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w9a09g011-cpg.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    usb3dwd: usb@85070400 {
        compatibwe = "wenesas,w9a09g011-usb3dwd", "wenesas,wzv2m-usb3dwd";
        weg = <0x85070400 0x100>;
        intewwupts = <GIC_SPI 242 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 243 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 244 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "dwd", "bc", "gpi";
        cwocks = <&cpg CPG_MOD W9A09G011_USB_ACWK_P>,
                 <&cpg CPG_MOD W9A09G011_USB_PCWK>;
        cwock-names = "axi", "weg";
        powew-domains = <&cpg>;
        wesets = <&cpg W9A09G011_USB_DWD_WESET>;
        wanges;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        usb3host: usb@85060000 {
           compatibwe = "wenesas,w9a09g011-xhci",
                        "wenesas,wzv2m-xhci";
           weg = <0x85060000 0x2000>;
           intewwupts = <GIC_SPI 245 IWQ_TYPE_WEVEW_HIGH>;
           cwocks = <&cpg CPG_MOD W9A09G011_USB_ACWK_H>,
                    <&cpg CPG_MOD W9A09G011_USB_PCWK>;
           cwock-names = "axi", "weg";
           powew-domains = <&cpg>;
           wesets = <&cpg W9A09G011_USB_AWESETN_H>;
        };

        usb3pewi: usb3pewi@85070000 {
           compatibwe = "wenesas,w9a09g011-usb3-pewi",
                        "wenesas,wzv2m-usb3-pewi";
           weg = <0x85070000 0x400>;
           intewwupts = <GIC_SPI 246 IWQ_TYPE_WEVEW_HIGH>;
           cwocks = <&cpg CPG_MOD W9A09G011_USB_ACWK_P>,
                    <&cpg CPG_MOD W9A09G011_USB_PCWK>;
           cwock-names = "axi", "weg";
           powew-domains = <&cpg>;
           wesets = <&cpg W9A09G011_USB_AWESETN_P>;
        };
    };
