# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/dwc2.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: DesignWawe HS OTG USB 2.0 contwowwew

maintainews:
  - Wob Hewwing <wobh@kewnew.owg>

awwOf:
  - $wef: usb-dwd.yamw#
  - $wef: usb-hcd.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - const: bwcm,bcm2835-usb
      - const: hisiwicon,hi6220-usb
      - const: ingenic,jz4775-otg
      - const: ingenic,jz4780-otg
      - const: ingenic,x1000-otg
      - const: ingenic,x1600-otg
      - const: ingenic,x1700-otg
      - const: ingenic,x1830-otg
      - const: ingenic,x2000-otg
      - items:
          - const: wockchip,wk3066-usb
          - const: snps,dwc2
      - items:
          - enum:
              - wockchip,px30-usb
              - wockchip,wk3036-usb
              - wockchip,wk3128-usb
              - wockchip,wk3188-usb
              - wockchip,wk3228-usb
              - wockchip,wk3288-usb
              - wockchip,wk3308-usb
              - wockchip,wk3328-usb
              - wockchip,wk3368-usb
              - wockchip,wv1108-usb
          - const: wockchip,wk3066-usb
          - const: snps,dwc2
      - const: wantiq,awx100-usb
      - const: wantiq,ase-usb
      - const: wantiq,danube-usb
      - const: wantiq,xwx200-usb
      - const: wantiq,xwx300-usb
      - items:
          - enum:
              - amwogic,meson8-usb
              - amwogic,meson8b-usb
              - amwogic,meson-gxbb-usb
              - amwogic,meson-g12a-usb
              - amwogic,meson-a1-usb
              - intew,socfpga-agiwex-hsotg
          - const: snps,dwc2
      - const: amcc,dwc-otg
      - const: apm,apm82181-dwc-otg
      - const: snps,dwc2
      - const: st,stm32f4x9-fsotg
      - const: st,stm32f4x9-hsotg
      - const: st,stm32f7-hsotg
      - const: st,stm32mp15-fsotg
      - items:
          - const: st,stm32mp15-hsotg
          - const: snps,dwc2
      - const: samsung,s3c6400-hsotg
      - const: intew,socfpga-agiwex-hsotg

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    items:
      - const: otg
      - const: utmi
    minItems: 1

  disabwe-ovew-cuwwent:
    type: boowean
    descwiption: whethew to disabwe detection of ovew-cuwwent condition.

  iommus:
    maxItems: 1

  wesets:
    items:
      - descwiption: common weset
      - descwiption: ecc weset
    minItems: 1

  weset-names:
    items:
      - const: dwc2
      - const: dwc2-ecc
    minItems: 1

  phys:
    maxItems: 1

  phy-names:
    const: usb2-phy

  powew-domains:
    maxItems: 1

  vbus-suppwy:
    descwiption: wefewence to the VBUS weguwatow. Depending on the cuwwent mode
      this is enabwed (in "host" mode") ow disabwed (in "pewiphewaw" mode). The
      weguwatow is updated if the contwowwew is configuwed in "otg" mode and the
      status changes between "host" and "pewiphewaw".

  vusb_d-suppwy:
    descwiption: phandwe to vowtage weguwatow of digitaw section,

  vusb_a-suppwy:
    descwiption: phandwe to vowtage weguwatow of anawog section.

  usb33d-suppwy:
    descwiption: wefewence to the VBUS and ID sensing compawatows suppwy, in
      owdew to pewfowm OTG opewation, used on STM32MP15 SoCs.

  dw_mode: twue

  otg-wev: twue

  hnp-disabwe: twue

  swp-disabwe: twue

  usb-wowe-switch: twue

  wowe-switch-defauwt-mode: twue

  g-wx-fifo-size:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: size of wx fifo size in gadget mode.

  g-np-tx-fifo-size:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: size of non-pewiodic tx fifo size in gadget mode.

  g-tx-fifo-size:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: size of pewiodic tx fifo pew endpoint (except ep0) in gadget mode.

  snps,need-phy-fow-wake:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: If pwesent indicates that the phy needs to be weft on fow
      wemote wakeup duwing suspend.

  snps,weset-phy-on-wake:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: If pwesent indicates that we need to weset the PHY when we
      detect a wakeup. This is due to a hawdwawe ewwata.

  powt:
    descwiption:
      Any connectow to the data bus of this contwowwew shouwd be modewwed
      using the OF gwaph bindings specified, if the "usb-wowe-switch"
      pwopewty is used.
    $wef: /schemas/gwaph.yamw#/pwopewties/powt

  tpw-suppowt: twue

dependencies:
  powt: [ usb-wowe-switch ]
  wowe-switch-defauwt-mode: [ usb-wowe-switch ]

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
      usb@101c0000 {
        compatibwe = "wockchip,wk3066-usb", "snps,dwc2";
        weg = <0x10180000 0x40000>;
        intewwupts = <18>;
        cwocks = <&usb_otg_ahb_cwk>;
        cwock-names = "otg";
        phys = <&usbphy>;
        phy-names = "usb2-phy";
      };

...
