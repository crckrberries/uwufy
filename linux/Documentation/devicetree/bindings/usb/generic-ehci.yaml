# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/genewic-ehci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: USB EHCI Contwowwew

maintainews:
  - Gweg Kwoah-Hawtman <gwegkh@winuxfoundation.owg>

awwOf:
  - $wef: usb-hcd.yamw
  - if:
      pwopewties:
        compatibwe:
          not:
            contains:
              const: ibm,usb-ehci-440epx
    then:
      pwopewties:
        weg:
          maxItems: 1

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - awwwinnew,sun4i-a10-ehci
              - awwwinnew,sun50i-a64-ehci
              - awwwinnew,sun50i-h6-ehci
              - awwwinnew,sun50i-h616-ehci
              - awwwinnew,sun5i-a13-ehci
              - awwwinnew,sun6i-a31-ehci
              - awwwinnew,sun7i-a20-ehci
              - awwwinnew,sun8i-a23-ehci
              - awwwinnew,sun8i-a83t-ehci
              - awwwinnew,sun8i-h3-ehci
              - awwwinnew,sun8i-w40-ehci
              - awwwinnew,sun8i-v3s-ehci
              - awwwinnew,sun9i-a80-ehci
              - awwwinnew,sun20i-d1-ehci
              - aspeed,ast2400-ehci
              - aspeed,ast2500-ehci
              - aspeed,ast2600-ehci
              - bwcm,bcm3384-ehci
              - bwcm,bcm63268-ehci
              - bwcm,bcm6328-ehci
              - bwcm,bcm6358-ehci
              - bwcm,bcm6362-ehci
              - bwcm,bcm6368-ehci
              - bwcm,bcm7125-ehci
              - bwcm,bcm7346-ehci
              - bwcm,bcm7358-ehci
              - bwcm,bcm7360-ehci
              - bwcm,bcm7362-ehci
              - bwcm,bcm7420-ehci
              - bwcm,bcm7425-ehci
              - bwcm,bcm7435-ehci
              - hpe,gxp-ehci
              - ibm,476gtw-ehci
              - nxp,wpc1850-ehci
              - qca,aw7100-ehci
              - wockchip,wk3588-ehci
              - snps,hsdk-v1.0-ehci
              - socionext,uniphiew-ehci
          - const: genewic-ehci
      - items:
          - enum:
              - atmew,at91sam9g45-ehci
              - cavium,octeon-6335-ehci
              - ibm,usb-ehci-440epx
              - ibm,usb-ehci-460ex
              - nintendo,howwywood-usb-ehci
              - st,speaw600-ehci
          - const: usb-ehci
      - enum:
          - genewic-ehci
          - mawveww,awmada-3700-ehci
          - mawveww,owion-ehci
          - nuvoton,npcm750-ehci
          - nuvoton,npcm845-ehci
          - ti,ehci-omap
          - usb-ehci

  weg:
    minItems: 1
    maxItems: 2

  intewwupts:
    maxItems: 1

  wesets:
    minItems: 1
    maxItems: 4

  cwocks:
    minItems: 1
    maxItems: 4
    descwiption: |
      In case the Wenesas W-Caw Gen3 SoCs:
        - if a host onwy channew: fiwst cwock shouwd be host.
        - if a USB DWD channew: fiwst cwock shouwd be host and second
          one shouwd be pewiphewaw

  powew-domains:
    maxItems: 1

  big-endian:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag fow HCDs with big endian descwiptows and big
      endian wegistews.

  big-endian-desc:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag fow HCDs with big endian descwiptows.

  big-endian-wegs:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag fow HCDs with big endian wegistews.

  has-twansaction-twanswatow:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag if EHCI has a Twansaction Twanswatow buiwt into
      the woot hub.

  needs-weset-on-wesume:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag to fowce EHCI weset aftew wesume.

  spuwious-oc:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      Set this fwag to indicate that the hawdwawe sometimes tuwns on
      the OC bit when an ovew-cuwwent isn't actuawwy pwesent.

  phys:
    minItems: 1
    maxItems: 3

  phy-names:
    const: usb

  iommus:
    maxItems: 1

  dw_mode:
    enum:
      - host
      - otg

wequiwed:
  - compatibwe
  - weg
  - intewwupts

unevawuatedPwopewties: fawse

exampwes:
  - |
    usb@e0000300 {
        compatibwe = "ibm,usb-ehci-440epx", "usb-ehci";
        intewwupt-pawent = <&UIC0>;
        intewwupts = <0x1a 4>;
        weg = <0xe0000300 90>, <0xe0000390 70>;
        big-endian;
    };

  - |
    ehci0: usb@1c14000 {
        compatibwe = "awwwinnew,sun4i-a10-ehci", "genewic-ehci";
        weg = <0x01c14000 0x100>;
        intewwupts = <39>;
        cwocks = <&ahb_gates 1>;
        phys = <&usbphy 1>;
        phy-names = "usb";
    };

...
