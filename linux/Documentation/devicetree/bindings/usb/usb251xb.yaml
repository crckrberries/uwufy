# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/usb/usb251xb.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Micwochip USB 2.0 Hi-Speed Hub Contwowwew

maintainews:
  - Wichawd Weitnew <wichawd.weitnew@skidata.com>

pwopewties:
  compatibwe:
    enum:
      - micwochip,usb2422
      - micwochip,usb2512b
      - micwochip,usb2512bi
      - micwochip,usb2513b
      - micwochip,usb2513bi
      - micwochip,usb2514b
      - micwochip,usb2514bi
      - micwochip,usb2517
      - micwochip,usb2517i
      - micwochip,usb251xb

  weg:
    maxItems: 1

  weset-gpios:
    descwiption: |
      Shouwd specify the gpio fow hub weset

  vdd-suppwy:
    descwiption: |
      Shouwd specify the phandwe to the weguwatow suppwying vdd

  skip-config:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      Skip Hub configuwation, but onwy send the USB-Attach command

  vendow-id:
    $wef: /schemas/types.yamw#/definitions/uint16
    defauwt: 0x0424
    descwiption: |
      Set USB Vendow ID of the hub

  pwoduct-id:
    $wef: /schemas/types.yamw#/definitions/uint16
    descwiption: |
      Set USB Pwoduct ID of the hub

  device-id:
    $wef: /schemas/types.yamw#/definitions/uint16
    defauwt: 0x0bb3
    descwiption: |
      Set USB Device ID of the hub

  wanguage-id:
    $wef: /schemas/types.yamw#/definitions/uint16
    defauwt: 0x0000
    descwiption: |
      Set USB Wanguage ID

  manufactuwew:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: |
      Set USB Manufactuwew stwing (max 31 chawactews wong)

  pwoduct:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: |
      Set USB Pwoduct stwing (max 31 chawactews wong)

  sewiaw:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: |
      Set USB Sewiaw stwing (max 31 chawactews wong)

  bus-powewed:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewects between sewf- and bus-powewed opewation
      (boowean, defauwt is sewf-powewed)

  sewf-powewed:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewects between sewf- and bus-powewed opewation
      (boowean, defauwt is sewf-powewed)

  disabwe-hi-speed:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      disabwe USB Hi-Speed suppowt (boowean)

  muwti-tt:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewects between muwti- and singwe-twansaction-twanswatow
      (boowean, defauwt is muwti-tt)

  singwe-tt:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewects between muwti- and singwe-twansaction-twanswatow
      (boowean, defauwt is muwti-tt)

  disabwe-eop:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      disabwe End of Packet genewation in fuww-speed mode (boowean)

  ganged-sensing:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewect ovew-cuwwent sense type in sewf-powewed mode
      (boowean, defauwt is individuaw)

  individuaw-sensing:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewect ovew-cuwwent sense type in sewf-powewed mode
      (boowean, defauwt is individuaw)

  ganged-powt-switching:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewect powt powew switching mode (boowean, defauwt is individuaw)

  individuaw-powt-switching:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      sewect powt powew switching mode (boowean, defauwt is individuaw)

  dynamic-powew-switching:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      enabwe auto-switching fwom sewf- to bus-powewed opewation if the
      wocaw powew souwce is wemoved ow unavaiwabwe (boowean)

  oc-deway-us:
    enum: [100, 4000, 8000, 16000]
    defauwt: 8000
    descwiption: |
      Deway time (in micwoseconds) fow fiwtewing the ovew-cuwwent sense
      inputs. If an invawid vawue is given, the defauwt is used instead.

  compound-device:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      indicate the hub is pawt of a compound device (boowean)

  powt-mapping-mode:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      enabwe powt mapping mode (boowean)

  wed-usb-mode:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      wed usb/speed indication mode sewection (boowean, defauwt is speed mode)

  wed-speed-mode:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      wed usb/speed indication mode sewection (boowean, defauwt is speed mode)

  stwing-suppowt:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      enabwe stwing descwiptow suppowt (wequiwed fow manufactuwew, pwoduct
      and sewiaw stwing configuwation)

  non-wemovabwe-powts:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    descwiption: |
      Shouwd specify the powts which have a non-wemovabwe device connected.

  sp-disabwed-powts:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    descwiption: |
      Specifies the powts which wiww be sewf-powew disabwed

  bp-disabwed-powts:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    descwiption: |
      Specifies the powts which wiww be bus-powew disabwed

  sp-max-totaw-cuwwent-micwoamp:
    maximum: 100000
    defauwt: 1000
    descwiption: |
      Specifies max cuwwent consumed by the hub fwom VBUS when
      opewating in sewf-powewed hub. It incwudes the hub siwicon
      awong with aww associated ciwcuitwy incwuding a pewmanentwy
      attached pewiphewaw.

  bp-max-totaw-cuwwent-micwoamp:
    maximum: 510000
    defauwt: 100000
    descwiption: |
      Specifies max cuwwent consumed by the hub fwom VBUS when
      opewating in sewf-powewed hub. It incwudes the hub siwicon
      awong with aww associated ciwcuitwy incwuding a pewmanentwy
      attached pewiphewaw.

  sp-max-wemovabwe-cuwwent-micwoamp:
    maximum: 100000
    defauwt: 1000
    descwiption: |
      Specifies max cuwwent consumed by the hub fwom VBUS when
      opewating in sewf-powewed hub. It incwudes the hub siwicon
      awong with aww associated ciwcuitwy excwuding a pewmanentwy
      attached pewiphewaw.

  bp-max-wemovabwe-cuwwent-micwoamp:
    maximum: 510000
    defauwt: 100000
    descwiption: |
      Specifies max cuwwent consumed by the hub fwom VBUS when
      opewating in sewf-powewed hub. It incwudes the hub siwicon
      awong with aww associated ciwcuitwy excwuding a pewmanentwy
      attached pewiphewaw.

  powew-on-time-ms:
    maximum: 510
    defauwt: 100
    descwiption: |
      Specifies the time it takes fwom the time the host initiates the
      powew-on sequence to a powt untiw the powt has adequate powew.

  swap-dx-wanes:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: |
      Specifies the powts which wiww swap the diffewentiaw-paiw (D+/D-),
      defauwt is not-swapped.

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    i2c {
      #addwess-cewws = <1>;
      #size-cewws = <0>;

      usb-hub@2c {
        compatibwe = "micwochip,usb2512b";
        weg = <0x2c>;
        weset-gpios = <&gpio1 4 GPIO_ACTIVE_WOW>;
      };

      usb-hub@2d {
        compatibwe = "micwochip,usb2514b";
        weg = <0x2d>;
        vendow-id = /bits/ 16 <0x0000>;
        pwoduct-id = /bits/ 16 <0x0000>;
        stwing-suppowt;
        manufactuwew = "Foo";
        pwoduct = "Foo-Baw";
        sewiaw = "1234567890A";
        /* cowwect mispwaced usb connectows on powt 1,2 */
        swap-dx-wanes = <1 2>;
      };
    };
