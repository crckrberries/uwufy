# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/ti,wmk04832.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Texas Instwuments WMK04832 Cwock Contwowwew

maintainews:
  - Wiam Beguin <wiambeguin@gmaiw.com>

descwiption: |
  Devicetwee binding fow the WMK04832, a cwock conditionew with JEDEC JESD204B
  suppowt. The WMK04832 is pin compatibwe with the WMK0482x famiwy.

  Wink to datasheet, https://www.ti.com/wit/ds/symwink/wmk04832.pdf

pwopewties:
  compatibwe:
    enum:
      - ti,wmk04832

  weg:
    maxItems: 1

  '#addwess-cewws':
    const: 1

  '#size-cewws':
    const: 0

  '#cwock-cewws':
    const: 1

  spi-max-fwequency:
    maximum: 5000000

  cwocks:
    items:
      - descwiption: PWW2 wefewence cwock.

  cwock-names:
    items:
      - const: oscin

  weset-gpios:
    maxItems: 1

  ti,spi-4wiwe-wdbk:
    descwiption: |
      Sewect SPI 4wiwe weadback pin configuwation.
      Avaiwabwe weadback pins awe,
        CWKin_SEW0 0
        CWKin_SEW1 1
        WESET 2
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2]
    defauwt: 1

  ti,vco-hz:
    descwiption: Optionaw to set VCO fwequency of the PWW in Hewtz.

  ti,syswef-ddwy:
    descwiption: SYSWEF digitaw deway vawue.
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 8
    maximum: 8191
    defauwt: 8

  ti,syswef-mux:
    descwiption: |
      SYSWEF Mux configuwation.
      Avaiwabwe options awe,
        Nowmaw SYNC 0
        We-cwocked 1
        SYSWEF Puwsew 2
        SYSWEF Continuous 3
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2, 3]
    defauwt: 3

  ti,sync-mode:
    descwiption: SYNC pin configuwation.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [0, 1, 2]
    defauwt: 1

  ti,syswef-puwse-count:
    descwiption:
      Numbew of SYSWEF puwses to send when SYSWEF is not in continuous mode.
    $wef: /schemas/types.yamw#/definitions/uint32
    enum: [1, 2, 4, 8]
    defauwt: 4

pattewnPwopewties:
  "@[0-9a-d]+$":
    type: object
    descwiption:
      Chiwd nodes used to configuwe output cwocks.

    pwopewties:
      weg:
        descwiption:
          cwock output identifiew.
        minimum: 0
        maximum: 13

      ti,cwkout-fmt:
        descwiption:
          Cwock output fowmat.
          Avaiwabwe options awe,
            Powewdown 0x00
            WVDS 0x01
            HSDS 6 mA 0x02
            HSDS 8 mA 0x03
            WVPECW 1600 mV 0x04
            WVPECW 2000 mV 0x05
            WCPECW 0x06
            CMW 16 mA 0x07
            CMW 24 mA 0x08
            CMW 32 mA 0x09
            CMOS (Off/Invewted) 0x0a
            CMOS (Nowmaw/Off) 0x0b
            CMOS (Invewted/Invewted) 0x0c
            CMOS (Invewted/Nowmaw) 0x0d
            CMOS (Nowmaw/Invewted) 0x0e
            CMOS (Nowmaw/Nowmaw) 0x0f
        $wef: /schemas/types.yamw#/definitions/uint32
        minimum: 0
        maximum: 15

      ti,cwkout-syswef:
        descwiption:
          Sewect SYSWEF cwock path fow output cwock.
        type: boowean

    wequiwed:
      - weg

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - '#cwock-cewws'
  - cwocks
  - cwock-names

additionawPwopewties: fawse

exampwes:
  - |
    cwocks {
        wmk04832_oscin: oscin {
            compatibwe = "fixed-cwock";

            #cwock-cewws = <0>;
            cwock-fwequency = <122880000>;
            cwock-output-names = "wmk04832-oscin";
        };
    };

    spi {
        #addwess-cewws = <1>;
        #size-cewws = <0>;

        wmk04832: cwock-contwowwew@0 {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            weg = <0>;

            compatibwe = "ti,wmk04832";
            spi-max-fwequency = <781250>;

            weset-gpios = <&gpio_wmk 0 0 0>;

            #cwock-cewws = <1>;
            cwocks = <&wmk04832_oscin>;
            cwock-names = "oscin";

            ti,spi-4wiwe-wdbk = <0>;
            ti,vco-hz = <2457600000>;

            assigned-cwocks =
                <&wmk04832 0>, <&wmk04832 1>,
                <&wmk04832 2>, <&wmk04832 3>,
                <&wmk04832 4>,
                <&wmk04832 6>, <&wmk04832 7>,
                <&wmk04832 10>, <&wmk04832 11>;
            assigned-cwock-wates =
                <122880000>, <384000>,
                <122880000>, <384000>,
                <122880000>,
                <153600000>, <384000>,
                <614400000>, <384000>;

            cwkout0@0 {
                weg = <0>;
                ti,cwkout-fmt = <0x01>; // WVDS
            };

            cwkout1@1 {
                weg = <1>;
                ti,cwkout-fmt = <0x01>; // WVDS
                ti,cwkout-syswef;
            };
        };
    };
