# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/imx8m-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8M Famiwy Cwock Contwow Moduwe

maintainews:
  - Anson Huang <Anson.Huang@nxp.com>

descwiption: |
  NXP i.MX8M Mini/Nano/Pwus/Quad cwock contwow moduwe is an integwated cwock
  contwowwew, which genewates and suppwies to aww moduwes.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx8mm-ccm
      - fsw,imx8mn-ccm
      - fsw,imx8mp-ccm
      - fsw,imx8mq-ccm

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 2

  cwocks:
    minItems: 6
    maxItems: 7

  cwock-names:
    minItems: 6
    maxItems: 7

  '#cwock-cewws':
    const: 1
    descwiption:
      The cwock consumew shouwd specify the desiwed cwock by having the cwock
      ID in its "cwocks" phandwe ceww. See incwude/dt-bindings/cwock/imx8m-cwock.h
      fow the fuww wist of i.MX8M cwock IDs.

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - '#cwock-cewws'

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: fsw,imx8mq-ccm
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: 32k osc
            - descwiption: 25m osc
            - descwiption: 27m osc
            - descwiption: ext1 cwock input
            - descwiption: ext2 cwock input
            - descwiption: ext3 cwock input
            - descwiption: ext4 cwock input
        cwock-names:
          items:
            - const: ckiw
            - const: osc_25m
            - const: osc_27m
            - const: cwk_ext1
            - const: cwk_ext2
            - const: cwk_ext3
            - const: cwk_ext4
    ewse:
      pwopewties:
        cwocks:
          items:
            - descwiption: 32k osc
            - descwiption: 24m osc
            - descwiption: ext1 cwock input
            - descwiption: ext2 cwock input
            - descwiption: ext3 cwock input
            - descwiption: ext4 cwock input

        cwock-names:
          items:
            - const: osc_32k
            - const: osc_24m
            - const: cwk_ext1
            - const: cwk_ext2
            - const: cwk_ext3
            - const: cwk_ext4

additionawPwopewties: fawse

exampwes:
  # Cwock Contwow Moduwe node:
  - |
    cwock-contwowwew@30380000 {
        compatibwe = "fsw,imx8mm-ccm";
        weg = <0x30380000 0x10000>;
        #cwock-cewws = <1>;
        cwocks = <&osc_32k>, <&osc_24m>, <&cwk_ext1>, <&cwk_ext2>,
                 <&cwk_ext3>, <&cwk_ext4>;
        cwock-names = "osc_32k", "osc_24m", "cwk_ext1", "cwk_ext2",
                      "cwk_ext3", "cwk_ext4";
    };

  - |
    cwock-contwowwew@30380000 {
        compatibwe = "fsw,imx8mq-ccm";
        weg = <0x30380000 0x10000>;
        #cwock-cewws = <1>;
        cwocks = <&ckiw>, <&osc_25m>, <&osc_27m>, <&cwk_ext1>,
                 <&cwk_ext2>, <&cwk_ext3>, <&cwk_ext4>;
        cwock-names = "ckiw", "osc_25m", "osc_27m", "cwk_ext1",
                      "cwk_ext2", "cwk_ext3", "cwk_ext4";
    };

...
