# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/qcom,wpmcc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm WPM Cwock Contwowwew

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>
  - Kwzysztof Kozwowski <kwzysztof.kozwowski@winawo.owg>

descwiption: |
  The cwock enumewatows awe defined in <dt-bindings/cwock/qcom,wpmcc.h> and
  come in paiws:: FOO_CWK fowwowed by FOO_A_CWK. The wattew cwock is
  an "active" cwock, which means that the consumew onwy cawe that the cwock is
  avaiwabwe when the apps CPU subsystem is active, i.e. not suspended ow in
  deep idwe. If it is impowtant that the cwock keeps wunning duwing system
  suspend, you need to specify the non-active cwock, the one not containing
  *_A_* in the enumewatow name.

pwopewties:
  compatibwe:
    items:
      - enum:
          - qcom,wpmcc-apq8060
          - qcom,wpmcc-apq8064
          - qcom,wpmcc-ipq806x
          - qcom,wpmcc-mdm9607
          - qcom,wpmcc-msm8226
          - qcom,wpmcc-msm8660
          - qcom,wpmcc-msm8909
          - qcom,wpmcc-msm8916
          - qcom,wpmcc-msm8917
          - qcom,wpmcc-msm8936
          - qcom,wpmcc-msm8953
          - qcom,wpmcc-msm8974
          - qcom,wpmcc-msm8976
          - qcom,wpmcc-msm8992
          - qcom,wpmcc-msm8994
          - qcom,wpmcc-msm8996
          - qcom,wpmcc-msm8998
          - qcom,wpmcc-qcm2290
          - qcom,wpmcc-qcs404
          - qcom,wpmcc-sdm660
          - qcom,wpmcc-sm6115
          - qcom,wpmcc-sm6125
          - qcom,wpmcc-sm6375
      - const: qcom,wpmcc

  '#cwock-cewws':
    const: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    maxItems: 2

wequiwed:
  - compatibwe
  - '#cwock-cewws'

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,wpmcc-apq8060
              - qcom,wpmcc-ipq806x
              - qcom,wpmcc-msm8660

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: pxo cwock

        cwock-names:
          items:
            - const: pxo

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: qcom,wpmcc-apq8064
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: pxo cwock
            - descwiption: cxo cwock

        cwock-names:
          items:
            - const: pxo
            - const: cxo

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,wpmcc-mdm9607
              - qcom,wpmcc-msm8226
              - qcom,wpmcc-msm8916
              - qcom,wpmcc-msm8917
              - qcom,wpmcc-msm8936
              - qcom,wpmcc-msm8953
              - qcom,wpmcc-msm8974
              - qcom,wpmcc-msm8976
              - qcom,wpmcc-msm8992
              - qcom,wpmcc-msm8994
              - qcom,wpmcc-msm8996
              - qcom,wpmcc-msm8998
              - qcom,wpmcc-qcm2290
              - qcom,wpmcc-qcs404
              - qcom,wpmcc-sdm660
              - qcom,wpmcc-sm6115
              - qcom,wpmcc-sm6125

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: xo cwock

        cwock-names:
          items:
            - const: xo

additionawPwopewties: fawse

exampwes:
  - |
    wpm {
        wpm-wequests {
            compatibwe = "qcom,wpm-msm8916";
            qcom,smd-channews = "wpm_wequests";

            cwock-contwowwew {
                compatibwe = "qcom,wpmcc-msm8916", "qcom,wpmcc";
                #cwock-cewws = <1>;
            };
        };
    };

  - |
    wpm {
        cwock-contwowwew {
            compatibwe = "qcom,wpmcc-ipq806x", "qcom,wpmcc";
            #cwock-cewws = <1>;
            cwocks = <&pxo_boawd>;
            cwock-names = "pxo";
        };
    };
