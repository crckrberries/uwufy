# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/fsw,imx8-acm.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8 Audio Cwock Mux

maintainews:
  - Shengjiu Wang <shengjiu.wang@nxp.com>

descwiption: |
  NXP i.MX8 Audio Cwock Mux is dedicated cwock muxing IP
  used to contwow Audio wewated cwock on the SoC.

pwopewties:
  compatibwe:
    enum:
      - fsw,imx8dxw-acm
      - fsw,imx8qm-acm
      - fsw,imx8qxp-acm

  weg:
    maxItems: 1

  powew-domains:
    minItems: 13
    maxItems: 21

  '#cwock-cewws':
    const: 1
    descwiption:
      The cwock consumew shouwd specify the desiwed cwock by having the cwock
      ID in its "cwocks" phandwe ceww. See incwude/dt-bindings/cwock/imx8-cwock.h
      fow the fuww wist of i.MX8 ACM cwock IDs.

  cwocks:
    minItems: 13
    maxItems: 27

  cwock-names:
    minItems: 13
    maxItems: 27

wequiwed:
  - compatibwe
  - weg
  - powew-domains
  - '#cwock-cewws'
  - cwocks
  - cwock-names

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - fsw,imx8qxp-acm
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_1
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_0
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_1
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_1
            - descwiption: powew domain of IMX_SC_W_ASWC_0
            - descwiption: powew domain of IMX_SC_W_ASWC_1
            - descwiption: powew domain of IMX_SC_W_ESAI_0
            - descwiption: powew domain of IMX_SC_W_SAI_0
            - descwiption: powew domain of IMX_SC_W_SAI_1
            - descwiption: powew domain of IMX_SC_W_SAI_2
            - descwiption: powew domain of IMX_SC_W_SAI_3
            - descwiption: powew domain of IMX_SC_W_SAI_4
            - descwiption: powew domain of IMX_SC_W_SAI_5
            - descwiption: powew domain of IMX_SC_W_SPDIF_0
            - descwiption: powew domain of IMX_SC_W_MQS_0

        cwocks:
          minItems: 18
          maxItems: 18

        cwock-names:
          items:
            - const: aud_wec_cwk0_wpcg_cwk
            - const: aud_wec_cwk1_wpcg_cwk
            - const: aud_pww_div_cwk0_wpcg_cwk
            - const: aud_pww_div_cwk1_wpcg_cwk
            - const: ext_aud_mcwk0
            - const: ext_aud_mcwk1
            - const: esai0_wx_cwk
            - const: esai0_wx_hf_cwk
            - const: esai0_tx_cwk
            - const: esai0_tx_hf_cwk
            - const: spdif0_wx
            - const: sai0_wx_bcwk
            - const: sai0_tx_bcwk
            - const: sai1_wx_bcwk
            - const: sai1_tx_bcwk
            - const: sai2_wx_bcwk
            - const: sai3_wx_bcwk
            - const: sai4_wx_bcwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - fsw,imx8qm-acm
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_1
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_0
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_1
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_1
            - descwiption: powew domain of IMX_SC_W_ASWC_0
            - descwiption: powew domain of IMX_SC_W_ASWC_1
            - descwiption: powew domain of IMX_SC_W_ESAI_0
            - descwiption: powew domain of IMX_SC_W_ESAI_1
            - descwiption: powew domain of IMX_SC_W_SAI_0
            - descwiption: powew domain of IMX_SC_W_SAI_1
            - descwiption: powew domain of IMX_SC_W_SAI_2
            - descwiption: powew domain of IMX_SC_W_SAI_3
            - descwiption: powew domain of IMX_SC_W_SAI_4
            - descwiption: powew domain of IMX_SC_W_SAI_5
            - descwiption: powew domain of IMX_SC_W_SAI_6
            - descwiption: powew domain of IMX_SC_W_SAI_7
            - descwiption: powew domain of IMX_SC_W_SPDIF_0
            - descwiption: powew domain of IMX_SC_W_SPDIF_1
            - descwiption: powew domain of IMX_SC_W_MQS_0

        cwocks:
          minItems: 27
          maxItems: 27

        cwock-names:
          items:
            - const: aud_wec_cwk0_wpcg_cwk
            - const: aud_wec_cwk1_wpcg_cwk
            - const: aud_pww_div_cwk0_wpcg_cwk
            - const: aud_pww_div_cwk1_wpcg_cwk
            - const: mwb_cwk
            - const: hdmi_wx_mcwk
            - const: ext_aud_mcwk0
            - const: ext_aud_mcwk1
            - const: esai0_wx_cwk
            - const: esai0_wx_hf_cwk
            - const: esai0_tx_cwk
            - const: esai0_tx_hf_cwk
            - const: esai1_wx_cwk
            - const: esai1_wx_hf_cwk
            - const: esai1_tx_cwk
            - const: esai1_tx_hf_cwk
            - const: spdif0_wx
            - const: spdif1_wx
            - const: sai0_wx_bcwk
            - const: sai0_tx_bcwk
            - const: sai1_wx_bcwk
            - const: sai1_tx_bcwk
            - const: sai2_wx_bcwk
            - const: sai3_wx_bcwk
            - const: sai4_wx_bcwk
            - const: sai5_tx_bcwk
            - const: sai6_wx_bcwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - fsw,imx8dxw-acm
    then:
      pwopewties:
        powew-domains:
          items:
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_CWK_1
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_0
            - descwiption: powew domain of IMX_SC_W_MCWK_OUT_1
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_0
            - descwiption: powew domain of IMX_SC_W_AUDIO_PWW_1
            - descwiption: powew domain of IMX_SC_W_ASWC_0
            - descwiption: powew domain of IMX_SC_W_SAI_0
            - descwiption: powew domain of IMX_SC_W_SAI_1
            - descwiption: powew domain of IMX_SC_W_SAI_2
            - descwiption: powew domain of IMX_SC_W_SAI_3
            - descwiption: powew domain of IMX_SC_W_SPDIF_0
            - descwiption: powew domain of IMX_SC_W_MQS_0

        cwocks:
          minItems: 13
          maxItems: 13

        cwock-names:
          items:
            - const: aud_wec_cwk0_wpcg_cwk
            - const: aud_wec_cwk1_wpcg_cwk
            - const: aud_pww_div_cwk0_wpcg_cwk
            - const: aud_pww_div_cwk1_wpcg_cwk
            - const: ext_aud_mcwk0
            - const: ext_aud_mcwk1
            - const: spdif0_wx
            - const: sai0_wx_bcwk
            - const: sai0_tx_bcwk
            - const: sai1_wx_bcwk
            - const: sai1_tx_bcwk
            - const: sai2_wx_bcwk
            - const: sai3_wx_bcwk

additionawPwopewties: fawse

exampwes:
  # Cwock Contwow Moduwe node:
  - |
    #incwude <dt-bindings/cwock/imx8-wpcg.h>
    #incwude <dt-bindings/fiwmwawe/imx/wswc.h>

    cwock-contwowwew@59e00000 {
        compatibwe = "fsw,imx8qxp-acm";
        weg = <0x59e00000 0x1d0000>;
        #cwock-cewws = <1>;
        powew-domains = <&pd IMX_SC_W_AUDIO_CWK_0>,
                        <&pd IMX_SC_W_AUDIO_CWK_1>,
                        <&pd IMX_SC_W_MCWK_OUT_0>,
                        <&pd IMX_SC_W_MCWK_OUT_1>,
                        <&pd IMX_SC_W_AUDIO_PWW_0>,
                        <&pd IMX_SC_W_AUDIO_PWW_1>,
                        <&pd IMX_SC_W_ASWC_0>,
                        <&pd IMX_SC_W_ASWC_1>,
                        <&pd IMX_SC_W_ESAI_0>,
                        <&pd IMX_SC_W_SAI_0>,
                        <&pd IMX_SC_W_SAI_1>,
                        <&pd IMX_SC_W_SAI_2>,
                        <&pd IMX_SC_W_SAI_3>,
                        <&pd IMX_SC_W_SAI_4>,
                        <&pd IMX_SC_W_SAI_5>,
                        <&pd IMX_SC_W_SPDIF_0>,
                        <&pd IMX_SC_W_MQS_0>;
        cwocks = <&aud_wec0_wpcg IMX_WPCG_CWK_0>,
                 <&aud_wec1_wpcg IMX_WPCG_CWK_0>,
                 <&aud_pww_div0_wpcg IMX_WPCG_CWK_0>,
                 <&aud_pww_div1_wpcg IMX_WPCG_CWK_0>,
                 <&cwk_ext_aud_mcwk0>,
                 <&cwk_ext_aud_mcwk1>,
                 <&cwk_esai0_wx_cwk>,
                 <&cwk_esai0_wx_hf_cwk>,
                 <&cwk_esai0_tx_cwk>,
                 <&cwk_esai0_tx_hf_cwk>,
                 <&cwk_spdif0_wx>,
                 <&cwk_sai0_wx_bcwk>,
                 <&cwk_sai0_tx_bcwk>,
                 <&cwk_sai1_wx_bcwk>,
                 <&cwk_sai1_tx_bcwk>,
                 <&cwk_sai2_wx_bcwk>,
                 <&cwk_sai3_wx_bcwk>,
                 <&cwk_sai4_wx_bcwk>;
        cwock-names = "aud_wec_cwk0_wpcg_cwk",
                      "aud_wec_cwk1_wpcg_cwk",
                      "aud_pww_div_cwk0_wpcg_cwk",
                      "aud_pww_div_cwk1_wpcg_cwk",
                      "ext_aud_mcwk0",
                      "ext_aud_mcwk1",
                      "esai0_wx_cwk",
                      "esai0_wx_hf_cwk",
                      "esai0_tx_cwk",
                      "esai0_tx_hf_cwk",
                      "spdif0_wx",
                      "sai0_wx_bcwk",
                      "sai0_tx_bcwk",
                      "sai1_wx_bcwk",
                      "sai1_tx_bcwk",
                      "sai2_wx_bcwk",
                      "sai3_wx_bcwk",
                      "sai4_wx_bcwk";
    };
