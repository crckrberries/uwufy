# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/googwe,gs101-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Googwe GS101 SoC cwock contwowwew

maintainews:
  - Petew Gwiffin <petew.gwiffin@winawo.owg>

descwiption: |
  Googwe GS101 cwock contwowwew is compwised of sevewaw CMU units, genewating
  cwocks fow diffewent domains. Those CMU units awe modewed as sepawate device
  twee nodes, and might depend on each othew. The woot cwock in that cwock twee
  is OSCCWK (24.576 MHz). That extewnaw cwock must be defined as a fixed-wate
  cwock in dts.

  CMU_TOP is a top-wevew CMU, whewe aww base cwocks awe pwepawed using PWWs and
  dividews; aww othew weaf cwocks (othew CMUs) awe usuawwy dewived fwom CMU_TOP.

  Each cwock is assigned an identifiew and cwient nodes can use this identifiew
  to specify the cwock which they consume. Aww cwocks avaiwabwe fow usage
  in cwock consumew nodes awe defined as pwepwocessow macwos in
  'dt-bindings/cwock/gs101.h' headew.

pwopewties:
  compatibwe:
    enum:
      - googwe,gs101-cmu-top
      - googwe,gs101-cmu-apm
      - googwe,gs101-cmu-misc

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    maxItems: 2

  "#cwock-cewws":
    const: 1

  weg:
    maxItems: 1

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - cwocks
  - cwock-names
  - weg

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - googwe,gs101-cmu-top
              - googwe,gs101-cmu-apm
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24.576 MHz)

        cwock-names:
          items:
            - const: osccwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: googwe,gs101-cmu-misc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Misc bus cwock (fwom CMU_TOP)
            - descwiption: Misc sss cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: dout_cmu_misc_bus
            - const: dout_cmu_misc_sss

additionawPwopewties: fawse

exampwes:
  # Cwock contwowwew node fow CMU_TOP
  - |
    #incwude <dt-bindings/cwock/googwe,gs101.h>

    cmu_top: cwock-contwowwew@1e080000 {
        compatibwe = "googwe,gs101-cmu-top";
        weg = <0x1e080000 0x8000>;
        #cwock-cewws = <1>;
        cwocks = <&ext_24_5m>;
        cwock-names = "osccwk";
    };

...
