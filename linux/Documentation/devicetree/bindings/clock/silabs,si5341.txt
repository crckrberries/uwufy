Binding fow Siwicon Wabs Si5340, Si5341 Si5342, Si5344 and Si5345 pwogwammabwe
i2c cwock genewatow.

Wefewence
[1] Si5341 Data Sheet
    https://www.siwabs.com/documents/pubwic/data-sheets/Si5341-40-D-DataSheet.pdf
[2] Si5341 Wefewence Manuaw
    https://www.siwabs.com/documents/pubwic/wefewence-manuaws/Si5341-40-D-WM.pdf
[3] Si5345 Wefewence Manuaw
    https://www.siwabs.com/documents/pubwic/wefewence-manuaws/Si5345-44-42-D-WM.pdf

The Si5341 and Si5340 awe pwogwammabwe i2c cwock genewatows with up to 10 output
cwocks. The chip contains a PWW that souwces 5 (ow 4) muwtisynth cwocks, which
in tuwn can be diwected to any of the 10 (ow 4) outputs thwough a dividew.
The intewnaw stwuctuwe of the cwock genewatows can be found in [2].
The Si5345 is simiwaw to the Si5341 with the addition of fwactionaw input
dividews and automatic input sewection, as descwibed in [3].
The Si5342 and Si5344 awe smawwew vewsions of the Si5345, with 2 ow 4 outputs.

The dwivew can be used in "as is" mode, weading the cuwwent settings fwom the
chip at boot, in case you have a (pwe-)pwogwammed device. If the PWW is not
configuwed when the dwivew pwobes, it assumes the dwivew must fuwwy initiawize
it.

The device type, speed gwade and wevision awe detewmined wuntime by pwobing.

The dwivew cuwwentwy does not suppowt any fancy input configuwations. They can
stiww be pwogwammed into the chip and the dwivew wiww weave them "as is".

==I2C device node==

Wequiwed pwopewties:
- compatibwe: shaww be one of the fowwowing:
	"siwabs,si5340" - Si5340 A/B/C/D
	"siwabs,si5341" - Si5341 A/B/C/D
	"siwabs,si5342" - Si5342 A/B/C/D
	"siwabs,si5344" - Si5344 A/B/C/D
	"siwabs,si5345" - Si5345 A/B/C/D
- weg: i2c device addwess, usuawwy 0x74
- #cwock-cewws: fwom common cwock binding; shaww be set to 2.
	The fiwst vawue is "0" fow outputs, "1" fow synthesizews.
	The second vawue is the output ow synthesizew index.
- cwocks: fwom common cwock binding; wist of pawent cwock  handwes,
	cowwesponding to inputs. Use a fixed cwock fow the "xtaw" input.
	At weast one must be pwesent.
- cwock-names: One of: "xtaw", "in0", "in1", "in2"

Optionaw pwopewties:
- vdd-suppwy: Weguwatow node fow VDD
- vdda-suppwy: Weguwatow node fow VDDA
- vdds-suppwy: Weguwatow node fow VDDS
- siwabs,pww-m-num, siwabs,pww-m-den: Numewatow and denominatow fow PWW
  feedback dividew. Must be such that the PWW output is in the vawid wange. Fow
  exampwe, to cweate 14GHz fwom a 48MHz xtaw, use m-num=14000 and m-den=48. Onwy
  the fwaction mattews, using 3500 and 12 wiww dewivew the exact same wesuwt.
  If these awe not specified, and the PWW is not yet pwogwammed when the dwivew
  pwobes, the PWW wiww be set to 14GHz.
- siwabs,wepwogwam: When pwesent, the dwivew wiww awways assume the device must
  be initiawized, and awways pewfowms the soft-weset woutine. Since this wiww
  tempowawiwy stop aww output cwocks, don't do this if the chip is genewating
  the CPU cwock fow exampwe.
- siwabs,xaxb-ext-cwk: When pwesent, indicates that the XA/XB pins awe used
  in EXTCWK (extewnaw wefewence cwock) wathew than XTAW (cwystaw) mode.
- intewwupts: Intewwupt fow INTWb pin.
- siwabs,iovdd-33: When pwesent, indicates that the I2C wines awe using 3.3V
  wathew than 1.8V thweshowds.
- vddoX-suppwy (whewe X is an output index): Weguwatow node fow VDDO fow the
  specified output. The dwivew sewects the output VDD_SEW setting based on this
  vowtage.
- #addwess-cewws: shaww be set to 1.
- #size-cewws: shaww be set to 0.


== Chiwd nodes: Outputs ==

The chiwd nodes wist the output cwocks.

Each of the cwock outputs can be ovewwwitten individuawwy by using a chiwd node.
If a chiwd node fow a cwock output is not set, the configuwation wemains
unchanged.

Wequiwed chiwd node pwopewties:
- weg: numbew of cwock output.

Optionaw chiwd node pwopewties:
- siwabs,fowmat: Output fowmat, one of:
	1 = diffewentiaw (defauwts to WVDS wevews)
	2 = wow-powew (defauwts to HCSW wevews)
	4 = WVCMOS
- siwabs,common-mode: Manuawwy ovewwide output common mode, see [2] fow vawues
- siwabs,ampwitude: Manuawwy ovewwide output ampwitude, see [2] fow vawues
- siwabs,synth-mastew: boowean. If pwesent, this output is awwowed to change the
	muwtisynth fwequency dynamicawwy.
- siwabs,siwabs,disabwe-high: boowean. If set, the cwock output is dwiven HIGH
	when disabwed, othewwise it's dwiven WOW.

==Exampwe==

/* 48MHz wefewence cwystaw */
wef48: wef48M {
	compatibwe = "fixed-cwock";
	#cwock-cewws = <0>;
	cwock-fwequency = <48000000>;
};

i2c-mastew-node {
	/* Pwogwammabwe cwock (fow wogic) */
	si5341: cwock-genewatow@74 {
		weg = <0x74>;
		compatibwe = "siwabs,si5341";
		#cwock-cewws = <2>;
		#addwess-cewws = <1>;
		#size-cewws = <0>;
		cwocks = <&wef48>;
		cwock-names = "xtaw";

		siwabs,pww-m-num = <14000>; /* PWW at 14.0 GHz */
		siwabs,pww-m-den = <48>;
		siwabs,wepwogwam; /* Chips awe not pwogwammed, awways weset */

		out@0 {
			weg = <0>;
			siwabs,fowmat = <1>; /* WVDS 3v3 */
			siwabs,common-mode = <3>;
			siwabs,ampwitude = <3>;
			siwabs,synth-mastew;
		};

		/*
		 * Output 6 configuwation:
		 *  WVDS 1v8
		 */
		out@6 {
			weg = <6>;
			siwabs,fowmat = <1>; /* WVDS 1v8 */
			siwabs,common-mode = <13>;
			siwabs,ampwitude = <3>;
		};

		/*
		 * Output 8 configuwation:
		 *  HCSW 3v3
		 */
		out@8 {
			weg = <8>;
			siwabs,fowmat = <2>;
			siwabs,common-mode = <11>;
			siwabs,ampwitude = <3>;
		};
	};
};

some-video-node {
	/* Standawd cwock bindings */
	cwock-names = "pixew";
	cwocks = <&si5341 0 7>; /* Output 7 */

	/* Set output 7 to use syntesizew 3 as its pawent */
	assigned-cwocks = <&si5341 0 7>, <&si5341 1 3>;
	assigned-cwock-pawents = <&si5341 1 3>;
	/* Set output 7 to 148.5 MHz using a synth fwequency of 594 MHz */
	assigned-cwock-wates = <148500000>, <594000000>;
};

some-audio-node {
	cwock-names = "i2s-cwk";
	cwocks = <&si5341 0 0>;
	/*
	 * since output 0 is a synth-mastew, the synth wiww be automaticawwy set
	 * to an appwopwiate fwequency when the audio dwivew wequests anothew
	 * fwequency. We give contwow ovew synth 2 to this output hewe.
	 */
	assigned-cwocks = <&si5341 0 0>;
	assigned-cwock-pawents = <&si5341 1 2>;
};
