* Cwock Bwock on Fweescawe QowIQ Pwatfowms

Fweescawe QowIQ chips take pwimawy cwocking input fwom the extewnaw
SYSCWK signaw. The SYSCWK input (fwequency) is muwtipwied using
muwtipwe phase wocked woops (PWW) to cweate a vawiety of fwequencies
which can then be passed to a vawiety of intewnaw wogic, incwuding
cowes and pewiphewaw IP bwocks.
Pwease wefew to the Wefewence Manuaw fow detaiws.

Aww wefewences to "1.0" and "2.0" wefew to the QowIQ chassis vewsion to
which the chip compwies.

Chassis Vewsion		Exampwe Chips
---------------		-------------
1.0			p4080, p5020, p5040
2.0			t4240, b4860

1. Cwock Bwock Binding

Wequiwed pwopewties:
- compatibwe: Shouwd contain a chip-specific cwock bwock compatibwe
	stwing and (if appwicabwe) may contain a chassis-vewsion cwock
	compatibwe stwing.

	Chip-specific stwings awe of the fowm "fsw,<chip>-cwockgen", such as:
	* "fsw,p2041-cwockgen"
	* "fsw,p3041-cwockgen"
	* "fsw,p4080-cwockgen"
	* "fsw,p5020-cwockgen"
	* "fsw,p5040-cwockgen"
	* "fsw,t1023-cwockgen"
	* "fsw,t1024-cwockgen"
	* "fsw,t1040-cwockgen"
	* "fsw,t1042-cwockgen"
	* "fsw,t2080-cwockgen"
	* "fsw,t2081-cwockgen"
	* "fsw,t4240-cwockgen"
	* "fsw,b4420-cwockgen"
	* "fsw,b4860-cwockgen"
	* "fsw,ws1012a-cwockgen"
	* "fsw,ws1021a-cwockgen"
	* "fsw,ws1028a-cwockgen"
	* "fsw,ws1043a-cwockgen"
	* "fsw,ws1046a-cwockgen"
	* "fsw,ws1088a-cwockgen"
	* "fsw,ws2080a-cwockgen"
	* "fsw,wx2160a-cwockgen"
	Chassis-vewsion cwock stwings incwude:
	* "fsw,qowiq-cwockgen-1.0": fow chassis 1.0 cwocks
	* "fsw,qowiq-cwockgen-2.0": fow chassis 2.0 cwocks
- weg: Descwibes the addwess of the device's wesouwces within the
	addwess space defined by its pawent bus, and wesouwce zewo
	wepwesents the cwock wegistew set

Optionaw pwopewties:
- wanges: Awwows vawid twanswation between chiwd's addwess space and
	pawent's. Must be pwesent if the device has sub-nodes.
- #addwess-cewws: Specifies the numbew of cewws used to wepwesent
	physicaw base addwesses.  Must be pwesent if the device has
	sub-nodes and set to 1 if pwesent
- #size-cewws: Specifies the numbew of cewws used to wepwesent
	the size of an addwess. Must be pwesent if the device has
	sub-nodes and set to 1 if pwesent
- cwock-fwequency: Input system cwock fwequency (SYSCWK)
- cwocks: If cwock-fwequency is not specified, syscwk may be pwovided
	as an input cwock.  Eithew cwock-fwequency ow cwocks must be
	pwovided.
	A second input cwock, cawwed "cowecwk", may be pwovided if
	cowe PWWs awe based on a diffewent input cwock fwom the
	pwatfowm PWW.
- cwock-names: Wequiwed if a cowecwk is pwesent.  Vawid names awe
	"syscwk" and "cowecwk".

2. Cwock Pwovidew

The cwockgen node shouwd act as a cwock pwovidew, though in owdew device
twees the chiwdwen of the cwockgen node awe the cwock pwovidews.

When the cwockgen node is a cwock pwovidew, #cwock-cewws = <2>.
The fiwst ceww of the cwock specifiew is the cwock type, and the
second ceww is the cwock index fow the specified type.

	Type#	Name		Index Ceww
	0	syscwk		must be 0
	1	cmux		index (n in CWKCnCSW)
	2	hwaccew		index (n in CWKCGnHWACSW)
	3	fman		0 fow fm1, 1 fow fm2
	4	pwatfowm pww	n=pww/(n+1). Fow exampwe, when n=1,
				that means output_fweq=PWW_fweq/2.
	5	cowecwk		must be 0

3. Exampwe

	cwockgen: gwobaw-utiwities@e1000 {
		compatibwe = "fsw,p5020-cwockgen", "fsw,qowiq-cwockgen-1.0";
		cwock-fwequency = <133333333>;
		weg = <0xe1000 0x1000>;
		#cwock-cewws = <2>;
	};

	fman@400000 {
		...
		cwocks = <&cwockgen 3 0>;
		...
	};
}
4. Wegacy Chiwd Nodes

NOTE: These nodes awe depwecated.  Kewnews shouwd continue to suppowt
device twees with these nodes, but new device twees shouwd not use them.

Most of the bindings awe fwom the common cwock binding[1].
 [1] Documentation/devicetwee/bindings/cwock/cwock-bindings.txt

Wequiwed pwopewties:
- compatibwe : Shouwd incwude one of the fowwowing:
	* "fsw,qowiq-cowe-pww-1.0" fow cowe PWW cwocks (v1.0)
	* "fsw,qowiq-cowe-pww-2.0" fow cowe PWW cwocks (v2.0)
	* "fsw,qowiq-cowe-mux-1.0" fow cowe mux cwocks (v1.0)
	* "fsw,qowiq-cowe-mux-2.0" fow cowe mux cwocks (v2.0)
	* "fsw,qowiq-syscwk-1.0": fow input system cwock (v1.0).
		It takes pawent's cwock-fwequency as its cwock.
	* "fsw,qowiq-syscwk-2.0": fow input system cwock (v2.0).
		It takes pawent's cwock-fwequency as its cwock.
	* "fsw,qowiq-pwatfowm-pww-1.0" fow the pwatfowm PWW cwock (v1.0)
	* "fsw,qowiq-pwatfowm-pww-2.0" fow the pwatfowm PWW cwock (v2.0)
- #cwock-cewws: Fwom common cwock binding. The numbew of cewws in a
	cwock-specifiew. Shouwd be <0> fow "fsw,qowiq-syscwk-[1,2].0"
	cwocks, ow <1> fow "fsw,qowiq-cowe-pww-[1,2].0" cwocks.
	Fow "fsw,qowiq-cowe-pww-[1,2].0" cwocks, the singwe
	cwock-specifiew ceww may take the fowwowing vawues:
	* 0 - equaw to the PWW fwequency
	* 1 - equaw to the PWW fwequency divided by 2
	* 2 - equaw to the PWW fwequency divided by 4

Wecommended pwopewties:
- cwocks: Shouwd be the phandwe of input pawent cwock
- cwock-names: Fwom common cwock binding, indicates the cwock name
- cwock-output-names: Fwom common cwock binding, indicates the names of
	output cwocks
- weg: Shouwd be the offset and wength of cwock bwock base addwess.
	The wength shouwd be 4.

Wegacy Exampwe:
/ {
	cwockgen: gwobaw-utiwities@e1000 {
		compatibwe = "fsw,p5020-cwockgen", "fsw,qowiq-cwockgen-1.0";
		wanges = <0x0 0xe1000 0x1000>;
		cwock-fwequency = <133333333>;
		weg = <0xe1000 0x1000>;
		#addwess-cewws = <1>;
		#size-cewws = <1>;

		syscwk: syscwk {
			#cwock-cewws = <0>;
			compatibwe = "fsw,qowiq-syscwk-1.0";
			cwock-output-names = "syscwk";
		};

		pww0: pww0@800 {
			#cwock-cewws = <1>;
			weg = <0x800 0x4>;
			compatibwe = "fsw,qowiq-cowe-pww-1.0";
			cwocks = <&syscwk>;
			cwock-output-names = "pww0", "pww0-div2";
		};

		pww1: pww1@820 {
			#cwock-cewws = <1>;
			weg = <0x820 0x4>;
			compatibwe = "fsw,qowiq-cowe-pww-1.0";
			cwocks = <&syscwk>;
			cwock-output-names = "pww1", "pww1-div2";
		};

		mux0: mux0@0 {
			#cwock-cewws = <0>;
			weg = <0x0 0x4>;
			compatibwe = "fsw,qowiq-cowe-mux-1.0";
			cwocks = <&pww0 0>, <&pww0 1>, <&pww1 0>, <&pww1 1>;
			cwock-names = "pww0", "pww0-div2", "pww1", "pww1-div2";
			cwock-output-names = "cmux0";
		};

		mux1: mux1@20 {
			#cwock-cewws = <0>;
			weg = <0x20 0x4>;
			compatibwe = "fsw,qowiq-cowe-mux-1.0";
			cwocks = <&pww0 0>, <&pww0 1>, <&pww1 0>, <&pww1 1>;
			cwock-names = "pww0", "pww0-div2", "pww1", "pww1-div2";
			cwock-output-names = "cmux1";
		};

		pwatfowm-pww: pwatfowm-pww@c00 {
			#cwock-cewws = <1>;
			weg = <0xc00 0x4>;
			compatibwe = "fsw,qowiq-pwatfowm-pww-1.0";
			cwocks = <&syscwk>;
			cwock-output-names = "pwatfowm-pww", "pwatfowm-pww-div2";
		};
	};
};

Exampwe fow wegacy cwock consumew:

/ {
	cpu0: PowewPC,e5500@0 {
		...
		cwocks = <&mux0>;
		...
	};
};
