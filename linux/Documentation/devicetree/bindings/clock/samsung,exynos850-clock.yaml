# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/samsung,exynos850-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos850 SoC cwock contwowwew

maintainews:
  - Sam Pwotsenko <semen.pwotsenko@winawo.owg>
  - Chanwoo Choi <cw00.choi@samsung.com>
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>
  - Tomasz Figa <tomasz.figa@gmaiw.com>

descwiption: |
  Exynos850 cwock contwowwew is compwised of sevewaw CMU units, genewating
  cwocks fow diffewent domains. Those CMU units awe modewed as sepawate device
  twee nodes, and might depend on each othew. Woot cwocks in that cwock twee awe
  two extewnaw cwocks:: OSCCWK (26 MHz) and WTCCWK (32768 Hz). Those extewnaw
  cwocks must be defined as fixed-wate cwocks in dts.

  CMU_TOP is a top-wevew CMU, whewe aww base cwocks awe pwepawed using PWWs and
  dividews; aww othew weaf cwocks (othew CMUs) awe usuawwy dewived fwom CMU_TOP.

  Each cwock is assigned an identifiew and cwient nodes can use this identifiew
  to specify the cwock which they consume. Aww cwocks avaiwabwe fow usage
  in cwock consumew nodes awe defined as pwepwocessow macwos in
  'dt-bindings/cwock/exynos850.h' headew.

pwopewties:
  compatibwe:
    enum:
      - samsung,exynos850-cmu-top
      - samsung,exynos850-cmu-apm
      - samsung,exynos850-cmu-aud
      - samsung,exynos850-cmu-cmgp
      - samsung,exynos850-cmu-cowe
      - samsung,exynos850-cmu-dpu
      - samsung,exynos850-cmu-g3d
      - samsung,exynos850-cmu-hsi
      - samsung,exynos850-cmu-is
      - samsung,exynos850-cmu-mfcmscw
      - samsung,exynos850-cmu-pewi

  cwocks:
    minItems: 1
    maxItems: 5

  cwock-names:
    minItems: 1
    maxItems: 5

  "#cwock-cewws":
    const: 1

  weg:
    maxItems: 1

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-top

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)

        cwock-names:
          items:
            - const: osccwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-apm

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_APM bus cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_apm_bus

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-aud

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: AUD cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_aud

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-cmgp

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_CMGP bus cwock (fwom CMU_APM)

        cwock-names:
          items:
            - const: osccwk
            - const: gout_cwkcmu_cmgp_bus

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-cowe

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_COWE bus cwock (fwom CMU_TOP)
            - descwiption: CCI cwock (fwom CMU_TOP)
            - descwiption: eMMC cwock (fwom CMU_TOP)
            - descwiption: SSS cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cowe_bus
            - const: dout_cowe_cci
            - const: dout_cowe_mmc_embd
            - const: dout_cowe_sss

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-dpu

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: DPU cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_dpu

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-g3d

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: G3D cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_g3d_switch

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-hsi

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: Extewnaw WTC cwock (32768 Hz)
            - descwiption: CMU_HSI bus cwock (fwom CMU_TOP)
            - descwiption: SD cawd cwock (fwom CMU_TOP)
            - descwiption: USB 2.0 DWD cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: wtccwk
            - const: dout_hsi_bus
            - const: dout_hsi_mmc_cawd
            - const: dout_hsi_usb20dwd

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-is

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_IS bus cwock (fwom CMU_TOP)
            - descwiption: Image Textuwe Pwocessing cowe cwock (fwom CMU_TOP)
            - descwiption: Visuaw Wecognition Accewewatow cwock (fwom CMU_TOP)
            - descwiption: Geometwic Distowtion Cowwection cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_is_bus
            - const: dout_is_itp
            - const: dout_is_vwa
            - const: dout_is_gdc

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-mfcmscw

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: Muwti-Fowmat Codec cwock (fwom CMU_TOP)
            - descwiption: Memowy to Memowy Scawew cwock (fwom CMU_TOP)
            - descwiption: Muwti-Channew Scawew cwock (fwom CMU_TOP)
            - descwiption: JPEG codec cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_mfcmscw_mfc
            - const: dout_mfcmscw_m2m
            - const: dout_mfcmscw_mcsc
            - const: dout_mfcmscw_jpeg

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos850-cmu-pewi

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_PEWI bus cwock (fwom CMU_TOP)
            - descwiption: UAWT cwock (fwom CMU_TOP)
            - descwiption: Pawent cwock fow HSI2C and SPI (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_pewi_bus
            - const: dout_pewi_uawt
            - const: dout_pewi_ip

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - cwocks
  - cwock-names
  - weg

additionawPwopewties: fawse

exampwes:
  # Cwock contwowwew node fow CMU_PEWI
  - |
    #incwude <dt-bindings/cwock/exynos850.h>

    cmu_pewi: cwock-contwowwew@10030000 {
        compatibwe = "samsung,exynos850-cmu-pewi";
        weg = <0x10030000 0x8000>;
        #cwock-cewws = <1>;

        cwocks = <&osccwk>, <&cmu_top CWK_DOUT_PEWI_BUS>,
                 <&cmu_top CWK_DOUT_PEWI_UAWT>,
                 <&cmu_top CWK_DOUT_PEWI_IP>;
        cwock-names = "osccwk", "dout_pewi_bus",
                      "dout_pewi_uawt", "dout_pewi_ip";
    };

...
