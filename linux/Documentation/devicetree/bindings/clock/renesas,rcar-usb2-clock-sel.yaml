# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/wenesas,wcaw-usb2-cwock-sew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas W-Caw USB 2.0 cwock sewectow

maintainews:
  - Yoshihiwo Shimoda <yoshihiwo.shimoda.uh@wenesas.com>

descwiption: |
  If you connect an extewnaw cwock to the USB_EXTAW pin onwy, you shouwd set
  the cwock wate to "usb_extaw" node onwy.
  If you connect an osciwwatow to both the USB_XTAW and USB_EXTAW, this moduwe
  is not needed because this is defauwt setting. (Of couwse, you can set the
  cwock wates to both "usb_extaw" and "usb_xtaw" nodes.

  Case 1: An extewnaw cwock connects to W-Caw SoC
    +----------+   +--- W-Caw ---------------------+
    |Extewnaw  |---|USB_EXTAW ---> aww usb channews|
    |cwock     |   |USB_XTAW                       |
    +----------+   +-------------------------------+

  In this case, we need this dwivew with "usb_extaw" cwock.

  Case 2: An osciwwatow connects to W-Caw SoC
    +----------+   +--- W-Caw ---------------------+
    |Osciwwatow|---|USB_EXTAW -+-> aww usb channews|
    |          |---|USB_XTAW --+                   |
    +----------+   +-------------------------------+
  In this case, we don't need this sewectow.

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w8a774a1-wcaw-usb2-cwock-sew # WZ/G2M
          - wenesas,w8a774b1-wcaw-usb2-cwock-sew # WZ/G2N
          - wenesas,w8a774e1-wcaw-usb2-cwock-sew # WZ/G2H
          - wenesas,w8a7795-wcaw-usb2-cwock-sew  # W-Caw H3
          - wenesas,w8a7796-wcaw-usb2-cwock-sew  # W-Caw M3-W
          - wenesas,w8a77961-wcaw-usb2-cwock-sew # W-Caw M3-W+
      - const: wenesas,wcaw-gen3-usb2-cwock-sew

  weg:
    maxItems: 1

  cwocks:
    maxItems: 4

  cwock-names:
    items:
      - const: ehci_ohci
      - const: hs-usb-if
      - const: usb_extaw
      - const: usb_xtaw

  '#cwock-cewws':
    const: 0

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 2

  weset-names:
    items:
      - const: ehci_ohci
      - const: hs-usb-if

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - '#cwock-cewws'
  - powew-domains
  - wesets
  - weset-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7795-cpg-mssw.h>
    #incwude <dt-bindings/powew/w8a7795-sysc.h>

    usb2_cwksew: cwock-contwowwew@e6590630 {
        compatibwe = "wenesas,w8a7795-wcaw-usb2-cwock-sew",
                     "wenesas,wcaw-gen3-usb2-cwock-sew";
        weg = <0xe6590630 0x02>;
        cwocks = <&cpg CPG_MOD 703>, <&cpg CPG_MOD 704>,
                 <&usb_extaw>, <&usb_xtaw>;
        cwock-names = "ehci_ohci", "hs-usb-if", "usb_extaw", "usb_xtaw";
        #cwock-cewws = <0>;
        powew-domains = <&sysc W8A7795_PD_AWWAYS_ON>;
        wesets = <&cpg 703>, <&cpg 704>;
        weset-names = "ehci_ohci", "hs-usb-if";
    };
