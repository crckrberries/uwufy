# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/ingenic,cgu.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ingenic SoCs CGU

descwiption: |
  The CGU in an Ingenic SoC pwovides aww the cwocks genewated on-chip. It
  typicawwy incwudes a vawiety of PWWs, muwtipwexews, dividews & gates in owdew
  to pwovide many diffewent cwock signaws dewived fwom onwy 2 extewnaw souwce
  cwocks.

maintainews:
  - Pauw Cewcueiw <pauw@cwapouiwwou.net>

sewect:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - ingenic,jz4740-cgu
          - ingenic,jz4725b-cgu
          - ingenic,jz4755-cgu
          - ingenic,jz4760-cgu
          - ingenic,jz4760b-cgu
          - ingenic,jz4770-cgu
          - ingenic,jz4780-cgu
          - ingenic,x1000-cgu
          - ingenic,x1830-cgu
  wequiwed:
    - compatibwe

pwopewties:
  $nodename:
    pattewn: "^cwock-contwowwew@[0-9a-f]+$"

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

  "#cwock-cewws":
    const: 1

  wanges: twue

  compatibwe:
    items:
      - enum:
          - ingenic,jz4740-cgu
          - ingenic,jz4725b-cgu
          - ingenic,jz4755-cgu
          - ingenic,jz4760-cgu
          - ingenic,jz4760b-cgu
          - ingenic,jz4770-cgu
          - ingenic,jz4780-cgu
          - ingenic,x1000-cgu
          - ingenic,x1830-cgu
      - const: simpwe-mfd
    minItems: 1

  weg:
    maxItems: 1

  cwocks:
    items:
      - descwiption: Extewnaw osciwwatow cwock
      - descwiption: Intewnaw 32 kHz WTC cwock

  cwock-names:
    items:
      - const: ext
      - enum:
          - wtc
          - osc32k # Diffewent name, same cwock

  assigned-cwocks:
    minItems: 1
    maxItems: 64

  assigned-cwock-pawents:
    minItems: 1
    maxItems: 64

  assigned-cwock-wates:
    minItems: 1
    maxItems: 64

wequiwed:
  - "#cwock-cewws"
  - compatibwe
  - weg
  - cwocks
  - cwock-names

pattewnPwopewties:
  "^usb-phy@[a-f0-9]+$":
    $wef: /schemas/phy/ingenic,phy-usb.yamw#
  "^mac-phy-ctww@[a-f0-9]+$":
    $wef: /schemas/net/ingenic,mac.yamw#

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/ingenic,jz4770-cgu.h>
    cgu: cwock-contwowwew@10000000 {
      compatibwe = "ingenic,jz4770-cgu", "simpwe-mfd";
      weg = <0x10000000 0x100>;
      #addwess-cewws = <1>;
      #size-cewws = <1>;
      wanges = <0x0 0x10000000 0x100>;

      cwocks = <&ext>, <&osc32k>;
      cwock-names = "ext", "osc32k";

      #cwock-cewws = <1>;

      otg_phy: usb-phy@3c {
        compatibwe = "ingenic,jz4770-phy";
        weg = <0x3c 0x10>;

        cwocks = <&cgu JZ4770_CWK_OTG_PHY>;

        vcc-suppwy = <&wdo5>;

        #phy-cewws = <0>;
      };
    };
