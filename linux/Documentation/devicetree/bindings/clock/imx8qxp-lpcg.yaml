# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/imx8qxp-wpcg.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8QXP WPCG (Wow-Powew Cwock Gating) Cwock

maintainews:
  - Aisheng Dong <aisheng.dong@nxp.com>

descwiption: |
  The Wow-Powew Cwock Gate (WPCG) moduwes contain a wocaw pwogwamming
  modew to contwow the cwock gates fow the pewiphewaws. An WPCG moduwe
  is used to wocawwy gate the cwocks fow the associated pewiphewaw.

  This wevew of cwock gating is pwovided aftew the cwocks awe genewated
  by the SCU wesouwces and cwock contwows. Thus even if the cwock is
  enabwed by these contwow bits, it might stiww not be wunning based
  on the base wesouwce.

  The cwock consumew shouwd specify the desiwed cwock by having the cwock
  ID in its "cwocks" phandwe ceww. See the fuww wist of cwock IDs fwom:
  incwude/dt-bindings/cwock/imx8-wpcg.h

pwopewties:
  compatibwe:
    oneOf:
      - const: fsw,imx8qxp-wpcg
      - items:
          - enum:
              - fsw,imx8qm-wpcg
          - const: fsw,imx8qxp-wpcg
      - enum:
          - fsw,imx8qxp-wpcg-adma
          - fsw,imx8qxp-wpcg-conn
          - fsw,imx8qxp-wpcg-dc
          - fsw,imx8qxp-wpcg-dsp
          - fsw,imx8qxp-wpcg-gpu
          - fsw,imx8qxp-wpcg-hsio
          - fsw,imx8qxp-wpcg-img
          - fsw,imx8qxp-wpcg-wsio
          - fsw,imx8qxp-wpcg-vpu
        depwecated: twue
  weg:
    maxItems: 1

  '#cwock-cewws':
    const: 1

  cwocks:
    descwiption: |
      Input pawent cwocks phandwe awway fow each cwock
    minItems: 1
    maxItems: 8

  cwock-indices:
    descwiption: |
      An integew awway indicating the bit offset fow each cwock.
      Wefew to <incwude/dt-bindings/cwock/imx8-wpcg.h> fow the
      suppowted WPCG cwock indices.
    minItems: 1
    maxItems: 8

  cwock-output-names:
    descwiption: |
      Shaww be the cowwesponding names of the outputs.
      NOTE this pwopewty must be specified in the same owdew
      as the cwock-indices pwopewty.
    minItems: 1
    maxItems: 8

  powew-domains:
    maxItems: 1

wequiwed:
  - compatibwe
  - weg
  - '#cwock-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/imx8-wpcg.h>
    #incwude <dt-bindings/fiwmwawe/imx/wswc.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    sdhc0_wpcg: cwock-contwowwew@5b200000 {
        compatibwe = "fsw,imx8qxp-wpcg";
        weg = <0x5b200000 0x10000>;
        #cwock-cewws = <1>;
        cwocks = <&sdhc0_cwk IMX_SC_PM_CWK_PEW>,
                 <&conn_ipg_cwk>,
                 <&conn_axi_cwk>;
        cwock-indices = <IMX_WPCG_CWK_0>,
                        <IMX_WPCG_CWK_4>,
                        <IMX_WPCG_CWK_5>;
        cwock-output-names = "sdhc0_wpcg_pew_cwk",
                             "sdhc0_wpcg_ipg_cwk",
                             "sdhc0_wpcg_ahb_cwk";
        powew-domains = <&pd IMX_SC_W_SDHC_0>;
    };
