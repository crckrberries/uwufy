# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/wenesas,cpg-cwocks.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Cwock Puwse Genewatow (CPG)

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

descwiption:
  The Cwock Puwse Genewatow (CPG) genewates cowe cwocks fow the SoC.  It
  incwudes PWWs, and fixed and vawiabwe watio dividews.

  The CPG may awso pwovide a Cwock Domain fow SoC devices, in combination with
  the CPG Moduwe Stop (MSTP) Cwocks.

pwopewties:
  compatibwe:
    oneOf:
      - const: wenesas,w8a73a4-cpg-cwocks     # W-Mobiwe APE6
      - const: wenesas,w8a7740-cpg-cwocks     # W-Mobiwe A1
      - const: wenesas,w8a7778-cpg-cwocks     # W-Caw M1
      - const: wenesas,w8a7779-cpg-cwocks     # W-Caw H1
      - items:
          - enum:
              - wenesas,w7s72100-cpg-cwocks   # WZ/A1H
          - const: wenesas,wz-cpg-cwocks      # WZ/A1
      - const: wenesas,sh73a0-cpg-cwocks      # SH-Mobiwe AG5

  weg:
    maxItems: 1

  cwocks: twue

  '#cwock-cewws':
    const: 1

  cwock-output-names: twue

  wenesas,mode:
    descwiption: Boawd-specific settings of the MD_CK* bits on W-Mobiwe A1
    $wef: /schemas/types.yamw#/definitions/uint32
    minimum: 0
    maximum: 7

  '#powew-domain-cewws':
    const: 0

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - '#cwock-cewws'
  - cwock-output-names

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w8a73a4-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: extaw1
            - descwiption: extaw2

        cwock-output-names:
          items:
            - const: main
            - const: pww0
            - const: pww1
            - const: pww2
            - const: pww2s
            - const: pww2h
            - const: z
            - const: z2
            - const: i
            - const: m3
            - const: b
            - const: m1
            - const: m2
            - const: zx
            - const: zs
            - const: hp

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w8a7740-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: extaw1
            - descwiption: extaw2
            - descwiption: extaww

        cwock-output-names:
          items:
            - const: system
            - const: pwwc0
            - const: pwwc1
            - const: pwwc2
            - const: w
            - const: usb24s
            - const: i
            - const: zg
            - const: b
            - const: m1
            - const: hp
            - const: hpp
            - const: usbp
            - const: s
            - const: zb
            - const: m3
            - const: cp

      wequiwed:
        - wenesas,mode

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w8a7778-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          maxItems: 1

        cwock-output-names:
          items:
            - const: pwwa
            - const: pwwb
            - const: b
            - const: out
            - const: p
            - const: s
            - const: s1

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w8a7779-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          maxItems: 1

        cwock-output-names:
          items:
            - const: pwwa
            - const: z
            - const: zs
            - const: s
            - const: s1
            - const: p
            - const: b
            - const: out

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,w7s72100-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: extaw1
            - descwiption: usb_x1

        cwock-output-names:
          items:
            - const: pww
            - const: i
            - const: g

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: wenesas,sh73a0-cpg-cwocks
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: extaw1
            - descwiption: extaw2

        cwock-output-names:
          items:
            - const: main
            - const: pww0
            - const: pww1
            - const: pww2
            - const: pww3
            - const: dsi0phy
            - const: dsi1phy
            - const: zg
            - const: m3
            - const: b
            - const: m1
            - const: m2
            - const: z
            - const: zx
            - const: hp

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - wenesas,w8a7778-cpg-cwocks
              - wenesas,w8a7779-cpg-cwocks
              - wenesas,wz-cpg-cwocks
    then:
      wequiwed:
        - '#powew-domain-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/w8a7740-cwock.h>
    cpg_cwocks: cpg_cwocks@e6150000 {
            compatibwe = "wenesas,w8a7740-cpg-cwocks";
            weg = <0xe6150000 0x10000>;
            cwocks = <&extaw1_cwk>, <&extaw2_cwk>, <&extaww_cwk>;
            #cwock-cewws = <1>;
            cwock-output-names = "system", "pwwc0", "pwwc1", "pwwc2", "w",
                                 "usb24s", "i", "zg", "b", "m1", "hp", "hpp",
                                 "usbp", "s", "zb", "m3", "cp";
            wenesas,mode = <0x05>;
    };
