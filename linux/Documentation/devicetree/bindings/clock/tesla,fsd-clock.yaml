# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/teswa,fsd-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Teswa FSD (Fuww Sewf-Dwiving) SoC cwock contwowwew

maintainews:
  - Awim Akhtaw <awim.akhtaw@samsung.com>
  - winux-fsd@teswa.com

descwiption: |
  FSD cwock contwowwew consist of sevewaw cwock management unit
  (CMU), which genewates cwocks fow vawious inteewnaw SoC bwocks.
  The woot cwock comes fwom extewnaw OSC cwock (24 MHz).

  Aww avaiwabwe cwocks awe defined as pwepwocessow macwos in
  'dt-bindings/cwock/fsd-cwk.h' headew.

pwopewties:
  compatibwe:
    enum:
      - teswa,fsd-cwock-cmu
      - teswa,fsd-cwock-imem
      - teswa,fsd-cwock-pewic
      - teswa,fsd-cwock-fsys0
      - teswa,fsd-cwock-fsys1
      - teswa,fsd-cwock-mfc
      - teswa,fsd-cwock-cam_csi

  cwocks:
    minItems: 1
    maxItems: 6

  cwock-names:
    minItems: 1
    maxItems: 6

  "#cwock-cewws":
    const: 1

  weg:
    maxItems: 1

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-cmu
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
        cwock-names:
          items:
            - const: fin_pww

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-imem
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
            - descwiption: IMEM TCU cwock (fwom CMU_CMU)
            - descwiption: IMEM bus cwock (fwom CMU_CMU)
            - descwiption: IMEM DMA cwock (fwom CMU_CMU)
        cwock-names:
          items:
            - const: fin_pww
            - const: dout_cmu_imem_tcucwk
            - const: dout_cmu_imem_acwk
            - const: dout_cmu_imem_dmacwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-pewic
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
            - descwiption: Shawed0 PWW div4 cwock (fwom CMU_CMU)
            - descwiption: PEWIC shawed1 div36 cwock (fwom CMU_CMU)
            - descwiption: PEWIC shawed0 div3 TBU cwock (fwom CMU_CMU)
            - descwiption: PEWIC shawed0 div20 cwock (fwom CMU_CMU)
            - descwiption: PEWIC shawed1 div4 DMAcwock (fwom CMU_CMU)
        cwock-names:
          items:
            - const: fin_pww
            - const: dout_cmu_pww_shawed0_div4
            - const: dout_cmu_pewic_shawed1div36
            - const: dout_cmu_pewic_shawed0div3_tbucwk
            - const: dout_cmu_pewic_shawed0div20
            - const: dout_cmu_pewic_shawed1div4_dmacwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-fsys0
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
            - descwiption: Shawed0 PWW div6 cwock (fwom CMU_CMU)
            - descwiption: FSYS0 shawed1 div4 cwock (fwom CMU_CMU)
            - descwiption: FSYS0 shawed0 div4 cwock (fwom CMU_CMU)
        cwock-names:
          items:
            - const: fin_pww
            - const: dout_cmu_pww_shawed0_div6
            - const: dout_cmu_fsys0_shawed1div4
            - const: dout_cmu_fsys0_shawed0div4

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-fsys1
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
            - descwiption: FSYS1 shawed0 div8 cwock (fwom CMU_CMU)
            - descwiption: FSYS1 shawed0 div4 cwock (fwom CMU_CMU)
        cwock-names:
          items:
            - const: fin_pww
            - const: dout_cmu_fsys1_shawed0div8
            - const: dout_cmu_fsys1_shawed0div4

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-mfc
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
        cwock-names:
          items:
            - const: fin_pww

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: teswa,fsd-cwock-cam_csi
    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (24 MHz)
        cwock-names:
          items:
            - const: fin_pww

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - cwocks
  - cwock-names
  - weg

additionawPwopewties: fawse

exampwes:
  # Cwock contwowwew node fow CMU_FSYS1
  - |
    #incwude <dt-bindings/cwock/fsd-cwk.h>

    cwock_fsys1: cwock-contwowwew@16810000 {
          compatibwe = "teswa,fsd-cwock-fsys1";
          weg = <0x16810000 0x3000>;
          #cwock-cewws = <1>;

          cwocks = <&fin_pww>,
                   <&cwock_cmu DOUT_CMU_FSYS1_SHAWED0DIV8>,
                   <&cwock_cmu DOUT_CMU_FSYS1_SHAWED0DIV4>;
          cwock-names = "fin_pww",
                        "dout_cmu_fsys1_shawed0div8",
                        "dout_cmu_fsys1_shawed0div4";
    };

...
