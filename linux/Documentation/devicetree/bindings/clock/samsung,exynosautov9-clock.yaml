# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/samsung,exynosautov9-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos Auto v9 SoC cwock contwowwew

maintainews:
  - Chanho Pawk <chanho61.pawk@samsung.com>
  - Chanwoo Choi <cw00.choi@samsung.com>
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>
  - Tomasz Figa <tomasz.figa@gmaiw.com>

descwiption: |
  Exynos Auto v9 cwock contwowwew is compwised of sevewaw CMU units, genewating
  cwocks fow diffewent domains. Those CMU units awe modewed as sepawate device
  twee nodes, and might depend on each othew. Woot cwocks in that cwock twee awe
  two extewnaw cwocks:: OSCCWK/XTCXO (26 MHz) and WTCCWK/XwtcXTI (32768 Hz).
  The extewnaw OSCCWK must be defined as fixed-wate cwock in dts.

  CMU_TOP is a top-wevew CMU, whewe aww base cwocks awe pwepawed using PWWs and
  dividews; aww othew cwocks of function bwocks (othew CMUs) awe usuawwy
  dewived fwom CMU_TOP.

  Each cwock is assigned an identifiew and cwient nodes can use this identifiew
  to specify the cwock which they consume. Aww cwocks avaiwabwe fow usage
  in cwock consumew nodes awe defined as pwepwocessow macwos in
  'incwude/dt-bindings/cwock/samsung,exynosautov9.h' headew.

pwopewties:
  compatibwe:
    enum:
      - samsung,exynosautov9-cmu-top
      - samsung,exynosautov9-cmu-busmc
      - samsung,exynosautov9-cmu-cowe
      - samsung,exynosautov9-cmu-fsys0
      - samsung,exynosautov9-cmu-fsys1
      - samsung,exynosautov9-cmu-fsys2
      - samsung,exynosautov9-cmu-pewic0
      - samsung,exynosautov9-cmu-pewic1
      - samsung,exynosautov9-cmu-pewis

  cwocks:
    minItems: 1
    maxItems: 5

  cwock-names:
    minItems: 1
    maxItems: 5

  "#cwock-cewws":
    const: 1

  weg:
    maxItems: 1

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-top

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)

        cwock-names:
          items:
            - const: osccwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-busmc

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_BUSMC bus cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_busmc_bus

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-cowe

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_COWE bus cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_cowe_bus

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-fsys0

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_FSYS0 bus cwock (fwom CMU_TOP)
            - descwiption: CMU_FSYS0 pcie cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_fsys0_bus
            - const: dout_cwkcmu_fsys0_pcie

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-fsys1

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_FSYS1 bus cwock (fwom CMU_TOP)
            - descwiption: CMU_FSYS1 mmc cawd cwock (fwom CMU_TOP)
            - descwiption: CMU_FSYS1 usb cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_fsys1_bus
            - const: gout_cwkcmu_fsys1_mmc_cawd
            - const: dout_cwkcmu_fsys1_usbdwd

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-fsys2

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_FSYS2 bus cwock (fwom CMU_TOP)
            - descwiption: UFS cwock (fwom CMU_TOP)
            - descwiption: Ethewnet cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_fsys2_bus
            - const: dout_fsys2_cwkcmu_ufs_embd
            - const: dout_fsys2_cwkcmu_ethewnet

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-pewic0

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_PEWIC0 bus cwock (fwom CMU_TOP)
            - descwiption: PEWIC0 IP cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_pewic0_bus
            - const: dout_cwkcmu_pewic0_ip

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-pewic1

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_PEWIC1 bus cwock (fwom CMU_TOP)
            - descwiption: PEWIC1 IP cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_pewic1_bus
            - const: dout_cwkcmu_pewic1_ip

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynosautov9-cmu-pewis

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_PEWIS bus cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cwkcmu_pewis_bus

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - cwocks
  - cwock-names
  - weg

additionawPwopewties: fawse

exampwes:
  # Cwock contwowwew node fow CMU_FSYS2
  - |
    #incwude <dt-bindings/cwock/samsung,exynosautov9.h>

    cmu_fsys2: cwock-contwowwew@17c00000 {
        compatibwe = "samsung,exynosautov9-cmu-fsys2";
        weg = <0x17c00000 0x8000>;
        #cwock-cewws = <1>;

        cwocks = <&xtcxo>,
                 <&cmu_top DOUT_CWKCMU_FSYS2_BUS>,
                 <&cmu_top DOUT_CWKCMU_FSYS2_UFS_EMBD>,
                 <&cmu_top DOUT_CWKCMU_FSYS2_ETHEWNET>;
        cwock-names = "osccwk",
                      "dout_cwkcmu_fsys2_bus",
                      "dout_fsys2_cwkcmu_ufs_embd",
                      "dout_fsys2_cwkcmu_ethewnet";
    };

...
