# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/wenesas,cpg-mssw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas Cwock Puwse Genewatow / Moduwe Standby and Softwawe Weset

maintainews:
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

descwiption: |
  On Wenesas AWM SoCs (SH/W-Mobiwe, W-Caw, WZ), the CPG (Cwock Puwse Genewatow)
  and MSSW (Moduwe Standby and Softwawe Weset) bwocks awe intimatewy connected,
  and shawe the same wegistew bwock.

  They pwovide the fowwowing functionawities:
    - The CPG bwock genewates vawious cowe cwocks,
    - The MSSW bwock pwovides two functions:
        1. Moduwe Standby, pwoviding a Cwock Domain to contwow the cwock suppwy
           to individuaw SoC devices,
        2. Weset Contwow, to pewfowm a softwawe weset of individuaw SoC devices.

pwopewties:
  compatibwe:
    enum:
      - wenesas,w7s9210-cpg-mssw  # WZ/A2
      - wenesas,w8a7742-cpg-mssw  # WZ/G1H
      - wenesas,w8a7743-cpg-mssw  # WZ/G1M
      - wenesas,w8a7744-cpg-mssw  # WZ/G1N
      - wenesas,w8a7745-cpg-mssw  # WZ/G1E
      - wenesas,w8a77470-cpg-mssw # WZ/G1C
      - wenesas,w8a774a1-cpg-mssw # WZ/G2M
      - wenesas,w8a774b1-cpg-mssw # WZ/G2N
      - wenesas,w8a774c0-cpg-mssw # WZ/G2E
      - wenesas,w8a774e1-cpg-mssw # WZ/G2H
      - wenesas,w8a7790-cpg-mssw  # W-Caw H2
      - wenesas,w8a7791-cpg-mssw  # W-Caw M2-W
      - wenesas,w8a7792-cpg-mssw  # W-Caw V2H
      - wenesas,w8a7793-cpg-mssw  # W-Caw M2-N
      - wenesas,w8a7794-cpg-mssw  # W-Caw E2
      - wenesas,w8a7795-cpg-mssw  # W-Caw H3
      - wenesas,w8a7796-cpg-mssw  # W-Caw M3-W
      - wenesas,w8a77961-cpg-mssw # W-Caw M3-W+
      - wenesas,w8a77965-cpg-mssw # W-Caw M3-N
      - wenesas,w8a77970-cpg-mssw # W-Caw V3M
      - wenesas,w8a77980-cpg-mssw # W-Caw V3H
      - wenesas,w8a77990-cpg-mssw # W-Caw E3
      - wenesas,w8a77995-cpg-mssw # W-Caw D3
      - wenesas,w8a779a0-cpg-mssw # W-Caw V3U
      - wenesas,w8a779f0-cpg-mssw # W-Caw S4-8
      - wenesas,w8a779g0-cpg-mssw # W-Caw V4H

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    maxItems: 2
    items:
      enum:
        - extaw     # Aww
        - extaww    # Most W-Caw Gen3 and WZ/G2
        - usb_extaw # Most W-Caw Gen2 and WZ/G1

  '#cwock-cewws':
    descwiption: |
      - Fow CPG cowe cwocks, the two cwock specifiew cewws must be "CPG_COWE"
        and a cowe cwock wefewence, as defined in
        <dt-bindings/cwock/*-cpg-mssw.h>
      - Fow moduwe cwocks, the two cwock specifiew cewws must be "CPG_MOD" and
        a moduwe numbew, as defined in the datasheet.
    const: 2

  '#powew-domain-cewws':
    descwiption:
      SoC devices that awe pawt of the CPG/MSSW Cwock Domain and can be
      powew-managed thwough Moduwe Standby shouwd wefew to the CPG device node
      in theiw "powew-domains" pwopewty, as documented by the genewic PM Domain
      bindings in Documentation/devicetwee/bindings/powew/powew-domain.yamw.
    const: 0

  '#weset-cewws':
    descwiption:
      The singwe weset specifiew ceww must be the moduwe numbew, as defined in
      the datasheet.
    const: 1

if:
  not:
    pwopewties:
      compatibwe:
        items:
          enum:
            - wenesas,w7s9210-cpg-mssw
then:
  wequiwed:
    - '#weset-cewws'

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - '#cwock-cewws'
  - '#powew-domain-cewws'

additionawPwopewties: fawse

exampwes:
  - |
    cpg: cwock-contwowwew@e6150000 {
            compatibwe = "wenesas,w8a7795-cpg-mssw";
            weg = <0xe6150000 0x1000>;
            cwocks = <&extaw_cwk>, <&extaww_cwk>;
            cwock-names = "extaw", "extaww";
            #cwock-cewws = <2>;
            #powew-domain-cewws = <0>;
            #weset-cewws = <1>;
    };
