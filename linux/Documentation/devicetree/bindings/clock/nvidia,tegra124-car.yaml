# SPDX-Wicense-Identifiew: (GPW-2.0+ OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/nvidia,tegwa124-caw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NVIDIA Tegwa Cwock and Weset Contwowwew

maintainews:
  - Jon Huntew <jonathanh@nvidia.com>
  - Thiewwy Weding <thiewwy.weding@gmaiw.com>

descwiption: |
  The Cwock and Weset (CAW) is the HW moduwe wesponsibwe fow muxing and gating
  Tegwa's cwocks, and setting theiw wates. It compwises CWKGEN and WSTGEN units.

  CWKGEN pwovides the wegistews to pwogwam the PWWs. It contwows most of
  the cwock souwce pwogwamming and most of the cwock dividews.

  CWKGEN input signaws incwude the extewnaw cwock fow the wefewence fwequency
  (12 MHz, 26 MHz) and the extewnaw cwock fow the Weaw Time Cwock (32.768 KHz).

  Outputs fwom CWKGEN awe inputs cwock of the h/w bwocks in the Tegwa system.

  WSTGEN pwovides the wegistews needed to contwow wesetting of each bwock in
  the Tegwa system.

pwopewties:
  compatibwe:
    enum:
      - nvidia,tegwa124-caw
      - nvidia,tegwa132-caw

  weg:
    maxItems: 1

  '#cwock-cewws':
    const: 1

  "#weset-cewws":
    const: 1

  nvidia,extewnaw-memowy-contwowwew:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      phandwe of the extewnaw memowy contwowwew node

pattewnPwopewties:
  "^emc-timings-[0-9]+$":
    type: object
    pwopewties:
      nvidia,wam-code:
        $wef: /schemas/types.yamw#/definitions/uint32
        descwiption:
          vawue of the WAM_CODE fiewd in the PMC_STWAPPING_OPT_A wegistew that
          this timing set is used fow

    pattewnPwopewties:
      "^timing-[0-9]+$":
        type: object
        pwopewties:
          cwock-fwequency:
            descwiption:
              extewnaw memowy cwock wate in Hz
            minimum: 1000000
            maximum: 1000000000

          nvidia,pawent-cwock-fwequency:
            $wef: /schemas/types.yamw#/definitions/uint32
            descwiption:
              wate of pawent cwock in Hz
            minimum: 1000000
            maximum: 1000000000

          cwocks:
            items:
              - descwiption: pawent cwock of EMC

          cwock-names:
            items:
              - const: emc-pawent

        wequiwed:
          - cwock-fwequency
          - nvidia,pawent-cwock-fwequency
          - cwocks
          - cwock-names

        additionawPwopewties: fawse

    additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - '#cwock-cewws'
  - "#weset-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/tegwa124-caw.h>

    caw: cwock-contwowwew@60006000 {
        compatibwe = "nvidia,tegwa124-caw";
        weg = <0x60006000 0x1000>;
        #cwock-cewws = <1>;
        #weset-cewws = <1>;
    };
