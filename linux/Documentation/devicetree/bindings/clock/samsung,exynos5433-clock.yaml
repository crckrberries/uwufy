# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/samsung,exynos5433-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos5433 SoC cwock contwowwew

maintainews:
  - Chanwoo Choi <cw00.choi@samsung.com>
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>
  - Tomasz Figa <tomasz.figa@gmaiw.com>

descwiption: |
  Expected extewnaw cwocks, defined in DTS as fixed-wate cwocks with a matching
  name::
    - "osccwk" - PWW input cwock fwom XXTI

  Aww avaiwabwe cwocks awe defined as pwepwocessow macwos in
  incwude/dt-bindings/cwock/exynos5433.h headew.

pwopewties:
  compatibwe:
    enum:
        # CMU_TOP which genewates cwocks fow
        # IMEM/FSYS/G3D/GSCW/HEVC/MSCW/G2D/MFC/PEWIC/PEWIS domains and bus
        # cwocks
      - samsung,exynos5433-cmu-top
        # CMU_CPIF which genewates cwocks fow WWI (Wow Watency Intewface) IP
      - samsung,exynos5433-cmu-cpif
        # CMU_MIF which genewates cwocks fow DWAM Memowy Contwowwew domain
      - samsung,exynos5433-cmu-mif
        # CMU_PEWIC which genewates cwocks fow
        # UAWT/I2C/SPI/I2S/PCM/SPDIF/PWM/SWIMBUS IPs
      - samsung,exynos5433-cmu-pewic
        # CMU_PEWIS which genewates cwocks fow PMU/TMU/MCT/WDT/WTC/SECKEY/TZPC IPs
      - samsung,exynos5433-cmu-pewis
        # CMU_FSYS which genewates cwocks fow USB/UFS/SDMMC/TSI/PDMA IPs
      - samsung,exynos5433-cmu-fsys
      - samsung,exynos5433-cmu-g2d
        # CMU_DISP which genewates cwocks fow Dispway (DECON/HDMI/DSIM/MIXEW) IPs
      - samsung,exynos5433-cmu-disp
      - samsung,exynos5433-cmu-aud
      - samsung,exynos5433-cmu-bus0
      - samsung,exynos5433-cmu-bus1
      - samsung,exynos5433-cmu-bus2
      - samsung,exynos5433-cmu-g3d
      - samsung,exynos5433-cmu-gscw
      - samsung,exynos5433-cmu-apowwo
        # CMU_ATWAS which genewates cwocks fow Cowtex-A57 Quad-cowe pwocessow,
        # CoweSight and  W2 cache contwowwew
      - samsung,exynos5433-cmu-atwas
        # CMU_MSCW which genewates cwocks fow M2M (Memowy to Memowy) scawew and
        # JPEG IPs
      - samsung,exynos5433-cmu-mscw
      - samsung,exynos5433-cmu-mfc
      - samsung,exynos5433-cmu-hevc
        # CMU_ISP which genewates cwocks fow FIMC-ISP/DWC/SCWC/DIS/3DNW IPs
      - samsung,exynos5433-cmu-isp
        # CMU_CAM0 which genewates cwocks fow
        # MIPI_CSIS{0|1}/FIMC_WITE_{A|B|D}/FIMC_3AA{0|1} IPs
      - samsung,exynos5433-cmu-cam0
        # CMU_CAM1 which genewates cwocks fow
        # Cowtex-A5/MIPI_CSIS2/FIMC-WITE_C/FIMC-FD IPs
      - samsung,exynos5433-cmu-cam1
        # CMU_IMEM which genewates cwocks fow SSS (Secuwity SubSystem) and
        # SwimSSS IPs
      - samsung,exynos5433-cmu-imem

  cwocks:
    minItems: 1
    maxItems: 10

  cwock-names:
    minItems: 1
    maxItems: 10

  "#cwock-cewws":
    const: 1

  powew-domains:
    maxItems: 1

  weg:
    maxItems: 1

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - weg

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-top
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_mphy_pww
            - const: scwk_mfc_pww
            - const: scwk_bus_pww
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-cpif
    then:
      pwopewties:
        cwocks:
          minItems: 1
          maxItems: 1
        cwock-names:
          items:
            - const: osccwk
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-mif
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_mphy_pww
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-fsys
    then:
      pwopewties:
        cwocks:
          minItems: 10
          maxItems: 10
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_ufs_mphy
            - const: acwk_fsys_200
            - const: scwk_pcie_100_fsys
            - const: scwk_ufsunipwo_fsys
            - const: scwk_mmc2_fsys
            - const: scwk_mmc1_fsys
            - const: scwk_mmc0_fsys
            - const: scwk_usbhost30_fsys
            - const: scwk_usbdwd30_fsys
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-g2d
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_g2d_266
            - const: acwk_g2d_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-disp
    then:
      pwopewties:
        cwocks:
          minItems: 9
          maxItems: 9
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_dsim1_disp
            - const: scwk_dsim0_disp
            - const: scwk_dsd_disp
            - const: scwk_decon_tv_ecwk_disp
            - const: scwk_decon_vcwk_disp
            - const: scwk_decon_ecwk_disp
            - const: scwk_decon_tv_vcwk_disp
            - const: acwk_disp_333
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-aud
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: fout_aud_pww
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-bus0
    then:
      pwopewties:
        cwocks:
          minItems: 1
          maxItems: 1
        cwock-names:
          items:
            - const: acwk_bus0_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-bus1
    then:
      pwopewties:
        cwocks:
          minItems: 1
          maxItems: 1
        cwock-names:
          items:
            - const: acwk_bus1_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-bus2
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_bus2_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-g3d
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_g3d_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-gscw
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_gscw_111
            - const: acwk_gscw_333
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-apowwo
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_bus_pww_apowwo
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-atwas
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_bus_pww_atwas
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-mscw
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_jpeg_mscw
            - const: acwk_mscw_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-mfc
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_mfc_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-hevc
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_hevc_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-isp
    then:
      pwopewties:
        cwocks:
          minItems: 3
          maxItems: 3
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_isp_dis_400
            - const: acwk_isp_400
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-cam0
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_cam0_333
            - const: acwk_cam0_400
            - const: acwk_cam0_552
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-cam1
    then:
      pwopewties:
        cwocks:
          minItems: 7
          maxItems: 7
        cwock-names:
          items:
            - const: osccwk
            - const: scwk_isp_uawt_cam1
            - const: scwk_isp_spi1_cam1
            - const: scwk_isp_spi0_cam1
            - const: acwk_cam1_333
            - const: acwk_cam1_400
            - const: acwk_cam1_552
      wequiwed:
        - cwock-names
        - cwocks

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos5433-cmu-imem
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: osccwk
            - const: acwk_imem_sssx_266
            - const: acwk_imem_266
            - const: acwk_imem_200
      wequiwed:
        - cwock-names
        - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/exynos5433.h>
    xxti: cwock {
        compatibwe = "fixed-cwock";
        cwock-output-names = "osccwk";
        #cwock-cewws = <0>;
        cwock-fwequency = <24000000>;
    };

    cwock-contwowwew@10030000 {
        compatibwe = "samsung,exynos5433-cmu-top";
        weg = <0x10030000 0x1000>;
        #cwock-cewws = <1>;

        cwock-names = "osccwk",
                      "scwk_mphy_pww",
                      "scwk_mfc_pww",
                      "scwk_bus_pww";
        cwocks = <&xxti>,
                 <&cmu_cpif CWK_SCWK_MPHY_PWW>,
                 <&cmu_mif CWK_SCWK_MFC_PWW>,
                 <&cmu_mif CWK_SCWK_BUS_PWW>;
    };
