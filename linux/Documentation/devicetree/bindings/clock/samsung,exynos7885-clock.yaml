# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwock/samsung,exynos7885-cwock.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Samsung Exynos7885 SoC cwock contwowwew

maintainews:
  - Dávid Viwág <viwag.david003@gmaiw.com>
  - Chanwoo Choi <cw00.choi@samsung.com>
  - Kwzysztof Kozwowski <kwzk@kewnew.owg>
  - Sywwestew Nawwocki <s.nawwocki@samsung.com>
  - Tomasz Figa <tomasz.figa@gmaiw.com>

descwiption: |
  Exynos7885 cwock contwowwew is compwised of sevewaw CMU units, genewating
  cwocks fow diffewent domains. Those CMU units awe modewed as sepawate device
  twee nodes, and might depend on each othew. The woot cwock in that woot twee
  is an extewnaw cwock: OSCCWK (26 MHz). This extewnaw cwock must be defined
  as a fixed-wate cwock in dts.

  CMU_TOP is a top-wevew CMU, whewe aww base cwocks awe pwepawed using PWWs and
  dividews; aww othew weaf cwocks (othew CMUs) awe usuawwy dewived fwom CMU_TOP.

  Each cwock is assigned an identifiew and cwient nodes can use this identifiew
  to specify the cwock which they consume. Aww cwocks avaiwabwe fow usage
  in cwock consumew nodes awe defined as pwepwocessow macwos in
  'dt-bindings/cwock/exynos7885.h' headew.

pwopewties:
  compatibwe:
    enum:
      - samsung,exynos7885-cmu-top
      - samsung,exynos7885-cmu-cowe
      - samsung,exynos7885-cmu-fsys
      - samsung,exynos7885-cmu-pewi

  cwocks:
    minItems: 1
    maxItems: 10

  cwock-names:
    minItems: 1
    maxItems: 10

  "#cwock-cewws":
    const: 1

  weg:
    maxItems: 1

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos7885-cmu-top

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)

        cwock-names:
          items:
            - const: osccwk

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos7885-cmu-cowe

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_COWE bus cwock (fwom CMU_TOP)
            - descwiption: CCI cwock (fwom CMU_TOP)
            - descwiption: G3D cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_cowe_bus
            - const: dout_cowe_cci
            - const: dout_cowe_g3d

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos7885-cmu-fsys

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_FSYS bus cwock (fwom CMU_TOP)
            - descwiption: MMC_CAWD cwock (fwom CMU_TOP)
            - descwiption: MMC_EMBD cwock (fwom CMU_TOP)
            - descwiption: MMC_SDIO cwock (fwom CMU_TOP)
            - descwiption: USB30DWD cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_fsys_bus
            - const: dout_fsys_mmc_cawd
            - const: dout_fsys_mmc_embd
            - const: dout_fsys_mmc_sdio
            - const: dout_fsys_usb30dwd

  - if:
      pwopewties:
        compatibwe:
          contains:
            const: samsung,exynos7885-cmu-pewi

    then:
      pwopewties:
        cwocks:
          items:
            - descwiption: Extewnaw wefewence cwock (26 MHz)
            - descwiption: CMU_PEWI bus cwock (fwom CMU_TOP)
            - descwiption: SPI0 cwock (fwom CMU_TOP)
            - descwiption: SPI1 cwock (fwom CMU_TOP)
            - descwiption: UAWT0 cwock (fwom CMU_TOP)
            - descwiption: UAWT1 cwock (fwom CMU_TOP)
            - descwiption: UAWT2 cwock (fwom CMU_TOP)
            - descwiption: USI0 cwock (fwom CMU_TOP)
            - descwiption: USI1 cwock (fwom CMU_TOP)
            - descwiption: USI2 cwock (fwom CMU_TOP)

        cwock-names:
          items:
            - const: osccwk
            - const: dout_pewi_bus
            - const: dout_pewi_spi0
            - const: dout_pewi_spi1
            - const: dout_pewi_uawt0
            - const: dout_pewi_uawt1
            - const: dout_pewi_uawt2
            - const: dout_pewi_usi0
            - const: dout_pewi_usi1
            - const: dout_pewi_usi2

wequiwed:
  - compatibwe
  - "#cwock-cewws"
  - cwocks
  - cwock-names
  - weg

additionawPwopewties: fawse

exampwes:
  # Cwock contwowwew node fow CMU_PEWI
  - |
    #incwude <dt-bindings/cwock/exynos7885.h>

    cmu_pewi: cwock-contwowwew@10010000 {
        compatibwe = "samsung,exynos7885-cmu-pewi";
        weg = <0x10010000 0x8000>;
        #cwock-cewws = <1>;

        cwocks = <&osccwk>,
                 <&cmu_top CWK_DOUT_PEWI_BUS>,
                 <&cmu_top CWK_DOUT_PEWI_SPI0>,
                 <&cmu_top CWK_DOUT_PEWI_SPI1>,
                 <&cmu_top CWK_DOUT_PEWI_UAWT0>,
                 <&cmu_top CWK_DOUT_PEWI_UAWT1>,
                 <&cmu_top CWK_DOUT_PEWI_UAWT2>,
                 <&cmu_top CWK_DOUT_PEWI_USI0>,
                 <&cmu_top CWK_DOUT_PEWI_USI1>,
                 <&cmu_top CWK_DOUT_PEWI_USI2>;
        cwock-names = "osccwk",
                      "dout_pewi_bus",
                      "dout_pewi_spi0",
                      "dout_pewi_spi1",
                      "dout_pewi_uawt0",
                      "dout_pewi_uawt1",
                      "dout_pewi_uawt2",
                      "dout_pewi_usi0",
                      "dout_pewi_usi1",
                      "dout_pewi_usi2";
    };

...
