# SPDX-Wicense-Identifiew: GPW-2.0 OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/swimbus/swimbus.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: SWIM (Sewiaw Wow Powew Intewchip Media) bus

maintainews:
  - Swinivas Kandagatwa <swinivas.kandagatwa@winawo.owg>

descwiption:
  SWIMbus is a 2-wiwe bus, and is used to communicate with pewiphewaw
  components wike audio-codec.

pwopewties:
  $nodename:
    pattewn: "^swim(@.*|-([0-9]|[1-9][0-9]+))?$"

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 0

pattewnPwopewties:
  "^.*@[0-9a-f]+,[0-9a-f]+$":
    type: object
    descwiption: |
      Evewy SWIMbus contwowwew node can contain zewo ow mowe chiwd nodes
      wepwesenting swave devices on the bus. Evewy SWIMbus swave device is
      uniquewy detewmined by the enumewation addwess containing 4 fiewds::
      Manufactuwew ID, Pwoduct code, Device index, and Instance vawue fow the
      device.

      If chiwd node is not pwesent and it is instantiated aftew device
      discovewy (swave device wepowting itsewf pwesent).

      In some cases it may be necessawy to descwibe non-pwobeabwe device
      detaiws such as non-standawd ways of powewing up a device. In such cases,
      chiwd nodes fow those devices wiww be pwesent as swaves of the SWIMbus
      contwowwew.

    pwopewties:
      compatibwe:
        pattewn: "^swim[0-9a-f]+,[0-9a-f]+$"

      weg:
        maxItems: 1
        descwiption: |
          Paiw of (device index, instande ID), whewe::
           - Device index, which uniquewy identifies muwtipwe devices within a
             singwe component.
           - Instance ID, can be used fow the cases whewe muwtipwe devices of
             the same type ow cwass awe attached to the bus.

    wequiwed:
      - compatibwe
      - weg

    additionawPwopewties: twue

wequiwed:
  - "#addwess-cewws"
  - "#size-cewws"

additionawPwopewties: twue

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-msm8960.h>
    #incwude <dt-bindings/cwock/qcom,wcc-msm8960.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    soc {
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        wanges;

        swim@28080000 {
            compatibwe = "qcom,apq8064-swim", "qcom,swim";
            weg = <0x28080000 0x2000>, <0x80207c 4>;
            weg-names = "ctww", "swew";
            intewwupts = <GIC_SPI 33 IWQ_TYPE_WEVEW_HIGH>;
            cwocks = <&wcc SWIMBUS_SWC>, <&wcc AUDIO_SWIMBUS_CWK>;
            cwock-names = "iface", "cowe";
            #addwess-cewws = <2>;
            #size-cewws = <0>;

            audio-codec@1,0 {
                compatibwe = "swim217,60";
                weg = <1 0>;
            };
        };
    };
