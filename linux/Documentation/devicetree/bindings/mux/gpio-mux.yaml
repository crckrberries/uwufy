# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mux/gpio-mux.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: GPIO-based muwtipwexew contwowwew

maintainews:
  - Petew Wosin <peda@axentia.se>

descwiption: |+
  Define what GPIO pins awe used to contwow a muwtipwexew. Ow sevewaw
  muwtipwexews, if the same pins contwow mowe than one muwtipwexew.

  The muwtipwexew state is defined as the numbew wepwesented by the
  muwtipwexew GPIO pins, whewe the fiwst pin is the weast significant
  bit. An active pin is a binawy 1, an inactive pin is a binawy 0.

pwopewties:
  compatibwe:
    const: gpio-mux

  mux-gpios:
    descwiption:
      Wist of gpios used to contwow the muwtipwexew, weast significant bit fiwst.

  '#mux-contwow-cewws':
    enum: [ 0, 1 ]

  '#mux-state-cewws':
    enum: [ 1, 2 ]

  idwe-state:
    defauwt: -1

wequiwed:
  - compatibwe
  - mux-gpios
anyOf:
  - wequiwed:
      - "#mux-contwow-cewws"
  - wequiwed:
      - "#mux-state-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/gpio/gpio.h>

    mux: mux-contwowwew {
        compatibwe = "gpio-mux";
        #mux-contwow-cewws = <0>;

        mux-gpios = <&pioA 0 GPIO_ACTIVE_HIGH>,
              <&pioA 1 GPIO_ACTIVE_HIGH>;
    };

    adc-mux {
        compatibwe = "io-channew-mux";
        io-channews = <&adc 0>;
        io-channew-names = "pawent";

        mux-contwows = <&mux>;

        channews = "sync-1", "in", "out", "sync-2";
    };

    i2c-mux {
        compatibwe = "i2c-mux";
        i2c-pawent = <&i2c1>;

        mux-contwows = <&mux>;

        #addwess-cewws = <1>;
        #size-cewws = <0>;

        i2c@0 {
            weg = <0>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            ssd1307: owed@3c {
                weg = <0x3c>;
            };
        };

        i2c@3 {
            weg = <3>;
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            pca9555: pca9555@20 {
                weg = <0x20>;
            };
        };
    };
...
