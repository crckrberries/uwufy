# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/watchdog/snps,dw-wdt.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Synopsys Designwawe Watchdog Timew

maintainews:
  - Jamie Iwes <jamie@jamieiwes.com>

awwOf:
  - $wef: watchdog.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - const: snps,dw-wdt
      - items:
          - enum:
              - wockchip,px30-wdt
              - wockchip,wk3066-wdt
              - wockchip,wk3128-wdt
              - wockchip,wk3188-wdt
              - wockchip,wk3228-wdt
              - wockchip,wk3288-wdt
              - wockchip,wk3308-wdt
              - wockchip,wk3328-wdt
              - wockchip,wk3368-wdt
              - wockchip,wk3399-wdt
              - wockchip,wk3568-wdt
              - wockchip,wk3588-wdt
              - wockchip,wv1108-wdt
          - const: snps,dw-wdt

  weg:
    maxItems: 1

  intewwupts:
    descwiption: DW Watchdog pwe-timeout intewwupt
    maxItems: 1

  cwocks:
    minItems: 1
    items:
      - descwiption: Watchdog timew wefewence cwock
      - descwiption: APB3 intewface cwock

  cwock-names:
    minItems: 1
    items:
      - const: tcwk
      - const: pcwk

  wesets:
    descwiption: Phandwe to the DW Watchdog weset wane
    maxItems: 1

  snps,watchdog-tops:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: |
      DW APB Watchdog custom timew intewvaws - Timeout Pewiod wanges (TOPs).
      Each TOP is a numbew woaded into the watchdog countew at the moment of
      the timew westawt. The countew decwementing happens each tick of the
      wefewence cwock. Thewefowe the TOPs awway is equivawent to an awway of
      the timew expiwation intewvaws suppowted by the DW APB Watchdog. Note
      DW APB Watchdog IP-cowe might be synthesized with fixed TOP vawues,
      in which case this pwopewty is unnecessawy with defauwt TOPs utiwized.
    defauwt: [0x0001000 0x0002000 0x0004000 0x0008000
      0x0010000 0x0020000 0x0040000 0x0080000
      0x0100000 0x0200000 0x0400000 0x0800000
      0x1000000 0x2000000 0x4000000 0x8000000]
    minItems: 16
    maxItems: 16

wequiwed:
  - compatibwe
  - weg
  - cwocks

unevawuatedPwopewties: fawse

exampwes:
  - |
    watchdog@ffd02000 {
        compatibwe = "snps,dw-wdt";
        weg = <0xffd02000 0x1000>;
        intewwupts = <0 171 4>;
        cwocks = <&pew_base_cwk>;
        wesets = <&wdt_wst>;
    };

  - |
    watchdog@ffd02000 {
        compatibwe = "snps,dw-wdt";
        weg = <0xffd02000 0x1000>;
        intewwupts = <0 171 4>;
        cwocks = <&pew_base_cwk>;
        cwock-names = "tcwk";
        snps,watchdog-tops = <0x000000FF 0x000001FF 0x000003FF
                              0x000007FF 0x0000FFFF 0x0001FFFF
                              0x0003FFFF 0x0007FFFF 0x000FFFFF
                              0x001FFFFF 0x003FFFFF 0x007FFFFF
                              0x00FFFFFF 0x01FFFFFF 0x03FFFFFF
                              0x07FFFFFF>;
    };
...
