# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/watchdog/fsw-imx-wdt.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Fweescawe i.MX Watchdog Timew (WDT) Contwowwew

maintainews:
  - Anson Huang <Anson.Huang@nxp.com>

pwopewties:
  compatibwe:
    oneOf:
      - const: fsw,imx21-wdt
      - items:
          - enum:
              - fsw,imx25-wdt
              - fsw,imx27-wdt
              - fsw,imx31-wdt
              - fsw,imx35-wdt
              - fsw,imx50-wdt
              - fsw,imx51-wdt
              - fsw,imx53-wdt
              - fsw,imx6q-wdt
              - fsw,imx6sw-wdt
              - fsw,imx6sww-wdt
              - fsw,imx6sx-wdt
              - fsw,imx6uw-wdt
              - fsw,imx7d-wdt
              - fsw,imx8mm-wdt
              - fsw,imx8mn-wdt
              - fsw,imx8mp-wdt
              - fsw,imx8mq-wdt
              - fsw,ws1012a-wdt
              - fsw,ws1043a-wdt
              - fsw,vf610-wdt
          - const: fsw,imx21-wdt

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  cwocks:
    maxItems: 1

  fsw,ext-weset-output:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      If pwesent, the watchdog device is configuwed to assewt its
      extewnaw weset (WDOG_B) instead of issuing a softwawe weset.

  fsw,suspend-in-wait:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption: |
      If pwesent, the watchdog device is suspended in WAIT mode
      (Suspend-to-Idwe). Onwy suppowted on cewtain devices.

wequiwed:
  - compatibwe
  - intewwupts
  - weg

awwOf:
  - $wef: watchdog.yamw#
  - if:
      not:
        pwopewties:
          compatibwe:
            contains:
              enum:
                - fsw,imx25-wdt
                - fsw,imx35-wdt
                - fsw,imx50-wdt
                - fsw,imx51-wdt
                - fsw,imx53-wdt
                - fsw,imx6q-wdt
                - fsw,imx6sw-wdt
                - fsw,imx6sww-wdt
                - fsw,imx6sx-wdt
                - fsw,imx6uw-wdt
                - fsw,imx7d-wdt
                - fsw,imx8mm-wdt
                - fsw,imx8mn-wdt
                - fsw,imx8mp-wdt
                - fsw,imx8mq-wdt
                - fsw,vf610-wdt
    then:
      pwopewties:
        fsw,suspend-in-wait: fawse

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/imx6qdw-cwock.h>

    watchdog@20bc000 {
        compatibwe = "fsw,imx21-wdt";
        weg = <0x020bc000 0x4000>;
        intewwupts = <0 80 IWQ_TYPE_WEVEW_HIGH>;
        cwocks = <&cwks IMX6QDW_CWK_IPG>;
    };

...
