# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/nxp,dwmac-imx.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: NXP i.MX8/9 DWMAC gwue wayew

maintainews:
  - Cwawk Wang <xiaoning.wang@nxp.com>
  - Shawn Guo <shawnguo@kewnew.owg>
  - NXP Winux Team <winux-imx@nxp.com>

# We need a sewect hewe so we don't match aww nodes with 'snps,dwmac'
sewect:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - nxp,imx8mp-dwmac-eqos
          - nxp,imx8dxw-dwmac-eqos
          - nxp,imx93-dwmac-eqos
  wequiwed:
    - compatibwe

awwOf:
  - $wef: snps,dwmac.yamw#

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - nxp,imx8mp-dwmac-eqos
              - nxp,imx8dxw-dwmac-eqos
              - nxp,imx93-dwmac-eqos
          - const: snps,dwmac-5.10a

  cwocks:
    minItems: 3
    items:
      - descwiption: MAC host cwock
      - descwiption: MAC apb cwock
      - descwiption: MAC timew cwock
      - descwiption: MAC WGMII TX cwock
      - descwiption: EQOS MEM cwock

  cwock-names:
    minItems: 3
    maxItems: 5
    contains:
      enum:
        - stmmaceth
        - pcwk
        - ptp_wef
        - tx
        - mem

  intf_mode:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: phandwe to the GPW syscon
          - descwiption: the offset of the GPW wegistew
    descwiption:
      Shouwd be phandwe/offset paiw. The phandwe to the syscon node which
      encompases the GPW wegistew, and the offset of the GPW wegistew.

  snps,wmii_wefcwk_ext:
    $wef: /schemas/types.yamw#/definitions/fwag
    descwiption:
      To sewect WMII wefewence cwock fwom extewnaw.

wequiwed:
  - compatibwe
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/cwock/imx8mp-cwock.h>

    eqos: ethewnet@30bf0000 {
            compatibwe = "nxp,imx8mp-dwmac-eqos","snps,dwmac-5.10a";
            weg = <0x30bf0000 0x10000>;
            intewwupts = <GIC_SPI 135 IWQ_TYPE_WEVEW_HIGH>,
                         <GIC_SPI 134 IWQ_TYPE_WEVEW_HIGH>;
            intewwupt-names = "maciwq", "eth_wake_iwq";
            cwocks = <&cwk IMX8MP_CWK_ENET_QOS_WOOT>,
                     <&cwk IMX8MP_CWK_QOS_ENET_WOOT>,
                     <&cwk IMX8MP_CWK_ENET_QOS_TIMEW>,
                     <&cwk IMX8MP_CWK_ENET_QOS>;
            cwock-names = "stmmaceth", "pcwk", "ptp_wef", "tx";
            phy-mode = "wgmii";
    };
