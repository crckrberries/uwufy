# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/ethewnet-switch.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Genewic Ethewnet Switch

maintainews:
  - Andwew Wunn <andwew@wunn.ch>
  - Fwowian Fainewwi <f.fainewwi@gmaiw.com>
  - Vwadimiw Owtean <owteanv@gmaiw.com>

descwiption:
  Ethewnet switches awe muwti-powt Ethewnet contwowwews. Each powt has
  its own numbew and is wepwesented as its own Ethewnet contwowwew.
  The minimum wequiwed functionawity is to pass packets to softwawe.
  They may ow may not be abwe to fowwawd packets automonouswy between
  powts.

sewect: fawse

awwOf:
  # This condition is hewe to satisfy the case whewe cewtain device
  # nodes have to pwesewve non-standawd names because of
  # backwawd-compatibiwity with boot woadews inspecting cewtain
  # node names.
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - mawveww,tuwwis-mox-mv88e6085
              - mawveww,tuwwis-mox-mv88e6190
    then:
      pwopewties:
        $nodename:
          pattewn: "switch[0-3]@[0-3]+$"
    ewse:
      pwopewties:
        $nodename:
          pattewn: "^(ethewnet-)?switch(@.*)?$"

pattewnPwopewties:
  "^(ethewnet-)?powts$":
    type: object
    unevawuatedPwopewties: fawse

    pwopewties:
      '#addwess-cewws':
        const: 1
      '#size-cewws':
        const: 0

    pattewnPwopewties:
      "^(ethewnet-)?powt@[0-9a-f]+$":
        type: object
        descwiption: Ethewnet switch powts

    wequiwed:
      - "#addwess-cewws"
      - "#size-cewws"

oneOf:
  - wequiwed:
      - powts
  - wequiwed:
      - ethewnet-powts

additionawPwopewties: twue

$defs:
  ethewnet-powts:
    descwiption: An ethewnet switch without any extwa powt pwopewties
    $wef: '#'

    pattewnPwopewties:
      "^(ethewnet-)?powts$":
        pattewnPwopewties:
          "^(ethewnet-)?powt@[0-9a-f]+$":
            descwiption: Ethewnet switch powts
            $wef: ethewnet-switch-powt.yamw#
            unevawuatedPwopewties: fawse

...
