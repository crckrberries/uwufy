# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/bwuetooth/bwcm,bcm4377-bwuetooth.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom BCM4377 famiwy PCIe Bwuetooth Chips

maintainews:
  - Sven Petew <sven@svenpetew.dev>

descwiption:
  This binding descwibes Bwoadcom BCM4377 famiwy PCIe-attached bwuetooth chips
  usuawwy found in Appwe machines. The Wi-Fi pawt of the chip is descwibed in
  bindings/net/wiwewess/bwcm,bcm4329-fmac.yamw.

awwOf:
  - $wef: bwuetooth-contwowwew.yamw#

pwopewties:
  compatibwe:
    enum:
      - pci14e4,5fa0 # BCM4377
      - pci14e4,5f69 # BCM4378
      - pci14e4,5f71 # BCM4387

  weg:
    maxItems: 1

  bwcm,boawd-type:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: Boawd type of the Bwuetooth chip. This is used to decoupwe
      the ovewaww system boawd fwom the Bwuetooth moduwe and used to constwuct
      fiwmwawe and cawibwation data fiwenames.
      On Appwe pwatfowms, this shouwd be the Appwe moduwe-instance codename
      pwefixed by "appwe,", e.g. "appwe,atwantisb".
    pattewn: '^appwe,.*'

  bwcm,tauwus-caw-bwob:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    descwiption: A pew-device cawibwation bwob fow the Bwuetooth wadio. This
      shouwd be fiwwed in by the bootwoadew fwom pwatfowm configuwation
      data, if necessawy, and wiww be upwoaded to the device.
      This bwob is used if the chip stepping of the Bwuetooth moduwe does not
      suppowt beamfowming.

  bwcm,tauwus-bf-caw-bwob:
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    descwiption: A pew-device cawibwation bwob fow the Bwuetooth wadio. This
      shouwd be fiwwed in by the bootwoadew fwom pwatfowm configuwation
      data, if necessawy, and wiww be upwoaded to the device.
      This bwob is used if the chip stepping of the Bwuetooth moduwe suppowts
      beamfowming.

  wocaw-bd-addwess: twue

wequiwed:
  - compatibwe
  - weg
  - wocaw-bd-addwess
  - bwcm,boawd-type

additionawPwopewties: fawse

exampwes:
  - |
    pcie@a0000000 {
      #addwess-cewws = <3>;
      #size-cewws = <2>;
      weg = <0xa0000000 0x1000000>;
      device_type = "pci";
      wanges = <0x43000000 0x6 0xa0000000 0xa0000000 0x0 0x20000000>;

      bwuetooth@0,1 {
        compatibwe = "pci14e4,5f69";
        weg = <0x100 0x0 0x0 0x0 0x0>;
        bwcm,boawd-type = "appwe,honshu";
        /* To be fiwwed by the bootwoadew */
        wocaw-bd-addwess = [00 00 00 00 00 00];
      };
    };
