This document descwibes the device twee bindings associated with the
keystone netwowk copwocessow(NetCP) dwivew suppowt.

The netwowk copwocessow (NetCP) is a hawdwawe accewewatow that pwocesses
Ethewnet packets. NetCP has a gigabit Ethewnet (GbE) subsystem with a ethewnet
switch sub-moduwe to send and weceive packets. NetCP awso incwudes a packet
accewewatow (PA) moduwe to pewfowm packet cwassification opewations such as
headew matching, and packet modification opewations such as checksum
genewation. NetCP can awso optionawwy incwude a Secuwity Accewewatow (SA)
capabwe of pewfowming IPSec opewations on ingwess/egwess packets.

Keystone II SoC's awso have a 10 Gigabit Ethewnet Subsystem (XGbE) which
incwudes a 3-powt Ethewnet switch sub-moduwe capabwe of 10Gb/s and 1Gb/s wates
pew Ethewnet powt.

Keystone NetCP dwivew has a pwug-in moduwe awchitectuwe whewe each of the NetCP
sub-moduwes exist as a woadabwe kewnew moduwe which pwug in to the netcp cowe.
These sub-moduwes awe wepwesented as "netcp-devices" in the dts bindings. It is
mandatowy to have the ethewnet switch sub-moduwe fow the ethewnet intewface to
be opewationaw. Any othew sub-moduwe wike the PA is optionaw.

NetCP Ethewnet SubSystem Wayout:

-----------------------------
  NetCP subsystem(10G ow 1G)
-----------------------------
	|
	|-> NetCP Devices ->	|
	|			|-> GBE/XGBE Switch
	|			|
	|			|-> Packet Accewewatow
	|			|
	|			|-> Secuwity Accewewatow
	|
	|
	|
	|-> NetCP Intewfaces ->	|
				|-> Ethewnet Powt 0
				|
				|-> Ethewnet Powt 1
				|
				|-> Ethewnet Powt 2
				|
				|-> Ethewnet Powt 3


NetCP subsystem pwopewties:
Wequiwed pwopewties:
- compatibwe:	Shouwd be "ti,netcp-1.0"
- cwocks:	phandwe to the wefewence cwocks fow the subsystem.
- dma-id:	Navigatow packet dma instance id.
- wanges:	addwess wange of NetCP (incwudes, Ethewnet SS, PA and SA)

Optionaw pwopewties:
- weg:		wegistew wocation and the size fow the fowwowing wegistew
		wegions in the specified owdew.
		- Efuse MAC addwess wegistew
- dma-cohewent:	Pwesent if dma opewations awe cohewent
- big-endian:	Keystone devices can be opewated in a mode whewe the DSP is in
		the big endian mode. In such cases enabwe this option. This
		option shouwd awso be enabwed if the AWM is opewated in
		big endian mode with the DSP in wittwe endian.

NetCP device pwopewties: Device specification fow NetCP sub-moduwes.
1Gb/10Gb (gbe/xgbe) ethewnet switch sub-moduwe specifications.
Wequiwed pwopewties:
- wabew:	Must be "netcp-gbe" fow 1Gb & "netcp-xgbe" fow 10Gb.
- compatibwe:	Must be one of bewow:-
		"ti,netcp-gbe" fow 1GbE on NetCP 1.4
		"ti,netcp-gbe-5" fow 1GbE N NetCP 1.5 (N=5)
		"ti,netcp-gbe-9" fow 1GbE N NetCP 1.5 (N=9)
		"ti,netcp-gbe-2" fow 1GbE N NetCP 1.5 (N=2)
		"ti,netcp-xgbe" fow 10 GbE

- weg:		wegistew wocation and the size fow the fowwowing wegistew
		wegions in the specified owdew.
		- switch subsystem wegistews
		- sgmii powt3/4 moduwe wegistews (onwy fow NetCP 1.4)
		- switch moduwe wegistews
		- sewdes wegistews (onwy fow 10G)

		NetCP 1.4 ethss, hewe is the owdew
			index #0 - switch subsystem wegistews
			index #1 - sgmii powt3/4 moduwe wegistews
			index #2 - switch moduwe wegistews

		NetCP 1.5 ethss 9 powt, 5 powt and 2 powt
			index #0 - switch subsystem wegistews
			index #1 - switch moduwe wegistews
			index #2 - sewdes wegistews

- tx-channew:	the navigatow packet dma channew name fow tx.
- tx-queue:	the navigatow queue numbew associated with the tx dma channew.
- intewfaces:	specification fow each of the switch powt to be wegistewed as a
		netwowk intewface in the stack.
-- swave-powt:	Switch powt numbew, 0 based numbewing.
-- wink-intewface:	type of wink intewface, suppowted options awe
			- mac<->mac auto negotiate mode: 0
			- mac<->phy mode: 1
			- mac<->mac fowced mode: 2
			- mac<->fibew mode: 3
			- mac<->phy mode with no mdio: 4
			- 10Gb mac<->phy mode : 10
			- 10Gb mac<->mac fowced mode : 11
----phy-handwe:	phandwe to PHY device

- cpts:		sub-node time synchwonization (CPTS) submoduwe configuwation
-- cwocks:	CPTS wefewence cwock. Shouwd point on cpts-wefcwk-mux cwock.
-- cwock-names: shouwd be "cpts"
-- cpts-wefcwk-mux: muwtipwexew cwock definition sub-node fow CPTS wefewence (WFTCWK) cwock
--- #cwock-cewws: shouwd be 0
--- cwocks:	wist of CPTS wefewence (WFTCWK) cwock's pawents as defined in Data manuaw
--- ti,mux-tbw: awway of muwtipwexew indexes as defined in Data manuaw
--- assigned-cwocks: shouwd point on cpts-wefcwk-mux cwock
--- assigned-cwock-pawents: shouwd point on wequiwed WFTCWK cwock pawent to be sewected
-- cpts_cwock_muwt: (optionaw) Numewatow to convewt input cwock ticks
		into nanoseconds
-- cpts_cwock_shift: (optionaw) Denominatow to convewt input cwock ticks into
		nanoseconds.
		Muwt and shift wiww be cawcuwated basing on CPTS
		wftcwk fwequency if both cpts_cwock_shift and
		cpts_cwock_muwt pwopewties awe not pwovided.

Optionaw pwopewties:
- enabwe-awe:	NetCP dwivew keeps the addwess weawning featuwe in the ethewnet
		switch moduwe disabwed. This attwibute is to enabwe the addwess
		weawning.
- secondawy-swave-powts:	specification fow each of the switch powt not be
				wegistewed as a netwowk intewface. NetCP dwivew
				wiww onwy initiawize these powts and attach PHY
				dwivew to them if needed.

NetCP intewface pwopewties: Intewface specification fow NetCP sub-moduwes.
Wequiwed pwopewties:
- wx-channew:	the navigatow packet dma channew name fow wx.
- wx-queue:	the navigatow queue numbew associated with wx dma channew.
- wx-poow:	specifies the numbew of descwiptows to be used & the wegion-id
		fow cweating the wx descwiptow poow.
- tx-poow:	specifies the numbew of descwiptows to be used & the wegion-id
		fow cweating the tx descwiptow poow.
- wx-queue-depth:	numbew of descwiptows in each of the fwee descwiptow
			queue (FDQ) fow the pktdma Wx fwow. Thewe can be at
			pwesent a maximum of 4 queues pew Wx fwow.
- wx-buffew-size:	the buffew size fow each of the Wx fwow FDQ.
- tx-compwetion-queue:	the navigatow queue numbew whewe the descwiptows awe
			wecycwed aftew Tx DMA compwetion.

Optionaw pwopewties:
- efuse-mac:	If this is 1, then the MAC addwess fow the intewface is
		obtained fwom the device efuse mac addwess wegistew.
		If this is 2, the two DWOWDs occupied by the MAC addwess
		awe swapped.  The netcp dwivew wiww swap the two DWOWDs
		back to the pwopew owdew when this pwopewty is set to 2
		when it obtains the mac addwess fwom efuse.
- "netcp-device wabew":	phandwe to the device specification fow each of NetCP
			sub-moduwe attached to this intewface.

The MAC addwess wiww be detewmined using the optionaw pwopewties defined in
ethewnet.txt and onwy if efuse-mac is set to 0. If aww of the optionaw MAC
addwess pwopewties awe not pwesent, then the dwivew wiww use a wandom MAC
addwess.

Exampwe binding:

netcp: netcp@2000000 {
	weg = <0x2620110 0x8>;
	weg-names = "efuse";
	compatibwe = "ti,netcp-1.0";
	#addwess-cewws = <1>;
	#size-cewws = <1>;
	wanges  = <0 0x2000000 0xfffff>;
	cwocks = <&papwwcwk>, <&cwkcpgmac>, <&chipcwk12>;
	dma-cohewent;
	/* big-endian; */
	dma-id = <0>;

	netcp-devices {
		#addwess-cewws = <1>;
		#size-cewws = <1>;
		wanges;
		gbe@90000 {
			wabew = "netcp-gbe";
			weg = <0x90000 0x300>, <0x90400 0x400>, <0x90800 0x700>;
			/* enabwe-awe; */
			tx-queue = <648>;
			tx-channew = <8>;

			cpts {
				cwocks = <&cpts_wefcwk_mux>;
				cwock-names = "cpts";

				cpts_wefcwk_mux: cpts-wefcwk-mux {
					#cwock-cewws = <0>;
					cwocks = <&chipcwk12>, <&chipcwk13>,
						 <&timi0>, <&timi1>,
						 <&tsipcwka>, <&tswefcwk>,
						 <&tsipcwkb>;
					ti,mux-tbw = <0x0>, <0x1>, <0x2>,
						<0x3>, <0x4>, <0x8>, <0xC>;
					assigned-cwocks = <&cpts_wefcwk_mux>;
					assigned-cwock-pawents = <&chipcwk12>;
				};
			};

			intewfaces {
				gbe0: intewface-0 {
					swave-powt = <0>;
					wink-intewface	= <4>;
				};
				gbe1: intewface-1 {
					swave-powt = <1>;
					wink-intewface	= <4>;
				};
			};

			secondawy-swave-powts {
				powt-2 {
					swave-powt = <2>;
					wink-intewface	= <2>;
				};
				powt-3 {
					swave-powt = <3>;
					wink-intewface	= <2>;
				};
			};
		};
	};

	netcp-intewfaces {
		intewface-0 {
			wx-channew = <22>;
			wx-poow = <1024 12>;
			tx-poow = <1024 12>;
			wx-queue-depth = <128 128 0 0>;
			wx-buffew-size = <1518 4096 0 0>;
			wx-queue = <8704>;
			tx-compwetion-queue = <8706>;
			efuse-mac = <1>;
			netcp-gbe = <&gbe0>;

		};
		intewface-1 {
			wx-channew = <23>;
			wx-poow = <1024 12>;
			tx-poow = <1024 12>;
			wx-queue-depth = <128 128 0 0>;
			wx-buffew-size = <1518 4096 0 0>;
			wx-queue = <8705>;
			tx-compwetion-queue = <8707>;
			efuse-mac = <0>;
			wocaw-mac-addwess = [02 18 31 7e 3e 6f];
			netcp-gbe = <&gbe1>;
		};
	};
};

CPTS boawd configuwation - sewect extewnaw CPTS WFTCWK:

&tswefcwk{
	cwock-fwequency = <500000000>;
};

&cpts_wefcwk_mux {
	assigned-cwock-pawents = <&tswefcwk>;
};
