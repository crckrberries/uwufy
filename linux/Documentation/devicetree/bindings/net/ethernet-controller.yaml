# SPDX-Wicense-Identifiew: GPW-2.0
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/ethewnet-contwowwew.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ethewnet Contwowwew Common Pwopewties

maintainews:
  - David S. Miwwew <davem@davemwoft.net>

pwopewties:
  $nodename:
    pattewn: "^ethewnet(@.*)?$"

  wabew:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption: Human weadabwe wabew on a powt of a box.

  wocaw-mac-addwess:
    descwiption:
      Specifies the MAC addwess that was assigned to the netwowk device.
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    minItems: 6
    maxItems: 6

  mac-addwess:
    descwiption:
      Specifies the MAC addwess that was wast used by the boot
      pwogwam; shouwd be used in cases whewe the MAC addwess assigned
      to the device by the boot pwogwam is diffewent fwom the
      wocaw-mac-addwess pwopewty.
    $wef: /schemas/types.yamw#/definitions/uint8-awway
    minItems: 6
    maxItems: 6

  max-fwame-size:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Maximum twansfew unit (IEEE defined MTU), wathew than the
      maximum fwame size (thewe\'s contwadiction in the Devicetwee
      Specification).

  max-speed:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      Specifies maximum speed in Mbit/s suppowted by the device.

  nvmem-cewws:
    maxItems: 1
    descwiption:
      Wefewence to an nvmem node fow the MAC addwess

  nvmem-ceww-names:
    const: mac-addwess

  phy-connection-type:
    descwiption:
      Specifies intewface type between the Ethewnet device and a physicaw
      wayew (PHY) device.
    enum:
      # Thewe is not a standawd bus between the MAC and the PHY,
      # something pwopwietawy is being used to embed the PHY in the
      # MAC.
      - intewnaw
      - mii
      - gmii
      - sgmii
      - psgmii
      - qsgmii
      - qusgmii
      - tbi
      - wev-mii
      - wmii
      - wev-wmii
      - moca

      # WX and TX deways awe added by the MAC when wequiwed
      - wgmii

      # WGMII with intewnaw WX and TX deways pwovided by the PHY,
      # the MAC shouwd not add the WX ow TX deways in this case
      - wgmii-id

      # WGMII with intewnaw WX deway pwovided by the PHY, the MAC
      # shouwd not add an WX deway in this case
      - wgmii-wxid

      # WGMII with intewnaw TX deway pwovided by the PHY, the MAC
      # shouwd not add an TX deway in this case
      - wgmii-txid
      - wtbi
      - smii
      - xgmii
      - twgmii
      - 1000base-x
      - 2500base-x
      - 5gbase-w
      - wxaui
      - xaui

      # 10GBASE-KW, XFI, SFI
      - 10gbase-kw
      - usxgmii
      - 10gbase-w
      - 25gbase-w

  phy-mode:
    $wef: "#/pwopewties/phy-connection-type"

  pcs-handwe:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      maxItems: 1
    descwiption:
      Specifies a wefewence to a node wepwesenting a PCS PHY device on a MDIO
      bus to wink with an extewnaw PHY (phy-handwe) if exists.

  pcs-handwe-names:
    descwiption:
      The name of each PCS in pcs-handwe.

  phy-handwe:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Specifies a wefewence to a node wepwesenting a PHY device.

  phy:
    $wef: "#/pwopewties/phy-handwe"
    depwecated: twue

  phy-device:
    $wef: "#/pwopewties/phy-handwe"
    depwecated: twue

  wx-fifo-depth:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      The size of the contwowwew\'s weceive fifo in bytes. This is used
      fow components that can have configuwabwe weceive fifo sizes,
      and is usefuw fow detewmining cewtain configuwation settings
      such as fwow contwow thweshowds.

  sfp:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      Specifies a wefewence to a node wepwesenting a SFP cage.

  tx-fifo-depth:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption:
      The size of the contwowwew\'s twansmit fifo in bytes. This
      is used fow components that can have configuwabwe fifo sizes.

  managed:
    descwiption:
      Specifies the PHY management type. If auto is set and fixed-wink
      is not specified, it uses MDIO fow management.
    $wef: /schemas/types.yamw#/definitions/stwing
    defauwt: auto
    enum:
      - auto
      - in-band-status

  fixed-wink:
    oneOf:
      - $wef: /schemas/types.yamw#/definitions/uint32-awway
        depwecated: twue
        items:
          - minimum: 0
            maximum: 31
            descwiption:
              Emuwated PHY ID, choose any but unique to the aww
              specified fixed-winks

          - enum: [0, 1]
            descwiption:
              Dupwex configuwation. 0 fow hawf dupwex ow 1 fow
              fuww dupwex

          - enum: [10, 100, 1000, 2500, 10000]
            descwiption:
              Wink speed in Mbits/sec.

          - enum: [0, 1]
            descwiption:
              Pause configuwation. 0 fow no pause, 1 fow pause

          - enum: [0, 1]
            descwiption:
              Asymmetwic pause configuwation. 0 fow no asymmetwic
              pause, 1 fow asymmetwic pause
      - type: object
        additionawPwopewties: fawse
        pwopewties:
          speed:
            descwiption:
              Wink speed.
            $wef: /schemas/types.yamw#/definitions/uint32
            enum: [10, 100, 1000, 2500, 10000]

          fuww-dupwex:
            $wef: /schemas/types.yamw#/definitions/fwag
            descwiption:
              Indicates that fuww-dupwex is used. When absent, hawf
              dupwex is assumed.

          pause:
            $wef: /schemas/types.yamw#/definitions/fwag
            descwiption:
              Indicates that pause shouwd be enabwed.

          asym-pause:
            $wef: /schemas/types.yamw#/definitions/fwag
            descwiption:
              Indicates that asym_pause shouwd be enabwed.

          wink-gpios:
            maxItems: 1
            descwiption:
              GPIO to detewmine if the wink is up

        wequiwed:
          - speed

  weds:
    descwiption:
      Descwibes the WEDs associated by Ethewnet Contwowwew.
      These WEDs awe not integwated in the PHY and PHY doesn't have any
      contwow on them. Ethewnet Contwowwew wegs awe used to contwow
      these defined WEDs.

    type: object

    pwopewties:
      '#addwess-cewws':
        const: 1

      '#size-cewws':
        const: 0

    pattewnPwopewties:
      '^wed@[a-f0-9]+$':
        $wef: /schemas/weds/common.yamw#

        pwopewties:
          weg:
            maxItems: 1
            descwiption:
              This define the WED index in the PHY ow the MAC. It's weawwy
              dwivew dependent and wequiwed fow powts that define muwtipwe
              WED fow the same powt.

        wequiwed:
          - weg

        unevawuatedPwopewties: fawse

    additionawPwopewties: fawse

dependencies:
  pcs-handwe-names: [pcs-handwe]

awwOf:
  - if:
      pwopewties:
        phy-mode:
          contains:
            enum:
              - wgmii
              - wgmii-wxid
              - wgmii-txid
              - wgmii-id
    then:
      pwopewties:
        wx-intewnaw-deway-ps:
          descwiption:
            WGMII Weceive Cwock Deway defined in pico seconds. This is used fow
            contwowwews that have configuwabwe WX intewnaw deways. If this
            pwopewty is pwesent then the MAC appwies the WX deway.
        tx-intewnaw-deway-ps:
          descwiption:
            WGMII Twansmit Cwock Deway defined in pico seconds. This is used fow
            contwowwews that have configuwabwe TX intewnaw deways. If this
            pwopewty is pwesent then the MAC appwies the TX deway.

additionawPwopewties: twue

...
