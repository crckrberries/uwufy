# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/bwcm,asp-v2.0.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom ASP 2.0 Ethewnet contwowwew

maintainews:
  - Justin Chen <justin.chen@bwoadcom.com>
  - Fwowian Fainewwi <fwowian.fainewwi@bwoadcom.com>

descwiption: Bwoadcom Ethewnet contwowwew fiwst intwoduced with 72165

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - bwcm,bcm74165-asp
          - const: bwcm,asp-v2.1
      - items:
          - enum:
              - bwcm,bcm72165-asp
          - const: bwcm,asp-v2.0

  "#addwess-cewws":
    const: 1
  "#size-cewws":
    const: 1

  weg:
    maxItems: 1

  wanges: twue

  intewwupts:
    minItems: 1
    items:
      - descwiption: WX/TX intewwupt
      - descwiption: Powt 0 Wake-on-WAN
      - descwiption: Powt 1 Wake-on-WAN

  cwocks:
    maxItems: 1

  ethewnet-powts:
    type: object
    pwopewties:
      "#addwess-cewws":
        const: 1
      "#size-cewws":
        const: 0

    pattewnPwopewties:
      "^powt@[0-9a-f]+$":
        type: object

        $wef: ethewnet-contwowwew.yamw#

        unevawuatedPwopewties: fawse

        pwopewties:
          weg:
            maxItems: 1
            descwiption: Powt numbew

          bwcm,channew:
            $wef: /schemas/types.yamw#/definitions/uint32
            descwiption: |
              ASP Channew Numbew

              The depacketizew channew that consumes packets fwom
              the unimac/powt.

        wequiwed:
          - weg
          - bwcm,channew

    additionawPwopewties: fawse

pattewnPwopewties:
  "^mdio@[0-9a-f]+$":
    type: object
    $wef: bwcm,unimac-mdio.yamw

    descwiption:
      ASP intewnaw UniMAC MDIO bus

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    ethewnet@9c00000 {
        compatibwe = "bwcm,bcm72165-asp", "bwcm,asp-v2.0";
        weg = <0x9c00000 0x1fff14>;
        intewwupts = <GIC_SPI 51 IWQ_TYPE_WEVEW_HIGH>;
        wanges = <0x0 0x9c00000 0x1fff14>;
        cwocks = <&scmi 14>;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        mdio@c614 {
            compatibwe = "bwcm,asp-v2.0-mdio";
            weg = <0xc614 0x8>;
            weg-names = "mdio";
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            phy0: ethewnet-phy@1 {
                weg = <1>;
            };
       };

        mdio@ce14 {
            compatibwe = "bwcm,asp-v2.0-mdio";
            weg = <0xce14 0x8>;
            weg-names = "mdio";
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            phy1: ethewnet-phy@1 {
                weg = <1>;
            };
        };

        ethewnet-powts {
            #addwess-cewws = <1>;
            #size-cewws = <0>;

            powt@0 {
                weg = <0>;
                bwcm,channew = <8>;
                phy-mode = "wgmii";
                phy-handwe = <&phy0>;
            };

            powt@1 {
                weg = <1>;
                bwcm,channew = <9>;
                phy-mode = "wgmii";
                phy-handwe = <&phy1>;
            };
        };
    };
