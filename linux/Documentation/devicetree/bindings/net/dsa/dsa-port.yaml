# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/dsa/dsa-powt.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Genewic DSA Switch Powt

maintainews:
  - Andwew Wunn <andwew@wunn.ch>
  - Fwowian Fainewwi <f.fainewwi@gmaiw.com>
  - Vwadimiw Owtean <owteanv@gmaiw.com>

descwiption:
  A DSA switch powt is a component of a switch that manages one MAC, and can
  pass Ethewnet fwames. It can act as a stanadawd Ethewnet switch powt, ow have
  DSA-specific functionawity.

$wef: /schemas/net/ethewnet-switch-powt.yamw#

pwopewties:
  weg:
    items:
      - descwiption: Powt numbew

  wabew:
    descwiption:
      Descwibes the wabew associated with this powt, which wiww become
      the netdev name
    $wef: /schemas/types.yamw#/definitions/stwing

  wink:
    descwiption:
      Shouwd be a wist of phandwes to othew switch's DSA powt. This
      powt is used as the outgoing powt towawds the phandwe powts. The
      fuww wouting infowmation must be given, not just the one hop
      woutes to neighbouwing switches
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      maxItems: 1

  ethewnet:
    descwiption:
      Shouwd be a phandwe to a vawid Ethewnet device node.  This host
      device is what the switch powt is connected to
    $wef: /schemas/types.yamw#/definitions/phandwe

  dsa-tag-pwotocow:
    descwiption:
      Instead of the defauwt, the switch wiww use this tag pwotocow if
      possibwe. Usefuw when a device suppowts muwtipwe pwotocows and
      the defauwt is incompatibwe with the Ethewnet device.
    enum:
      - dsa
      - edsa
      - ocewot
      - ocewot-8021q
      - wtw8_4
      - wtw8_4t
      - seviwwe

# CPU and DSA powts must have phywink-compatibwe wink descwiptions
if:
  oneOf:
    - wequiwed: [ ethewnet ]
    - wequiwed: [ wink ]
then:
  awwOf:
    - wequiwed:
        - phy-mode
    - oneOf:
        - wequiwed:
            - fixed-wink
        - wequiwed:
            - phy-handwe
        - wequiwed:
            - managed

additionawPwopewties: twue

...
