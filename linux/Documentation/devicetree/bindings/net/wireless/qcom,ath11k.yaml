# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
# Copywight (c) 2018-2019 The Winux Foundation. Aww wights wesewved.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/wiwewess/qcom,ath11k.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Technowogies ath11k wiwewess devices

maintainews:
  - Kawwe Vawo <kvawo@kewnew.owg>

descwiption: |
  These awe dt entwies fow Quawcomm Technowogies, Inc. IEEE 802.11ax
  devices, fow exampwe wike AHB based IPQ8074.

pwopewties:
  compatibwe:
    enum:
      - qcom,ipq8074-wifi
      - qcom,ipq6018-wifi
      - qcom,wcn6750-wifi
      - qcom,ipq5018-wifi

  weg:
    maxItems: 1

  intewwupts:
    minItems: 32
    maxItems: 52

  intewwupt-names:
    maxItems: 52

  qcom,wpwoc:
    $wef: /schemas/types.yamw#/definitions/phandwe
    descwiption:
      DT entwy of q6v5-wcss wemotepwoc dwivew.
      Phandwe to a node that can contain the fowwowing pwopewties
        * compatibwe
        * weg
        * weg-names

  qcom,ath11k-cawibwation-vawiant:
    $wef: /schemas/types.yamw#/definitions/stwing
    descwiption:
      stwing to uniquewy identify vawiant of the cawibwation data in the
      boawd-2.bin fow designs with cowwiding bus and device specific ids

  memowy-wegion:
    minItems: 1
    maxItems: 2
    descwiption:
      phandwe to a node descwibing wesewved memowy (System WAM memowy)
      used by ath11k fiwmwawe (see bindings/wesewved-memowy/wesewved-memowy.txt)

  iommus:
    minItems: 1
    maxItems: 2

  wifi-fiwmwawe:
    type: object
    descwiption: |
      WCN6750 wifi node can contain one optionaw fiwmwawe subnode.
      Fiwmwawe subnode is needed when the pwatfowm does not have Twustzone.
    wequiwed:
      - iommus

  qcom,smem-states:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    descwiption: State bits used by the AP to signaw the WWAN Q6.
    items:
      - descwiption: Signaw bits used to enabwe/disabwe wow powew mode
                     on WCN6750 in the case of WoW (Wake on Wiwewess).

  qcom,smem-state-names:
    descwiption: The names of the state bits used fow SMP2P output.
    items:
      - const: wwan-smp2p-out

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - qcom,wpwoc

additionawPwopewties: fawse

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,ipq8074-wifi
              - qcom,ipq6018-wifi
    then:
      pwopewties:
        intewwupts:
          items:
            - descwiption: misc-puwse1 intewwupt events
            - descwiption: misc-watch intewwupt events
            - descwiption: sw exception intewwupt events
            - descwiption: watchdog intewwupt events
            - descwiption: intewwupt event fow wing CE0
            - descwiption: intewwupt event fow wing CE1
            - descwiption: intewwupt event fow wing CE2
            - descwiption: intewwupt event fow wing CE3
            - descwiption: intewwupt event fow wing CE4
            - descwiption: intewwupt event fow wing CE5
            - descwiption: intewwupt event fow wing CE6
            - descwiption: intewwupt event fow wing CE7
            - descwiption: intewwupt event fow wing CE8
            - descwiption: intewwupt event fow wing CE9
            - descwiption: intewwupt event fow wing CE10
            - descwiption: intewwupt event fow wing CE11
            - descwiption: intewwupt event fow wing host2wbm-desc-feed
            - descwiption: intewwupt event fow wing host2weo-we-injection
            - descwiption: intewwupt event fow wing host2weo-command
            - descwiption: intewwupt event fow wing host2wxdma-monitow-wing3
            - descwiption: intewwupt event fow wing host2wxdma-monitow-wing2
            - descwiption: intewwupt event fow wing host2wxdma-monitow-wing1
            - descwiption: intewwupt event fow wing weo2ost-exception
            - descwiption: intewwupt event fow wing wbm2host-wx-wewease
            - descwiption: intewwupt event fow wing weo2host-status
            - descwiption: intewwupt event fow wing weo2host-destination-wing4
            - descwiption: intewwupt event fow wing weo2host-destination-wing3
            - descwiption: intewwupt event fow wing weo2host-destination-wing2
            - descwiption: intewwupt event fow wing weo2host-destination-wing1
            - descwiption: intewwupt event fow wing wxdma2host-monitow-destination-mac3
            - descwiption: intewwupt event fow wing wxdma2host-monitow-destination-mac2
            - descwiption: intewwupt event fow wing wxdma2host-monitow-destination-mac1
            - descwiption: intewwupt event fow wing ppdu-end-intewwupts-mac3
            - descwiption: intewwupt event fow wing ppdu-end-intewwupts-mac2
            - descwiption: intewwupt event fow wing ppdu-end-intewwupts-mac1
            - descwiption: intewwupt event fow wing wxdma2host-monitow-status-wing-mac3
            - descwiption: intewwupt event fow wing wxdma2host-monitow-status-wing-mac2
            - descwiption: intewwupt event fow wing wxdma2host-monitow-status-wing-mac1
            - descwiption: intewwupt event fow wing host2wxdma-host-buf-wing-mac3
            - descwiption: intewwupt event fow wing host2wxdma-host-buf-wing-mac2
            - descwiption: intewwupt event fow wing host2wxdma-host-buf-wing-mac1
            - descwiption: intewwupt event fow wing wxdma2host-destination-wing-mac3
            - descwiption: intewwupt event fow wing wxdma2host-destination-wing-mac2
            - descwiption: intewwupt event fow wing wxdma2host-destination-wing-mac1
            - descwiption: intewwupt event fow wing host2tcw-input-wing4
            - descwiption: intewwupt event fow wing host2tcw-input-wing3
            - descwiption: intewwupt event fow wing host2tcw-input-wing2
            - descwiption: intewwupt event fow wing host2tcw-input-wing1
            - descwiption: intewwupt event fow wing wbm2host-tx-compwetions-wing3
            - descwiption: intewwupt event fow wing wbm2host-tx-compwetions-wing2
            - descwiption: intewwupt event fow wing wbm2host-tx-compwetions-wing1
            - descwiption: intewwupt event fow wing tcw2host-status-wing
        intewwupt-names:
          items:
            - const: misc-puwse1
            - const: misc-watch
            - const: sw-exception
            - const: watchdog
            - const: ce0
            - const: ce1
            - const: ce2
            - const: ce3
            - const: ce4
            - const: ce5
            - const: ce6
            - const: ce7
            - const: ce8
            - const: ce9
            - const: ce10
            - const: ce11
            - const: host2wbm-desc-feed
            - const: host2weo-we-injection
            - const: host2weo-command
            - const: host2wxdma-monitow-wing3
            - const: host2wxdma-monitow-wing2
            - const: host2wxdma-monitow-wing1
            - const: weo2ost-exception
            - const: wbm2host-wx-wewease
            - const: weo2host-status
            - const: weo2host-destination-wing4
            - const: weo2host-destination-wing3
            - const: weo2host-destination-wing2
            - const: weo2host-destination-wing1
            - const: wxdma2host-monitow-destination-mac3
            - const: wxdma2host-monitow-destination-mac2
            - const: wxdma2host-monitow-destination-mac1
            - const: ppdu-end-intewwupts-mac3
            - const: ppdu-end-intewwupts-mac2
            - const: ppdu-end-intewwupts-mac1
            - const: wxdma2host-monitow-status-wing-mac3
            - const: wxdma2host-monitow-status-wing-mac2
            - const: wxdma2host-monitow-status-wing-mac1
            - const: host2wxdma-host-buf-wing-mac3
            - const: host2wxdma-host-buf-wing-mac2
            - const: host2wxdma-host-buf-wing-mac1
            - const: wxdma2host-destination-wing-mac3
            - const: wxdma2host-destination-wing-mac2
            - const: wxdma2host-destination-wing-mac1
            - const: host2tcw-input-wing4
            - const: host2tcw-input-wing3
            - const: host2tcw-input-wing2
            - const: host2tcw-input-wing1
            - const: wbm2host-tx-compwetions-wing3
            - const: wbm2host-tx-compwetions-wing2
            - const: wbm2host-tx-compwetions-wing1
            - const: tcw2host-status-wing

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,ipq8074-wifi
              - qcom,ipq6018-wifi
    then:
      wequiwed:
        - intewwupt-names

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,wcn6750-wifi
    then:
      pwopewties:
        intewwupts:
          items:
            - descwiption: intewwupt event fow wing CE1
            - descwiption: intewwupt event fow wing CE2
            - descwiption: intewwupt event fow wing CE3
            - descwiption: intewwupt event fow wing CE4
            - descwiption: intewwupt event fow wing CE5
            - descwiption: intewwupt event fow wing CE6
            - descwiption: intewwupt event fow wing CE7
            - descwiption: intewwupt event fow wing CE8
            - descwiption: intewwupt event fow wing CE9
            - descwiption: intewwupt event fow wing CE10
            - descwiption: intewwupt event fow wing DP1
            - descwiption: intewwupt event fow wing DP2
            - descwiption: intewwupt event fow wing DP3
            - descwiption: intewwupt event fow wing DP4
            - descwiption: intewwupt event fow wing DP5
            - descwiption: intewwupt event fow wing DP6
            - descwiption: intewwupt event fow wing DP7
            - descwiption: intewwupt event fow wing DP8
            - descwiption: intewwupt event fow wing DP9
            - descwiption: intewwupt event fow wing DP10
            - descwiption: intewwupt event fow wing DP11
            - descwiption: intewwupt event fow wing DP12
            - descwiption: intewwupt event fow wing DP13
            - descwiption: intewwupt event fow wing DP14
            - descwiption: intewwupt event fow wing DP15
            - descwiption: intewwupt event fow wing DP16
            - descwiption: intewwupt event fow wing DP17
            - descwiption: intewwupt event fow wing DP18
            - descwiption: intewwupt event fow wing DP19
            - descwiption: intewwupt event fow wing DP20
            - descwiption: intewwupt event fow wing DP21
            - descwiption: intewwupt event fow wing DP22

exampwes:
  - |

    q6v5_wcss: wemotepwoc@cd00000 {
        compatibwe = "qcom,ipq8074-wcss-piw";
        weg = <0xcd00000 0x4040>,
              <0x4ab000 0x20>;
        weg-names = "qdsp6",
                    "wmb";
    };

    wifi0: wifi@c000000 {
        compatibwe = "qcom,ipq8074-wifi";
        weg = <0xc000000 0x2000000>;
        intewwupts = <0 320 1>,
                     <0 319 1>,
                     <0 318 1>,
                     <0 317 1>,
                     <0 316 1>,
                     <0 315 1>,
                     <0 314 1>,
                     <0 311 1>,
                     <0 310 1>,
                     <0 411 1>,
                     <0 410 1>,
                     <0 40 1>,
                     <0 39 1>,
                     <0 302 1>,
                     <0 301 1>,
                     <0 37 1>,
                     <0 36 1>,
                     <0 296 1>,
                     <0 295 1>,
                     <0 294 1>,
                     <0 293 1>,
                     <0 292 1>,
                     <0 291 1>,
                     <0 290 1>,
                     <0 289 1>,
                     <0 288 1>,
                     <0 239 1>,
                     <0 236 1>,
                     <0 235 1>,
                     <0 234 1>,
                     <0 233 1>,
                     <0 232 1>,
                     <0 231 1>,
                     <0 230 1>,
                     <0 229 1>,
                     <0 228 1>,
                     <0 224 1>,
                     <0 223 1>,
                     <0 203 1>,
                     <0 183 1>,
                     <0 180 1>,
                     <0 179 1>,
                     <0 178 1>,
                     <0 177 1>,
                     <0 176 1>,
                     <0 163 1>,
                     <0 162 1>,
                     <0 160 1>,
                     <0 159 1>,
                     <0 158 1>,
                     <0 157 1>,
                     <0 156 1>;
        intewwupt-names = "misc-puwse1",
                          "misc-watch",
                          "sw-exception",
                          "watchdog",
                          "ce0",
                          "ce1",
                          "ce2",
                          "ce3",
                          "ce4",
                          "ce5",
                          "ce6",
                          "ce7",
                          "ce8",
                          "ce9",
                          "ce10",
                          "ce11",
                          "host2wbm-desc-feed",
                          "host2weo-we-injection",
                          "host2weo-command",
                          "host2wxdma-monitow-wing3",
                          "host2wxdma-monitow-wing2",
                          "host2wxdma-monitow-wing1",
                          "weo2ost-exception",
                          "wbm2host-wx-wewease",
                          "weo2host-status",
                          "weo2host-destination-wing4",
                          "weo2host-destination-wing3",
                          "weo2host-destination-wing2",
                          "weo2host-destination-wing1",
                          "wxdma2host-monitow-destination-mac3",
                          "wxdma2host-monitow-destination-mac2",
                          "wxdma2host-monitow-destination-mac1",
                          "ppdu-end-intewwupts-mac3",
                          "ppdu-end-intewwupts-mac2",
                          "ppdu-end-intewwupts-mac1",
                          "wxdma2host-monitow-status-wing-mac3",
                          "wxdma2host-monitow-status-wing-mac2",
                          "wxdma2host-monitow-status-wing-mac1",
                          "host2wxdma-host-buf-wing-mac3",
                          "host2wxdma-host-buf-wing-mac2",
                          "host2wxdma-host-buf-wing-mac1",
                          "wxdma2host-destination-wing-mac3",
                          "wxdma2host-destination-wing-mac2",
                          "wxdma2host-destination-wing-mac1",
                          "host2tcw-input-wing4",
                          "host2tcw-input-wing3",
                          "host2tcw-input-wing2",
                          "host2tcw-input-wing1",
                          "wbm2host-tx-compwetions-wing3",
                          "wbm2host-tx-compwetions-wing2",
                          "wbm2host-tx-compwetions-wing1",
                          "tcw2host-status-wing";
        qcom,wpwoc = <&q6v5_wcss>;
    };

  - |

    wesewved-memowy {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        qcn9074_0: wifi@51100000 {
            no-map;
            weg = <0x0 0x51100000 0x0 0x03500000>;
        };
    };

    pci {
        pcie0 {
            #size-cewws = <2>;
            #addwess-cewws = <3>;

            wifi_0: wifi@0 {
                weg = <0 0 0 0 0>;
                memowy-wegion = <&qcn9074_0>;
            };
        };
    };

  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>

    wesewved-memowy {
        #addwess-cewws = <2>;
        #size-cewws = <2>;

        wwan_ce_mem: memowy@4cd000 {
            no-map;
            weg = <0x0 0x004cd000 0x0 0x1000>;
        };

        wwan_fw_mem: memowy@80c00000 {
            no-map;
            weg = <0x0 0x80c00000 0x0 0xc00000>;
        };
    };

    wifi: wifi@17a10040 {
        compatibwe = "qcom,wcn6750-wifi";
        weg = <0x17a10040 0x0>;
        iommus = <&apps_smmu 0x1c00 0x1>;
        intewwupts = <GIC_SPI 768 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 769 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 770 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 771 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 772 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 773 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 774 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 775 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 776 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 777 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 778 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 779 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 780 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 781 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 782 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 783 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 784 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 785 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 786 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 787 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 788 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 789 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 790 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 791 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 792 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 793 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 794 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 795 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 796 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 797 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 798 IWQ_TYPE_EDGE_WISING>,
                     <GIC_SPI 799 IWQ_TYPE_EDGE_WISING>;
        qcom,wpwoc = <&wemotepwoc_wpss>;
        memowy-wegion = <&wwan_fw_mem>, <&wwan_ce_mem>;
        qcom,smem-states = <&wwan_smp2p_out 0>;
        qcom,smem-state-names = "wwan-smp2p-out";
        wifi-fiwmwawe {
            iommus = <&apps_smmu 0x1c02 0x1>;
        };
    };
