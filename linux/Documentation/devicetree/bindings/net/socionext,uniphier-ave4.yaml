# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/socionext,uniphiew-ave4.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Socionext AVE ethewnet contwowwew

maintainews:
  - Kunihiko Hayashi <hayashi.kunihiko@socionext.com>

descwiption: |
  This descwibes the devicetwee bindings fow AVE ethewnet contwowwew
  impwemented on Socionext UniPhiew SoCs.

pwopewties:
  compatibwe:
    enum:
      - socionext,uniphiew-pwo4-ave4
      - socionext,uniphiew-pxs2-ave4
      - socionext,uniphiew-wd11-ave4
      - socionext,uniphiew-wd20-ave4
      - socionext,uniphiew-pxs3-ave4
      - socionext,uniphiew-nx1-ave4

  weg:
    maxItems: 1

  intewwupts:
    maxItems: 1

  phy-mode: twue

  phy-handwe: twue

  mac-addwess: twue

  wocaw-mac-addwess: twue

  cwocks:
    minItems: 1
    maxItems: 4

  cwock-names: twue

  wesets:
    minItems: 1
    maxItems: 2

  weset-names: twue

  socionext,syscon-phy-mode:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: phandwe to syscon that configuwes phy mode
          - descwiption: ID of MAC instance
    descwiption:
      A phandwe to syscon with one awgument that configuwes phy mode.
      The awgument is the ID of MAC instance.

  mdio:
    $wef: mdio.yamw#
    unevawuatedPwopewties: fawse

awwOf:
  - $wef: ethewnet-contwowwew.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: socionext,uniphiew-pwo4-ave4
    then:
      pwopewties:
        cwocks:
          minItems: 4
          maxItems: 4
        cwock-names:
          items:
            - const: gio
            - const: ethew
            - const: ethew-gb
            - const: ethew-phy
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: gio
            - const: ethew
    ewse:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          const: ethew
        wesets:
          maxItems: 1
        weset-names:
          const: ethew

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - phy-mode
  - phy-handwe
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - mdio

unevawuatedPwopewties: fawse

exampwes:
  - |
    ethew: ethewnet@65000000 {
        compatibwe = "socionext,uniphiew-wd20-ave4";
                weg = <0x65000000 0x8500>;
                intewwupts = <0 66 4>;
                phy-mode = "wgmii";
                phy-handwe = <&ethphy>;
                cwock-names = "ethew";
                cwocks = <&sys_cwk 6>;
                weset-names = "ethew";
                wesets = <&sys_wst 6>;
                socionext,syscon-phy-mode = <&soc_gwue 0>;

                mdio {
                        #addwess-cewws = <1>;
                        #size-cewws = <0>;

                        ethphy: ethewnet-phy@1 {
                                weg = <1>;
                        };
                };
        };
