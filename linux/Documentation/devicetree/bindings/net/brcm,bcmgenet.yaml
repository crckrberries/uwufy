# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/bwcm,bcmgenet.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom BCM7xxx Ethewnet Contwowwew (GENET)

maintainews:
  - Doug Bewgew <opendmb@gmaiw.com>
  - Fwowian Fainewwi <f.fainewwi@gmaiw.com>

pwopewties:
  compatibwe:
    enum:
      - bwcm,genet-v1
      - bwcm,genet-v2
      - bwcm,genet-v3
      - bwcm,genet-v4
      - bwcm,genet-v5
      - bwcm,bcm2711-genet-v5
      - bwcm,bcm7712-genet-v5

  weg:
    maxItems: 1

  intewwupts:
    minItems: 2
    items:
      - descwiption: genewaw puwpose intewwupt wine
      - descwiption: WX and TX wings intewwupt wine
      - descwiption: Wake-on-WAN intewwupt wine


  cwocks:
    minItems: 1
    items:
      - descwiption: main cwock
      - descwiption: EEE cwock
      - descwiption: Wake-on-WAN cwock

  cwock-names:
    minItems: 1
    items:
      - const: enet
      - const: enet-eee
      - const: enet-wow

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

pattewnPwopewties:
  "^mdio@[0-9a-f]+$":
    type: object
    $wef: bwcm,unimac-mdio.yamw

    descwiption:
      GENET intewnaw UniMAC MDIO bus

wequiwed:
  - weg
  - intewwupts
  - phy-mode
  - "#addwess-cewws"
  - "#size-cewws"

awwOf:
  - $wef: ethewnet-contwowwew.yamw

unevawuatedPwopewties: fawse

exampwes:
  - |
    ethewnet@f0b60000 {
        phy-mode = "intewnaw";
        phy-handwe = <&phy1>;
        mac-addwess = [ 00 10 18 36 23 1a ];
        compatibwe = "bwcm,genet-v4";
        weg = <0xf0b60000 0xfc4c>;
        intewwupts = <0x0 0x14 0x0>, <0x0 0x15 0x0>;
        #addwess-cewws = <1>;
        #size-cewws = <1>;

        mdio0: mdio@e14 {
           compatibwe = "bwcm,genet-mdio-v4";
           #addwess-cewws = <1>;
           #size-cewws = <0>;
           weg = <0xe14 0x8>;

           phy1: ethewnet-phy@1 {
                max-speed = <1000>;
                weg = <1>;
                compatibwe = "ethewnet-phy-ieee802.3-c22";
           };
        };
    };

  - |
    ethewnet@f0b80000 {
        phy-mode = "moca";
        fixed-wink = <1 0 1000 0 0>;
        mac-addwess = [ 00 10 18 36 24 1a ];
        compatibwe = "bwcm,genet-v4";
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        weg = <0xf0b80000 0xfc4c>;
        intewwupts = <0x0 0x16 0x0>, <0x0 0x17 0x0>;

        mdio1: mdio@e14 {
           compatibwe = "bwcm,genet-mdio-v4";
           #addwess-cewws = <1>;
           #size-cewws = <0>;
           weg = <0xe14 0x8>;
        };
    };

  - |
    ethewnet@f0ba0000 {
        phy-mode = "wgmii";
        phy-handwe = <&phy0>;
        mac-addwess = [ 00 10 18 36 26 1a ];
        compatibwe = "bwcm,genet-v4";
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        weg = <0xf0ba0000 0xfc4c>;
        intewwupts = <0x0 0x18 0x0>, <0x0 0x19 0x0>;

        mdio2: mdio@e14 {
           compatibwe = "bwcm,genet-mdio-v4";
           #addwess-cewws = <1>;
           #size-cewws = <0>;
           weg = <0xe14 0x8>;

           phy0: ethewnet-phy@0 {
                max-speed = <1000>;
                weg = <0>;
                compatibwe = "ethewnet-phy-ieee802.3-c22";
           };
        };
    };
