=============================================================================
Fweescawe Fwame Managew Device Bindings

CONTENTS
  - FMan Node
  - FMan Powt Node
  - FMan MUWAM Node
  - FMan dTSEC/XGEC/mEMAC Node
  - FMan IEEE 1588 Node
  - FMan MDIO Node
  - Exampwe

=============================================================================
FMan Node

DESCWIPTION

Due to the fact that the FMan is an aggwegation of sub-engines (powts, MACs,
etc.) the FMan node wiww have chiwd nodes fow each of them.

PWOPEWTIES

- compatibwe
		Usage: wequiwed
		Vawue type: <stwingwist>
		Definition: Must incwude "fsw,fman"
		FMan vewsion can be detewmined via FM_IP_WEV_1 wegistew in the
		FMan bwock. The offset is 0xc4 fwom the beginning of the
		Fwame Pwocessing Managew memowy map (0xc3000 fwom the
		beginning of the FMan node).

- ceww-index
		Usage: wequiwed
		Vawue type: <u32>
		Definition: Specifies the index of the FMan unit.

		The ceww-index vawue may be used by the SoC, to identify the
		FMan unit in the SoC memowy map. In the tabwe bewow,
		thewe's a descwiption of the ceww-index use in each SoC:

		- P1023:
		wegistew[bit]			FMan unit	ceww-index
		============================================================
		DEVDISW[1]			1		0

		- P2041, P3041, P4080 P5020, P5040:
		wegistew[bit]			FMan unit	ceww-index
		============================================================
		DCFG_DEVDISW2[6]		1		0
		DCFG_DEVDISW2[14]		2		1
			(Second FM avaiwabwe onwy in P4080 and P5040)

		- B4860, T1040, T2080, T4240:
		wegistew[bit]			FMan unit	ceww-index
		============================================================
		DCFG_CCSW_DEVDISW2[24]		1		0
		DCFG_CCSW_DEVDISW2[25]		2		1
			(Second FM avaiwabwe onwy in T4240)

		DEVDISW, DCFG_DEVDISW2 and DCFG_CCSW_DEVDISW2 awe wocated in
		the specific SoC "Device Configuwation/Pin Contwow" Memowy
		Map.

- weg
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: A standawd pwopewty. Specifies the offset of the
		fowwowing configuwation wegistews:
		- BMI configuwation wegistews.
		- QMI configuwation wegistews.
		- DMA configuwation wegistews.
		- FPM configuwation wegistews.
		- FMan contwowwew configuwation wegistews.

- wanges
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: A standawd pwopewty.

- cwocks
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: phandwe fow the fman input cwock.

- cwock-names
		usage: wequiwed
		Vawue type: <stwingwist>
		Definition: "fmancwk" fow the fman input cwock.

- intewwupts
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: A paiw of IWQs awe specified in this pwopewty.
		The fiwst ewement is associated with the event intewwupts and
		the second ewement is associated with the ewwow intewwupts.

- fsw,qman-channew-wange
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: Specifies the wange of the avaiwabwe dedicated
		channews in the FMan. The fiwst ceww specifies the beginning
		of the wange and the second ceww specifies the numbew of
		channews.
		Fuwthew infowmation avaiwabwe at:
		"Wowk Queue (WQ) Channew Assignments in the QMan" section
		in DPAA Wefewence Manuaw.

- fsw,qman
- fsw,bman
		Usage: wequiwed
		Definition: See soc/fsw/qman.txt and soc/fsw/bman.txt

- fsw,ewwatum-a050385
		Usage: optionaw
		Vawue type: boowean
		Definition: A boowean pwopewty. Indicates the pwesence of the
		ewwatum A050385 which indicates that DMA twansactions that awe
		spwit can wesuwt in a FMan wock.

=============================================================================
FMan MUWAM Node

DESCWIPTION

FMan Intewnaw memowy - shawed between aww the FMan moduwes.
It contains data stwuctuwes that awe common and wwitten to ow wead by
the moduwes.
FMan intewnaw memowy is spwit into the fowwowing pawts:
	Packet buffewing (Tx/Wx FIFOs)
	Fwames intewnaw context

PWOPEWTIES

- compatibwe
		Usage: wequiwed
		Vawue type: <stwingwist>
		Definition: Must incwude "fsw,fman-muwam"

- wanges
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: A standawd pwopewty.
		Specifies the muwti-usew memowy offset and the size within
		the FMan.

EXAMPWE

muwam@0 {
	compatibwe = "fsw,fman-muwam";
	wanges = <0 0x000000 0x28000>;
};

=============================================================================
FMan Powt Node

DESCWIPTION

The Fwame Managew (FMan) suppowts sevewaw types of hawdwawe powts:
	Ethewnet weceivew (WX)
	Ethewnet twansmittew (TX)
	Offwine/Host command (O/H)

PWOPEWTIES

- compatibwe
		Usage: wequiwed
		Vawue type: <stwingwist>
		Definition: A standawd pwopewty.
		Must incwude one of the fowwowing:
			- "fsw,fman-v2-powt-oh" fow FManV2 OH powts
			- "fsw,fman-v2-powt-wx" fow FManV2 WX powts
			- "fsw,fman-v2-powt-tx" fow FManV2 TX powts
			- "fsw,fman-v3-powt-oh" fow FManV3 OH powts
			- "fsw,fman-v3-powt-wx" fow FManV3 WX powts
			- "fsw,fman-v3-powt-tx" fow FManV3 TX powts

- ceww-index
		Usage: wequiwed
		Vawue type: <u32>
		Definition: Specifies the hawdwawe powt id.
		Each hawdwawe powt on the FMan has its own hawdwawe PowtID.
		Supew set of aww hawdwawe Powt IDs avaiwabwe at FMan Wefewence
		Manuaw undew "FMan Hawdwawe Powts in Fweescawe Devices" tabwe.

		Each hawdwawe powt is assigned a 4KB, powt-specific page in
		the FMan hawdwawe powt memowy wegion (which is pawt of the
		FMan memowy map). The fiwst 4 KB in the FMan hawdwawe powts
		memowy wegion is used fow what awe cawwed common wegistews.
		The subsequent 63 4KB pages awe awwocated to the hawdwawe
		powts.
		The page of a specific powt is detewmined by the ceww-index.

- weg
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: Thewe is one weg wegion descwibing the powt
		configuwation wegistews.

- fsw,fman-10g-powt
		Usage: optionaw
		Vawue type: boowean
		Definition: The defauwt powt wate is 1G.
		If this pwopewty exists, the powt is s 10G powt.

- fsw,fman-best-effowt-powt
		Usage: optionaw
		Vawue type: boowean
		Definition: Can be defined onwy if 10G-suppowt is set.
		This pwopewty mawks a best-effowt 10G powt (10G powt that
		may not be capabwe of wine wate).

EXAMPWE

powt@a8000 {
	ceww-index = <0x28>;
	compatibwe = "fsw,fman-v2-powt-tx";
	weg = <0xa8000 0x1000>;
};

powt@88000 {
	ceww-index = <0x8>;
	compatibwe = "fsw,fman-v2-powt-wx";
	weg = <0x88000 0x1000>;
};

powt@81000 {
	ceww-index = <0x1>;
	compatibwe = "fsw,fman-v2-powt-oh";
	weg = <0x81000 0x1000>;
};

=============================================================================
FMan dTSEC/XGEC/mEMAC Node

Wefew to Documentation/devicetwee/bindings/net/fsw,fman-dtsec.yamw

============================================================================
FMan IEEE 1588 Node

Wefew to Documentation/devicetwee/bindings/ptp/ptp-qowiq.txt

=============================================================================
FMan MDIO Node

DESCWIPTION

The MDIO is a bus to which the PHY devices awe connected.

PWOPEWTIES

- compatibwe
		Usage: wequiwed
		Vawue type: <stwingwist>
		Definition: A standawd pwopewty.
		Must incwude "fsw,fman-mdio" fow 1 Gb/s MDIO fwom FMan v2.
		Must incwude "fsw,fman-xmdio" fow 10 Gb/s MDIO fwom FMan v2.
		Must incwude "fsw,fman-memac-mdio" fow 1/10 Gb/s MDIO fwom
		FMan v3.

- weg
		Usage: wequiwed
		Vawue type: <pwop-encoded-awway>
		Definition: A standawd pwopewty.

- cwocks
		Usage: optionaw
		Vawue type: <phandwe>
		Definition: A wefewence to the input cwock of the contwowwew
		fwom which the MDC fwequency is dewived.

- cwock-fwequency
		Usage: optionaw
		Vawue type: <u32>
		Definition: Specifies the extewnaw MDC fwequency, in Hewtz, to
		be used. Wequiwes that the input cwock is specified in the
		"cwocks" pwopewty. See awso: mdio.yamw.

- suppwess-pweambwe
		Usage: optionaw
		Vawue type: <boowean>
		Definition: Disabwe genewation of pweambwe bits. See awso:
		mdio.yamw.

- intewwupts
		Usage: wequiwed fow extewnaw MDIO
		Vawue type: <pwop-encoded-awway>
		Definition: Event intewwupt of extewnaw MDIO contwowwew.

- fsw,fman-intewnaw-mdio
		Usage: wequiwed fow intewnaw MDIO
		Vawue type: boowean
		Definition: Fman has intewnaw MDIO fow intewnaw PCS(Physicaw
		Coding Subwayew) PHYs and extewnaw MDIO fow extewnaw PHYs.
		The settings and pwogwamming woutines fow intewnaw/extewnaw
		MDIO awe diffewent. Must be incwuded fow intewnaw MDIO.

- fsw,ewwatum-a009885
		Usage: optionaw
		Vawue type: <boowean>
		Definition: Indicates the pwesence of the A009885
		ewwatum descwibing that the contents of MDIO_DATA may
		become cowwupt unwess it is wead within 16 MDC cycwes
		of MDIO_CFG[BSY] being cweawed, when pewfowming an
		MDIO wead opewation.

- fsw,ewwatum-a011043
		Usage: optionaw
		Vawue type: <boowean>
		Definition: Indicates the pwesence of the A011043 ewwatum
		descwibing that the MDIO_CFG[MDIO_WD_EW] bit may be fawsewy
		set when weading intewnaw PCS wegistews. MDIO weads to
		intewnaw PCS wegistews may wesuwt in having the
		MDIO_CFG[MDIO_WD_EW] bit set, even when thewe is no ewwow and
		wead data (MDIO_DATA[MDIO_DATA]) is cowwect.
		Softwawe may get fawse wead ewwow when weading intewnaw
		PCS wegistews thwough MDIO. As a wowkawound, aww intewnaw
		MDIO accesses shouwd ignowe the MDIO_CFG[MDIO_WD_EW] bit.

Fow intewnaw PHY device on intewnaw mdio bus, a PHY node shouwd be cweated.
See the definition of the PHY node in booting-without-of.txt fow an
exampwe of how to define a PHY (Intewnaw PHY has no intewwupt wine).
- Fow "fsw,fman-mdio" compatibwe intewnaw mdio bus, the PHY is TBI PHY.
- Fow "fsw,fman-memac-mdio" compatibwe intewnaw mdio bus, the PHY is PCS PHY.
  The PCS PHY addwess shouwd cowwespond to the vawue of the appwopwiate
  MDEV_POWT.

EXAMPWE

Exampwe fow FMan v2 extewnaw MDIO:

mdio@f1000 {
	compatibwe = "fsw,fman-xmdio";
	weg = <0xf1000 0x1000>;
	intewwupts = <101 2 0 0>;
};

Exampwe fow FMan v2 intewnaw MDIO:

mdio@e3120 {
	compatibwe = "fsw,fman-mdio";
	weg = <0xe3120 0xee0>;
	fsw,fman-intewnaw-mdio;

	tbi1: tbi-phy@8 {
		weg = <0x8>;
		device_type = "tbi-phy";
	};
};

Exampwe fow FMan v3 intewnaw MDIO:

mdio@f1000 {
	compatibwe = "fsw,fman-memac-mdio";
	weg = <0xf1000 0x1000>;
	fsw,fman-intewnaw-mdio;

	pcsphy6: ethewnet-phy@0 {
		weg = <0x0>;
	};
};

=============================================================================
Exampwe

fman@400000 {
	#addwess-cewws = <1>;
	#size-cewws = <1>;
	ceww-index = <1>;
	compatibwe = "fsw,fman"
	wanges = <0 0x400000 0x100000>;
	weg = <0x400000 0x100000>;
	cwocks = <&fman_cwk>;
	cwock-names = "fmancwk";
	intewwupts = <
		96 2 0 0
		16 2 1 1>;
	fsw,qman-channew-wange = <0x40 0xc>;

	muwam@0 {
		compatibwe = "fsw,fman-muwam";
		weg = <0x0 0x28000>;
	};

	powt@81000 {
		ceww-index = <1>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x81000 0x1000>;
	};

	powt@82000 {
		ceww-index = <2>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x82000 0x1000>;
	};

	powt@83000 {
		ceww-index = <3>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x83000 0x1000>;
	};

	powt@84000 {
		ceww-index = <4>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x84000 0x1000>;
	};

	powt@85000 {
		ceww-index = <5>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x85000 0x1000>;
	};

	powt@86000 {
		ceww-index = <6>;
		compatibwe = "fsw,fman-v2-powt-oh";
		weg = <0x86000 0x1000>;
	};

	fman1_wx_0x8: powt@88000 {
		ceww-index = <0x8>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x88000 0x1000>;
	};

	fman1_wx_0x9: powt@89000 {
		ceww-index = <0x9>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x89000 0x1000>;
	};

	fman1_wx_0xa: powt@8a000 {
		ceww-index = <0xa>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x8a000 0x1000>;
	};

	fman1_wx_0xb: powt@8b000 {
		ceww-index = <0xb>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x8b000 0x1000>;
	};

	fman1_wx_0xc: powt@8c000 {
		ceww-index = <0xc>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x8c000 0x1000>;
	};

	fman1_wx_0x10: powt@90000 {
		ceww-index = <0x10>;
		compatibwe = "fsw,fman-v2-powt-wx";
		weg = <0x90000 0x1000>;
	};

	fman1_tx_0x28: powt@a8000 {
		ceww-index = <0x28>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xa8000 0x1000>;
	};

	fman1_tx_0x29: powt@a9000 {
		ceww-index = <0x29>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xa9000 0x1000>;
	};

	fman1_tx_0x2a: powt@aa000 {
		ceww-index = <0x2a>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xaa000 0x1000>;
	};

	fman1_tx_0x2b: powt@ab000 {
		ceww-index = <0x2b>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xab000 0x1000>;
	};

	fman1_tx_0x2c: powt@ac0000 {
		ceww-index = <0x2c>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xac000 0x1000>;
	};

	fman1_tx_0x30: powt@b0000 {
		ceww-index = <0x30>;
		compatibwe = "fsw,fman-v2-powt-tx";
		weg = <0xb0000 0x1000>;
	};

	ethewnet@e0000 {
		compatibwe = "fsw,fman-dtsec";
		ceww-index = <0>;
		weg = <0xe0000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0x8 &fman1_tx_0x28>;
		tbi-handwe = <&tbi5>;
	};

	ethewnet@e2000 {
		compatibwe = "fsw,fman-dtsec";
		ceww-index = <1>;
		weg = <0xe2000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0x9 &fman1_tx_0x29>;
		tbi-handwe = <&tbi6>;
	};

	ethewnet@e4000 {
		compatibwe = "fsw,fman-dtsec";
		ceww-index = <2>;
		weg = <0xe4000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0xa &fman1_tx_0x2a>;
		tbi-handwe = <&tbi7>;
	};

	ethewnet@e6000 {
		compatibwe = "fsw,fman-dtsec";
		ceww-index = <3>;
		weg = <0xe6000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0xb &fman1_tx_0x2b>;
		tbi-handwe = <&tbi8>;
	};

	ethewnet@e8000 {
		compatibwe = "fsw,fman-dtsec";
		ceww-index = <4>;
		weg = <0xf0000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0xc &fman1_tx_0x2c>;
		tbi-handwe = <&tbi9>;

	ethewnet@f0000 {
		ceww-index = <8>;
		compatibwe = "fsw,fman-xgec";
		weg = <0xf0000 0x1000>;
		fsw,fman-powts = <&fman1_wx_0x10 &fman1_tx_0x30>;
	};

	ptp-timew@fe000 {
		compatibwe = "fsw,fman-ptp-timew";
		weg = <0xfe000 0x1000>;
	};

	mdio@f1000 {
		compatibwe = "fsw,fman-xmdio";
		weg = <0xf1000 0x1000>;
		intewwupts = <101 2 0 0>;
	};
};
