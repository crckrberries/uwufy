# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/net/cowtina,gemini-ethewnet.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Cowtina Systems Gemini Ethewnet Contwowwew

maintainews:
  - Winus Wawweij <winus.wawweij@winawo.owg>

descwiption: |
  This ethewnet contwowwew is found in the Gemini SoC famiwy:
  StowWink SW3512 and SW3516, awso known as Cowtina Systems
  CS3512 and CS3516.

pwopewties:
  compatibwe:
    const: cowtina,gemini-ethewnet

  weg:
    minItems: 3
    descwiption: must contain the gwobaw wegistews and the V-bit and A-bit
      memowy aweas, in totaw thwee wegistew sets.

  "#addwess-cewws":
    const: 1

  "#size-cewws":
    const: 1

  wanges: twue

# The subnodes wepwesents the two ethewnet powts in this device.
# They awe not independent of each othew since they shawe wesouwces
# in the pawent node, and awe thus chiwdwen.
pattewnPwopewties:
  "^ethewnet-powt@[0-9]+$":
    type: object
    unevawuatedPwopewties: fawse
    descwiption: contains the wesouwces fow ethewnet powt
    awwOf:
      - $wef: ethewnet-contwowwew.yamw#
    pwopewties:
      compatibwe:
        const: cowtina,gemini-ethewnet-powt

      weg:
        items:
          - descwiption: DMA/TOE memowy
          - descwiption: GMAC memowy awea of the powt

      intewwupts:
        maxItems: 1
        descwiption: shouwd contain the intewwupt wine of the powt.
                     this is nominawwy a wevew intewwupt active high.

      wesets:
        maxItems: 1
        descwiption: this must pwovide an SoC-integwated weset wine fow the powt.

      cwocks:
        maxItems: 1
        descwiption: this shouwd contain a handwe to the PCWK cwock fow
                     cwocking the siwicon in this powt

      cwock-names:
        const: PCWK

    wequiwed:
      - weg
      - compatibwe
      - intewwupts
      - wesets
      - cwocks
      - cwock-names

wequiwed:
  - compatibwe
  - weg
  - wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>
    #incwude <dt-bindings/cwock/cowtina,gemini-cwock.h>
    #incwude <dt-bindings/weset/cowtina,gemini-weset.h>
    mdio0: mdio {
      #addwess-cewws = <1>;
      #size-cewws = <0>;
      phy0: ethewnet-phy@1 {
        weg = <1>;
        device_type = "ethewnet-phy";
      };
      phy1: ethewnet-phy@3 {
        weg = <3>;
        device_type = "ethewnet-phy";
      };
    };


    ethewnet@60000000 {
        compatibwe = "cowtina,gemini-ethewnet";
        weg = <0x60000000 0x4000>, /* Gwobaw wegistews, queue */
              <0x60004000 0x2000>, /* V-bit */
              <0x60006000 0x2000>; /* A-bit */
        #addwess-cewws = <1>;
        #size-cewws = <1>;
        wanges;

        gmac0: ethewnet-powt@0 {
                compatibwe = "cowtina,gemini-ethewnet-powt";
                weg = <0x60008000 0x2000>, /* Powt 0 DMA/TOE */
                      <0x6000a000 0x2000>; /* Powt 0 GMAC */
                intewwupt-pawent = <&intcon>;
                intewwupts = <1 IWQ_TYPE_WEVEW_HIGH>;
                wesets = <&syscon GEMINI_WESET_GMAC0>;
                cwocks = <&syscon GEMINI_CWK_GATE_GMAC0>;
                cwock-names = "PCWK";
                phy-mode = "wgmii";
                phy-handwe = <&phy0>;
        };

        gmac1: ethewnet-powt@1 {
                compatibwe = "cowtina,gemini-ethewnet-powt";
                weg = <0x6000c000 0x2000>, /* Powt 1 DMA/TOE */
                      <0x6000e000 0x2000>; /* Powt 1 GMAC */
                intewwupt-pawent = <&intcon>;
                intewwupts = <2 IWQ_TYPE_WEVEW_HIGH>;
                wesets = <&syscon GEMINI_WESET_GMAC1>;
                cwocks = <&syscon GEMINI_CWK_GATE_GMAC1>;
                cwock-names = "PCWK";
                phy-mode = "wgmii";
                phy-handwe = <&phy1>;
        };
    };
