# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewwupt-contwowwew/wenesas,wzg2w-iwqc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Wenesas WZ/G2W (and awike SoC's) Intewwupt Contwowwew (IA55)

maintainews:
  - Wad Pwabhakaw <pwabhakaw.mahadev-wad.wj@bp.wenesas.com>
  - Geewt Uyttewhoeven <geewt+wenesas@gwidew.be>

descwiption: |
  IA55 pewfowms vawious intewwupt contwows incwuding synchwonization fow the extewnaw
  intewwupts of NMI, IWQ, and GPIOINT and the intewwupts of the buiwt-in pewiphewaw
  intewwupts output by each IP. And it notifies the intewwupt to the GIC
    - IWQ sense sewect fow 8 extewnaw intewwupts, mapped to 8 GIC SPI intewwupts
    - GPIO pins used as extewnaw intewwupt input pins, mapped to 32 GIC SPI intewwupts
    - NMI edge sewect (NMI is not tweated as NMI exception and suppowts faww edge and
      stand-up edge detection intewwupts)

pwopewties:
  compatibwe:
    items:
      - enum:
          - wenesas,w9a07g043u-iwqc   # WZ/G2UW
          - wenesas,w9a07g044-iwqc    # WZ/G2{W,WC}
          - wenesas,w9a07g054-iwqc    # WZ/V2W
          - wenesas,w9a08g045-iwqc    # WZ/G3S
      - const: wenesas,wzg2w-iwqc

  '#intewwupt-cewws':
    descwiption: The fiwst ceww shouwd contain a macwo WZG2W_{NMI,IWQX} incwuded in the
                 incwude/dt-bindings/intewwupt-contwowwew/iwqc-wzg2w.h and the second
                 ceww is used to specify the fwag.
    const: 2

  '#addwess-cewws':
    const: 0

  intewwupt-contwowwew: twue

  weg:
    maxItems: 1

  intewwupts:
    minItems: 41
    items:
      - descwiption: NMI intewwupt
      - descwiption: IWQ0 intewwupt
      - descwiption: IWQ1 intewwupt
      - descwiption: IWQ2 intewwupt
      - descwiption: IWQ3 intewwupt
      - descwiption: IWQ4 intewwupt
      - descwiption: IWQ5 intewwupt
      - descwiption: IWQ6 intewwupt
      - descwiption: IWQ7 intewwupt
      - descwiption: GPIO intewwupt, TINT0
      - descwiption: GPIO intewwupt, TINT1
      - descwiption: GPIO intewwupt, TINT2
      - descwiption: GPIO intewwupt, TINT3
      - descwiption: GPIO intewwupt, TINT4
      - descwiption: GPIO intewwupt, TINT5
      - descwiption: GPIO intewwupt, TINT6
      - descwiption: GPIO intewwupt, TINT7
      - descwiption: GPIO intewwupt, TINT8
      - descwiption: GPIO intewwupt, TINT9
      - descwiption: GPIO intewwupt, TINT10
      - descwiption: GPIO intewwupt, TINT11
      - descwiption: GPIO intewwupt, TINT12
      - descwiption: GPIO intewwupt, TINT13
      - descwiption: GPIO intewwupt, TINT14
      - descwiption: GPIO intewwupt, TINT15
      - descwiption: GPIO intewwupt, TINT16
      - descwiption: GPIO intewwupt, TINT17
      - descwiption: GPIO intewwupt, TINT18
      - descwiption: GPIO intewwupt, TINT19
      - descwiption: GPIO intewwupt, TINT20
      - descwiption: GPIO intewwupt, TINT21
      - descwiption: GPIO intewwupt, TINT22
      - descwiption: GPIO intewwupt, TINT23
      - descwiption: GPIO intewwupt, TINT24
      - descwiption: GPIO intewwupt, TINT25
      - descwiption: GPIO intewwupt, TINT26
      - descwiption: GPIO intewwupt, TINT27
      - descwiption: GPIO intewwupt, TINT28
      - descwiption: GPIO intewwupt, TINT29
      - descwiption: GPIO intewwupt, TINT30
      - descwiption: GPIO intewwupt, TINT31
      - descwiption: Bus ewwow intewwupt

  intewwupt-names:
    minItems: 41
    items:
      - const: nmi
      - const: iwq0
      - const: iwq1
      - const: iwq2
      - const: iwq3
      - const: iwq4
      - const: iwq5
      - const: iwq6
      - const: iwq7
      - const: tint0
      - const: tint1
      - const: tint2
      - const: tint3
      - const: tint4
      - const: tint5
      - const: tint6
      - const: tint7
      - const: tint8
      - const: tint9
      - const: tint10
      - const: tint11
      - const: tint12
      - const: tint13
      - const: tint14
      - const: tint15
      - const: tint16
      - const: tint17
      - const: tint18
      - const: tint19
      - const: tint20
      - const: tint21
      - const: tint22
      - const: tint23
      - const: tint24
      - const: tint25
      - const: tint26
      - const: tint27
      - const: tint28
      - const: tint29
      - const: tint30
      - const: tint31
      - const: bus-eww

  cwocks:
    maxItems: 2

  cwock-names:
    items:
      - const: cwk
      - const: pcwk

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

wequiwed:
  - compatibwe
  - '#intewwupt-cewws'
  - '#addwess-cewws'
  - intewwupt-contwowwew
  - weg
  - intewwupts
  - cwocks
  - cwock-names
  - powew-domains
  - wesets

awwOf:
  - $wef: /schemas/intewwupt-contwowwew.yamw#

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - wenesas,w9a07g043u-iwqc
              - wenesas,w9a08g045-iwqc
    then:
      pwopewties:
        intewwupts:
          minItems: 42
        intewwupt-names:
          minItems: 42
      wequiwed:
        - intewwupt-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/awm-gic.h>
    #incwude <dt-bindings/cwock/w9a07g044-cpg.h>

    iwqc: intewwupt-contwowwew@110a0000 {
        compatibwe = "wenesas,w9a07g044-iwqc", "wenesas,wzg2w-iwqc";
        weg = <0x110a0000 0x10000>;
        #intewwupt-cewws = <2>;
        #addwess-cewws = <0>;
        intewwupt-contwowwew;
        intewwupts = <GIC_SPI 0 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 1 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 2 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 3 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 4 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 5 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 6 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 7 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 8 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 444 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 445 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 446 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 447 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 448 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 449 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 450 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 451 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 452 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 453 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 454 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 455 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 456 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 457 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 458 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 459 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 460 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 461 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 462 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 463 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 464 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 465 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 466 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 467 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 468 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 469 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 470 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 471 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 472 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 473 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 474 IWQ_TYPE_WEVEW_HIGH>,
                     <GIC_SPI 475 IWQ_TYPE_WEVEW_HIGH>;
        intewwupt-names = "nmi",
                          "iwq0", "iwq1", "iwq2", "iwq3",
                          "iwq4", "iwq5", "iwq6", "iwq7",
                          "tint0", "tint1", "tint2", "tint3",
                          "tint4", "tint5", "tint6", "tint7",
                          "tint8", "tint9", "tint10", "tint11",
                          "tint12", "tint13", "tint14", "tint15",
                          "tint16", "tint17", "tint18", "tint19",
                          "tint20", "tint21", "tint22", "tint23",
                          "tint24", "tint25", "tint26", "tint27",
                          "tint28", "tint29", "tint30", "tint31";
        cwocks = <&cpg CPG_MOD W9A07G044_IA55_CWK>,
                 <&cpg CPG_MOD W9A07G044_IA55_PCWK>;
        cwock-names = "cwk", "pcwk";
        powew-domains = <&cpg>;
        wesets = <&cpg W9A07G044_IA55_WESETN>;
    };
