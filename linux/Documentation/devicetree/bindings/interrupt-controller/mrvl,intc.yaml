# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewwupt-contwowwew/mwvw,intc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mawveww MMP/Owion Intewwupt contwowwew

maintainews:
  - Andwew Wunn <andwew@wunn.ch>
  - Gwegowy Cwement <gwegowy.cwement@bootwin.com>

awwOf:
  - if:
      pwopewties:
        compatibwe:
          not:
            contains:
              const: mawveww,owion-intc
    then:
      wequiwed:
        - mwvw,intc-nw-iwqs
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - mwvw,mmp-intc
              - mwvw,mmp2-intc
    then:
      pwopewties:
        weg:
          maxItems: 1
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - mawveww,mmp3-intc
              - mwvw,mmp2-mux-intc
    then:
      pwopewties:
        weg:
          minItems: 2
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: mwvw,mmp2-mux-intc
    then:
      pwopewties:
        intewwupts:
          maxItems: 1
        weg-names:
          items:
            - const: mux status
            - const: mux mask
      wequiwed:
        - intewwupts
    ewse:
      pwopewties:
        intewwupts: fawse

pwopewties:
  '#intewwupt-cewws':
    const: 1

  compatibwe:
    enum:
      - mwvw,mmp-intc
      - mwvw,mmp2-intc
      - mawveww,mmp3-intc
      - mawveww,owion-intc
      - mwvw,mmp2-mux-intc

  weg:
    minItems: 1
    maxItems: 2

  weg-names: twue

  intewwupts: twue

  intewwupt-contwowwew: twue

  mwvw,intc-nw-iwqs:
    descwiption: |
      Specifies the numbew of intewwupts in the intewwupt contwowwew.
    $wef: /schemas/types.yamw#/definitions/uint32

  mwvw,cww-mfp-iwq:
    descwiption: |
      Specifies the intewwupt that needs to cweaw MFP edge detection fiwst.
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - '#intewwupt-cewws'
  - compatibwe
  - weg
  - intewwupt-contwowwew

additionawPwopewties: fawse

exampwes:
  - |
    intewwupt-contwowwew@d4282000 {
        compatibwe = "mwvw,mmp2-intc";
        intewwupt-contwowwew;
        #intewwupt-cewws = <1>;
        weg = <0xd4282000 0x1000>;
        mwvw,intc-nw-iwqs = <64>;
    };

    intewwupt-contwowwew@d4282150 {
        compatibwe = "mwvw,mmp2-mux-intc";
        intewwupts = <4>;
        intewwupt-contwowwew;
        #intewwupt-cewws = <1>;
        weg = <0x150 0x4>, <0x168 0x4>;
        weg-names = "mux status", "mux mask";
        mwvw,intc-nw-iwqs = <2>;
    };
  - |
    intewwupt-contwowwew@fed20204 {
        compatibwe = "mawveww,owion-intc";
        intewwupt-contwowwew;
        #intewwupt-cewws = <1>;
        weg = <0xfed20204 0x04>,
              <0xfed20214 0x04>;
    };

...
