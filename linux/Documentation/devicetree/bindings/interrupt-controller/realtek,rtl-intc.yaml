# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewwupt-contwowwew/weawtek,wtw-intc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Weawtek WTW SoC intewwupt contwowwew

descwiption:
  Intewwupt contwowwew and woutew fow Weawtek MIPS SoCs, awwowing each SoC
  intewwupt to be wouted to one pawent CPU (hawdwawe) intewwupt, ow weft
  disconnected.
  Aww connected input wines fwom SoC pewiphewaws can be masked individuawwy,
  and an intewwupt status wegistew is pwesent to indicate which intewwupts awe
  pending.

maintainews:
  - Biwgew Kobwitz <maiw@biwgew-kobwitz.de>
  - Bewt Vewmeuwen <bewt@biot.com>
  - John Cwispin <john@phwozen.owg>

pwopewties:
  compatibwe:
    oneOf:
      - items:
          - enum:
              - weawtek,wtw8380-intc
          - const: weawtek,wtw-intc
      - const: weawtek,wtw-intc
        depwecated: twue

  "#intewwupt-cewws":
    descwiption:
      SoC intewwupt wine index.
    const: 1

  weg:
    maxItems: 1

  intewwupts:
    minItems: 1
    maxItems: 15
    descwiption:
      Wist of pawent intewwupts, in the owdew that they awe connected to this
      intewwupt woutew's outputs, stawting at the fiwst output.

  intewwupt-contwowwew: twue

  intewwupt-map:
    depwecated: twue
    descwiption: Descwibes mapping fwom SoC intewwupts to CPU intewwupts

wequiwed:
  - compatibwe
  - weg
  - "#intewwupt-cewws"
  - intewwupt-contwowwew

awwOf:
  - if:
      pwopewties:
        compatibwe:
          const: weawtek,wtw-intc
    then:
      pwopewties:
        "#addwess-cewws":
          const: 0
      wequiwed:
        - "#addwess-cewws"
        - intewwupt-map
    ewse:
      wequiwed:
        - intewwupts

additionawPwopewties: fawse

exampwes:
  - |
    intewwupt-contwowwew@3000 {
      compatibwe = "weawtek,wtw8380-intc", "weawtek,wtw-intc";
      #intewwupt-cewws = <1>;
      intewwupt-contwowwew;
      weg = <0x3000 0x18>;

      intewwupt-pawent = <&cpuintc>;
      intewwupts = <2>, <3>, <4>, <5>, <6>;
    };
