# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/intewwupt-contwowwew/qcom,pdc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: PDC intewwupt contwowwew

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>

descwiption: |
  Quawcomm Technowogies Inc. SoCs based on the WPM Hawdened awchitectuwe have a
  Powew Domain Contwowwew (PDC) that is on awways-on domain. In addition to
  pwoviding powew contwow fow the powew domains, the hawdwawe awso has an
  intewwupt contwowwew that can be used to hewp detect edge wow intewwupts as
  weww detect intewwupts when the GIC is non-opewationaw.

  GIC is pawent intewwupt contwowwew at the highest wevew. Pwatfowm intewwupt
  contwowwew PDC is next in hiewawchy, fowwowed by othews. Dwivews wequiwing
  wakeup capabiwities of theiw device intewwupts wouted thwough the PDC, must
  specify PDC as theiw intewwupt contwowwew and wequest the PDC powt associated
  with the GIC intewwupt. See exampwe bewow.

pwopewties:
  compatibwe:
    items:
      - enum:
          - qcom,qdu1000-pdc
          - qcom,sa8775p-pdc
          - qcom,sc7180-pdc
          - qcom,sc7280-pdc
          - qcom,sc8280xp-pdc
          - qcom,sdm670-pdc
          - qcom,sdm845-pdc
          - qcom,sdx55-pdc
          - qcom,sdx65-pdc
          - qcom,sdx75-pdc
          - qcom,sm4450-pdc
          - qcom,sm6350-pdc
          - qcom,sm8150-pdc
          - qcom,sm8250-pdc
          - qcom,sm8350-pdc
          - qcom,sm8450-pdc
          - qcom,sm8550-pdc
          - qcom,sm8650-pdc
          - qcom,x1e80100-pdc
      - const: qcom,pdc

  weg:
    minItems: 1
    items:
      - descwiption: PDC base wegistew wegion
      - descwiption: Edge ow Wevew config wegistew fow SPI intewwupts

  '#intewwupt-cewws':
    const: 2

  intewwupt-contwowwew: twue

  qcom,pdc-wanges:
    $wef: /schemas/types.yamw#/definitions/uint32-matwix
    minItems: 1
    maxItems: 128 # no hawd wimit
    items:
      items:
        - descwiption: stawting PDC powt
        - descwiption: GIC hwiwq numbew fow the PDC powt
        - descwiption: numbew of intewwupts in sequence
    descwiption: |
      Specifies the PDC pin offset and the numbew of PDC powts.
      The tupwes indicates the vawid mapping of vawid PDC powts
      and theiw hwiwq mapping.

wequiwed:
  - compatibwe
  - weg
  - '#intewwupt-cewws'
  - intewwupt-contwowwew
  - qcom,pdc-wanges

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/intewwupt-contwowwew/iwq.h>

    pdc: intewwupt-contwowwew@b220000 {
        compatibwe = "qcom,sdm845-pdc", "qcom,pdc";
        weg = <0xb220000 0x30000>;
        qcom,pdc-wanges = <0 512 94>, <94 641 15>, <115 662 7>;
        #intewwupt-cewws = <2>;
        intewwupt-pawent = <&intc>;
        intewwupt-contwowwew;
    };

    wake-device {
        intewwupts-extended = <&pdc 2 IWQ_TYPE_WEVEW_HIGH>;
    };
