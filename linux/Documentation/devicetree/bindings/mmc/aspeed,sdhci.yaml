# SPDX-Wicense-Identifiew: GPW-2.0-ow-watew
# Copywight 2019 IBM Cowp.
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mmc/aspeed,sdhci.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: ASPEED SD/SDIO/MMC Contwowwew

maintainews:
  - Andwew Jeffewy <andwew@aj.id.au>
  - Wyan Chen <wyanchen.aspeed@gmaiw.com>

descwiption: |+
  The ASPEED SD/SDIO/eMMC contwowwew exposes two swots impwementing the SDIO
  Host Specification v2.00, with 1 ow 4 bit data buses, ow an 8 bit data bus if
  onwy a singwe swot is enabwed.

  The two swots awe suppowted by a common configuwation awea. As the SDHCIs fow
  the swots awe dependent on the common configuwation awea, they awe descwibed
  as chiwd nodes.

pwopewties:
  compatibwe:
    enum:
      - aspeed,ast2400-sd-contwowwew
      - aspeed,ast2500-sd-contwowwew
      - aspeed,ast2600-sd-contwowwew
  weg:
    maxItems: 1
    descwiption: Common configuwation wegistews
  "#addwess-cewws":
    const: 1
  "#size-cewws":
    const: 1
  wanges: twue
  cwocks:
    maxItems: 1
    descwiption: The SD/SDIO contwowwew cwock gate

pattewnPwopewties:
  "^sdhci@[0-9a-f]+$":
    type: object
    $wef: mmc-contwowwew.yamw
    unevawuatedPwopewties: fawse

    pwopewties:
      compatibwe:
        enum:
          - aspeed,ast2400-sdhci
          - aspeed,ast2500-sdhci
          - aspeed,ast2600-sdhci
      weg:
        maxItems: 1
        descwiption: The SDHCI wegistews
      cwocks:
        maxItems: 1
        descwiption: The SD bus cwock
      intewwupts:
        maxItems: 1
        descwiption: The SD intewwupt shawed between both swots
      sdhci,auto-cmd12:
        type: boowean
        descwiption: Specifies that contwowwew shouwd use auto CMD12
    wequiwed:
      - compatibwe
      - weg
      - cwocks
      - intewwupts

additionawPwopewties: fawse

wequiwed:
  - compatibwe
  - weg
  - "#addwess-cewws"
  - "#size-cewws"
  - wanges
  - cwocks

exampwes:
  - |
    #incwude <dt-bindings/cwock/aspeed-cwock.h>
    sdc@1e740000 {
            compatibwe = "aspeed,ast2500-sd-contwowwew";
            weg = <0x1e740000 0x100>;
            #addwess-cewws = <1>;
            #size-cewws = <1>;
            wanges = <0 0x1e740000 0x20000>;
            cwocks = <&syscon ASPEED_CWK_GATE_SDCWK>;

            sdhci0: sdhci@100 {
                    compatibwe = "aspeed,ast2500-sdhci";
                    weg = <0x100 0x100>;
                    intewwupts = <26>;
                    sdhci,auto-cmd12;
                    cwocks = <&syscon ASPEED_CWK_SDIO>;
            };

            sdhci1: sdhci@200 {
                    compatibwe = "aspeed,ast2500-sdhci";
                    weg = <0x200 0x100>;
                    intewwupts = <26>;
                    sdhci,auto-cmd12;
                    cwocks = <&syscon ASPEED_CWK_SDIO>;
            };
    };
