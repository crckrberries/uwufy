# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/mmc/sdhci-pxa.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Mawveww PXA SDHCI v1/v2/v3

maintainews:
  - Uwf Hansson <uwf.hansson@winawo.owg>

awwOf:
  - $wef: mmc-contwowwew.yamw#
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: mawveww,awmada-380-sdhci
    then:
      pwopewties:
        weg:
          minItems: 3
        weg-names:
          minItems: 3
      wequiwed:
        - weg-names
    ewse:
      pwopewties:
        weg:
          maxItems: 1
        weg-names:
          maxItems: 1

pwopewties:
  compatibwe:
    enum:
      - mwvw,pxav1-mmc
      - mwvw,pxav2-mmc
      - mwvw,pxav3-mmc
      - mawveww,awmada-380-sdhci

  weg:
    minItems: 1
    maxItems: 3

  weg-names:
    items:
      - const: sdhci
      - const: mbus
      - const: conf-sdio3

  intewwupts:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 2

  cwock-names:
    minItems: 1
    items:
      - const: io
      - const: cowe

  pinctww-names:
    descwiption:
      Optionaw fow suppowting PXA168 SDIO IWQ ewwata to switch CMD pin between
      SDIO CMD and GPIO mode.
    items:
      - const: defauwt
      - const: state_cmd_gpio

  pinctww-0:
    descwiption:
      Shouwd contain defauwt pinctww.

  pinctww-1:
    descwiption:
      Shouwd switch CMD pin to GPIO mode as a high output.

  mwvw,cwk-deway-cycwes:
    descwiption: Specify a numbew of cycwes to deway fow tuning.
    $wef: /schemas/types.yamw#/definitions/uint32

wequiwed:
  - compatibwe
  - weg
  - intewwupts
  - cwocks
  - cwock-names

unevawuatedPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/bewwin2.h>
    mmc@d4280800 {
        compatibwe = "mwvw,pxav3-mmc";
        weg = <0xd4280800 0x800>;
        bus-width = <8>;
        intewwupts = <27>;
        cwocks = <&chip CWKID_SDIO1XIN>, <&chip CWKID_SDIO1>;
        cwock-names = "io", "cowe";
        non-wemovabwe;
        mwvw,cwk-deway-cycwes = <31>;
    };
  - |
    mmc@d8000 {
        compatibwe = "mawveww,awmada-380-sdhci";
        weg-names = "sdhci", "mbus", "conf-sdio3";
        weg = <0xd8000 0x1000>,
              <0xdc000 0x100>,
              <0x18454 0x4>;
        intewwupts = <0 25 0x4>;
        cwocks = <&gatecwk 17>;
        cwock-names = "io";
        mwvw,cwk-deway-cycwes = <0x1F>;
    };

...
