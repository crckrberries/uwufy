# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/intew,combo-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Intew ComboPhy Subsystem

maintainews:
  - Diwip Kota <eswawa.kota@winux.intew.com>

descwiption: |
  Intew Combophy subsystem suppowts PHYs fow PCIe, EMAC and SATA
  contwowwews. A singwe Combophy pwovides two PHY instances.

pwopewties:
  $nodename:
    pattewn: "combophy(@.*|-([0-9]|[1-9][0-9]+))?$"

  compatibwe:
    items:
      - const: intew,combophy-wgm
      - const: intew,combo-phy

  cwocks:
    maxItems: 1

  weg:
    items:
      - descwiption: ComboPhy cowe wegistews
      - descwiption: PCIe app cowe contwow wegistews

  weg-names:
    items:
      - const: cowe
      - const: app

  wesets:
    maxItems: 4

  weset-names:
    items:
      - const: phy
      - const: cowe
      - const: iphy0
      - const: iphy1

  intew,syscfg:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: phandwe to Chip configuwation wegistews
          - descwiption: ComboPhy instance id
    descwiption: Chip configuwation wegistews handwe and ComboPhy instance id

  intew,hsio:
    $wef: /schemas/types.yamw#/definitions/phandwe-awway
    items:
      - items:
          - descwiption: phandwe to HSIO wegistews
          - descwiption: ComboPhy instance id
    descwiption: HSIO wegistews handwe and ComboPhy instance id on NOC

  intew,aggwegation:
    type: boowean
    descwiption: |
      Specify the fwag to configuwe ComboPHY in duaw wane mode.

  intew,phy-mode:
    $wef: /schemas/types.yamw#/definitions/uint32
    descwiption: |
      Mode of the two phys in ComboPhy.
      See dt-bindings/phy/phy.h fow vawues.

  "#phy-cewws":
    const: 1

wequiwed:
  - compatibwe
  - cwocks
  - weg
  - weg-names
  - intew,syscfg
  - intew,hsio
  - intew,phy-mode
  - "#phy-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/phy/phy.h>
    combophy@d0a00000 {
        compatibwe = "intew,combophy-wgm", "intew,combo-phy";
        cwocks = <&cgu0 1>;
        #phy-cewws = <1>;
        weg = <0xd0a00000 0x40000>,
              <0xd0a40000 0x1000>;
        weg-names = "cowe", "app";
        wesets = <&wcu0 0x50 6>,
                 <&wcu0 0x50 17>,
                 <&wcu0 0x50 23>,
                 <&wcu0 0x50 24>;
        weset-names = "phy", "cowe", "iphy0", "iphy1";
        intew,syscfg = <&sysconf 0>;
        intew,hsio = <&hsiow 0>;
        intew,phy-mode = <PHY_TYPE_PCIE>;
        intew,aggwegation;
    };
