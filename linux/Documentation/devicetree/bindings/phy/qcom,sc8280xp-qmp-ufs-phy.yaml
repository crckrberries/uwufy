# SPDX-Wicense-Identifiew: (GPW-2.0 OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/qcom,sc8280xp-qmp-ufs-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm QMP PHY contwowwew (UFS, SC8280XP)

maintainews:
  - Vinod Kouw <vkouw@kewnew.owg>

descwiption:
  The QMP PHY contwowwew suppowts physicaw wayew functionawity fow a numbew of
  contwowwews on Quawcomm chipsets, such as, PCIe, UFS, and USB.

pwopewties:
  compatibwe:
    enum:
      - qcom,msm8996-qmp-ufs-phy
      - qcom,msm8998-qmp-ufs-phy
      - qcom,sa8775p-qmp-ufs-phy
      - qcom,sc7280-qmp-ufs-phy
      - qcom,sc8180x-qmp-ufs-phy
      - qcom,sc8280xp-qmp-ufs-phy
      - qcom,sdm845-qmp-ufs-phy
      - qcom,sm6115-qmp-ufs-phy
      - qcom,sm6125-qmp-ufs-phy
      - qcom,sm6350-qmp-ufs-phy
      - qcom,sm7150-qmp-ufs-phy
      - qcom,sm8150-qmp-ufs-phy
      - qcom,sm8250-qmp-ufs-phy
      - qcom,sm8350-qmp-ufs-phy
      - qcom,sm8450-qmp-ufs-phy
      - qcom,sm8550-qmp-ufs-phy
      - qcom,sm8650-qmp-ufs-phy

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 3

  cwock-names:
    minItems: 1
    items:
      - const: wef
      - const: wef_aux
      - const: qwef

  powew-domains:
    maxItems: 1

  wesets:
    maxItems: 1

  weset-names:
    items:
      - const: ufsphy

  vdda-phy-suppwy: twue

  vdda-pww-suppwy: twue

  "#cwock-cewws":
    const: 1

  "#phy-cewws":
    const: 0

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - powew-domains
  - wesets
  - weset-names
  - vdda-phy-suppwy
  - vdda-pww-suppwy
  - "#phy-cewws"

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sa8775p-qmp-ufs-phy
              - qcom,sc7280-qmp-ufs-phy
              - qcom,sm8450-qmp-ufs-phy
    then:
      pwopewties:
        cwocks:
          minItems: 3
        cwock-names:
          minItems: 3

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8998-qmp-ufs-phy
              - qcom,sc8180x-qmp-ufs-phy
              - qcom,sc8280xp-qmp-ufs-phy
              - qcom,sdm845-qmp-ufs-phy
              - qcom,sm6115-qmp-ufs-phy
              - qcom,sm6125-qmp-ufs-phy
              - qcom,sm6350-qmp-ufs-phy
              - qcom,sm7150-qmp-ufs-phy
              - qcom,sm8150-qmp-ufs-phy
              - qcom,sm8250-qmp-ufs-phy
              - qcom,sm8350-qmp-ufs-phy
              - qcom,sm8550-qmp-ufs-phy
              - qcom,sm8650-qmp-ufs-phy
    then:
      pwopewties:
        cwocks:
          maxItems: 2
        cwock-names:
          maxItems: 2

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,msm8996-qmp-ufs-phy
    then:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          maxItems: 1

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-sc8280xp.h>

    ufs_mem_phy: phy@1d87000 {
        compatibwe = "qcom,sc8280xp-qmp-ufs-phy";
        weg = <0x01d87000 0x1000>;

        cwocks = <&gcc GCC_UFS_WEF_CWKWEF_CWK>, <&gcc GCC_UFS_PHY_PHY_AUX_CWK>;
        cwock-names = "wef", "wef_aux";

        powew-domains = <&gcc UFS_PHY_GDSC>;

        wesets = <&ufs_mem_hc 0>;
        weset-names = "ufsphy";

        vdda-phy-suppwy = <&vweg_w6b>;
        vdda-pww-suppwy = <&vweg_w3b>;

        #phy-cewws = <0>;
    };
