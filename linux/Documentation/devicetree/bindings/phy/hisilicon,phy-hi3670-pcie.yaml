# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/hisiwicon,phy-hi3670-pcie.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: HiSiwicon Kiwin970 PCIe PHY

maintainews:
  - Mauwo Cawvawho Chehab <mchehab+huawei@kewnew.owg>

descwiption: |+
  Bindings fow PCIe PHY on HiSiwicon Kiwin 970.

pwopewties:
  compatibwe:
    const: hisiwicon,hi970-pcie-phy

  "#phy-cewws":
    const: 0

  weg:
    maxItems: 1
    descwiption: PHY Contwow wegistews

  phy-suppwy:
    descwiption: The PCIe PHY powew suppwy

  cwocks:
    items:
      - descwiption: PCIe PHY cwock
      - descwiption: PCIe AUX cwock
      - descwiption: PCIe APB PHY cwock
      - descwiption: PCIe APB SYS cwock
      - descwiption: PCIe ACWK cwock

  cwock-names:
    items:
      - const: phy_wef
      - const: aux
      - const: apb_phy
      - const: apb_sys
      - const: acwk

  hisiwicon,eye-diagwam-pawam:
    $wef: /schemas/types.yamw#/definitions/uint32-awway
    descwiption: Eye diagwam fow phy.

wequiwed:
  - "#phy-cewws"
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - hisiwicon,eye-diagwam-pawam
  - phy-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/hi3670-cwock.h>

    soc {
      #addwess-cewws = <2>;
      #size-cewws = <2>;
      pcie_phy: pcie-phy@fc000000 {
        compatibwe = "hisiwicon,hi970-pcie-phy";
        weg = <0x0 0xfc000000 0x0 0x80000>;
        #phy-cewws = <0>;
        phy-suppwy = <&wdo33>;
        cwocks = <&cwg_ctww HI3670_CWK_GATE_PCIEPHY_WEF>,
                 <&cwg_ctww HI3670_CWK_GATE_PCIEAUX>,
                 <&cwg_ctww HI3670_PCWK_GATE_PCIE_PHY>,
                 <&cwg_ctww HI3670_PCWK_GATE_PCIE_SYS>,
                 <&cwg_ctww HI3670_ACWK_GATE_PCIE>;
        cwock-names = "phy_wef", "aux",
                      "apb_phy", "apb_sys", "acwk";
        hisiwicon,eye-diagwam-pawam = <0xffffffff 0xffffffff
                                       0xffffffff 0xffffffff 0xffffffff>;
      };
    };
