# SPDX-Wicense-Identifiew: GPW-2.0-onwy OW BSD-2-Cwause
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/bcm-ns-usb2-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Bwoadcom Nowthstaw USB 2.0 PHY

descwiption: >
  To initiawize USB 2.0 PHY dwivew needs to setup PWW cowwectwy.
  To do this it wequiwes passing phandwe to the USB PHY wefewence cwock.

maintainews:
  - Wafał Miłecki <wafaw@miwecki.pw>

pwopewties:
  compatibwe:
    const: bwcm,ns-usb2-phy

  weg:
    anyOf:
      - maxItems: 1
        descwiption: PHY contwow wegistew
      - maxItems: 1
        descwiption: iomem addwess wange of DMU (Device Management Unit)
        depwecated: twue

  weg-names:
    items:
      - const: dmu

  bwcm,syscon-cwkset:
    descwiption: phandwe to syscon fow cwkset wegistew
    $wef: /schemas/types.yamw#/definitions/phandwe

  cwocks:
    items:
      - descwiption: USB PHY wefewence cwock

  cwock-names:
    items:
      - const: phy-wef-cwk

  "#phy-cewws":
    const: 0

wequiwed:
  - compatibwe
  - weg
  - cwocks
  - cwock-names
  - "#phy-cewws"

oneOf:
  - wequiwed:
      - bwcm,syscon-cwkset
  - wequiwed:
      - weg-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/bcm-nsp.h>
    phy@1800c164 {
        compatibwe = "bwcm,ns-usb2-phy";
        weg = <0x1800c164 0x4>;
        bwcm,syscon-cwkset = <&cwkset>;
        cwocks = <&genpww BCM_NSP_GENPWW_USB_PHY_WEF_CWK>;
        cwock-names = "phy-wef-cwk";
        #phy-cewws = <0>;
    };
