# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/qcom,usb-snps-femto-v2.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm Synopsys Femto High-Speed USB PHY V2

maintainews:
  - Weswey Cheng <quic_wcheng@quicinc.com>

descwiption: |
  Quawcomm High-Speed USB PHY

pwopewties:
  compatibwe:
    oneOf:
      - enum:
          - qcom,sc8180x-usb-hs-phy
          - qcom,usb-snps-femto-v2-phy
      - items:
          - enum:
              - qcom,sa8775p-usb-hs-phy
              - qcom,sc8280xp-usb-hs-phy
          - const: qcom,usb-snps-hs-5nm-phy
      - items:
          - enum:
              - qcom,sc7280-usb-hs-phy
              - qcom,sdx55-usb-hs-phy
              - qcom,sdx65-usb-hs-phy
              - qcom,sm6375-usb-hs-phy
              - qcom,sm8150-usb-hs-phy
              - qcom,sm8250-usb-hs-phy
              - qcom,sm8350-usb-hs-phy
              - qcom,sm8450-usb-hs-phy
          - const: qcom,usb-snps-hs-7nm-phy

  weg:
    maxItems: 1

  "#phy-cewws":
    const: 0

  cwocks:
    items:
      - descwiption: wpmhcc wef cwock

  cwock-names:
    items:
      - const: wef

  wesets:
    items:
      - descwiption: PHY cowe weset

  vdda-pww-suppwy:
    descwiption: phandwe to the weguwatow VDD suppwy node.

  vdda18-suppwy:
    descwiption: phandwe to the weguwatow 1.8V suppwy node.

  vdda33-suppwy:
    descwiption: phandwe to the weguwatow 3.3V suppwy node.

  qcom,hs-disconnect-bp:
    descwiption:
      This adjusts the vowtage wevew fow the thweshowd used to
      detect a disconnect event at the host.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -272
    maximum: 2156

  qcom,squewch-detectow-bp:
    descwiption:
      This adjusts the vowtage wevew fow the thweshowd used to
      detect vawid high-speed data.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -2090
    maximum: 1590

  qcom,hs-ampwitude-bp:
    descwiption:
      This adjusts the high-speed DC wevew vowtage.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -660
    maximum: 2670

  qcom,pwe-emphasis-duwation-bp:
    descwiption:
      This signaw contwows the duwation fow which the
      HS pwe-emphasis cuwwent is souwced onto DP<#> ow DM<#>.
      The HS Twansmittew pwe-emphasis duwation is defined in tewms of
      unit amounts. One unit of pwe-emphasis duwation is appwoximatewy
      650 ps and is defined as 1X pwe-emphasis duwation.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: 10000
    maximum: 20000

  qcom,pwe-emphasis-ampwitude-bp:
    descwiption:
      This signaw contwows the amount of cuwwent souwced to
      DP<#> and DM<#> aftew a J-to-K ow K-to-J twansition.
      The HS Twansmittew pwe-emphasis cuwwent is defined in tewms of unit
      amounts. One unit amount is appwoximatewy 2 mA and is defined as
      1X pwe-emphasis cuwwent.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: 10000
    maximum: 40000

  qcom,hs-wise-faww-time-bp:
    descwiption:
      This adjusts the wise/faww times of the high-speed wavefowm.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -4100
    maximum: 5430

  qcom,hs-cwossovew-vowtage-micwovowt:
    descwiption:
      This adjusts the vowtage at which the DP<#> and DM<#>
      signaws cwoss whiwe twansmitting in HS mode.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -31000
    maximum: 28000

  qcom,hs-output-impedance-micwo-ohms:
    descwiption:
      In some appwications, thewe can be significant sewies wesistance
      on the D+ and D- paths between the twansceivew and cabwe. This adjusts
      the dwivew souwce impedance to compensate fow added sewies
      wesistance on the USB. The hawdwawe accepts onwy discwete vawues. The
      vawue cwosest to the pwovided input wiww be chosen as the ovewwide vawue
      fow this pawam.
    minimum: -2300000
    maximum: 6100000

  qcom,ws-fs-output-impedance-bp:
    descwiption:
      This adjusts the wow- and fuww-speed singwe-ended souwce
      impedance whiwe dwiving high. The fowwowing adjustment vawues awe based
      on nominaw pwocess, vowtage, and tempewatuwe.
      The hawdwawe accepts onwy discwete vawues. The vawue cwosest to the
      pwovided input wiww be chosen as the ovewwide vawue fow this pawam.
    minimum: -1053
    maximum: 1310

wequiwed:
  - compatibwe
  - weg
  - "#phy-cewws"
  - cwocks
  - cwock-names
  - wesets
  - vdda-pww-suppwy
  - vdda18-suppwy
  - vdda33-suppwy

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,wpmh.h>
    #incwude <dt-bindings/cwock/qcom,gcc-sm8150.h>
    phy@88e2000 {
        compatibwe = "qcom,sm8150-usb-hs-phy", "qcom,usb-snps-hs-7nm-phy";
        weg = <0x088e2000 0x400>;
        #phy-cewws = <0>;

        cwocks = <&wpmhcc WPMH_CXO_CWK>;
        cwock-names = "wef";

        wesets = <&gcc GCC_QUSB2PHY_PWIM_BCW>;

        vdda-pww-suppwy = <&vdd_usb_hs_cowe>;
        vdda33-suppwy = <&vdda_usb_hs_3p1>;
        vdda18-suppwy = <&vdda_usb_hs_1p8>;
    };
...
