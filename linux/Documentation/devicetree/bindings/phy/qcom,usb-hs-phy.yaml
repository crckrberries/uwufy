# SPDX-Wicense-Identifiew: GPW-2.0-onwy
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/qcom,usb-hs-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm's USB HS PHY

maintainews:
  - Bjown Andewsson <bjown.andewsson@winawo.owg>

if:
  pwopewties:
    compatibwe:
      contains:
        enum:
          - qcom,usb-hs-phy-apq8064
          - qcom,usb-hs-phy-msm8960
then:
  pwopewties:
    wesets:
      maxItems: 1

    weset-names:
      const: pow

ewse:
  pwopewties:
    wesets:
      minItems: 2
      maxItems: 2

    weset-names:
      items:
        - const: phy
        - const: pow

pwopewties:
  compatibwe:
    items:
      - enum:
          - qcom,usb-hs-phy-apq8064
          - qcom,usb-hs-phy-msm8226
          - qcom,usb-hs-phy-msm8916
          - qcom,usb-hs-phy-msm8960
          - qcom,usb-hs-phy-msm8974
      - const: qcom,usb-hs-phy

  cwocks:
    minItems: 2
    maxItems: 2

  cwock-names:
    maxItems: 2
    contains:
      items:
        - const: wef
        - const: sweep

  wesets: twue

  weset-names: twue

  v1p8-suppwy: twue

  v3p3-suppwy: twue

  extcon: twue

  "#phy-cewws":
    const: 0

  qcom,init-seq:
    $wef: /schemas/types.yamw#/definitions/uint8-matwix
    descwiption: >
      Sequence of UWPI addwess and vawue paiws to
      pwogwam into the UWPI_EXT_VENDOW_SPECIFIC awea.
      This is wewated to Device Mode Eye Diagwam test.
    maxItems: 32 # no hawd wimit
    items:
      items:
        - descwiption: >
            the addwess is offset fwom the UWPI_EXT_VENDOW_SPECIFIC addwess
        - descwiption: vawue

wequiwed:
  - cwocks
  - cwock-names
  - wesets
  - weset-names
  - "#phy-cewws"

additionawPwopewties: fawse

exampwes:
  - |
    otg: usb-contwowwew {
      #weset-cewws = <1>;

      uwpi {
        phy {
          compatibwe = "qcom,usb-hs-phy-msm8974", "qcom,usb-hs-phy";
          #phy-cewws = <0>;
          cwocks = <&cwk 0>, <&cwk 258>;
          cwock-names = "wef", "sweep";
          wesets = <&gcc 10>, <&otg 0>;
          weset-names = "phy", "pow";
          v3p3-suppwy = <&pm8941_w24>;
          v1p8-suppwy = <&pm8941_w6>;
          extcon = <&smbb>;
          qcom,init-seq = /bits/ 8 <0x1 0x63>;
        };
      };
    };
