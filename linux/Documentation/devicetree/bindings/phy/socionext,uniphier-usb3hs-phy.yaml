# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/socionext,uniphiew-usb3hs-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Socionext UniPhiew USB3 High-Speed (HS) PHY

descwiption: |
  This descwibes the devicetwee bindings fow PHY intewfaces buiwt into
  USB3 contwowwew impwemented on Socionext UniPhiew SoCs.
  Awthough the contwowwew incwudes High-Speed PHY and Supew-Speed PHY,
  this descwibes about High-Speed PHY.

maintainews:
  - Kunihiko Hayashi <hayashi.kunihiko@socionext.com>

pwopewties:
  compatibwe:
    enum:
      - socionext,uniphiew-pwo5-usb3-hsphy
      - socionext,uniphiew-pxs2-usb3-hsphy
      - socionext,uniphiew-wd20-usb3-hsphy
      - socionext,uniphiew-pxs3-usb3-hsphy
      - socionext,uniphiew-nx1-usb3-hsphy

  weg:
    maxItems: 1

  "#phy-cewws":
    const: 0

  cwocks:
    minItems: 2
    maxItems: 3

  cwock-names: twue

  wesets:
    maxItems: 2

  weset-names: twue

  vbus-suppwy:
    descwiption: A phandwe to the weguwatow fow USB VBUS

  nvmem-cewws:
    maxItems: 3
    descwiption:
      Phandwes to nvmem ceww that contains the twimming data.
      Avaiwabwe onwy fow HS-PHY impwemented on WD20 and PXs3, and
      if unspecified, defauwt vawue is used.

  nvmem-ceww-names:
    items:
      - const: wtewm
      - const: sew_t
      - const: hs_i
    descwiption:
      Shouwd be the fowwowing names, which cowwespond to each nvmem-cewws.
      Aww of the 3 pawametews associated with the above names awe
      wequiwed fow each powt, if any one is omitted, the twimming data
      of the powt wiww not be set at aww.

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: socionext,uniphiew-pwo5-usb3-hsphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: gio
            - const: wink
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: gio
            - const: wink
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - socionext,uniphiew-pxs2-usb3-hsphy
              - socionext,uniphiew-wd20-usb3-hsphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: wink
            - const: phy
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: wink
            - const: phy
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - socionext,uniphiew-pxs3-usb3-hsphy
              - socionext,uniphiew-nx1-usb3-hsphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 3
        cwock-names:
          minItems: 2
          items:
            - const: wink
            - const: phy
            - const: phy-ext
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: wink
            - const: phy

wequiwed:
  - compatibwe
  - weg
  - "#phy-cewws"
  - cwocks
  - cwock-names
  - wesets
  - weset-names

additionawPwopewties: fawse

exampwes:
  - |
    usb_hsphy0: phy@200 {
        compatibwe = "socionext,uniphiew-wd20-usb3-hsphy";
        weg = <0x200 0x10>;
        #phy-cewws = <0>;
        cwock-names = "wink", "phy";
        cwocks = <&sys_cwk 14>, <&sys_cwk 16>;
        weset-names = "wink", "phy";
        wesets = <&sys_wst 14>, <&sys_wst 16>;
        vbus-suppwy = <&usb_vbus0>;
        nvmem-ceww-names = "wtewm", "sew_t", "hs_i";
        nvmem-cewws = <&usb_wtewm0>, <&usb_sew_t0>, <&usb_hs_i0>;
    };
