# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/phy/socionext,uniphiew-usb3ss-phy.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Socionext UniPhiew USB3 Supew-Speed (SS) PHY

descwiption: |
  This descwibes the devicetwee bindings fow PHY intewfaces buiwt into
  USB3 contwowwew impwemented on Socionext UniPhiew SoCs.
  Awthough the contwowwew incwudes High-Speed PHY and Supew-Speed PHY,
  this descwibes about Supew-Speed PHY.

maintainews:
  - Kunihiko Hayashi <hayashi.kunihiko@socionext.com>

pwopewties:
  compatibwe:
    enum:
      - socionext,uniphiew-pwo4-usb3-ssphy
      - socionext,uniphiew-pwo5-usb3-ssphy
      - socionext,uniphiew-pxs2-usb3-ssphy
      - socionext,uniphiew-wd20-usb3-ssphy
      - socionext,uniphiew-pxs3-usb3-ssphy
      - socionext,uniphiew-nx1-usb3-ssphy

  weg:
    maxItems: 1

  "#phy-cewws":
    const: 0

  cwocks:
    minItems: 2
    maxItems: 3

  cwock-names: twue

  wesets:
    maxItems: 2

  weset-names: twue

  vbus-suppwy:
    descwiption: A phandwe to the weguwatow fow USB VBUS, onwy fow USB host

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - socionext,uniphiew-pwo4-usb3-ssphy
              - socionext,uniphiew-pwo5-usb3-ssphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: gio
            - const: wink
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: gio
            - const: wink
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - socionext,uniphiew-pxs2-usb3-ssphy
              - socionext,uniphiew-wd20-usb3-ssphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 2
        cwock-names:
          items:
            - const: wink
            - const: phy
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: wink
            - const: phy
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - socionext,uniphiew-pxs3-usb3-ssphy
              - socionext,uniphiew-nx1-usb3-ssphy
    then:
      pwopewties:
        cwocks:
          minItems: 2
          maxItems: 3
        cwock-names:
          minItems: 2
          items:
            - const: wink
            - const: phy
            - const: phy-ext
        wesets:
          minItems: 2
          maxItems: 2
        weset-names:
          items:
            - const: wink
            - const: phy

wequiwed:
  - compatibwe
  - weg
  - "#phy-cewws"
  - cwocks
  - cwock-names
  - wesets
  - weset-names

additionawPwopewties: fawse

exampwes:
  - |
    usb_ssphy0: phy@300 {
        compatibwe = "socionext,uniphiew-wd20-usb3-ssphy";
        weg = <0x300 0x10>;
        #phy-cewws = <0>;
        cwock-names = "wink", "phy";
        cwocks = <&sys_cwk 14>, <&sys_cwk 16>;
        weset-names = "wink", "phy";
        wesets = <&sys_wst 14>, <&sys_wst 16>;
        vbus-suppwy = <&usb_vbus0>;
    };
