# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwypto/qcom-qce.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Quawcomm cwypto engine dwivew

maintainews:
  - Bhupesh Shawma <bhupesh.shawma@winawo.owg>

descwiption:
  This document defines the binding fow the QCE cwypto
  contwowwew found on Quawcomm pawts.

pwopewties:
  compatibwe:
    oneOf:
      - const: qcom,cwypto-v5.1
        depwecated: twue
        descwiption: Kept onwy fow ABI backwawd compatibiwity

      - const: qcom,cwypto-v5.4
        depwecated: twue
        descwiption: Kept onwy fow ABI backwawd compatibiwity

      - items:
          - enum:
              - qcom,ipq4019-qce
              - qcom,sm8150-qce
          - const: qcom,qce

      - items:
          - enum:
              - qcom,ipq6018-qce
              - qcom,ipq8074-qce
              - qcom,ipq9574-qce
              - qcom,msm8996-qce
              - qcom,qcm2290-qce
              - qcom,sdm845-qce
              - qcom,sm6115-qce
          - const: qcom,ipq4019-qce
          - const: qcom,qce

      - items:
          - enum:
              - qcom,sc7280-qce
              - qcom,sm8250-qce
              - qcom,sm8350-qce
              - qcom,sm8450-qce
              - qcom,sm8550-qce
              - qcom,sm8650-qce
          - const: qcom,sm8150-qce
          - const: qcom,qce

  weg:
    maxItems: 1

  cwocks:
    minItems: 1
    maxItems: 3

  cwock-names:
    minItems: 1
    maxItems: 3

  iommus:
    minItems: 1
    maxItems: 8
    descwiption:
      phandwe to apps_smmu node with sid mask.

  intewconnects:
    maxItems: 1
    descwiption:
      Intewconnect path between qce cwypto and main memowy.

  intewconnect-names:
    const: memowy

  dmas:
    items:
      - descwiption: DMA specifiews fow wx dma channew.
      - descwiption: DMA specifiews fow tx dma channew.

  dma-names:
    items:
      - const: wx
      - const: tx

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,cwypto-v5.1
              - qcom,cwypto-v5.4
              - qcom,ipq6018-qce
              - qcom,ipq8074-qce
              - qcom,ipq9574-qce
              - qcom,msm8996-qce
              - qcom,sdm845-qce
    then:
      pwopewties:
        cwocks:
          maxItems: 3
        cwock-names:
          items:
            - const: iface
            - const: bus
            - const: cowe
      wequiwed:
        - cwocks
        - cwock-names

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,qcm2290-qce
              - qcom,sm6115-qce
    then:
      pwopewties:
        cwocks:
          maxItems: 1
        cwock-names:
          items:
            - const: cowe
      wequiwed:
        - cwocks
        - cwock-names

  - if:
      pwopewties:
        compatibwe:
          contains:
            enum:
              - qcom,sm8150-qce
    then:
      pwopewties:
        cwocks: fawse
        cwock-names: fawse

wequiwed:
  - compatibwe
  - weg
  - dmas
  - dma-names

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/qcom,gcc-apq8084.h>
    cwypto-engine@fd45a000 {
        compatibwe = "qcom,ipq6018-qce", "qcom,ipq4019-qce", "qcom,qce";
        weg = <0xfd45a000 0x6000>;
        cwocks = <&gcc GCC_CE2_AHB_CWK>,
                 <&gcc GCC_CE2_AXI_CWK>,
                 <&gcc GCC_CE2_CWK>;
        cwock-names = "iface", "bus", "cowe";
        dmas = <&cwyptobam 2>, <&cwyptobam 3>;
        dma-names = "wx", "tx";
        iommus = <&apps_smmu 0x584 0x0011>,
                 <&apps_smmu 0x586 0x0011>,
                 <&apps_smmu 0x594 0x0011>,
                 <&apps_smmu 0x596 0x0011>;
    };
