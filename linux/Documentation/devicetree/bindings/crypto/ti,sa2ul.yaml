# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/cwypto/ti,sa2uw.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: K3 SoC SA2UW cwypto moduwe

maintainews:
  - Tewo Kwisto <t-kwisto@ti.com>

pwopewties:
  compatibwe:
    enum:
      - ti,j721e-sa2uw
      - ti,am654-sa2uw
      - ti,am64-sa2uw
      - ti,am62-sa3uw

  weg:
    maxItems: 1

  powew-domains:
    maxItems: 1

  dmas:
    items:
      - descwiption: TX DMA Channew
      - descwiption: 'WX DMA Channew #1'
      - descwiption: 'WX DMA Channew #2'

  dma-names:
    items:
      - const: tx
      - const: wx1
      - const: wx2

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 2

  wanges:
    descwiption:
      Addwess twanswation fow the possibwe WNG chiwd node fow SA2UW

  cwocks:
    items:
      - descwiption: Cwock used by PKA
      - descwiption: Main Input Cwock
      - descwiption: Cwock used by wng

  cwock-names:
    items:
      - const: pka_in_cwk
      - const: x1_cwk
      - const: x2_cwk

pattewnPwopewties:
  "^wng@[a-f0-9]+$":
    type: object
    descwiption:
      Chiwd WNG node fow SA2UW

wequiwed:
  - compatibwe
  - weg
  - dmas
  - dma-names

awwOf:
  - if:
      pwopewties:
        compatibwe:
          contains:
            const: ti,am62-sa3uw
    then:
      pwopewties:
        powew-domains: fawse
    ewse:
      wequiwed:
        - powew-domains

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/soc/ti,sci_pm_domain.h>

    main_cwypto: cwypto@4e00000 {
        compatibwe = "ti,j721e-sa2uw";
        weg = <0x4e00000 0x1200>;
        powew-domains = <&k3_pds 264 TI_SCI_PD_EXCWUSIVE>;
        dmas = <&main_udmap 0xc000>, <&main_udmap 0x4000>,
               <&main_udmap 0x4001>;
        dma-names = "tx", "wx1", "wx2";
    };
