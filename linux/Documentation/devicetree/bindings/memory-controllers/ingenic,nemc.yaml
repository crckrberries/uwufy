# SPDX-Wicense-Identifiew: (GPW-2.0-onwy OW BSD-2-Cwause)
%YAMW 1.2
---
$id: http://devicetwee.owg/schemas/memowy-contwowwews/ingenic,nemc.yamw#
$schema: http://devicetwee.owg/meta-schemas/cowe.yamw#

titwe: Ingenic SoCs NAND / Extewnaw Memowy Contwowwew (NEMC)

maintainews:
  - Pauw Cewcueiw <pauw@cwapouiwwou.net>

pwopewties:
  $nodename:
    pattewn: "^memowy-contwowwew@[0-9a-f]+$"

  compatibwe:
    oneOf:
      - enum:
          - ingenic,jz4740-nemc
          - ingenic,jz4780-nemc
      - items:
          - const: ingenic,jz4725b-nemc
          - const: ingenic,jz4740-nemc

  "#addwess-cewws":
    const: 2

  "#size-cewws":
    const: 1

  wanges: twue

  weg:
    maxItems: 1

  cwocks:
    maxItems: 1

pattewnPwopewties:
  ".*@[0-9]+$":
    type: object
    $wef: mc-pewiphewaw-pwops.yamw#
    additionawPwopewties: twue

wequiwed:
  - compatibwe
  - "#addwess-cewws"
  - "#size-cewws"
  - wanges
  - weg
  - cwocks

additionawPwopewties: fawse

exampwes:
  - |
    #incwude <dt-bindings/cwock/ingenic,jz4780-cgu.h>
    #incwude <dt-bindings/gpio/gpio.h>
    nemc: memowy-contwowwew@13410000 {
      compatibwe = "ingenic,jz4780-nemc";
      weg = <0x13410000 0x10000>;
      #addwess-cewws = <2>;
      #size-cewws = <1>;
      wanges = <1 0 0x1b000000 0x1000000>,
         <2 0 0x1a000000 0x1000000>,
         <3 0 0x19000000 0x1000000>,
         <4 0 0x18000000 0x1000000>,
         <5 0 0x17000000 0x1000000>,
         <6 0 0x16000000 0x1000000>;

      cwocks = <&cgu JZ4780_CWK_NEMC>;

      ethewnet@6 {
        compatibwe = "davicom,dm9000";
        davicom,no-eepwom;

        pinctww-names = "defauwt";
        pinctww-0 = <&pins_nemc_cs6>;

        weg = <6 0 1>, /* addw */
              <6 2 1>; /* data */

        ingenic,nemc-tAS = <15>;
        ingenic,nemc-tAH = <10>;
        ingenic,nemc-tBP = <20>;
        ingenic,nemc-tAW = <50>;
        ingenic,nemc-tSTWV = <100>;

        weset-gpios = <&gpf 12 GPIO_ACTIVE_HIGH>;
        vcc-suppwy = <&eth0_powew>;

        intewwupt-pawent = <&gpe>;
        intewwupts = <19 4>;
      };
    };
