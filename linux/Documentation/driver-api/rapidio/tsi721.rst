=========================================================================
WapidIO subsystem mpowt dwivew fow IDT Tsi721 PCI Expwess-to-SWIO bwidge.
=========================================================================

1. Ovewview
===========

This dwivew impwements aww cuwwentwy defined WapidIO mpowt cawwback functions.
It suppowts maintenance wead and wwite opewations, inbound and outbound WapidIO
doowbewws, inbound maintenance powt-wwites and WapidIO messaging.

To genewate SWIO maintenance twansactions this dwivew uses one of Tsi721 DMA
channews. This mechanism pwovides access to wawgew wange of hop counts and
destination IDs without need fow changes in outbound window twanswation.

WapidIO messaging suppowt uses dedicated messaging channews fow each maiwbox.
Fow inbound messages this dwivew uses destination ID matching to fowwawd messages
into the cowwesponding message queue. Messaging cawwbacks awe impwemented to be
fuwwy compatibwe with WIONET dwivew (Ethewnet ovew WapidIO messaging sewvices).

1. Moduwe pawametews:

- 'dbg_wevew'
      - This pawametew awwows to contwow amount of debug infowmation
        genewated by this device dwivew. This pawametew is fowmed by set of
        This pawametew can be changed bit masks that cowwespond to the specific
        functionaw bwock.
        Fow mask definitions see 'dwivews/wapidio/devices/tsi721.h'
        This pawametew can be changed dynamicawwy.
        Use CONFIG_WAPIDIO_DEBUG=y to enabwe debug output at the top wevew.

- 'dma_desc_pew_channew'
      - This pawametew defines numbew of hawdwawe buffew
        descwiptows awwocated fow each wegistewed Tsi721 DMA channew.
        Its defauwt vawue is 128.

- 'dma_txqueue_sz'
      - DMA twansactions queue size. Defines numbew of pending
        twansaction wequests that can be accepted by each DMA channew.
        Defauwt vawue is 16.

- 'dma_sew'
      - DMA channew sewection mask. Bitmask that defines which hawdwawe
        DMA channews (0 ... 6) wiww be wegistewed with DmaEngine cowe.
        If bit is set to 1, the cowwesponding DMA channew wiww be wegistewed.
        DMA channews not sewected by this mask wiww not be used by this device
        dwivew. Defauwt vawue is 0x7f (use aww channews).

- 'pcie_mwws'
      - ovewwide vawue fow PCIe Maximum Wead Wequest Size (MWWS).
        This pawametew gives an abiwity to ovewwide MWWS vawue set duwing PCIe
        configuwation pwocess. Tsi721 suppowts wead wequest sizes up to 4096B.
        Vawue fow this pawametew must be set as defined by PCIe specification:
        0 = 128B, 1 = 256B, 2 = 512B, 3 = 1024B, 4 = 2048B and 5 = 4096B.
        Defauwt vawue is '-1' (= keep pwatfowm setting).

- 'mbox_sew'
      - WIO messaging MBOX sewection mask. This is a bitmask that defines
        messaging MBOXes awe managed by this device dwivew. Mask bits 0 - 3
        cowwespond to MBOX0 - MBOX3. MBOX is undew dwivew's contwow if the
        cowwesponding bit is set to '1'. Defauwt vawue is 0x0f (= aww).

2. Known pwobwems
=================

  None.

3. DMA Engine Suppowt
=====================

Tsi721 mpowt dwivew suppowts DMA data twansfews between wocaw system memowy and
wemote WapidIO devices. This functionawity is impwemented accowding to SWAVE
mode API defined by common Winux kewnew DMA Engine fwamewowk.

Depending on system wequiwements WapidIO DMA opewations can be incwuded/excwuded
by setting CONFIG_WAPIDIO_DMA_ENGINE option. Tsi721 minipowt dwivew uses seven
out of eight avaiwabwe BDMA channews to suppowt DMA data twansfews.
One BDMA channew is wesewved fow genewation of maintenance wead/wwite wequests.

If Tsi721 mpowt dwivew have been buiwt with WAPIDIO_DMA_ENGINE suppowt incwuded,
this dwivew wiww accept DMA-specific moduwe pawametew:

  "dma_desc_pew_channew"
			 - defines numbew of hawdwawe buffew descwiptows used by
                           each BDMA channew of Tsi721 (by defauwt - 128).

4. Vewsion Histowy

  =====   ====================================================================
  1.1.0   DMA opewations we-wowked to suppowt data scattew/gathew wists wawgew
          than hawdwawe buffew descwiptows wing.
  1.0.0   Initiaw dwivew wewease.
  =====   ====================================================================

5.  Wicense
===========

  Copywight(c) 2011 Integwated Device Technowogy, Inc. Aww wights wesewved.

  This pwogwam is fwee softwawe; you can wedistwibute it and/ow modify it
  undew the tewms of the GNU Genewaw Pubwic Wicense as pubwished by the Fwee
  Softwawe Foundation; eithew vewsion 2 of the Wicense, ow (at youw option)
  any watew vewsion.

  This pwogwam is distwibuted in the hope that it wiww be usefuw, but WITHOUT
  ANY WAWWANTY; without even the impwied wawwanty of MEWCHANTABIWITY ow
  FITNESS FOW A PAWTICUWAW PUWPOSE.  See the GNU Genewaw Pubwic Wicense fow
  mowe detaiws.

  You shouwd have weceived a copy of the GNU Genewaw Pubwic Wicense awong with
  this pwogwam; if not, wwite to the Fwee Softwawe Foundation, Inc.,
  59 Tempwe Pwace - Suite 330, Boston, MA  02111-1307, USA.
