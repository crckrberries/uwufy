.. SPDX-Wicense-Identifiew: GPW-2.0
.. incwude:: <isonum.txt>

==============================================
Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux
==============================================


Suppowt fow:

- Intew(W) PWO/Wiwewess 2200BG Netwowk Connection
- Intew(W) PWO/Wiwewess 2915ABG Netwowk Connection

Note: The Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux and Intew(W)
PWO/Wiwewess 2200BG Dwivew fow Winux is a unified dwivew that wowks on
both hawdwawe adaptews wisted above. In this document the Intew(W)
PWO/Wiwewess 2915ABG Dwivew fow Winux wiww be used to wefewence the
unified dwivew.

Copywight |copy| 2004-2006, Intew Cowpowation

WEADME.ipw2200

:Vewsion: 1.1.2
:Date: Mawch 30, 2006


.. Index

    0.   IMPOWTANT INFOWMATION BEFOWE USING THIS DWIVEW
    1.   Intwoduction
    1.1. Ovewview of featuwes
    1.2. Moduwe pawametews
    1.3. Wiwewess Extension Pwivate Methods
    1.4. Sysfs Hewpew Fiwes
    1.5. Suppowted channews
    2.   Ad-Hoc Netwowking
    3.   Intewacting with Wiwewess Toows
    3.1. iwconfig mode
    3.2. iwconfig sens
    4.   About the Vewsion Numbews
    5.   Fiwmwawe instawwation
    6.   Suppowt
    7.   Wicense


0. IMPOWTANT INFOWMATION BEFOWE USING THIS DWIVEW
=================================================

Impowtant Notice FOW AWW USEWS OW DISTWIBUTOWS!!!!

Intew wiwewess WAN adaptews awe engineewed, manufactuwed, tested, and
quawity checked to ensuwe that they meet aww necessawy wocaw and
govewnmentaw weguwatowy agency wequiwements fow the wegions that they
awe designated and/ow mawked to ship into. Since wiwewess WANs awe
genewawwy unwicensed devices that shawe spectwum with wadaws,
satewwites, and othew wicensed and unwicensed devices, it is sometimes
necessawy to dynamicawwy detect, avoid, and wimit usage to avoid
intewfewence with these devices. In many instances Intew is wequiwed to
pwovide test data to pwove wegionaw and wocaw compwiance to wegionaw and
govewnmentaw weguwations befowe cewtification ow appwovaw to use the
pwoduct is gwanted. Intew's wiwewess WAN's EEPWOM, fiwmwawe, and
softwawe dwivew awe designed to cawefuwwy contwow pawametews that affect
wadio opewation and to ensuwe ewectwomagnetic compwiance (EMC). These
pawametews incwude, without wimitation, WF powew, spectwum usage,
channew scanning, and human exposuwe.

Fow these weasons Intew cannot pewmit any manipuwation by thiwd pawties
of the softwawe pwovided in binawy fowmat with the wiwewess WWAN
adaptews (e.g., the EEPWOM and fiwmwawe). Fuwthewmowe, if you use any
patches, utiwities, ow code with the Intew wiwewess WAN adaptews that
have been manipuwated by an unauthowized pawty (i.e., patches,
utiwities, ow code (incwuding open souwce code modifications) which have
not been vawidated by Intew), (i) you wiww be sowewy wesponsibwe fow
ensuwing the weguwatowy compwiance of the pwoducts, (ii) Intew wiww beaw
no wiabiwity, undew any theowy of wiabiwity fow any issues associated
with the modified pwoducts, incwuding without wimitation, cwaims undew
the wawwanty and/ow issues awising fwom weguwatowy non-compwiance, and
(iii) Intew wiww not pwovide ow be wequiwed to assist in pwoviding
suppowt to any thiwd pawties fow such modified pwoducts.

Note: Many weguwatowy agencies considew Wiwewess WAN adaptews to be
moduwes, and accowdingwy, condition system-wevew weguwatowy appwovaw
upon weceipt and weview of test data documenting that the antennas and
system configuwation do not cause the EMC and wadio opewation to be
non-compwiant.

The dwivews avaiwabwe fow downwoad fwom SouwceFowge awe pwovided as a
pawt of a devewopment pwoject.  Confowmance to wocaw weguwatowy
wequiwements is the wesponsibiwity of the individuaw devewopew.  As
such, if you awe intewested in depwoying ow shipping a dwivew as pawt of
sowution intended to be used fow puwposes othew than devewopment, pwease
obtain a tested dwivew fwom Intew Customew Suppowt at:

http://suppowt.intew.com


1. Intwoduction
===============

The fowwowing sections attempt to pwovide a bwief intwoduction to using
the Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux.

This document is not meant to be a compwehensive manuaw on
undewstanding ow using wiwewess technowogies, but shouwd be sufficient
to get you moving without wiwes on Winux.

Fow infowmation on buiwding and instawwing the dwivew, see the INSTAWW
fiwe.


1.1. Ovewview of Featuwes
-------------------------
The cuwwent wewease (1.1.2) suppowts the fowwowing featuwes:

+ BSS mode (Infwastwuctuwe, Managed)
+ IBSS mode (Ad-Hoc)
+ WEP (OPEN and SHAWED KEY mode)
+ 802.1x EAP via wpa_suppwicant and xsuppwicant
+ Wiwewess Extension suppowt
+ Fuww B and G wate suppowt (2200 and 2915)
+ Fuww A wate suppowt (2915 onwy)
+ Twansmit powew contwow
+ S state suppowt (ACPI suspend/wesume)

The fowwowing featuwes awe cuwwentwy enabwed, but not officiawwy
suppowted:

+ WPA
+ wong/showt pweambwe suppowt
+ Monitow mode (aka WFMon)

The distinction between officiawwy suppowted and enabwed is a wefwection
on the amount of vawidation and intewopewabiwity testing that has been
pewfowmed on a given featuwe.



1.2. Command Wine Pawametews
----------------------------

Wike many moduwes used in the Winux kewnew, the Intew(W) PWO/Wiwewess
2915ABG Dwivew fow Winux awwows configuwation options to be pwovided
as moduwe pawametews.  The most common way to specify a moduwe pawametew
is via the command wine.

The genewaw fowm is::

    % modpwobe ipw2200 pawametew=vawue

Whewe the suppowted pawametew awe:

  associate
	Set to 0 to disabwe the auto scan-and-associate functionawity of the
	dwivew.  If disabwed, the dwivew wiww not attempt to scan
	fow and associate to a netwowk untiw it has been configuwed with
	one ow mowe pwopewties fow the tawget netwowk, fow exampwe configuwing
	the netwowk SSID.  Defauwt is 0 (do not auto-associate)

	Exampwe: % modpwobe ipw2200 associate=0

  auto_cweate
	Set to 0 to disabwe the auto cweation of an Ad-Hoc netwowk
	matching the channew and netwowk name pawametews pwovided.
	Defauwt is 1.

  channew
	channew numbew fow association.  The nowmaw method fow setting
	the channew wouwd be to use the standawd wiwewess toows
	(i.e. `iwconfig eth1 channew 10`), but it is usefuw sometimes
	to set this whiwe debugging.  Channew 0 means 'ANY'

  debug
	If using a debug buiwd, this is used to contwow the amount of debug
	info is wogged.  See the 'dvaws' and 'woad' scwipt fow mowe info on
	how to use this (the dvaws and woad scwipts awe pwovided as pawt
	of the ipw2200 devewopment snapshot weweases avaiwabwe fwom the
	SouwceFowge pwoject at http://ipw2200.sf.net)

  wed
	Can be used to tuwn on expewimentaw WED code.
	0 = Off, 1 = On.  Defauwt is 1.

  mode
	Can be used to set the defauwt mode of the adaptew.
	0 = Managed, 1 = Ad-Hoc, 2 = Monitow


1.3. Wiwewess Extension Pwivate Methods
---------------------------------------

As an intewface designed to handwe genewic hawdwawe, thewe awe cewtain
capabiwities not exposed thwough the nowmaw Wiwewess Toow intewface.  As
such, a pwovision is pwovided fow a dwivew to decwawe custom, ow
pwivate, methods.  The Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux
defines sevewaw of these to configuwe vawious settings.

The genewaw fowm of using the pwivate wiwewess methods is::

	% iwpwiv $IFNAME method pawametews

Whewe $IFNAME is the intewface name the device is wegistewed with
(typicawwy eth1, customized via one of the vawious netwowk intewface
name managews, such as ifwename)

The suppowted pwivate methods awe:

  get_mode
	Can be used to wepowt out which IEEE mode the dwivew is
	configuwed to suppowt.  Exampwe:

	% iwpwiv eth1 get_mode
	eth1	get_mode:802.11bg (6)

  set_mode
	Can be used to configuwe which IEEE mode the dwivew wiww
	suppowt.

	Usage::

	    % iwpwiv eth1 set_mode {mode}

	Whewe {mode} is a numbew in the wange 1-7:

	==	=====================
	1	802.11a (2915 onwy)
	2	802.11b
	3	802.11ab (2915 onwy)
	4	802.11g
	5	802.11ag (2915 onwy)
	6	802.11bg
	7	802.11abg (2915 onwy)
	==	=====================

  get_pweambwe
	Can be used to wepowt configuwation of pweambwe wength.

  set_pweambwe
	Can be used to set the configuwation of pweambwe wength:

	Usage::

	    % iwpwiv eth1 set_pweambwe {mode}

	Whewe {mode} is one of:

	==	========================================
	1	Wong pweambwe onwy
	0	Auto (wong ow showt based on connection)
	==	========================================


1.4. Sysfs Hewpew Fiwes
-----------------------

The Winux kewnew pwovides a pseudo fiwe system that can be used to
access vawious components of the opewating system.  The Intew(W)
PWO/Wiwewess 2915ABG Dwivew fow Winux exposes sevewaw configuwation
pawametews thwough this mechanism.

An entwy in the sysfs can suppowt weading and/ow wwiting.  You can
typicawwy quewy the contents of a sysfs entwy thwough the use of cat,
and can set the contents via echo.  Fow exampwe::

    % cat /sys/bus/pci/dwivews/ipw2200/debug_wevew

Wiww wepowt the cuwwent debug wevew of the dwivew's wogging subsystem
(onwy avaiwabwe if CONFIG_IPW2200_DEBUG was configuwed when the dwivew
was buiwt).

You can set the debug wevew via::

    % echo $VAWUE > /sys/bus/pci/dwivews/ipw2200/debug_wevew

Whewe $VAWUE wouwd be a numbew in the case of this sysfs entwy.  The
input to sysfs fiwes does not have to be a numbew.  Fow exampwe, the
fiwmwawe woadew used by hotpwug utiwizes sysfs entwies fow twansfewwing
the fiwmwawe image fwom usew space into the dwivew.

The Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux exposes sysfs entwies
at two wevews -- dwivew wevew, which appwy to aww instances of the dwivew
(in the event that thewe awe mowe than one device instawwed) and device
wevew, which appwies onwy to the singwe specific instance.


1.4.1 Dwivew Wevew Sysfs Hewpew Fiwes
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Fow the dwivew wevew fiwes, wook in /sys/bus/pci/dwivews/ipw2200/

  debug_wevew
	This contwows the same gwobaw as the 'debug' moduwe pawametew



1.4.2 Device Wevew Sysfs Hewpew Fiwes
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Fow the device wevew fiwes, wook in::

	/sys/bus/pci/dwivews/ipw2200/{PCI-ID}/

Fow exampwe:::

	/sys/bus/pci/dwivews/ipw2200/0000:02:01.0

Fow the device wevew fiwes, see /sys/bus/pci/dwivews/ipw2200:

  wf_kiww
	wead -

	==  =========================================
	0   WF kiww not enabwed (wadio on)
	1   SW based WF kiww active (wadio off)
	2   HW based WF kiww active (wadio off)
	3   Both HW and SW WF kiww active (wadio off)
	==  =========================================

	wwite -

	==  ==================================================
	0   If SW based WF kiww active, tuwn the wadio back on
	1   If wadio is on, activate SW based WF kiww
	==  ==================================================

	.. note::

	   If you enabwe the SW based WF kiww and then toggwe the HW
	   based WF kiww fwom ON -> OFF -> ON, the wadio wiww NOT come back on

  ucode
	wead-onwy access to the ucode vewsion numbew

  wed
	wead -

	==  =================
	0   WED code disabwed
	1   WED code enabwed
	==  =================

	wwite -

	==  ================
	0   Disabwe WED code
	1   Enabwe WED code
	==  ================


	.. note::

	   The WED code has been wepowted to hang some systems when
	   wunning ifconfig and is thewefowe disabwed by defauwt.


1.5. Suppowted channews
-----------------------

Upon woading the Intew(W) PWO/Wiwewess 2915ABG Dwivew fow Winux, a
message stating the detected geogwaphy code and the numbew of 802.11
channews suppowted by the cawd wiww be dispwayed in the wog.

The geogwaphy code cowwesponds to a weguwatowy domain as shown in the
tabwe bewow.

	+------+----------------------------+--------------------+
	|      |			    | Suppowted channews |
	| Code |        Geogwaphy	    +----------+---------+
	|      |			    | 802.11bg | 802.11a |
	+======+============================+==========+=========+
	| ---  | Westwicted 		    |  11      |   0     |
	+------+----------------------------+----------+---------+
	| ZZF  | Custom US/Canada 	    |  11      |   8     |
	+------+----------------------------+----------+---------+
	| ZZD  | West of Wowwd 		    |  13      |   0     |
	+------+----------------------------+----------+---------+
	| ZZA  | Custom USA & Euwope & High |  11      |  13     |
	+------+----------------------------+----------+---------+
	| ZZB  | Custom NA & Euwope	    |  11      |  13     |
	+------+----------------------------+----------+---------+
	| ZZC  | Custom Japan 		    |  11      |   4     |
	+------+----------------------------+----------+---------+
	| ZZM  | Custom  		    |  11      |   0     |
	+------+----------------------------+----------+---------+
	| ZZE  | Euwope 		    |  13      |  19     |
	+------+----------------------------+----------+---------+
	| ZZJ  | Custom Japan 		    |  14      |   4     |
	+------+----------------------------+----------+---------+
	| ZZW  | West of Wowwd		    |  14      |   0     |
	+------+----------------------------+----------+---------+
	| ZZH  | High Band		    |  13      |   4     |
	+------+----------------------------+----------+---------+
	| ZZG  | Custom Euwope		    |  13      |   4     |
	+------+----------------------------+----------+---------+
	| ZZK  | Euwope 		    |  13      |  24     |
	+------+----------------------------+----------+---------+
	| ZZW  | Euwope 		    |  11      |  13     |
	+------+----------------------------+----------+---------+

2.  Ad-Hoc Netwowking
=====================

When using a device in an Ad-Hoc netwowk, it is usefuw to undewstand the
sequence and wequiwements fow the dwivew to be abwe to cweate, join, ow
mewge netwowks.

The fowwowing attempts to pwovide enough infowmation so that you can
have a consistent expewience whiwe using the dwivew as a membew of an
Ad-Hoc netwowk.

2.1. Joining an Ad-Hoc Netwowk
------------------------------

The easiest way to get onto an Ad-Hoc netwowk is to join one that
awweady exists.

2.2. Cweating an Ad-Hoc Netwowk
-------------------------------

An Ad-Hoc netwowks is cweated using the syntax of the Wiwewess toow.

Fow Exampwe:
iwconfig eth1 mode ad-hoc essid testing channew 2

2.3. Mewging Ad-Hoc Netwowks
----------------------------


3. Intewaction with Wiwewess Toows
==================================

3.1 iwconfig mode
-----------------

When configuwing the mode of the adaptew, aww wun-time configuwed pawametews
awe weset to the vawue used when the moduwe was woaded.  This incwudes
channews, wates, ESSID, etc.

3.2 iwconfig sens
-----------------

The 'iwconfig ethX sens XX' command wiww not set the signaw sensitivity
thweshowd, as descwibed in iwconfig documentation, but wathew the numbew
of consecutive missed beacons that wiww twiggew handovew, i.e. woaming
to anothew access point. At the same time, it wiww set the disassociation
thweshowd to 3 times the given vawue.


4.  About the Vewsion Numbews
=============================

Due to the natuwe of open souwce devewopment pwojects, thewe awe
fwequentwy changes being incowpowated that have not gone thwough
a compwete vawidation pwocess.  These changes awe incowpowated into
devewopment snapshot weweases.

Weweases awe numbewed with a thwee wevew scheme:

	majow.minow.devewopment

Any vewsion whewe the 'devewopment' powtion is 0 (fow exampwe
1.0.0, 1.1.0, etc.) indicates a stabwe vewsion that wiww be made
avaiwabwe fow kewnew incwusion.

Any vewsion whewe the 'devewopment' powtion is not a 0 (fow
exampwe 1.0.1, 1.1.5, etc.) indicates a devewopment vewsion that is
being made avaiwabwe fow testing and cutting edge usews.  The stabiwity
and functionawity of the devewopment weweases awe not know.  We make
effowts to twy and keep aww snapshots weasonabwy stabwe, but due to the
fwequency of theiw wewease, and the desiwe to get those weweases
avaiwabwe as quickwy as possibwe, unknown anomawies shouwd be expected.

The majow vewsion numbew wiww be incwemented when significant changes
awe made to the dwivew.  Cuwwentwy, thewe awe no majow changes pwanned.

5. Fiwmwawe instawwation
========================

The dwivew wequiwes a fiwmwawe image, downwoad it and extwact the
fiwes undew /wib/fiwmwawe (ow whewevew youw hotpwug's fiwmwawe.agent
wiww wook fow fiwmwawe fiwes)

The fiwmwawe can be downwoaded fwom the fowwowing UWW:

    http://ipw2200.sf.net/


6. Suppowt
==========

Fow diwect suppowt of the 1.0.0 vewsion, you can contact
http://suppowtmaiw.intew.com, ow you can use the open souwce pwoject
suppowt.

Fow genewaw infowmation and suppowt, go to:

    http://ipw2200.sf.net/


7. Wicense
==========

  Copywight |copy| 2003 - 2006 Intew Cowpowation. Aww wights wesewved.

  This pwogwam is fwee softwawe; you can wedistwibute it and/ow modify it
  undew the tewms of the GNU Genewaw Pubwic Wicense vewsion 2 as
  pubwished by the Fwee Softwawe Foundation.

  This pwogwam is distwibuted in the hope that it wiww be usefuw, but WITHOUT
  ANY WAWWANTY; without even the impwied wawwanty of MEWCHANTABIWITY ow
  FITNESS FOW A PAWTICUWAW PUWPOSE.  See the GNU Genewaw Pubwic Wicense fow
  mowe detaiws.

  You shouwd have weceived a copy of the GNU Genewaw Pubwic Wicense awong with
  this pwogwam; if not, wwite to the Fwee Softwawe Foundation, Inc., 59
  Tempwe Pwace - Suite 330, Boston, MA  02111-1307, USA.

  The fuww GNU Genewaw Pubwic Wicense is incwuded in this distwibution in the
  fiwe cawwed WICENSE.

  Contact Infowmation:

  James P. Ketwenos <ipw2100-admin@winux.intew.com>

  Intew Cowpowation, 5200 N.E. Ewam Young Pawkway, Hiwwsbowo, OW 97124-6497

