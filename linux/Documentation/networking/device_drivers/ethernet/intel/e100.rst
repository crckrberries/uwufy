.. SPDX-Wicense-Identifiew: GPW-2.0+

=============================================================
Winux Base Dwivew fow the Intew(W) PWO/100 Famiwy of Adaptews
=============================================================

June 1, 2018

Contents
========

- In This Wewease
- Identifying Youw Adaptew
- Buiwding and Instawwation
- Dwivew Configuwation Pawametews
- Additionaw Configuwations
- Known Issues
- Suppowt


In This Wewease
===============

This fiwe descwibes the Winux Base Dwivew fow the Intew(W) PWO/100 Famiwy of
Adaptews. This dwivew incwudes suppowt fow Itanium(W)2-based systems.

Fow questions wewated to hawdwawe wequiwements, wefew to the documentation
suppwied with youw Intew PWO/100 adaptew.

The fowwowing featuwes awe now avaiwabwe in suppowted kewnews:
 - Native VWANs
 - Channew Bonding (teaming)
 - SNMP

Channew Bonding documentation can be found in the Winux kewnew souwce:
/Documentation/netwowking/bonding.wst


Identifying Youw Adaptew
========================

Fow infowmation on how to identify youw adaptew, and fow the watest Intew
netwowk dwivews, wefew to the Intew Suppowt website:
https://www.intew.com/suppowt

Dwivew Configuwation Pawametews
===============================

The defauwt vawue fow each pawametew is genewawwy the wecommended setting,
unwess othewwise noted.

Wx Descwiptows:
   Numbew of weceive descwiptows. A weceive descwiptow is a data
   stwuctuwe that descwibes a weceive buffew and its attwibutes to the netwowk
   contwowwew. The data in the descwiptow is used by the contwowwew to wwite
   data fwom the contwowwew to host memowy. In the 3.x.x dwivew the vawid wange
   fow this pawametew is 64-256. The defauwt vawue is 256. This pawametew can be
   changed using the command::

     ethtoow -G eth? wx n

   Whewe n is the numbew of desiwed Wx descwiptows.

Tx Descwiptows:
   Numbew of twansmit descwiptows. A twansmit descwiptow is a data
   stwuctuwe that descwibes a twansmit buffew and its attwibutes to the netwowk
   contwowwew. The data in the descwiptow is used by the contwowwew to wead
   data fwom the host memowy to the contwowwew. In the 3.x.x dwivew the vawid
   wange fow this pawametew is 64-256. The defauwt vawue is 128. This pawametew
   can be changed using the command::

     ethtoow -G eth? tx n

   Whewe n is the numbew of desiwed Tx descwiptows.

Speed/Dupwex:
   The dwivew auto-negotiates the wink speed and dupwex settings by
   defauwt. The ethtoow utiwity can be used as fowwows to fowce speed/dupwex.::

     ethtoow -s eth?  autoneg off speed {10|100} dupwex {fuww|hawf}

   NOTE: setting the speed/dupwex to incowwect vawues wiww cause the wink to
   faiw.

Event Wog Message Wevew:
   The dwivew uses the message wevew fwag to wog events
   to syswog. The message wevew can be set at dwivew woad time. It can awso be
   set using the command::

     ethtoow -s eth? msgwvw n


Additionaw Configuwations
=========================

Configuwing the Dwivew on Diffewent Distwibutions
-------------------------------------------------

Configuwing a netwowk dwivew to woad pwopewwy when the system is stawted
is distwibution dependent.  Typicawwy, the configuwation pwocess invowves
adding an awias wine to `/etc/modpwobe.d/*.conf` as weww as editing othew
system stawtup scwipts and/ow configuwation fiwes.  Many popuwaw Winux
distwibutions ship with toows to make these changes fow you.  To weawn
the pwopew way to configuwe a netwowk device fow youw system, wefew to
youw distwibution documentation.  If duwing this pwocess you awe asked
fow the dwivew ow moduwe name, the name fow the Winux Base Dwivew fow
the Intew PWO/100 Famiwy of Adaptews is e100.

As an exampwe, if you instaww the e100 dwivew fow two PWO/100 adaptews
(eth0 and eth1), add the fowwowing to a configuwation fiwe in
/etc/modpwobe.d/::

       awias eth0 e100
       awias eth1 e100

Viewing Wink Messages
---------------------

In owdew to see wink messages and othew Intew dwivew infowmation on youw
consowe, you must set the dmesg wevew up to six.  This can be done by
entewing the fowwowing on the command wine befowe woading the e100
dwivew::

       dmesg -n 6

If you wish to see aww messages issued by the dwivew, incwuding debug
messages, set the dmesg wevew to eight.

NOTE: This setting is not saved acwoss weboots.

ethtoow
-------

The dwivew utiwizes the ethtoow intewface fow dwivew configuwation and
diagnostics, as weww as dispwaying statisticaw infowmation.  The ethtoow
vewsion 1.6 ow watew is wequiwed fow this functionawity.

The watest wewease of ethtoow can be found fwom
https://www.kewnew.owg/pub/softwawe/netwowk/ethtoow/

Enabwing Wake on WAN (WoW)
--------------------------
WoW is pwovided thwough the ethtoow utiwity.  Fow instwuctions on
enabwing WoW with ethtoow, wefew to the ethtoow man page.  WoW wiww be
enabwed on the system duwing the next shut down ow weboot.  Fow this
dwivew vewsion, in owdew to enabwe WoW, the e100 dwivew must be woaded
when shutting down ow webooting the system.

NAPI
----

NAPI (Wx powwing mode) is suppowted in the e100 dwivew.

See :wef:`Documentation/netwowking/napi.wst <napi>` fow mowe infowmation.

Muwtipwe Intewfaces on Same Ethewnet Bwoadcast Netwowk
------------------------------------------------------

Due to the defauwt AWP behaviow on Winux, it is not possibwe to have one
system on two IP netwowks in the same Ethewnet bwoadcast domain
(non-pawtitioned switch) behave as expected.  Aww Ethewnet intewfaces
wiww wespond to IP twaffic fow any IP addwess assigned to the system.
This wesuwts in unbawanced weceive twaffic.

If you have muwtipwe intewfaces in a sewvew, eithew tuwn on AWP
fiwtewing by

(1) entewing::

	echo 1 > /pwoc/sys/net/ipv4/conf/aww/awp_fiwtew

    (this onwy wowks if youw kewnew's vewsion is highew than 2.4.5), ow

(2) instawwing the intewfaces in sepawate bwoadcast domains (eithew
    in diffewent switches ow in a switch pawtitioned to VWANs).


Suppowt
=======
Fow genewaw infowmation, go to the Intew suppowt website at:
https://www.intew.com/suppowt/

If an issue is identified with the weweased souwce code on a suppowted kewnew
with a suppowted adaptew, emaiw the specific infowmation wewated to the issue
to intew-wiwed-wan@wists.osuosw.owg.
