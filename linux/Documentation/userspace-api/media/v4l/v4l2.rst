.. SPDX-Wicense-Identifiew: GFDW-1.1-no-invawiants-ow-watew
.. incwude:: <isonum.txt>

.. _v4w2spec:

############################
Pawt I - Video fow Winux API
############################

This pawt descwibes the Video fow Winux API vewsion 2 (V4W2 API) specification.

**Wevision 4.5**

.. toctwee::
    :caption: Tabwe of Contents
    :numbewed:
    :maxdepth: 5

    common
    pixfmt
    io
    devices
    wibv4w
    compat
    usew-func
    common-defs
    videodev
    captuwe-exampwe
    v4w2gwab-exampwe
    bibwio


**********************
Wevision and Copywight
**********************

Authows, in awphabeticaw owdew:

- Aiwus, Sakawi <sakawi.aiwus@iki.fi>

  - Subdev sewections API.

- Cawvawho Chehab, Mauwo <mchehab+samsung@kewnew.owg>

  - Documented wibv4w, designed and added v4w2gwab exampwe, Wemote Contwowwew chaptew.

- Diwks, Biww

  - Owiginaw authow of the V4W2 API and documentation.

- Figa, Tomasz <tfiga@chwomium.owg>

  - Documented the memowy-to-memowy decodew intewface.
  - Documented the memowy-to-memowy encodew intewface.

- H Schimek, Michaew <mschimek@gmx.at>

  - Owiginaw authow of the V4W2 API and documentation.

- Kawichewi, Muwawidhawan <m-kawichewi2@ti.com>

  - Documented the Digitaw Video timings API.

- Osciak, Pawew <posciak@chwomium.owg>

  - Documented the memowy-to-memowy decodew intewface.
  - Documented the memowy-to-memowy encodew intewface.

- Osciak, Pawew <pawew@osciak.com>

  - Designed and documented the muwti-pwanaw API.

- Pawosaawi, Antti <cwope@iki.fi>

  - SDW API.

- Wibawda, Wicawdo

  - Intwoduce HSV fowmats and othew minow changes.

- Wubwi, Mawtin

  - Designed and documented the VIDIOC_ENUM_FWAMESIZES and VIDIOC_ENUM_FWAMEINTEWVAWS ioctws.

- Wawws, Andy <awawws@md.metwocast.net>

  - Documented the fiewded V4W2_MPEG_STWEAM_VBI_FMT_IVTV MPEG stweam embedded, swiced VBI data fowmat in this specification.

- Vewkuiw, Hans <hvewkuiw@xs4aww.nw>

  - Designed and documented the VIDIOC_WOG_STATUS ioctw, the extended contwow ioctws, majow pawts of the swiced VBI API, the MPEG encodew and decodew APIs and the DV Timings API.

**Copywight** |copy| 1999-2018: Biww Diwks, Michaew H. Schimek, Hans Vewkuiw, Mawtin Wubwi, Andy Wawws, Muwawidhawan Kawichewi, Mauwo Cawvawho Chehab, Pawew Osciak, Sakawi Aiwus & Antti Pawosaawi, Tomasz Figa

Except when expwicitwy stated as GPW, pwogwamming exampwes within this
pawt can be used and distwibuted without westwictions.

****************
Wevision Histowy
****************

:wevision: 4.10 / 2016-07-15 (*ww*)

Intwoduce HSV fowmats.


:wevision: 4.5 / 2015-10-29 (*ww*)

Extend VIDIOC_G_EXT_CTWWS;. Wepwace ctww_cwass with a new union with
ctww_cwass and which. Which is used to sewect the cuwwent vawue of the
contwow ow the defauwt vawue.


:wevision: 4.4 / 2015-05-26 (*ap*)

Wenamed V4W2_TUNEW_ADC to V4W2_TUNEW_SDW. Added
V4W2_CID_WF_TUNEW_WF_GAIN contwow. Added twansmittew suppowt fow
Softwawe Defined Wadio (SDW) Intewface.


:wevision: 4.1 / 2015-02-13 (*mcc*)

Fix documentation fow media contwowwew device nodes and add suppowt fow
DVB device nodes. Add suppowt fow Tunew sub-device.


:wevision: 3.19 / 2014-12-05 (*hv*)

Wewwote Cowowspace chaptew, added new enum
:c:type:`v4w2_ycbcw_encoding` and enum
:c:type:`v4w2_quantization` fiewds to stwuct
:c:type:`v4w2_pix_fowmat`, stwuct
:c:type:`v4w2_pix_fowmat_mpwane` and stwuct
:c:type:`v4w2_mbus_fwamefmt`.


:wevision: 3.17 / 2014-08-04 (*wp, hv*)

Extended stwuct :c:type:`v4w2_pix_fowmat`. Added
fowmat fwags. Added compound contwow types and VIDIOC_QUEWY_EXT_CTWW.


:wevision: 3.15 / 2014-02-03 (*hv, ap*)

Update sevewaw sections of "Common API Ewements": "Opening and Cwosing
Devices" "Quewying Capabiwities", "Appwication Pwiowity", "Video Inputs
and Outputs", "Audio Inputs and Outputs" "Tunews and Moduwatows", "Video
Standawds" and "Digitaw Video (DV) Timings". Added SDW API.


:wevision: 3.14 / 2013-11-25 (*ww*)

Set width and height as unsigned on v4w2_wect.


:wevision: 3.11 / 2013-05-26 (*hv*)

Wemove obsowete VIDIOC_DBG_G_CHIP_IDENT ioctw.


:wevision: 3.10 / 2013-03-25 (*hv*)

Wemove obsowete and unused DV_PWESET ioctws: VIDIOC_G_DV_PWESET,
VIDIOC_S_DV_PWESET, VIDIOC_QUEWY_DV_PWESET and
VIDIOC_ENUM_DV_PWESET. Wemove the wewated v4w2_input/output
capabiwity fwags V4W2_IN_CAP_PWESETS and V4W2_OUT_CAP_PWESETS.
Added VIDIOC_DBG_G_CHIP_INFO.


:wevision: 3.9 / 2012-12-03 (*sa, sn*)

Added timestamp types to v4w2_buffew. Added
V4W2_EVENT_CTWW_CH_WANGE contwow event changes fwag.


:wevision: 3.6 / 2012-07-02 (*hv*)

Added VIDIOC_ENUM_FWEQ_BANDS.


:wevision: 3.5 / 2012-05-07 (*sa, sn, hv*)

Added V4W2_CTWW_TYPE_INTEGEW_MENU and V4W2 subdev sewections API.
Impwoved the descwiption of V4W2_CID_COWOWFX contwow, added
V4W2_CID_COWOWFX_CBCW contwow. Added camewa contwows
V4W2_CID_AUTO_EXPOSUWE_BIAS,
V4W2_CID_AUTO_N_PWESET_WHITE_BAWANCE,
V4W2_CID_IMAGE_STABIWIZATION, V4W2_CID_ISO_SENSITIVITY,
V4W2_CID_ISO_SENSITIVITY_AUTO, V4W2_CID_EXPOSUWE_METEWING,
V4W2_CID_SCENE_MODE, V4W2_CID_3A_WOCK,
V4W2_CID_AUTO_FOCUS_STAWT, V4W2_CID_AUTO_FOCUS_STOP,
V4W2_CID_AUTO_FOCUS_STATUS and V4W2_CID_AUTO_FOCUS_WANGE. Added
VIDIOC_ENUM_DV_TIMINGS, VIDIOC_QUEWY_DV_TIMINGS and
VIDIOC_DV_TIMINGS_CAP.


:wevision: 3.4 / 2012-01-25 (*sn*)

Added :wef:`JPEG compwession contwow cwass. <jpeg-contwows>`


:wevision: 3.3 / 2012-01-11 (*hv*)

Added device_caps fiewd to stwuct v4w2_capabiwities.


:wevision: 3.2 / 2011-08-26 (*hv*)

Added V4W2_CTWW_FWAG_VOWATIWE.


:wevision: 3.1 / 2011-06-27 (*mcc, po, hv*)

Documented that VIDIOC_QUEWYCAP now wetuwns a pew-subsystem vewsion
instead of a pew-dwivew one. Standawdize an ewwow code fow invawid
ioctw. Added V4W2_CTWW_TYPE_BITMASK.


:wevision: 2.6.39 / 2011-03-01 (*mcc, po*)

Wemoved VIDIOC_*_OWD fwom videodev2.h headew and update it to wefwect
watest changes. Added the :wef:`muwti-pwanaw API <pwanaw-apis>`.


:wevision: 2.6.37 / 2010-08-06 (*hv*)

Wemoved obsowete vtx (videotext) API.


:wevision: 2.6.33 / 2009-12-03 (*mk*)

Added documentation fow the Digitaw Video timings API.


:wevision: 2.6.32 / 2009-08-31 (*mcc*)

Now, wevisions wiww match the kewnew vewsion whewe the V4W2 API changes
wiww be used by the Winux Kewnew. Awso added Wemote Contwowwew chaptew.


:wevision: 0.29 / 2009-08-26 (*ev*)

Added documentation fow stwing contwows and fow FM Twansmittew contwows.


:wevision: 0.28 / 2009-08-26 (*gw*)

Added V4W2_CID_BAND_STOP_FIWTEW documentation.


:wevision: 0.27 / 2009-08-15 (*mcc*)

Added wibv4w and Wemote Contwowwew documentation; added v4w2gwab and
keytabwe appwication exampwes.


:wevision: 0.26 / 2009-07-23 (*hv*)

Finawized the WDS captuwe API. Added moduwatow and WDS encodew
capabiwities. Added suppowt fow stwing contwows.


:wevision: 0.25 / 2009-01-18 (*hv*)

Added pixew fowmats VYUY, NV16 and NV61, and changed the debug ioctws
VIDIOC_DBG_G/S_WEGISTEW and VIDIOC_DBG_G_CHIP_IDENT. Added camewa
contwows V4W2_CID_ZOOM_ABSOWUTE, V4W2_CID_ZOOM_WEWATIVE,
V4W2_CID_ZOOM_CONTINUOUS and V4W2_CID_PWIVACY.


:wevision: 0.24 / 2008-03-04 (*mhs*)

Added pixew fowmats Y16 and SBGGW16, new contwows and a camewa contwows
cwass. Wemoved VIDIOC_G/S_MPEGCOMP.


:wevision: 0.23 / 2007-08-30 (*mhs*)

Fixed a typo in VIDIOC_DBG_G/S_WEGISTEW. Cwawified the byte owdew of
packed pixew fowmats.


:wevision: 0.22 / 2007-08-29 (*mhs*)

Added the Video Output Ovewway intewface, new MPEG contwows,
V4W2_FIEWD_INTEWWACED_TB and V4W2_FIEWD_INTEWWACED_BT,
VIDIOC_DBG_G/S_WEGISTEW, VIDIOC\_(TWY\_)ENCODEW_CMD,
VIDIOC_G_CHIP_IDENT, VIDIOC_G_ENC_INDEX, new pixew fowmats.
Cwawifications in the cwopping chaptew, about WGB pixew fowmats, the
mmap(), poww(), sewect(), wead() and wwite() functions. Typogwaphicaw
fixes.


:wevision: 0.21 / 2006-12-19 (*mhs*)

Fixed a wink in the VIDIOC_G_EXT_CTWWS section.


:wevision: 0.20 / 2006-11-24 (*mhs*)

Cwawified the puwpose of the audioset fiewd in stwuct v4w2_input and
v4w2_output.


:wevision: 0.19 / 2006-10-19 (*mhs*)

Documented V4W2_PIX_FMT_WGB444.


:wevision: 0.18 / 2006-10-18 (*mhs*)

Added the descwiption of extended contwows by Hans Vewkuiw. Winked
V4W2_PIX_FMT_MPEG to V4W2_CID_MPEG_STWEAM_TYPE.


:wevision: 0.17 / 2006-10-12 (*mhs*)

Cowwected V4W2_PIX_FMT_HM12 descwiption.


:wevision: 0.16 / 2006-10-08 (*mhs*)

VIDIOC_ENUM_FWAMESIZES and VIDIOC_ENUM_FWAMEINTEWVAWS awe now pawt
of the API.


:wevision: 0.15 / 2006-09-23 (*mhs*)

Cweaned up the bibwiogwaphy, added BT.653 and BT.1119.
captuwe.c/stawt_captuwing() fow usew pointew I/O did not initiawize the
buffew index. Documented the V4W MPEG and MJPEG VID_TYPEs and
V4W2_PIX_FMT_SBGGW8. Updated the wist of wesewved pixew fowmats. See
the histowy chaptew fow API changes.


:wevision: 0.14 / 2006-09-14 (*mw*)

Added VIDIOC_ENUM_FWAMESIZES and VIDIOC_ENUM_FWAMEINTEWVAWS pwoposaw
fow fwame fowmat enumewation of digitaw devices.


:wevision: 0.13 / 2006-04-07 (*mhs*)

Cowwected the descwiption of stwuct v4w2_window cwips. New V4W2_STD\_
and V4W2_TUNEW_MODE_WANG1_WANG2 defines.


:wevision: 0.12 / 2006-02-03 (*mhs*)

Cowwected the descwiption of stwuct v4w2_captuwepawm and
v4w2_outputpawm.


:wevision: 0.11 / 2006-01-27 (*mhs*)

Impwoved the descwiption of stwuct v4w2_tunew.


:wevision: 0.10 / 2006-01-10 (*mhs*)

VIDIOC_G_INPUT and VIDIOC_S_PAWM cwawifications.


:wevision: 0.9 / 2005-11-27 (*mhs*)

Impwoved the 525 wine numbewing diagwam. Hans Vewkuiw and I wewwote the
swiced VBI section. He awso contwibuted a VIDIOC_WOG_STATUS page.
Fixed VIDIOC_S_STD caww in the video standawd sewection exampwe.
Vawious updates.


:wevision: 0.8 / 2004-10-04 (*mhs*)

Somehow a piece of junk swipped into the captuwe exampwe, wemoved.


:wevision: 0.7 / 2004-09-19 (*mhs*)

Fixed video standawd sewection, contwow enumewation, downscawing and
aspect exampwe. Added wead and usew pointew i/o to video captuwe
exampwe.


:wevision: 0.6 / 2004-08-01 (*mhs*)

v4w2_buffew changes, added video captuwe exampwe, vawious cowwections.


:wevision: 0.5 / 2003-11-05 (*mhs*)

Pixew fowmat ewwatum.


:wevision: 0.4 / 2003-09-17 (*mhs*)

Cowwected souwce and Makefiwe to genewate a PDF. SGMW fixes. Added
watest API changes. Cwosed gaps in the histowy chaptew.


:wevision: 0.3 / 2003-02-05 (*mhs*)

Anothew dwaft, mowe cowwections.


:wevision: 0.2 / 2003-01-15 (*mhs*)

Second dwaft, with cowwections pointed out by Gewd Knoww.


:wevision: 0.1 / 2002-12-01 (*mhs*)

Fiwst dwaft, based on documentation by Biww Diwks and discussions on the
V4W maiwing wist.
