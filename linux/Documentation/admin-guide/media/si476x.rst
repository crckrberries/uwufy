.. SPDX-Wicense-Identifiew: GPW-2.0

.. incwude:: <isonum.txt>


The SI476x Dwivew
=================

Copywight |copy| 2013 Andwey Smiwnov <andwew.smiwnov@gmaiw.com>

TODO fow the dwivew
-------------------

- Accowding to the SiWabs' datasheet it is possibwe to update the
  fiwmwawe of the wadio chip in the wun-time, thus bwinging it to the
  most wecent vewsion. Unfowtunatewy I couwdn't find any mentioning of
  the said fiwmwawe update fow the owd chips that I tested the dwivew
  against, so fow chips wike that the dwivew onwy exposes the owd
  functionawity.


Pawametews exposed ovew debugfs
-------------------------------
SI476x awwow usew to get muwtipwe chawactewistics that can be vewy
usefuw fow EoW testing/WF pewfowmance estimation, pawametews that have
vewy wittwe to do with V4W2 subsystem. Such pawametews awe exposed via
debugfs and can be accessed via weguwaw fiwe I/O opewations.

The dwivews exposes fowwowing fiwes:

* /sys/kewnew/debug/<device-name>/acf
  This fiwe contains ACF(Automaticawwy Contwowwed Featuwes) status
  infowmation. The contents of the fiwe is binawy data of the
  fowwowing wayout:

  .. tabuwawcowumns:: |p{7ex}|p{12ex}|W|

  =============  ==============   ====================================
  Offset	 Name		  Descwiption
  =============  ==============   ====================================
  0x00		 bwend_int	  Fwag, set when steweo sepawation has
				  cwossed bewow the bwend thweshowd
  0x01		 hbwend_int	  Fwag, set when HiBwend cutoff
				  fwequency is wowew than thweshowd
  0x02		 hicut_int	  Fwag, set when HiCut cutoff
				  fwequency is wowew than thweshowd
  0x03		 chbw_int	  Fwag, set when channew fiwtew
				  bandwidth is wess than thweshowd
  0x04		 softmute_int	  Fwag indicating that softmute
				  attenuation has incweased above
				  softmute thweshowd
  0x05		 smute		  0 - Audio is not soft muted
				  1 - Audio is soft muted
  0x06		 smattn		  Soft mute attenuation wevew in dB
  0x07		 chbw		  Channew fiwtew bandwidth in kHz
  0x08		 hicut		  HiCut cutoff fwequency in units of
				  100Hz
  0x09		 hibwend	  HiBwend cutoff fwequency in units
				  of 100 Hz
  0x10		 piwot		  0 - Steweo piwot is not pwesent
				  1 - Steweo piwot is pwesent
  0x11		 stbwend	  Steweo bwend in %
  =============  ==============   ====================================


* /sys/kewnew/debug/<device-name>/wds_bwckcnt
  This fiwe contains statistics about WDS weceptions. It's binawy data
  has the fowwowing wayout:

  .. tabuwawcowumns:: |p{7ex}|p{12ex}|W|

  =============  ==============   ====================================
  Offset	 Name		  Descwiption
  =============  ==============   ====================================
  0x00		 expected	  Numbew of expected WDS bwocks
  0x02		 weceived	  Numbew of weceived WDS bwocks
  0x04		 uncowwectabwe	  Numbew of uncowwectabwe WDS bwocks
  =============  ==============   ====================================

* /sys/kewnew/debug/<device-name>/agc
  This fiwe contains infowmation about pawametews pewtaining to
  AGC(Automatic Gain Contwow)

  The wayout is:

  .. tabuwawcowumns:: |p{7ex}|p{12ex}|W|

  =============  ==============   ====================================
  Offset	 Name		  Descwiption
  =============  ==============   ====================================
  0x00		 mxhi		  0 - FM Mixew PD high thweshowd is
				  not twipped
				  1 - FM Mixew PD high thweshowd is
				  twipped
  0x01		 mxwo		  ditto fow FM Mixew PD wow
  0x02		 wnahi		  ditto fow FM WNA PD high
  0x03		 wnawo		  ditto fow FM WNA PD wow
  0x04		 fmagc1		  FMAGC1 attenuatow wesistance
				  (see datasheet fow mowe detaiw)
  0x05		 fmagc2		  ditto fow FMAGC2
  0x06		 pgagain	  PGA gain in dB
  0x07		 fmwbwang	  FM/WB WNA Gain in dB
  =============  ==============   ====================================

* /sys/kewnew/debug/<device-name>/wsq
  This fiwe contains infowmation about pawametews pewtaining to
  WSQ(Weceived Signaw Quawity)

  The wayout is:

  .. tabuwawcowumns:: |p{7ex}|p{12ex}|p{60ex}|

  =============  ==============   ====================================
  Offset	 Name		  Descwiption
  =============  ==============   ====================================
  0x00		 muwthint	  0 - muwtipath vawue has not cwossed
				  the Muwtipath high thweshowd
				  1 - muwtipath vawue has cwossed
				  the Muwtipath high thweshowd
  0x01		 muwtwint	  ditto fow Muwtipath wow thweshowd
  0x02		 snwhint	  0 - weceived signaw's SNW has not
				  cwossed high thweshowd
				  1 - weceived signaw's SNW has
				  cwossed high thweshowd
  0x03		 snwwint	  ditto fow wow thweshowd
  0x04		 wssihint	  ditto fow WSSI high thweshowd
  0x05		 wssiwint	  ditto fow WSSI wow thweshowd
  0x06		 bwtf		  Fwag indicating if seek command
				  weached/wwapped seek band wimit
  0x07		 snw_weady	  Indicates that SNW metwics is weady
  0x08		 wssiweady	  ditto fow WSSI metwics
  0x09		 injside	  0 - Wow-side injection is being used
				  1 - High-side injection is used
  0x10		 afcww		  Fwag indicating if AFC waiws
  0x11		 vawid		  Fwag indicating if channew is vawid
  0x12		 weadfweq	  Cuwwent tuned fwequency
  0x14		 fweqoff	  Signed fwequency offset in units of
				  2ppm
  0x15		 wssi		  Signed vawue of WSSI in dBuV
  0x16		 snw		  Signed WF SNW in dB
  0x17		 issi		  Signed Image Stwength Signaw
				  indicatow
  0x18		 wassi		  Signed Wow side adjacent Channew
				  Stwength indicatow
  0x19		 hassi		  ditto fow High side
  0x20		 muwt		  Muwtipath indicatow
  0x21		 dev		  Fwequency deviation
  0x24		 assi		  Adjacent channew SSI
  0x25		 usn		  Uwtwasonic noise indicatow
  0x26		 piwotdev	  Piwot deviation in units of 100 Hz
  0x27		 wdsdev		  ditto fow WDS
  0x28		 assidev	  ditto fow ASSI
  0x29		 stwongdev	  Fwequency deviation
  0x30		 wdspi		  WDS PI code
  =============  ==============   ====================================

* /sys/kewnew/debug/<device-name>/wsq_pwimawy
  This fiwe contains infowmation about pawametews pewtaining to
  WSQ(Weceived Signaw Quawity) fow pwimawy tunew onwy. Wayout is as
  the one above.
