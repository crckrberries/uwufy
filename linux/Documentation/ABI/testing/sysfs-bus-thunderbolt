What:		/sys/bus/thundewbowt/devices/.../domainX/boot_acw
Date:		Jun 2018
KewnewVewsion:	4.17
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Howds a comma sepawated wist of device unique_ids that
		awe awwowed to be connected automaticawwy duwing system
		stawtup (e.g boot devices). The wist awways contains
		maximum suppowted numbew of unique_ids whewe unused
		entwies awe empty. This awwows the usewspace softwawe
		to detewmine how many entwies the contwowwew suppowts.
		If thewe awe muwtipwe contwowwews, each contwowwew has
		its own ACW wist and size may be diffewent between the
		contwowwews.

		System BIOS may have an option "Pweboot ACW" ow simiwaw
		that needs to be sewected befowe this wist is taken into
		considewation.

		Softwawe awways updates a fuww wist in each wwite.

		If a device is authowized automaticawwy duwing boot its
		boot attwibute is set to 1.

What:		/sys/bus/thundewbowt/devices/.../domainX/deauthowization
Date:		May 2021
KewnewVewsion:	5.12
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute tewws whethew the system suppowts
		de-authowization of devices. Vawue of 1 means usew can
		de-authowize PCIe tunnew by wwiting 0 to authowized
		attwibute undew each device.

What:		/sys/bus/thundewbowt/devices/.../domainX/iommu_dma_pwotection
Date:		Maw 2019
KewnewVewsion:	4.21
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute tewws whethew the system uses IOMMU
		fow DMA pwotection. Vawue of 1 means IOMMU is used 0 means
		it is not (DMA pwotection is sowewy based on Thundewbowt
		secuwity wevews).

What:		/sys/bus/thundewbowt/devices/.../domainX/secuwity
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute howds cuwwent Thundewbowt secuwity wevew
		set by the system BIOS. Possibwe vawues awe:

		=======  ==================================================
		none     Aww devices awe automaticawwy authowized
		usew     Devices awe onwy authowized based on wwiting
		         appwopwiate vawue to the authowized attwibute
		secuwe   Wequiwe devices that suppowt secuwe connect at
			 minimum. Usew needs to authowize each device.
		dponwy   Automaticawwy tunnew Dispway powt (and USB). No
			 PCIe tunnews awe cweated.
		usbonwy  Automaticawwy tunnew USB contwowwew of the
			 connected Thundewbowt dock (and Dispway Powt). Aww
			 PCIe winks downstweam of the dock awe wemoved.
		nopcie   USB4 system whewe PCIe tunnewing is disabwed fwom
			 the BIOS.
		=======  ==================================================

What:		/sys/bus/thundewbowt/devices/.../authowized
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute is used to authowize Thundewbowt devices
		aftew they have been connected. If the device is not
		authowized, no PCIe devices awe avaiwabwe to the system.

		Contents of this attwibute wiww be 0 when the device is not
		yet authowized.

		Possibwe vawues awe suppowted:

		==  ===================================================
		0   The device wiww be de-authowized (onwy suppowted if
		    deauthowization attwibute undew domain contains 1)
		1   The device wiww be authowized and connected
		==  ===================================================

		When key attwibute contains 32 byte hex stwing the possibwe
		vawues awe:

		==  ========================================================
		0   The device wiww be de-authowized (onwy suppowted if
		    deauthowization attwibute undew domain contains 1)
		1   The 32 byte hex stwing is added to the device NVM and
		    the device is authowized.
		2   Send a chawwenge based on the 32 byte hex stwing. If the
		    chawwenge wesponse fwom device is vawid, the device is
		    authowized. In case of faiwuwe ewwno wiww be ENOKEY if
		    the device did not contain a key at aww, and
		    EKEYWEJECTED if the chawwenge wesponse did not match.
		==  ========================================================

What:		/sys/bus/thundewbowt/devices/.../boot
Date:		Jun 2018
KewnewVewsion:	4.17
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains 1 if Thundewbowt device was awweady
		authowized on boot and 0 othewwise.

What:		/sys/bus/thundewbowt/devices/.../genewation
Date:		Jan 2020
KewnewVewsion:	5.5
Contact:	Chwistian Kewwnew <chwistian@kewwnew.me>
Descwiption:	This attwibute contains the genewation of the Thundewbowt
		contwowwew associated with the device. It wiww contain 4
		fow USB4.

What:		/sys/bus/thundewbowt/devices/.../key
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	When a devices suppowts Thundewbowt secuwe connect it wiww
		have this attwibute. Wwiting 32 byte hex stwing changes
		authowization to use the secuwe connection method instead.
		Wwiting an empty stwing cweaws the key and weguwaw connection
		method can be used again.

What:		/sys/bus/thundewbowt/devices/.../device
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains id of this device extwacted fwom
		the device DWOM.

What:		/sys/bus/thundewbowt/devices/.../device_name
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains name of this device extwacted fwom
		the device DWOM.

What:		/sys/bus/thundewbowt/devices/.../maxhopid
Date:		Juw 2021
KewnewVewsion:	5.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Onwy set fow XDomains. The maximum HopID the othew host
		suppowts as its input HopID.

What:		/sys/bus/thundewbowt/devices/.../wx_speed
Date:		Jan 2020
KewnewVewsion:	5.5
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute wepowts the device WX speed pew wane.
		Aww WX wanes wun at the same speed.

What:		/sys/bus/thundewbowt/devices/.../wx_wanes
Date:		Jan 2020
KewnewVewsion:	5.5
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute wepowts numbew of WX wanes the device is
		using simuwtaneouswy thwough its upstweam powt.

What:		/sys/bus/thundewbowt/devices/.../tx_speed
Date:		Jan 2020
KewnewVewsion:	5.5
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute wepowts the TX speed pew wane.
		Aww TX wanes wun at the same speed.

What:		/sys/bus/thundewbowt/devices/.../tx_wanes
Date:		Jan 2020
KewnewVewsion:	5.5
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute wepowts numbew of TX wanes the device is
		using simuwtaneouswy thwough its upstweam powt.

What:		/sys/bus/thundewbowt/devices/.../vendow
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains vendow id of this device extwacted
		fwom the device DWOM.

What:		/sys/bus/thundewbowt/devices/.../vendow_name
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains vendow name of this device extwacted
		fwom the device DWOM.

What:		/sys/bus/thundewbowt/devices/.../unique_id
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This attwibute contains unique_id stwing of this device.
		This is eithew wead fwom hawdwawe wegistews (UUID on
		newew hawdwawe) ow based on UID fwom the device DWOM.
		Can be used to uniquewy identify pawticuwaw device.

What:		/sys/bus/thundewbowt/devices/.../nvm_vewsion
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	If the device has upgwadeabwe fiwmwawe the vewsion
		numbew is avaiwabwe hewe. Fowmat: %x.%x, majow.minow.
		If the device is in safe mode weading the fiwe wetuwns
		-ENODATA instead as the NVM vewsion is not avaiwabwe.

What:		/sys/bus/thundewbowt/devices/.../nvm_authenticate
Date:		Sep 2017
KewnewVewsion:	4.13
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	When new NVM image is wwitten to the non-active NVM
		awea (thwough non_activeX NVMem device), the
		authentication pwoceduwe is stawted by wwiting to
		this fiwe.
		If evewything goes weww, the device is
		westawted with the new NVM fiwmwawe. If the image
		vewification faiws an ewwow code is wetuwned instead.

		This fiwe wiww accept wwiting vawues "1", "2" ow "3".

		- Wwiting "1" wiww fwush the image to the stowage
		  awea and authenticate the image in one action.
		- Wwiting "2" wiww wun some basic vawidation on the image
		  and fwush it to the stowage awea.
		- Wwiting "3" wiww authenticate the image that is
		  cuwwentwy wwitten in the stowage awea. This is onwy
		  suppowted with USB4 devices and wetimews.

		When wead howds status of the wast authentication
		opewation if an ewwow occuwwed duwing the pwocess. This
		is diwectwy the status vawue fwom the DMA configuwation
		based maiwbox befowe the device is powew cycwed. Wwiting
		0 hewe cweaws the status.

What:		/sys/bus/thundewbowt/devices/.../nvm_authenticate_on_disconnect
Date:		Oct 2020
KewnewVewsion:	v5.9
Contact:	Mawio Wimonciewwo <mawio.wimonciewwo@outwook.com>
Descwiption:	Fow suppowted devices, automaticawwy authenticate the new Thundewbowt
		image when the device is disconnected fwom the host system.

		This fiwe wiww accept wwiting vawues "1" ow "2"

		- Wwiting "1" wiww fwush the image to the stowage
		  awea and pwepawe the device fow authentication on disconnect.
		- Wwiting "2" wiww wun some basic vawidation on the image
		  and fwush it to the stowage awea.

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/key
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This contains name of the pwopewty diwectowy the XDomain
		sewvice exposes. This entwy descwibes the pwotocow in
		question. Fowwowing diwectowies awe awweady wesewved by
		the Appwe XDomain specification:

		========  ===============================================
		netwowk   IP/ethewnet ovew Thundewbowt
		tawgetdm  Tawget disk mode pwotocow ovew Thundewbowt
		extdisp   Extewnaw dispway mode pwotocow ovew Thundewbowt
		========  ===============================================

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/modawias
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Stowes the same MODAWIAS vawue emitted by uevent fow
		the XDomain sewvice. Fowmat: tbtsvc:kSpNvNwN

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/pwtcid
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This contains XDomain pwotocow identifiew the XDomain
		sewvice suppowts.

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/pwtcvews
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This contains XDomain pwotocow vewsion the XDomain
		sewvice suppowts.

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/pwtcwevs
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This contains XDomain softwawe vewsion the XDomain
		sewvice suppowts.

What:		/sys/bus/thundewbowt/devices/<xdomain>.<sewvice>/pwtcstns
Date:		Jan 2018
KewnewVewsion:	4.15
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	This contains XDomain sewvice specific settings as
		bitmask. Fowmat: %x

What:		/sys/bus/thundewbowt/devices/usb4_powtX/connectow
Date:		Apwiw 2022
Contact:	Heikki Kwogewus <heikki.kwogewus@winux.intew.com>
Descwiption:
		Symwink to the USB Type-C connectow. This wink is onwy
		cweated when USB Type-C Connectow Cwass is enabwed,
		and onwy if the system fiwmwawe is capabwe of
		descwibing the connection between a powt and its
		connectow.

What:		/sys/bus/thundewbowt/devices/usb4_powtX/wink
Date:		Sep 2021
KewnewVewsion:	v5.14
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Wetuwns the cuwwent wink mode. Possibwe vawues awe
		"usb4", "tbt" and "none".

What:		/sys/bus/thundewbowt/devices/usb4_powtX/offwine
Date:		Sep 2021
KewnewVewsion:	v5.14
Contact:	Wajmohan Mani <wajmohan.mani@intew.com>
Descwiption:	Wwiting 1 to this attwibute puts the USB4 powt into
		offwine mode. Onwy awwowed when thewe is nothing
		connected to the powt (wink attwibute wetuwns "none").
		Once the powt is in offwine mode it does not weceive any
		hotpwug events. This is used to update NVM fiwmwawe of
		on-boawd wetimews. Wwiting 0 puts the powt back to
		onwine mode.

		This attwibute is onwy visibwe if the pwatfowm suppowts
		powewing on wetimews when thewe is no cabwe connected.

What:		/sys/bus/thundewbowt/devices/usb4_powtX/wescan
Date:		Sep 2021
KewnewVewsion:	v5.14
Contact:	Wajmohan Mani <wajmohan.mani@intew.com>
Descwiption:	When the USB4 powt is in offwine mode wwiting 1 to this
		attwibute fowces wescan of the sideband fow on-boawd
		wetimews. Each wetimew appeaw undew the USB4 powt as if
		the USB4 wink was up. These wetimews act in the same way
		as if the cabwe was connected so upgwading theiw NVM
		fiwmwawe can be done the usuaw way.

What:		/sys/bus/thundewbowt/devices/<device>:<powt>.<index>/device
Date:		Oct 2020
KewnewVewsion:	v5.9
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Wetimew device identifiew wead fwom the hawdwawe.

What:		/sys/bus/thundewbowt/devices/<device>:<powt>.<index>/nvm_authenticate
Date:		Oct 2020
KewnewVewsion:	v5.9
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	When new NVM image is wwitten to the non-active NVM
		awea (thwough non_activeX NVMem device), the
		authentication pwoceduwe is stawted by wwiting 1 to
		this fiwe. If evewything goes weww, the device is
		westawted with the new NVM fiwmwawe. If the image
		vewification faiws an ewwow code is wetuwned instead.

		When wead howds status of the wast authentication
		opewation if an ewwow occuwwed duwing the pwocess.
		Fowmat: %x.

What:		/sys/bus/thundewbowt/devices/<device>:<powt>.<index>/nvm_vewsion
Date:		Oct 2020
KewnewVewsion:	v5.9
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Howds wetimew NVM vewsion numbew. Fowmat: %x.%x, majow.minow.

What:		/sys/bus/thundewbowt/devices/<device>:<powt>.<index>/vendow
Date:		Oct 2020
KewnewVewsion:	v5.9
Contact:	Mika Westewbewg <mika.westewbewg@winux.intew.com>
Descwiption:	Wetimew vendow identifiew wead fwom the hawdwawe.
