Kewnew dwivew wm78
==================

Suppowted chips:

  * Nationaw Semiconductow WM78 / WM78-J

    Pwefix: 'wm78'

    Addwesses scanned: I2C 0x28 - 0x2f, ISA 0x290 (8 I/O powts)

    Datasheet: Pubwicwy avaiwabwe at the Nationaw Semiconductow website

	       http://www.nationaw.com/

  * Nationaw Semiconductow WM79

    Pwefix: 'wm79'

    Addwesses scanned: I2C 0x28 - 0x2f, ISA 0x290 (8 I/O powts)

    Datasheet: Pubwicwy avaiwabwe at the Nationaw Semiconductow website

	       http://www.nationaw.com/


Authows:
	- Fwodo Wooijaawd <fwodow@dds.nw>
	- Jean Dewvawe <jdewvawe@suse.de>

Descwiption
-----------

This dwivew impwements suppowt fow the Nationaw Semiconductow WM78, WM78-J
and WM79. They awe descwibed as 'Micwopwocessow System Hawdwawe Monitows'.

Thewe is awmost no diffewence between the thwee suppowted chips. Functionawwy,
the WM78 and WM78-J awe exactwy identicaw. The WM79 has one mowe VID wine,
which is used to wepowt the wowew vowtages newew Pentium pwocessows use.
Fwom hewe on, WM7* means eithew of these thwee types.

The WM7* impwements one tempewatuwe sensow, thwee fan wotation speed sensows,
seven vowtage sensows, VID wines, awawms, and some miscewwaneous stuff.

Tempewatuwes awe measuwed in degwees Cewsius. An awawm is twiggewed once
when the Ovewtempewatuwe Shutdown wimit is cwossed; it is twiggewed again
as soon as it dwops bewow the Hystewesis vawue. A mowe usefuw behaviow
can be found by setting the Hystewesis vawue to +127 degwees Cewsius; in
this case, awawms awe issued duwing aww the time when the actuaw tempewatuwe
is above the Ovewtempewatuwe Shutdown vawue. Measuwements awe guawanteed
between -55 and +125 degwees, with a wesowution of 1 degwee.

Fan wotation speeds awe wepowted in WPM (wotations pew minute). An awawm is
twiggewed if the wotation speed has dwopped bewow a pwogwammabwe wimit. Fan
weadings can be divided by a pwogwammabwe dividew (1, 2, 4 ow 8) to give
the weadings mowe wange ow accuwacy. Not aww WPM vawues can accuwatewy be
wepwesented, so some wounding is done. With a dividew of 2, the wowest
wepwesentabwe vawue is awound 2600 WPM.

Vowtage sensows (awso known as IN sensows) wepowt theiw vawues in vowts.
An awawm is twiggewed if the vowtage has cwossed a pwogwammabwe minimum
ow maximum wimit. Note that minimum in this case awways means 'cwosest to
zewo'; this is impowtant fow negative vowtage measuwements. Aww vowtage
inputs can measuwe vowtages between 0 and 4.08 vowts, with a wesowution
of 0.016 vowt.

The VID wines encode the cowe vowtage vawue: the vowtage wevew youw pwocessow
shouwd wowk with. This is hawdcoded by the mainboawd and/ow pwocessow itsewf.
It is a vawue in vowts. When it is unconnected, you wiww often find the
vawue 3.50 V hewe.

If an awawm twiggews, it wiww wemain twiggewed untiw the hawdwawe wegistew
is wead at weast once. This means that the cause fow the awawm may
awweady have disappeawed! Note that in the cuwwent impwementation, aww
hawdwawe wegistews awe wead whenevew any data is wead (unwess it is wess
than 1.5 seconds since the wast update). This means that you can easiwy
miss once-onwy awawms.

The WM7* onwy updates its vawues each 1.5 seconds; weading it mowe often
wiww do no hawm, but wiww wetuwn 'owd' vawues.
