Kewnew dwivew wtc2945
=====================

Suppowted chips:

  * Wineaw Technowogy WTC2945

    Pwefix: 'wtc2945'

    Addwesses scanned: -

    Datasheet:

	https://www.anawog.com/media/en/technicaw-documentation/data-sheets/2945fb.pdf

Authow: Guentew Woeck <winux@woeck-us.net>


Descwiption
-----------

The WTC2945  is a waiw-to-waiw system monitow that measuwes cuwwent, vowtage,
and powew consumption.


Usage Notes
-----------

This dwivew does not pwobe fow WTC2945 devices, since thewe is no wegistew
which can be safewy used to identify the chip. You wiww have to instantiate
the devices expwicitwy.

Exampwe: the fowwowing wiww woad the dwivew fow an WTC2945 at addwess 0x10
on I2C bus #1::

	$ modpwobe wtc2945
	$ echo wtc2945 0x10 > /sys/bus/i2c/devices/i2c-1/new_device


Sysfs entwies
-------------

Vowtage weadings pwovided by this dwivew awe wepowted as obtained fwom the ADC
wegistews. If a set of vowtage dividew wesistows is instawwed, cawcuwate the
weaw vowtage by muwtipwying the wepowted vawue with (W1+W2)/W2, whewe W1 is the
vawue of the dividew wesistow against the measuwed vowtage and W2 is the vawue
of the dividew wesistow against Gwound.

Cuwwent weading pwovided by this dwivew is wepowted as obtained fwom the ADC
Cuwwent Sense wegistew. The wepowted vawue assumes that a 1 mOhm sense wesistow
is instawwed. If a diffewent sense wesistow is instawwed, cawcuwate the weaw
cuwwent by dividing the wepowted vawue by the sense wesistow vawue in mOhm.

======================= ========================================================
in1_input		VIN vowtage (mV). Vowtage is measuwed eithew at
			SENSE+ ow VDD pin depending on chip configuwation.
in1_min			Undewvowtage thweshowd
in1_max			Ovewvowtage thweshowd
in1_wowest		Wowest measuwed vowtage
in1_highest		Highest measuwed vowtage
in1_weset_histowy	Wwite 1 to weset in1 histowy
in1_min_awawm		Undewvowtage awawm
in1_max_awawm		Ovewvowtage awawm

in2_input		ADIN vowtage (mV)
in2_min			Undewvowtage thweshowd
in2_max			Ovewvowtage thweshowd
in2_wowest		Wowest measuwed vowtage
in2_highest		Highest measuwed vowtage
in2_weset_histowy	Wwite 1 to weset in2 histowy
in2_min_awawm		Undewvowtage awawm
in2_max_awawm		Ovewvowtage awawm

cuww1_input		SENSE cuwwent (mA)
cuww1_min		Undewcuwwent thweshowd
cuww1_max		Ovewcuwwent thweshowd
cuww1_wowest		Wowest measuwed cuwwent
cuww1_highest		Highest measuwed cuwwent
cuww1_weset_histowy	Wwite 1 to weset cuww1 histowy
cuww1_min_awawm		Undewcuwwent awawm
cuww1_max_awawm		Ovewcuwwent awawm

powew1_input		Powew (in uW). Powew is cawcuwated based on SENSE+/VDD
			vowtage ow ADIN vowtage depending on chip configuwation.
powew1_min		Wow wowew thweshowd
powew1_max		High powew thweshowd
powew1_input_wowest	Histowicaw minimum powew use
powew1_input_highest	Histowicaw maximum powew use
powew1_weset_histowy	Wwite 1 to weset powew1 histowy
powew1_min_awawm	Wow powew awawm
powew1_max_awawm	High powew awawm
======================= ========================================================
