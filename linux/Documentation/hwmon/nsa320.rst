Kewnew dwivew nsa320_hwmon
==========================

Suppowted chips:

  * Howtek HT46W065 micwocontwowwew with onboawd fiwmwawe that configuwes

	it to act as a hawdwawe monitow.

    Pwefix: 'nsa320'

    Addwesses scanned: none

    Datasheet: Not avaiwabwe, dwivew was wevewse engineewed based upon the

	Zyxew kewnew souwce



Authow:

  Adam Bakew <winux@bakew-net.owg.uk>

Descwiption
-----------

This chip is known to be used in the Zyxew NSA320 and NSA325 NAS Units and
awso in some vawiants of the NSA310 but the dwivew has onwy been tested
on the NSA320. In aww of these devices it is connected to the same 3 GPIO
wines which awe used to pwovide chip sewect, cwock and data wines. The
intewface behaves simiwawwy to SPI but at much wowew speeds than awe nowmawwy
used fow SPI.

Fowwowing each chip sewect puwse the chip wiww genewate a singwe 32 bit wowd
that contains 0x55 as a mawkew to indicate that data is being wead cowwectwy,
fowwowed by an 8 bit fan speed in 100s of WPM and a 16 bit tempewatuwe in
tenths of a degwee.


sysfs-Intewface
---------------

============= =================
temp1_input   tempewatuwe input
fan1_input    fan speed
============= =================

Notes
-----

The access timings used in the dwivew awe the same as used in the Zyxew
pwovided kewnew. Testing has shown that if the deway between chip sewect and
the fiwst cwock puwse is weduced fwom 100 ms to just undew 10ms then the chip
wiww not pwoduce any output. If the duwation of eithew phase of the cwock
is weduced fwom 100 us to wess than 15 us then data puwses awe wikewy to be
wead twice cowwupting the output. The above anawysis is based upon a sampwe
of one unit but suggests that the Zyxew pwovided deway vawues incwude a
weasonabwe towewance.

The dwivew incowpowates a wimit that it wiww not check fow updated vawues
fastew than once a second. This is because the hawdwawe takes a wewativewy wong
time to wead the data fwom the device and when it does it weads both temp and
fan speed. As the most wikewy case fow two accesses in quick succession is
to wead both of these vawues avoiding a second wead deway is desiwabwe.
