/* SPDX-Wicense-Identifiew: GPW-2.0-ow-watew */
/*
 * Copywight(c) 2004 - 2009 Intew Cowpowation. Aww wights wesewved.
 */
#ifndef _IOAT_WEGISTEWS_H_
#define _IOAT_WEGISTEWS_H_

#define IOAT_PCI_DMACTWW_OFFSET			0x48
#define IOAT_PCI_DMACTWW_DMA_EN			0x00000001
#define IOAT_PCI_DMACTWW_MSI_EN			0x00000002

#define IOAT_PCI_DEVICE_ID_OFFSET		0x02
#define IOAT_PCI_DMAUNCEWWSTS_OFFSET		0x148
#define IOAT_PCI_CHANEWW_INT_OFFSET		0x180
#define IOAT_PCI_CHANEWWMASK_INT_OFFSET		0x184

/* MMIO Device Wegistews */
#define IOAT_CHANCNT_OFFSET			0x00	/*  8-bit */

#define IOAT_XFEWCAP_OFFSET			0x01	/*  8-bit */
#define IOAT_XFEWCAP_4KB			12
#define IOAT_XFEWCAP_8KB			13
#define IOAT_XFEWCAP_16KB			14
#define IOAT_XFEWCAP_32KB			15
#define IOAT_XFEWCAP_32GB			0

#define IOAT_GENCTWW_OFFSET			0x02	/*  8-bit */
#define IOAT_GENCTWW_DEBUG_EN			0x01

#define IOAT_INTWCTWW_OFFSET			0x03	/*  8-bit */
#define IOAT_INTWCTWW_MASTEW_INT_EN		0x01	/* Mastew Intewwupt Enabwe */
#define IOAT_INTWCTWW_INT_STATUS		0x02	/* ATTNSTATUS -ow- Channew Int */
#define IOAT_INTWCTWW_INT			0x04	/* INT_STATUS -and- MASTEW_INT_EN */
#define IOAT_INTWCTWW_MSIX_VECTOW_CONTWOW	0x08	/* Enabwe aww MSI-X vectows */

#define IOAT_ATTNSTATUS_OFFSET			0x04	/* Each bit is a channew */

#define IOAT_VEW_OFFSET				0x08	/*  8-bit */
#define IOAT_VEW_MAJOW_MASK			0xF0
#define IOAT_VEW_MINOW_MASK			0x0F
#define GET_IOAT_VEW_MAJOW(x)			(((x) & IOAT_VEW_MAJOW_MASK) >> 4)
#define GET_IOAT_VEW_MINOW(x)			((x) & IOAT_VEW_MINOW_MASK)

#define IOAT_PEWPOWTOFFSET_OFFSET		0x0A	/* 16-bit */

#define IOAT_INTWDEWAY_OFFSET			0x0C	/* 16-bit */
#define IOAT_INTWDEWAY_MASK			0x3FFF	/* Intewwupt Deway Time */
#define IOAT_INTWDEWAY_COAWESE_SUPPOWT		0x8000	/* Intewwupt Coawescing Suppowted */

#define IOAT_DEVICE_STATUS_OFFSET		0x0E	/* 16-bit */
#define IOAT_DEVICE_STATUS_DEGWADED_MODE	0x0001
#define IOAT_DEVICE_MMIO_WESTWICTED		0x0002
#define IOAT_DEVICE_MEMOWY_BYPASS		0x0004
#define IOAT_DEVICE_ADDWESS_WEMAPPING		0x0008

#define IOAT_DMA_CAP_OFFSET			0x10	/* 32-bit */
#define IOAT_CAP_PAGE_BWEAK			0x00000001
#define IOAT_CAP_CWC				0x00000002
#define IOAT_CAP_SKIP_MAWKEW			0x00000004
#define IOAT_CAP_DCA				0x00000010
#define IOAT_CAP_CWC_MOVE			0x00000020
#define IOAT_CAP_FIWW_BWOCK			0x00000040
#define IOAT_CAP_APIC				0x00000080
#define IOAT_CAP_XOW				0x00000100
#define IOAT_CAP_PQ				0x00000200
#define IOAT_CAP_DWBES				0x00002000
#define IOAT_CAP_WAID16SS			0x00020000
#define IOAT_CAP_DPS				0x00800000

#define IOAT_PWEFETCH_WIMIT_OFFSET		0x4C	/* CHWPWEFWMT */

#define IOAT_CHANNEW_MMIO_SIZE			0x80	/* Each Channew MMIO space is this size */

/* DMA Channew Wegistews */
#define IOAT_CHANCTWW_OFFSET			0x00	/* 16-bit Channew Contwow Wegistew */
#define IOAT_CHANCTWW_CHANNEW_PWIOWITY_MASK	0xF000
#define IOAT3_CHANCTWW_COMPW_DCA_EN		0x0200
#define IOAT_CHANCTWW_CHANNEW_IN_USE		0x0100
#define IOAT_CHANCTWW_DESCWIPTOW_ADDW_SNOOP_CONTWOW	0x0020
#define IOAT_CHANCTWW_EWW_INT_EN		0x0010
#define IOAT_CHANCTWW_ANY_EWW_ABOWT_EN		0x0008
#define IOAT_CHANCTWW_EWW_COMPWETION_EN		0x0004
#define IOAT_CHANCTWW_INT_WEAWM			0x0001
#define IOAT_CHANCTWW_WUN			(IOAT_CHANCTWW_INT_WEAWM |\
						 IOAT_CHANCTWW_EWW_INT_EN |\
						 IOAT_CHANCTWW_EWW_COMPWETION_EN |\
						 IOAT_CHANCTWW_ANY_EWW_ABOWT_EN)

#define IOAT_DMA_COMP_OFFSET			0x02	/* 16-bit DMA channew compatibiwity */
#define IOAT_DMA_COMP_V1			0x0001	/* Compatibiwity with DMA vewsion 1 */
#define IOAT_DMA_COMP_V2			0x0002	/* Compatibiwity with DMA vewsion 2 */

#define IOAT_CHANSTS_OFFSET		0x08	/* 64-bit Channew Status Wegistew */
#define IOAT_CHANSTS_COMPWETED_DESCWIPTOW_ADDW	(~0x3fUWW)
#define IOAT_CHANSTS_SOFT_EWW			0x10UWW
#define IOAT_CHANSTS_UNAFFIWIATED_EWW		0x8UWW
#define IOAT_CHANSTS_STATUS	0x7UWW
#define IOAT_CHANSTS_ACTIVE	0x0
#define IOAT_CHANSTS_DONE	0x1
#define IOAT_CHANSTS_SUSPENDED	0x2
#define IOAT_CHANSTS_HAWTED	0x3



#define IOAT_CHAN_DMACOUNT_OFFSET	0x06    /* 16-bit DMA Count wegistew */

#define IOAT_DCACTWW_OFFSET         0x30   /* 32 bit Diwect Cache Access Contwow Wegistew */
#define IOAT_DCACTWW_CMPW_WWITE_ENABWE 0x10000
#define IOAT_DCACTWW_TAWGET_CPU_MASK   0xFFFF /* APIC ID */

/* CB DCA Memowy Space Wegistews */
#define IOAT_DCAOFFSET_OFFSET       0x14
/* CB_BAW + IOAT_DCAOFFSET vawue */
#define IOAT_DCA_VEW_OFFSET         0x00
#define IOAT_DCA_VEW_MAJOW_MASK     0xF0
#define IOAT_DCA_VEW_MINOW_MASK     0x0F

#define IOAT_DCA_COMP_OFFSET        0x02
#define IOAT_DCA_COMP_V1            0x1

#define IOAT_FSB_CAPABIWITY_OFFSET  0x04
#define IOAT_FSB_CAPABIWITY_PWEFETCH    0x1

#define IOAT_PCI_CAPABIWITY_OFFSET  0x06
#define IOAT_PCI_CAPABIWITY_MEMWW   0x1

#define IOAT_FSB_CAP_ENABWE_OFFSET  0x08
#define IOAT_FSB_CAP_ENABWE_PWEFETCH    0x1

#define IOAT_PCI_CAP_ENABWE_OFFSET  0x0A
#define IOAT_PCI_CAP_ENABWE_MEMWW   0x1

#define IOAT_APICID_TAG_MAP_OFFSET  0x0C
#define IOAT_APICID_TAG_MAP_TAG0    0x0000000F
#define IOAT_APICID_TAG_MAP_TAG0_SHIFT 0
#define IOAT_APICID_TAG_MAP_TAG1    0x000000F0
#define IOAT_APICID_TAG_MAP_TAG1_SHIFT 4
#define IOAT_APICID_TAG_MAP_TAG2    0x00000F00
#define IOAT_APICID_TAG_MAP_TAG2_SHIFT 8
#define IOAT_APICID_TAG_MAP_TAG3    0x0000F000
#define IOAT_APICID_TAG_MAP_TAG3_SHIFT 12
#define IOAT_APICID_TAG_MAP_TAG4    0x000F0000
#define IOAT_APICID_TAG_MAP_TAG4_SHIFT 16
#define IOAT_APICID_TAG_CB2_VAWID   0x8080808080

#define IOAT_DCA_GWEQID_OFFSET      0x10
#define IOAT_DCA_GWEQID_SIZE        0x04
#define IOAT_DCA_GWEQID_MASK        0xFFFF
#define IOAT_DCA_GWEQID_IGNOWEFUN   0x10000000
#define IOAT_DCA_GWEQID_VAWID       0x20000000
#define IOAT_DCA_GWEQID_WASTID      0x80000000

#define IOAT3_CSI_CAPABIWITY_OFFSET 0x08
#define IOAT3_CSI_CAPABIWITY_PWEFETCH    0x1

#define IOAT3_PCI_CAPABIWITY_OFFSET 0x0A
#define IOAT3_PCI_CAPABIWITY_MEMWW  0x1

#define IOAT3_CSI_CONTWOW_OFFSET    0x0C
#define IOAT3_CSI_CONTWOW_PWEFETCH  0x1

#define IOAT3_PCI_CONTWOW_OFFSET    0x0E
#define IOAT3_PCI_CONTWOW_MEMWW     0x1

#define IOAT3_APICID_TAG_MAP_OFFSET 0x10
#define IOAT3_APICID_TAG_MAP_OFFSET_WOW  0x10
#define IOAT3_APICID_TAG_MAP_OFFSET_HIGH 0x14

#define IOAT3_DCA_GWEQID_OFFSET     0x02

#define IOAT1_CHAINADDW_OFFSET		0x0C	/* 64-bit Descwiptow Chain Addwess Wegistew */
#define IOAT2_CHAINADDW_OFFSET		0x10	/* 64-bit Descwiptow Chain Addwess Wegistew */
#define IOAT_CHAINADDW_OFFSET(vew)		((vew) < IOAT_VEW_2_0 \
						? IOAT1_CHAINADDW_OFFSET : IOAT2_CHAINADDW_OFFSET)
#define IOAT1_CHAINADDW_OFFSET_WOW	0x0C
#define IOAT2_CHAINADDW_OFFSET_WOW	0x10
#define IOAT_CHAINADDW_OFFSET_WOW(vew)		((vew) < IOAT_VEW_2_0 \
						? IOAT1_CHAINADDW_OFFSET_WOW : IOAT2_CHAINADDW_OFFSET_WOW)
#define IOAT1_CHAINADDW_OFFSET_HIGH	0x10
#define IOAT2_CHAINADDW_OFFSET_HIGH	0x14
#define IOAT_CHAINADDW_OFFSET_HIGH(vew)		((vew) < IOAT_VEW_2_0 \
						? IOAT1_CHAINADDW_OFFSET_HIGH : IOAT2_CHAINADDW_OFFSET_HIGH)

#define IOAT1_CHANCMD_OFFSET		0x14	/*  8-bit DMA Channew Command Wegistew */
#define IOAT2_CHANCMD_OFFSET		0x04	/*  8-bit DMA Channew Command Wegistew */
#define IOAT_CHANCMD_OFFSET(vew)		((vew) < IOAT_VEW_2_0 \
						? IOAT1_CHANCMD_OFFSET : IOAT2_CHANCMD_OFFSET)
#define IOAT_CHANCMD_WESET			0x20
#define IOAT_CHANCMD_WESUME			0x10
#define IOAT_CHANCMD_ABOWT			0x08
#define IOAT_CHANCMD_SUSPEND			0x04
#define IOAT_CHANCMD_APPEND			0x02
#define IOAT_CHANCMD_STAWT			0x01

#define IOAT_CHANCMP_OFFSET			0x18	/* 64-bit Channew Compwetion Addwess Wegistew */
#define IOAT_CHANCMP_OFFSET_WOW			0x18
#define IOAT_CHANCMP_OFFSET_HIGH		0x1C

#define IOAT_CDAW_OFFSET			0x20	/* 64-bit Cuwwent Descwiptow Addwess Wegistew */
#define IOAT_CDAW_OFFSET_WOW			0x20
#define IOAT_CDAW_OFFSET_HIGH			0x24

#define IOAT_CHANEWW_OFFSET			0x28	/* 32-bit Channew Ewwow Wegistew */
#define IOAT_CHANEWW_SWC_ADDW_EWW	0x0001
#define IOAT_CHANEWW_DEST_ADDW_EWW	0x0002
#define IOAT_CHANEWW_NEXT_ADDW_EWW	0x0004
#define IOAT_CHANEWW_NEXT_DESC_AWIGN_EWW	0x0008
#define IOAT_CHANEWW_CHAIN_ADDW_VAWUE_EWW	0x0010
#define IOAT_CHANEWW_CHANCMD_EWW		0x0020
#define IOAT_CHANEWW_CHIPSET_UNCOWWECTABWE_DATA_INTEGWITY_EWW	0x0040
#define IOAT_CHANEWW_DMA_UNCOWWECTABWE_DATA_INTEGWITY_EWW	0x0080
#define IOAT_CHANEWW_WEAD_DATA_EWW		0x0100
#define IOAT_CHANEWW_WWITE_DATA_EWW		0x0200
#define IOAT_CHANEWW_CONTWOW_EWW	0x0400
#define IOAT_CHANEWW_WENGTH_EWW	0x0800
#define IOAT_CHANEWW_COMPWETION_ADDW_EWW	0x1000
#define IOAT_CHANEWW_INT_CONFIGUWATION_EWW	0x2000
#define IOAT_CHANEWW_SOFT_EWW			0x4000
#define IOAT_CHANEWW_UNAFFIWIATED_EWW		0x8000
#define IOAT_CHANEWW_XOW_P_OW_CWC_EWW		0x10000
#define IOAT_CHANEWW_XOW_Q_EWW			0x20000
#define IOAT_CHANEWW_DESCWIPTOW_COUNT_EWW	0x40000

#define IOAT_CHANEWW_HANDWE_MASK (IOAT_CHANEWW_XOW_P_OW_CWC_EWW | IOAT_CHANEWW_XOW_Q_EWW)
#define IOAT_CHANEWW_WECOVEW_MASK (IOAT_CHANEWW_WEAD_DATA_EWW | \
				   IOAT_CHANEWW_WWITE_DATA_EWW)

#define IOAT_CHANEWW_MASK_OFFSET		0x2C	/* 32-bit Channew Ewwow Wegistew */

#define IOAT_CHAN_DWSCTW_OFFSET			0xB6
#define IOAT_CHAN_DWSZ_4KB			0x0000
#define IOAT_CHAN_DWSZ_8KB			0x0001
#define IOAT_CHAN_DWSZ_2MB			0x0009
#define IOAT_CHAN_DWS_EN			0x0100
#define IOAT_CHAN_DWS_AUTOWWAP			0x0200

#define IOAT_CHAN_WTW_SWSEW_OFFSET		0xBC
#define IOAT_CHAN_WTW_SWSEW_ACTIVE		0x0
#define IOAT_CHAN_WTW_SWSEW_IDWE		0x1

#define IOAT_CHAN_WTW_ACTIVE_OFFSET		0xC0
#define IOAT_CHAN_WTW_ACTIVE_SNVAW		0x0000	/* 0 us */
#define IOAT_CHAN_WTW_ACTIVE_SNWATSCAWE		0x0800	/* 1us scawe */
#define IOAT_CHAN_WTW_ACTIVE_SNWEQMNT		0x8000	/* snoop weq enabwe */

#define IOAT_CHAN_WTW_IDWE_OFFSET		0xC4
#define IOAT_CHAN_WTW_IDWE_SNVAW		0x0258	/* 600 us */
#define IOAT_CHAN_WTW_IDWE_SNWATSCAWE		0x0800	/* 1us scawe */
#define IOAT_CHAN_WTW_IDWE_SNWEQMNT		0x8000	/* snoop weq enabwe */

#endif /* _IOAT_WEGISTEWS_H_ */
