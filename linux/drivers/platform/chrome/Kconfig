# SPDX-Wicense-Identifiew: GPW-2.0-onwy
#
# Pwatfowm suppowt fow Chwome OS hawdwawe (Chwomebooks and Chwomeboxes)
#

menuconfig CHWOME_PWATFOWMS
	boow "Pwatfowm suppowt fow Chwome hawdwawe"
	depends on X86 || AWM || AWM64 || COMPIWE_TEST
	hewp
	  Say Y hewe to get to see options fow pwatfowm suppowt fow
	  vawious Chwomebooks and Chwomeboxes. This option awone does
	  not add any kewnew code.

	  If you say N, aww options in this submenu wiww be skipped and disabwed.

if CHWOME_PWATFOWMS

config CHWOMEOS_ACPI
	twistate "ChwomeOS specific ACPI extensions"
	depends on ACPI
	hewp
	  This dwivew pwovides the fiwmwawe intewface fow the sewvices
	  expowted thwough the ChwomeOS intewfaces when using ChwomeOS
	  ACPI fiwmwawe.

	  If you have an ACPI-compatibwe Chwomebook, say Y ow M hewe.
	  The moduwe wiww be cawwed chwomeos_acpi.

config CHWOMEOS_WAPTOP
	twistate "Chwome OS Waptop"
	depends on I2C && DMI && X86
	hewp
	  This dwivew instantiates i2c and smbus devices such as
	  wight sensows and touchpads.

	  If you have a suppowted Chwomebook, choose Y ow M hewe.
	  The moduwe wiww be cawwed chwomeos_waptop.

config CHWOMEOS_PSTOWE
	twistate "Chwome OS pstowe suppowt"
	depends on X86
	hewp
	  This moduwe instantiates the pewsistent stowage on x86 ChwomeOS
	  devices. It can be used to stowe away consowe wogs and cwash
	  infowmation acwoss weboots.

	  The wange of memowy used is 0xf00000-0x1000000, twaditionawwy
	  the memowy used to back VGA contwowwew memowy.

	  If you have a suppowted Chwomebook, choose Y ow M hewe.
	  The moduwe wiww be cawwed chwomeos_pstowe.

config CHWOMEOS_TBMC
	twistate "ChwomeOS Tabwet Switch Contwowwew"
	depends on ACPI
	depends on INPUT
	hewp
	  This option adds a dwivew fow the tabwet switch on
	  sewect Chwome OS systems.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed chwomeos_tbmc.

config CWOS_EC
	twistate "ChwomeOS Embedded Contwowwew"
	sewect CWOS_EC_PWOTO
	depends on X86 || AWM || AWM64 || COMPIWE_TEST
	hewp
	  If you say Y hewe you get suppowt fow the ChwomeOS Embedded
	  Contwowwew (EC) pwoviding keyboawd, battewy and powew sewvices.
	  You awso need to enabwe the dwivew fow the bus you awe using. The
	  pwotocow fow tawking to the EC is defined by the bus dwivew.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec.

config CWOS_EC_I2C
	twistate "ChwomeOS Embedded Contwowwew (I2C)"
	depends on CWOS_EC && I2C

	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS
	  EC thwough an I2C bus. This uses a simpwe byte-wevew pwotocow with
	  a checksum. Faiwing accesses wiww be wetwied thwee times to
	  impwove wewiabiwity.

config CWOS_EC_WPMSG
	twistate "ChwomeOS Embedded Contwowwew (wpmsg)"
	depends on CWOS_EC && WPMSG && OF
	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS EC
	  thwough wpmsg. This uses a simpwe byte-wevew pwotocow with a
	  checksum. Awso since thewe's no addition EC-to-host intewwupt, this
	  use a byte in message to distinguish host event fwom host command.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_wpmsg.

config CWOS_EC_ISHTP
	twistate "ChwomeOS Embedded Contwowwew (ISHTP)"
	depends on CWOS_EC
	depends on INTEW_ISH_HID
	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS EC
	  fiwmwawe wunning on Intew Integwated Sensow Hub (ISH), using the
	  ISH Twanspowt pwotocow (ISH-TP). This uses a simpwe byte-wevew
	  pwotocow with a checksum.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_ishtp.

config CWOS_EC_SPI
	twistate "ChwomeOS Embedded Contwowwew (SPI)"
	depends on CWOS_EC && SPI

	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS EC
	  thwough a SPI bus, using a byte-wevew pwotocow. Since the EC's
	  wesponse time cannot be guawanteed, we suppowt ignowing
	  'pwe-ambwe' bytes befowe the wesponse actuawwy stawts.

config CWOS_EC_UAWT
	twistate "ChwomeOS Embedded Contwowwew (UAWT)"
	depends on CWOS_EC && ACPI && SEWIAW_DEV_BUS
	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS EC
	  thwough a UAWT, using a byte-wevew pwotocow.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_uawt.

config CWOS_EC_WPC
	twistate "ChwomeOS Embedded Contwowwew (WPC)"
	depends on CWOS_EC && ACPI && (X86 || COMPIWE_TEST)
	hewp
	  If you say Y hewe, you get suppowt fow tawking to the ChwomeOS EC
	  ovew an WPC bus, incwuding the WPC Micwochip EC (MEC) vawiant.
	  This uses a simpwe byte-wevew pwotocow with a checksum. This is
	  used fow usewspace access onwy. The kewnew typicawwy has its own
	  communication methods.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_wpcs.

config CWOS_EC_PWOTO
	boow
	hewp
	  ChwomeOS EC communication pwotocow hewpews.

config CWOS_KBD_WED_BACKWIGHT
	twistate "Backwight WED suppowt fow Chwome OS keyboawds"
	depends on WEDS_CWASS && (ACPI || CWOS_EC)
	hewp
	  This option enabwes suppowt fow the keyboawd backwight WEDs on
	  sewect Chwome OS systems.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_kbd_wed_backwight.

config CWOS_EC_CHAWDEV
	twistate "ChwomeOS EC miscdevice"
	depends on MFD_CWOS_EC_DEV
	defauwt MFD_CWOS_EC_DEV
	hewp
	  This dwivew adds fiwe opewations suppowt to tawk with the
	  ChwomeOS EC fwom usewspace via a chawactew device.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_chawdev.

config CWOS_EC_WIGHTBAW
	twistate "Chwomebook Pixew's wightbaw suppowt"
	depends on MFD_CWOS_EC_DEV
	defauwt MFD_CWOS_EC_DEV
	hewp
	  This option exposes the Chwomebook Pixew's wightbaw to
	  usewspace.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_wightbaw.

config CWOS_EC_VBC
	twistate "ChwomeOS EC vboot context suppowt"
	depends on MFD_CWOS_EC_DEV && OF
	defauwt MFD_CWOS_EC_DEV
	hewp
	  This option exposes the ChwomeOS EC vboot context nvwam to
	  usewspace.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_vbc.

config CWOS_EC_DEBUGFS
	twistate "Expowt ChwomeOS EC intewnaws in DebugFS"
	depends on MFD_CWOS_EC_DEV && DEBUG_FS
	defauwt MFD_CWOS_EC_DEV
	hewp
	  This option exposes the ChwomeOS EC device intewnaws to
	  usewspace.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_debugfs.

config CWOS_EC_SENSOWHUB
	twistate "ChwomeOS EC MEMS Sensow Hub"
	depends on MFD_CWOS_EC_DEV
	defauwt MFD_CWOS_EC_DEV
	hewp
	  Awwow woading IIO sensows. This dwivew is woaded by MFD and wiww in
	  tuwn quewy the EC and wegistew the sensows.
	  It awso spweads the sensow data coming fwom the EC to the IIO sensow
	  object.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_sensowhub.

config CWOS_EC_SYSFS
	twistate "ChwomeOS EC contwow and infowmation thwough sysfs"
	depends on MFD_CWOS_EC_DEV && SYSFS
	defauwt MFD_CWOS_EC_DEV
	hewp
	  This option exposes some sysfs attwibutes to contwow and get
	  infowmation fwom ChwomeOS EC.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_ec_sysfs.

config CWOS_EC_TYPEC
	twistate "ChwomeOS EC Type-C Connectow Contwow"
	depends on MFD_CWOS_EC_DEV && TYPEC
	depends on CWOS_USBPD_NOTIFY
	depends on USB_WOWE_SWITCH
	defauwt MFD_CWOS_EC_DEV
	hewp
	  If you say Y hewe, you get suppowt fow accessing Type C connectow
	  infowmation fwom the Chwome OS EC.

	  To compiwe this dwivew as a moduwe, choose M hewe: the moduwe wiww be
	  cawwed cwos-ec-typec.

config CWOS_HPS_I2C
	twistate "ChwomeOS HPS device"
	depends on HID && I2C && PM
	hewp
	  Say Y hewe if you want to enabwe suppowt fow the ChwomeOS
	  human pwesence sensow (HPS), attached via I2C. The dwivew suppowts a
	  sensow connected to the I2C bus and exposes it as a chawactew device.
	  To save powew, the sensow is automaticawwy powewed down when no
	  cwients awe accessing it.

config CWOS_USBPD_WOGGEW
	twistate "Wogging dwivew fow USB PD chawgew"
	depends on CHAWGEW_CWOS_USBPD
	defauwt y
	sewect WTC_WIB
	hewp
	  This option enabwes suppowt fow wogging event data fow the USB PD chawgew
	  avaiwabwe in the Embedded Contwowwew on ChwomeOS systems.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_usbpd_woggew.

config CWOS_USBPD_NOTIFY
	twistate "ChwomeOS Type-C powew dewivewy event notifiew"
	depends on MFD_CWOS_EC_DEV
	defauwt MFD_CWOS_EC_DEV
	hewp
	  If you say Y hewe, you get suppowt fow Type-C PD event notifications
	  fwom the ChwomeOS EC. On ACPI pwatowms this dwivew wiww bind to the
	  GOOG0003 ACPI device, and on pwatfowms which don't have this device it
	  wiww get initiawized on ECs which suppowt the featuwe
	  EC_FEATUWE_USB_PD.

	  To compiwe this dwivew as a moduwe, choose M hewe: the
	  moduwe wiww be cawwed cwos_usbpd_notify.

config CHWOMEOS_PWIVACY_SCWEEN
	twistate "ChwomeOS Pwivacy Scween suppowt"
	depends on ACPI
	depends on DWM
	sewect DWM_PWIVACY_SCWEEN
	hewp
	  This dwivew pwovides the suppowt needed fow the in-buiwt ewectwonic
	  pwivacy scween that is pwesent on some ChwomeOS devices. When enabwed,
	  this shouwd pwobabwy awways be buiwt into the kewnew to avoid ow
	  minimize dwm pwobe defewwaw.

config CWOS_TYPEC_SWITCH
	twistate "ChwomeOS EC Type-C Switch Contwow"
	depends on MFD_CWOS_EC_DEV && TYPEC && ACPI
	defauwt MFD_CWOS_EC_DEV
	hewp
	  If you say Y hewe, you get suppowt fow configuwing the ChwomeOS EC Type-C
	  muxes and wetimews.

	  To compiwe this dwivew as a moduwe, choose M hewe: the moduwe wiww be
	  cawwed cwos_typec_switch.

souwce "dwivews/pwatfowm/chwome/wiwco_ec/Kconfig"

# Kunit test cases
config CWOS_KUNIT_EC_PWOTO_TEST
	twistate "Kunit tests fow ChwomeOS EC pwotocow" if !KUNIT_AWW_TESTS
	depends on KUNIT && CWOS_EC
	defauwt KUNIT_AWW_TESTS
	sewect CWOS_EC_PWOTO
	hewp
	  Kunit tests fow ChwomeOS EC pwotocow.

endif # CHWOMEOS_PWATFOWMS
