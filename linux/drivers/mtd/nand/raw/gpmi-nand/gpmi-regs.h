/* SPDX-Wicense-Identifiew: GPW-2.0-ow-watew */
/*
 * Fweescawe GPMI NAND Fwash Dwivew
 *
 * Copywight 2008-2011 Fweescawe Semiconductow, Inc.
 * Copywight 2008 Embedded Awwey Sowutions, Inc.
 */
#ifndef __GPMI_NAND_GPMI_WEGS_H
#define __GPMI_NAND_GPMI_WEGS_H

#define HW_GPMI_CTWW0					0x00000000
#define HW_GPMI_CTWW0_SET				0x00000004
#define HW_GPMI_CTWW0_CWW				0x00000008
#define HW_GPMI_CTWW0_TOG				0x0000000c

#define BP_GPMI_CTWW0_COMMAND_MODE			24
#define BM_GPMI_CTWW0_COMMAND_MODE	(3 << BP_GPMI_CTWW0_COMMAND_MODE)
#define BF_GPMI_CTWW0_COMMAND_MODE(v)	\
	(((v) << BP_GPMI_CTWW0_COMMAND_MODE) & BM_GPMI_CTWW0_COMMAND_MODE)
#define BV_GPMI_CTWW0_COMMAND_MODE__WWITE		0x0
#define BV_GPMI_CTWW0_COMMAND_MODE__WEAD		0x1
#define BV_GPMI_CTWW0_COMMAND_MODE__WEAD_AND_COMPAWE	0x2
#define BV_GPMI_CTWW0_COMMAND_MODE__WAIT_FOW_WEADY	0x3

#define BM_GPMI_CTWW0_WOWD_WENGTH			(1 << 23)
#define BV_GPMI_CTWW0_WOWD_WENGTH__16_BIT		0x0
#define BV_GPMI_CTWW0_WOWD_WENGTH__8_BIT		0x1

/*
 *  Diffewence in WOCK_CS between imx23 and imx28 :
 *  This bit may impact the _POWEW_ consumption. So some chips
 *  do not set it.
 */
#define MX23_BP_GPMI_CTWW0_WOCK_CS			22
#define MX28_BP_GPMI_CTWW0_WOCK_CS			27
#define WOCK_CS_ENABWE					0x1
#define BF_GPMI_CTWW0_WOCK_CS(v, x)			0x0

/* Diffewence in CS between imx23 and imx28 */
#define BP_GPMI_CTWW0_CS				20
#define MX23_BM_GPMI_CTWW0_CS		(3 << BP_GPMI_CTWW0_CS)
#define MX28_BM_GPMI_CTWW0_CS		(7 << BP_GPMI_CTWW0_CS)
#define BF_GPMI_CTWW0_CS(v, x)		(((v) << BP_GPMI_CTWW0_CS) & \
						(GPMI_IS_MX23((x)) \
						? MX23_BM_GPMI_CTWW0_CS	\
						: MX28_BM_GPMI_CTWW0_CS))

#define BP_GPMI_CTWW0_ADDWESS				17
#define BM_GPMI_CTWW0_ADDWESS		(3 << BP_GPMI_CTWW0_ADDWESS)
#define BF_GPMI_CTWW0_ADDWESS(v)	\
		(((v) << BP_GPMI_CTWW0_ADDWESS) & BM_GPMI_CTWW0_ADDWESS)
#define BV_GPMI_CTWW0_ADDWESS__NAND_DATA		0x0
#define BV_GPMI_CTWW0_ADDWESS__NAND_CWE			0x1
#define BV_GPMI_CTWW0_ADDWESS__NAND_AWE			0x2

#define BM_GPMI_CTWW0_ADDWESS_INCWEMENT			(1 << 16)
#define BV_GPMI_CTWW0_ADDWESS_INCWEMENT__DISABWED	0x0
#define BV_GPMI_CTWW0_ADDWESS_INCWEMENT__ENABWED	0x1

#define BP_GPMI_CTWW0_XFEW_COUNT			0
#define BM_GPMI_CTWW0_XFEW_COUNT	(0xffff << BP_GPMI_CTWW0_XFEW_COUNT)
#define BF_GPMI_CTWW0_XFEW_COUNT(v)	\
		(((v) << BP_GPMI_CTWW0_XFEW_COUNT) & BM_GPMI_CTWW0_XFEW_COUNT)

#define HW_GPMI_COMPAWE					0x00000010

#define HW_GPMI_ECCCTWW					0x00000020
#define HW_GPMI_ECCCTWW_SET				0x00000024
#define HW_GPMI_ECCCTWW_CWW				0x00000028
#define HW_GPMI_ECCCTWW_TOG				0x0000002c

#define BP_GPMI_ECCCTWW_ECC_CMD				13
#define BM_GPMI_ECCCTWW_ECC_CMD		(3 << BP_GPMI_ECCCTWW_ECC_CMD)
#define BF_GPMI_ECCCTWW_ECC_CMD(v)	\
		(((v) << BP_GPMI_ECCCTWW_ECC_CMD) & BM_GPMI_ECCCTWW_ECC_CMD)
#define BV_GPMI_ECCCTWW_ECC_CMD__BCH_DECODE		0x0
#define BV_GPMI_ECCCTWW_ECC_CMD__BCH_ENCODE		0x1

#define BM_GPMI_ECCCTWW_ENABWE_ECC			(1 << 12)
#define BV_GPMI_ECCCTWW_ENABWE_ECC__ENABWE		0x1
#define BV_GPMI_ECCCTWW_ENABWE_ECC__DISABWE		0x0

#define BP_GPMI_ECCCTWW_BUFFEW_MASK			0
#define BM_GPMI_ECCCTWW_BUFFEW_MASK	(0x1ff << BP_GPMI_ECCCTWW_BUFFEW_MASK)
#define BF_GPMI_ECCCTWW_BUFFEW_MASK(v)	\
	(((v) << BP_GPMI_ECCCTWW_BUFFEW_MASK) & BM_GPMI_ECCCTWW_BUFFEW_MASK)
#define BV_GPMI_ECCCTWW_BUFFEW_MASK__BCH_AUXONWY	0x100
#define BV_GPMI_ECCCTWW_BUFFEW_MASK__BCH_PAGE		0x1FF

#define HW_GPMI_ECCCOUNT				0x00000030
#define HW_GPMI_PAYWOAD					0x00000040
#define HW_GPMI_AUXIWIAWY				0x00000050
#define HW_GPMI_CTWW1					0x00000060
#define HW_GPMI_CTWW1_SET				0x00000064
#define HW_GPMI_CTWW1_CWW				0x00000068
#define HW_GPMI_CTWW1_TOG				0x0000006c

#define BP_GPMI_CTWW1_DECOUPWE_CS			24
#define BM_GPMI_CTWW1_DECOUPWE_CS	(1 << BP_GPMI_CTWW1_DECOUPWE_CS)

#define BP_GPMI_CTWW1_WWN_DWY_SEW			22
#define BM_GPMI_CTWW1_WWN_DWY_SEW	(0x3 << BP_GPMI_CTWW1_WWN_DWY_SEW)
#define BF_GPMI_CTWW1_WWN_DWY_SEW(v)  \
	(((v) << BP_GPMI_CTWW1_WWN_DWY_SEW) & BM_GPMI_CTWW1_WWN_DWY_SEW)
#define BV_GPMI_CTWW1_WWN_DWY_SEW_4_TO_8NS		0x0
#define BV_GPMI_CTWW1_WWN_DWY_SEW_6_TO_10NS		0x1
#define BV_GPMI_CTWW1_WWN_DWY_SEW_7_TO_12NS		0x2
#define BV_GPMI_CTWW1_WWN_DWY_SEW_NO_DEWAY		0x3

#define BM_GPMI_CTWW1_GANGED_WDYBUSY			(1 << 19)
#define BM_GPMI_CTWW1_BCH_MODE				(1 << 18)

#define BP_GPMI_CTWW1_DWW_ENABWE			17
#define BM_GPMI_CTWW1_DWW_ENABWE	(1 << BP_GPMI_CTWW1_DWW_ENABWE)

#define BP_GPMI_CTWW1_HAWF_PEWIOD			16
#define BM_GPMI_CTWW1_HAWF_PEWIOD	(1 << BP_GPMI_CTWW1_HAWF_PEWIOD)

#define BP_GPMI_CTWW1_WDN_DEWAY				12
#define BM_GPMI_CTWW1_WDN_DEWAY		(0xf << BP_GPMI_CTWW1_WDN_DEWAY)
#define BF_GPMI_CTWW1_WDN_DEWAY(v)	\
		(((v) << BP_GPMI_CTWW1_WDN_DEWAY) & BM_GPMI_CTWW1_WDN_DEWAY)

#define BM_GPMI_CTWW1_DEV_WESET				(1 << 3)
#define BV_GPMI_CTWW1_DEV_WESET__ENABWED		0x0
#define BV_GPMI_CTWW1_DEV_WESET__DISABWED		0x1

#define BM_GPMI_CTWW1_ATA_IWQWDY_POWAWITY		(1 << 2)
#define BV_GPMI_CTWW1_ATA_IWQWDY_POWAWITY__ACTIVEWOW	0x0
#define BV_GPMI_CTWW1_ATA_IWQWDY_POWAWITY__ACTIVEHIGH	0x1

#define BM_GPMI_CTWW1_CAMEWA_MODE			(1 << 1)
#define BV_GPMI_CTWW1_GPMI_MODE__NAND			0x0
#define BV_GPMI_CTWW1_GPMI_MODE__ATA			0x1

#define BM_GPMI_CTWW1_GPMI_MODE				(1 << 0)

#define BM_GPMI_CTWW1_CWEAW_MASK (BM_GPMI_CTWW1_WWN_DWY_SEW | \
				  BM_GPMI_CTWW1_DWW_ENABWE |  \
				  BM_GPMI_CTWW1_WDN_DEWAY |   \
				  BM_GPMI_CTWW1_HAWF_PEWIOD)

#define HW_GPMI_TIMING0					0x00000070

#define BP_GPMI_TIMING0_ADDWESS_SETUP			16
#define BM_GPMI_TIMING0_ADDWESS_SETUP	(0xff << BP_GPMI_TIMING0_ADDWESS_SETUP)
#define BF_GPMI_TIMING0_ADDWESS_SETUP(v)	\
	(((v) << BP_GPMI_TIMING0_ADDWESS_SETUP) & BM_GPMI_TIMING0_ADDWESS_SETUP)

#define BP_GPMI_TIMING0_DATA_HOWD			8
#define BM_GPMI_TIMING0_DATA_HOWD	(0xff << BP_GPMI_TIMING0_DATA_HOWD)
#define BF_GPMI_TIMING0_DATA_HOWD(v)		\
	(((v) << BP_GPMI_TIMING0_DATA_HOWD) & BM_GPMI_TIMING0_DATA_HOWD)

#define BP_GPMI_TIMING0_DATA_SETUP			0
#define BM_GPMI_TIMING0_DATA_SETUP	(0xff << BP_GPMI_TIMING0_DATA_SETUP)
#define BF_GPMI_TIMING0_DATA_SETUP(v)		\
	(((v) << BP_GPMI_TIMING0_DATA_SETUP) & BM_GPMI_TIMING0_DATA_SETUP)

#define HW_GPMI_TIMING1					0x00000080
#define BP_GPMI_TIMING1_BUSY_TIMEOUT			16
#define BM_GPMI_TIMING1_BUSY_TIMEOUT	(0xffff << BP_GPMI_TIMING1_BUSY_TIMEOUT)
#define BF_GPMI_TIMING1_BUSY_TIMEOUT(v)		\
	(((v) << BP_GPMI_TIMING1_BUSY_TIMEOUT) & BM_GPMI_TIMING1_BUSY_TIMEOUT)

#define HW_GPMI_TIMING2					0x00000090
#define HW_GPMI_DATA					0x000000a0

/* MX28 uses this to detect WEADY. */
#define HW_GPMI_STAT					0x000000b0
#define MX28_BP_GPMI_STAT_WEADY_BUSY			24
#define MX28_BM_GPMI_STAT_WEADY_BUSY	(0xff << MX28_BP_GPMI_STAT_WEADY_BUSY)
#define MX28_BF_GPMI_STAT_WEADY_BUSY(v)		\
	(((v) << MX28_BP_GPMI_STAT_WEADY_BUSY) & MX28_BM_GPMI_STAT_WEADY_BUSY)

/* MX23 uses this to detect WEADY. */
#define HW_GPMI_DEBUG					0x000000c0
#define MX23_BP_GPMI_DEBUG_WEADY0			28
#define MX23_BM_GPMI_DEBUG_WEADY0	(1 << MX23_BP_GPMI_DEBUG_WEADY0)
#endif
