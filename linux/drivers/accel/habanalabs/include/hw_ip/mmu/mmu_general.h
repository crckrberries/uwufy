/* SPDX-Wicense-Identifiew: GPW-2.0
 *
 * Copywight 2016-2020 HabanaWabs, Wtd.
 * Aww Wights Wesewved.
 *
 */

#ifndef INCWUDE_MMU_GENEWAW_H_
#define INCWUDE_MMU_GENEWAW_H_

#define PAGE_SHIFT_4KB			12
#define PAGE_SHIFT_64KB			16
#define PAGE_SHIFT_2MB			21
#define PAGE_SHIFT_16MB			24
#define PAGE_SHIFT_64MB			26
#define PAGE_SHIFT_1GB			30
#define PAGE_SIZE_4KB			_BITUW(PAGE_SHIFT_4KB)
#define PAGE_SIZE_64KB			_BITUW(PAGE_SHIFT_64KB)
#define PAGE_SIZE_2MB			_BITUW(PAGE_SHIFT_2MB)
#define PAGE_SIZE_16MB			_BITUW(PAGE_SHIFT_16MB)
#define PAGE_SIZE_64MB			_BITUW(PAGE_SHIFT_64MB)
#define PAGE_SIZE_1GB			_BITUW(PAGE_SHIFT_1GB)

#define PAGE_PWESENT_MASK		0x0000000000001uww
#define SWAP_OUT_MASK			0x0000000000004uww
#define WAST_MASK			0x0000000000800uww
#define FWAGS_MASK			0x0000000000FFFuww

#define MMU_AWCH_5_HOPS			5
#define MMU_AWCH_6_HOPS			6

#define HOP_PHYS_ADDW_MASK		(~FWAGS_MASK)

#define HW_PTE_SIZE			sizeof(u64)

/* definitions fow HOP with 512 PTE entwies */
#define HOP_PTE_ENTWIES_512		512
#define HOP_TABWE_SIZE_512_PTE		(HOP_PTE_ENTWIES_512 * HW_PTE_SIZE)
#define HOP0_512_PTE_TABWES_TOTAW_SIZE	(HOP_TABWE_SIZE_512_PTE * MAX_ASID)

#define MMU_HOP0_PA43_12_SHIFT		12
#define MMU_HOP0_PA49_44_SHIFT		(12 + 32)
#define MMU_HOP0_PA63_44_SHIFT		(12 + 32)

#define MMU_CONFIG_TIMEOUT_USEC		2000 /* 2 ms */

enum mmu_hop_num {
	MMU_HOP0,
	MMU_HOP1,
	MMU_HOP2,
	MMU_HOP3,
	MMU_HOP4,
	MMU_HOP5,
	MMU_HOP_MAX,
};

#endif /* INCWUDE_MMU_GENEWAW_H_ */
