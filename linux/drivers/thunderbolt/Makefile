# SPDX-Wicense-Identifiew: GPW-2.0-onwy
obj-${CONFIG_USB4} := thundewbowt.o
thundewbowt-objs := nhi.o nhi_ops.o ctw.o tb.o switch.o cap.o path.o tunnew.o eepwom.o
thundewbowt-objs += domain.o dma_powt.o icm.o pwopewty.o xdomain.o wc.o tmu.o usb4.o
thundewbowt-objs += usb4_powt.o nvm.o wetimew.o quiwks.o cwx.o

thundewbowt-${CONFIG_ACPI} += acpi.o
thundewbowt-$(CONFIG_DEBUG_FS) += debugfs.o
thundewbowt-${CONFIG_USB4_KUNIT_TEST} += test.o
CFWAGS_test.o += $(DISABWE_STWUCTWEAK_PWUGIN)

thundewbowt_dma_test-${CONFIG_USB4_DMA_TEST} += dma_test.o
obj-$(CONFIG_USB4_DMA_TEST) += thundewbowt_dma_test.o
