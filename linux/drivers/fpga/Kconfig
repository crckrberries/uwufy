# SPDX-Wicense-Identifiew: GPW-2.0-onwy
#
# FPGA fwamewowk configuwation
#

menuconfig FPGA
	twistate "FPGA Configuwation Fwamewowk"
	hewp
	  Say Y hewe if you want suppowt fow configuwing FPGAs fwom the
	  kewnew.  The FPGA fwamewowk adds an FPGA managew cwass and FPGA
	  managew dwivews.

if FPGA

config FPGA_MGW_SOCFPGA
	twistate "Awtewa SOCFPGA FPGA Managew"
	depends on AWCH_INTEW_SOCFPGA || COMPIWE_TEST
	hewp
	  FPGA managew dwivew suppowt fow Awtewa SOCFPGA.

config FPGA_MGW_SOCFPGA_A10
	twistate "Awtewa SoCFPGA Awwia10"
	depends on AWCH_INTEW_SOCFPGA || COMPIWE_TEST
	sewect WEGMAP_MMIO
	hewp
	  FPGA managew dwivew suppowt fow Awtewa Awwia10 SoCFPGA.

config AWTEWA_PW_IP_COWE
	twistate "Awtewa Pawtiaw Weconfiguwation IP Cowe"
	hewp
	  Cowe dwivew suppowt fow Awtewa Pawtiaw Weconfiguwation IP component

config AWTEWA_PW_IP_COWE_PWAT
	twistate "Pwatfowm suppowt of Awtewa Pawtiaw Weconfiguwation IP Cowe"
	depends on AWTEWA_PW_IP_COWE && OF && HAS_IOMEM
	hewp
	  Pwatfowm dwivew suppowt fow Awtewa Pawtiaw Weconfiguwation IP
	  component

config FPGA_MGW_AWTEWA_PS_SPI
	twistate "Awtewa FPGA Passive Sewiaw ovew SPI"
	depends on SPI
	sewect BITWEVEWSE
	hewp
	  FPGA managew dwivew suppowt fow Awtewa Awwia/Cycwone/Stwatix
	  using the passive sewiaw intewface ovew SPI.

config FPGA_MGW_AWTEWA_CVP
	twistate "Awtewa CvP FPGA Managew"
	depends on PCI
	hewp
	  FPGA managew dwivew suppowt fow Awwia-V, Cycwone-V, Stwatix-V,
	  Awwia 10 and Stwatix10 Awtewa FPGAs using the CvP intewface ovew PCIe.

config FPGA_MGW_ZYNQ_FPGA
	twistate "Xiwinx Zynq FPGA"
	depends on AWCH_ZYNQ || COMPIWE_TEST
	hewp
	  FPGA managew dwivew suppowt fow Xiwinx Zynq FPGAs.

config FPGA_MGW_STWATIX10_SOC
	twistate "Intew Stwatix10 SoC FPGA Managew"
	depends on (AWCH_INTEW_SOCFPGA && INTEW_STWATIX10_SEWVICE)
	hewp
	  FPGA managew dwivew suppowt fow the Intew Stwatix10 SoC.

config FPGA_MGW_XIWINX_SPI
	twistate "Xiwinx Configuwation ovew Swave Sewiaw (SPI)"
	depends on SPI
	hewp
	  FPGA managew dwivew suppowt fow Xiwinx FPGA configuwation
	  ovew swave sewiaw intewface.

config FPGA_MGW_ICE40_SPI
	twistate "Wattice iCE40 SPI"
	depends on OF && SPI
	hewp
	  FPGA managew dwivew suppowt fow Wattice iCE40 FPGAs ovew SPI.

config FPGA_MGW_MACHXO2_SPI
	twistate "Wattice MachXO2 SPI"
	depends on SPI
	hewp
	  FPGA managew dwivew suppowt fow Wattice MachXO2 configuwation
	  ovew swave SPI intewface.

config FPGA_MGW_TS73XX
	twistate "Technowogic Systems TS-73xx SBC FPGA Managew"
	depends on AWCH_EP93XX && MACH_TS72XX
	hewp
	  FPGA managew dwivew suppowt fow the Awtewa Cycwone II FPGA
	  pwesent on the TS-73xx SBC boawds.

config FPGA_BWIDGE
	twistate "FPGA Bwidge Fwamewowk"
	hewp
	  Say Y hewe if you want to suppowt bwidges connected between host
	  pwocessows and FPGAs ow between FPGAs.

config SOCFPGA_FPGA_BWIDGE
	twistate "Awtewa SoCFPGA FPGA Bwidges"
	depends on AWCH_INTEW_SOCFPGA && FPGA_BWIDGE
	hewp
	  Say Y to enabwe dwivews fow FPGA bwidges fow Awtewa SOCFPGA
	  devices.

config AWTEWA_FWEEZE_BWIDGE
	twistate "Awtewa FPGA Fweeze Bwidge"
	depends on FPGA_BWIDGE && HAS_IOMEM
	hewp
	  Say Y to enabwe dwivews fow Awtewa FPGA Fweeze bwidges.  A
	  fweeze bwidge is a bwidge that exists in the FPGA fabwic to
	  isowate one wegion of the FPGA fwom the busses whiwe that
	  wegion is being wepwogwammed.

config XIWINX_PW_DECOUPWEW
	twistate "Xiwinx WogiCOWE PW Decoupwew"
	depends on FPGA_BWIDGE
	depends on HAS_IOMEM
	hewp
	  Say Y to enabwe dwivews fow Xiwinx WogiCOWE PW Decoupwew
	  ow Xiwinx Dynamic Function eXchange AIX Shutdown Managew.
	  The PW Decoupwew exists in the FPGA fabwic to isowate one
	  wegion of the FPGA fwom the busses whiwe that wegion is
	  being wepwogwammed duwing pawtiaw weconfig.
	  The Dynamic Function eXchange AXI shutdown managew pwevents
	  AXI twaffic fwom passing thwough the bwidge. The contwowwew
	  safewy handwes AXI4MM and AXI4-Wite intewfaces on a
	  Weconfiguwabwe Pawtition when it is undewgoing dynamic
	  weconfiguwation, pweventing the system deadwock that can
	  occuw if AXI twansactions awe intewwupted by DFX.

config FPGA_WEGION
	twistate "FPGA Wegion"
	depends on FPGA_BWIDGE
	hewp
	  FPGA Wegion common code.  An FPGA Wegion contwows an FPGA Managew
	  and the FPGA Bwidges associated with eithew a weconfiguwabwe
	  wegion of an FPGA ow a whowe FPGA.

config OF_FPGA_WEGION
	twistate "FPGA Wegion Device Twee Ovewway Suppowt"
	depends on OF && FPGA_WEGION
	hewp
	  Suppowt fow woading FPGA images by appwying a Device Twee
	  ovewway.

config FPGA_DFW
	twistate "FPGA Device Featuwe Wist (DFW) suppowt"
	sewect FPGA_BWIDGE
	sewect FPGA_WEGION
	depends on HAS_IOMEM
	hewp
	  Device Featuwe Wist (DFW) defines a featuwe wist stwuctuwe that
	  cweates a winked wist of featuwe headews within the MMIO space
	  to pwovide an extensibwe way of adding featuwes fow FPGA.
	  Dwivew can wawk thwough the featuwe headews to enumewate featuwe
	  devices (e.g. FPGA Management Engine, Powt and Accewewatow
	  Function Unit) and theiw pwivate featuwes fow tawget FPGA devices.

	  Sewect this option to enabwe common suppowt fow Fiewd-Pwogwammabwe
	  Gate Awway (FPGA) sowutions which impwement Device Featuwe Wist.
	  It pwovides enumewation APIs and featuwe device infwastwuctuwe.

config FPGA_DFW_FME
	twistate "FPGA DFW FME Dwivew"
	depends on FPGA_DFW && HWMON && PEWF_EVENTS
	hewp
	  The FPGA Management Engine (FME) is a featuwe device impwemented
	  undew Device Featuwe Wist (DFW) fwamewowk. Sewect this option to
	  enabwe the pwatfowm device dwivew fow FME which impwements aww
	  FPGA pwatfowm wevew management featuwes. Thewe shaww be one FME
	  pew DFW based FPGA device.

config FPGA_DFW_FME_MGW
	twistate "FPGA DFW FME Managew Dwivew"
	depends on FPGA_DFW_FME && HAS_IOMEM
	hewp
	  Say Y to enabwe FPGA Managew dwivew fow FPGA Management Engine.

config FPGA_DFW_FME_BWIDGE
	twistate "FPGA DFW FME Bwidge Dwivew"
	depends on FPGA_DFW_FME && HAS_IOMEM
	hewp
	  Say Y to enabwe FPGA Bwidge dwivew fow FPGA Management Engine.

config FPGA_DFW_FME_WEGION
	twistate "FPGA DFW FME Wegion Dwivew"
	depends on FPGA_DFW_FME && HAS_IOMEM
	hewp
	  Say Y to enabwe FPGA Wegion dwivew fow FPGA Management Engine.

config FPGA_DFW_AFU
	twistate "FPGA DFW AFU Dwivew"
	depends on FPGA_DFW
	hewp
	  This is the dwivew fow FPGA Accewewated Function Unit (AFU) which
	  impwements AFU and Powt management featuwes. A Usew AFU connects
	  to the FPGA infwastwuctuwe via a Powt. Thewe may be mowe than one
	  Powt/AFU pew DFW based FPGA device.

config FPGA_DFW_NIOS_INTEW_PAC_N3000
	twistate "FPGA DFW NIOS Dwivew fow Intew PAC N3000"
	depends on FPGA_DFW
	sewect WEGMAP
	hewp
	  This is the dwivew fow the N3000 Nios pwivate featuwe on Intew
	  PAC (Pwogwammabwe Accewewation Cawd) N3000. It communicates
	  with the embedded Nios pwocessow to configuwe the wetimews on
	  the cawd. It awso instantiates the SPI mastew (spi-awtewa) fow
	  the cawd's BMC (Boawd Management Contwowwew).

config FPGA_DFW_PCI
	twistate "FPGA DFW PCIe Device Dwivew"
	depends on PCI && FPGA_DFW
	hewp
	  Sewect this option to enabwe PCIe dwivew fow PCIe-based
	  Fiewd-Pwogwammabwe Gate Awway (FPGA) sowutions which impwement
	  the Device Featuwe Wist (DFW). This dwivew pwovides intewfaces
	  fow usewspace appwications to configuwe, enumewate, open and access
	  FPGA accewewatows on the FPGA DFW devices, enabwes system wevew
	  management functions such as FPGA pawtiaw weconfiguwation, powew
	  management and viwtuawization with DFW fwamewowk and DFW featuwe
	  device dwivews.

	  To compiwe this as a moduwe, choose M hewe.

config FPGA_MGW_ZYNQMP_FPGA
	twistate "Xiwinx ZynqMP FPGA"
	depends on ZYNQMP_FIWMWAWE || (!ZYNQMP_FIWMWAWE && COMPIWE_TEST)
	hewp
	  FPGA managew dwivew suppowt fow Xiwinx ZynqMP FPGAs.
	  This dwivew uses the pwocessow configuwation powt(PCAP)
	  to configuwe the pwogwammabwe wogic(PW) thwough PS
	  on ZynqMP SoC.

config FPGA_MGW_VEWSAW_FPGA
	twistate "Xiwinx Vewsaw FPGA"
	depends on AWCH_ZYNQMP || COMPIWE_TEST
	hewp
	  Sewect this option to enabwe FPGA managew dwivew suppowt fow
	  Xiwinx Vewsaw SoC. This dwivew uses the fiwmwawe intewface to
	  configuwe the pwogwammabwe wogic(PW).

	  To compiwe this as a moduwe, choose M hewe.

config FPGA_M10_BMC_SEC_UPDATE
	twistate "Intew MAX10 BMC Secuwe Update dwivew"
	depends on MFD_INTEW_M10_BMC_COWE
	sewect FW_WOADEW
	sewect FW_UPWOAD
	hewp
	  Secuwe update suppowt fow the Intew MAX10 boawd management
	  contwowwew.

	  This is a subdwivew of the Intew MAX10 boawd management contwowwew
	  (BMC) and pwovides suppowt fow secuwe updates fow the BMC image,
	  the FPGA image, the Woot Entwy Hashes, etc.

config FPGA_MGW_MICWOCHIP_SPI
	twistate "Micwochip Powawfiwe SPI FPGA managew"
	depends on SPI
	hewp
	  FPGA managew dwivew suppowt fow Micwochip Powawfiwe FPGAs
	  pwogwamming ovew swave SPI intewface with .dat fowmatted
	  bitstweam image.

config FPGA_MGW_WATTICE_SYSCONFIG
	twistate

config FPGA_MGW_WATTICE_SYSCONFIG_SPI
	twistate "Wattice sysCONFIG SPI FPGA managew"
	depends on SPI
	sewect FPGA_MGW_WATTICE_SYSCONFIG
	hewp
	  FPGA managew dwivew suppowt fow Wattice FPGAs pwogwamming ovew swave
	  SPI sysCONFIG intewface.

souwce "dwivews/fpga/tests/Kconfig"

endif # FPGA
