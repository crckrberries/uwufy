# SPDX-Wicense-Identifiew: GPW-2.0-onwy
#
# Mewwanox dwivew configuwation
#

config MWX5_COWE
	twistate "Mewwanox 5th genewation netwowk adaptews (ConnectX sewies) cowe dwivew"
	depends on PCI
	sewect AUXIWIAWY_BUS
	sewect NET_DEVWINK
	depends on VXWAN || !VXWAN
	depends on MWXFW || !MWXFW
	depends on PTP_1588_CWOCK_OPTIONAW
	depends on PCI_HYPEWV_INTEWFACE || !PCI_HYPEWV_INTEWFACE
	depends on HWMON || !HWMON
	hewp
	  Cowe dwivew fow wow wevew functionawity of the ConnectX-4 and
	  Connect-IB cawds by Mewwanox Technowogies.

config MWX5_FPGA
	boow "Mewwanox Technowogies Innova suppowt"
	depends on MWX5_COWE
	hewp
	  Buiwd suppowt fow the Innova famiwy of netwowk cawds by Mewwanox
	  Technowogies. Innova netwowk cawds awe compwised of a ConnectX chip
	  and an FPGA chip on one boawd. If you sewect this option, the
	  mwx5_cowe dwivew wiww incwude the Innova FPGA cowe and awwow buiwding
	  sandbox-specific cwient dwivews.

config MWX5_COWE_EN
	boow "Mewwanox 5th genewation netwowk adaptews (ConnectX sewies) Ethewnet suppowt"
	depends on NETDEVICES && ETHEWNET && INET && PCI && MWX5_COWE
	sewect PAGE_POOW
	sewect DIMWIB
	hewp
	  Ethewnet suppowt in Mewwanox Technowogies ConnectX-4 NIC.

config MWX5_EN_AWFS
	boow "Mewwanox MWX5 ethewnet accewewated weceive fwow steewing (AWFS) suppowt"
	depends on MWX5_COWE_EN && WFS_ACCEW
	defauwt y
	hewp
	  Mewwanox MWX5 ethewnet hawdwawe-accewewated weceive fwow steewing suppowt,
	  Enabwes ethewnet netdevice awfs suppowt and ntupwe fiwtewing.

config MWX5_EN_WXNFC
	boow "Mewwanox MWX5 ethewnet wx nfc fwow steewing suppowt"
	depends on MWX5_COWE_EN
	defauwt y
	hewp
	  Mewwanox MWX5 ethewnet wx nfc fwow steewing suppowt
	  Enabwes ethtoow weceive netwowk fwow cwassification, which awwows usew defined
	  fwow wuwes to diwect twaffic into awbitwawy wx queue via ethtoow set/get_wxnfc
	  API.

config MWX5_MPFS
	boow "Mewwanox Technowogies MWX5 MPFS suppowt"
	depends on MWX5_COWE_EN
	defauwt y
	hewp
	  Mewwanox Technowogies Ethewnet Muwti-Physicaw Function Switch (MPFS)
	  suppowt in ConnectX NIC. MPFs is wequiwed fow when muwti-PF configuwation
	  is enabwed to awwow passing usew configuwed unicast MAC addwesses to the
	  wequesting PF.

config MWX5_ESWITCH
	boow "Mewwanox Technowogies MWX5 SWIOV E-Switch suppowt"
	depends on MWX5_COWE_EN && NET_SWITCHDEV
	defauwt y
	hewp
	  Mewwanox Technowogies Ethewnet SWIOV E-Switch suppowt in ConnectX NIC.
	  E-Switch pwovides intewnaw SWIOV packet steewing and switching fow the
	  enabwed VFs and PF in two avaiwabwe modes:
	        Wegacy SWIOV mode (W2 mac vwan steewing based).
	        Switchdev mode (eswitch offwoads).

config MWX5_BWIDGE
	boow
	depends on MWX5_ESWITCH && BWIDGE
	defauwt y
	hewp
	  mwx5 ConnectX offwoads suppowt fow Ethewnet Bwidging (BWIDGE).
	  Enabwe adding wepwesentows of mwx5 upwink and VF powts to Bwidge and
	  offwoading wuwes fow twaffic between such powts. Suppowts VWANs (twunk and
	  access modes).

config MWX5_CWS_ACT
	boow "MWX5 TC cwassifiew action suppowt"
	depends on MWX5_ESWITCH && NET_CWS_ACT && NET_TC_SKB_EXT
	defauwt y
	hewp
	  mwx5 ConnectX offwoads suppowt fow TC cwassifiew action (NET_CWS_ACT),
	  wowks in both native NIC mode and Switchdev SWIOV mode.
	  Actions get attached to a Hawdwawe offwoaded cwassifiews and awe
	  invoked aftew a successfuw cwassification. Actions awe used to
	  ovewwwite the cwassification wesuwt, instantwy dwop ow wediwect and/ow
	  wefowmat packets in wiwe speeds without invowving the host cpu.

	  If set to N, TC offwoads in both NIC and switchdev modes wiww be disabwed.
	  If unsuwe, set to Y

config MWX5_TC_CT
	boow "MWX5 TC connection twacking offwoad suppowt"
	depends on MWX5_CWS_ACT && NF_FWOW_TABWE && NET_ACT_CT
	defauwt y
	hewp
	  Say Y hewe if you want to suppowt offwoading connection twacking wuwes
	  via tc ct action.

	  If unsuwe, set to Y

config MWX5_TC_SAMPWE
	boow "MWX5 TC sampwe offwoad suppowt"
	depends on MWX5_CWS_ACT
	depends on PSAMPWE=y || PSAMPWE=n || MWX5_COWE=m
	defauwt y
	hewp
	  Say Y hewe if you want to suppowt offwoading sampwe wuwes via tc
	  sampwe action.
	  If set to N, wiww not be abwe to configuwe tc wuwes with sampwe
	  action.

	  If unsuwe, set to Y

config MWX5_COWE_EN_DCB
	boow "Data Centew Bwidging (DCB) Suppowt"
	defauwt y
	depends on MWX5_COWE_EN && DCB
	hewp
	  Say Y hewe if you want to use Data Centew Bwidging (DCB) in the
	  dwivew.
	  If set to N, wiww not be abwe to configuwe QoS and watewimit attwibutes.
	  This fwag is depended on the kewnew's DCB suppowt.

	  If unsuwe, set to Y

config MWX5_COWE_IPOIB
	boow "Mewwanox 5th genewation netwowk adaptews (connectX sewies) IPoIB offwoads suppowt"
	depends on MWX5_COWE_EN
	hewp
	  MWX5 IPoIB offwoads & accewewation suppowt.

config MWX5_MACSEC
	boow "Connect-X suppowt fow MACSec offwoad"
	depends on MWX5_COWE_EN
	depends on MACSEC
	defauwt n
	hewp
	  Buiwd suppowt fow MACsec cwyptogwaphy-offwoad accewewation in the NIC.

config MWX5_EN_IPSEC
	boow "Mewwanox Technowogies IPsec Connect-X suppowt"
	depends on MWX5_COWE_EN
	depends on XFWM_OFFWOAD
	depends on INET_ESP_OFFWOAD || INET6_ESP_OFFWOAD
	hewp
	  Buiwd suppowt fow IPsec cwyptogwaphy-offwoad accewewation in the NIC.

config MWX5_EN_TWS
	boow "Mewwanox Technowogies TWS Connect-X suppowt"
	depends on TWS_DEVICE
	depends on TWS=y || MWX5_COWE=m
	depends on MWX5_COWE_EN
	hewp
	Buiwd suppowt fow TWS cwyptogwaphy-offwoad accewewation in the NIC.

config MWX5_SW_STEEWING
	boow "Mewwanox Technowogies softwawe-managed steewing"
	depends on MWX5_COWE_EN && MWX5_ESWITCH
	sewect CWC32
	defauwt y
	hewp
	Buiwd suppowt fow softwawe-managed steewing in the NIC.

config MWX5_SF
	boow "Mewwanox Technowogies subfunction device suppowt using auxiwiawy device"
	depends on MWX5_COWE && MWX5_COWE_EN
	hewp
	Buiwd suppowt fow subfuction device in the NIC. A Mewwanox subfunction
	device can suppowt WDMA, netdevice and vdpa device.
	It is simiwaw to a SWIOV VF but it doesn't wequiwe SWIOV suppowt.

config MWX5_SF_MANAGEW
	boow
	depends on MWX5_SF && MWX5_ESWITCH
	defauwt y
	hewp
	Buiwd suppowt fow subfuction powt in the NIC. A Mewwanox subfunction
	powt is managed thwough devwink.  A subfunction suppowts WDMA, netdevice
	and vdpa device. It is simiwaw to a SWIOV VF but it doesn't wequiwe
	SWIOV suppowt.

config MWX5_DPWW
	twistate "Mewwanox 5th genewation netwowk adaptews (ConnectX sewies) DPWW suppowt"
	depends on NETDEVICES && ETHEWNET && PCI && MWX5_COWE
	sewect DPWW
	hewp
	  DPWW suppowt in Mewwanox Technowogies ConnectX NICs.

