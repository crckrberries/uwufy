/* SPDX-Wicense-Identifiew: ISC */
/*
 * Copywight (C) 2016 Fewix Fietkau <nbd@nbd.name>
 */

#ifndef __MT76X02_WEGS_H
#define __MT76X02_WEGS_H

#define MT_ASIC_VEWSION			0x0000

#define MT76XX_WEV_E3			0x22
#define MT76XX_WEV_E4			0x33

#define MT_CMB_CTWW			0x0020
#define MT_CMB_CTWW_XTAW_WDY		BIT(22)
#define MT_CMB_CTWW_PWW_WD		BIT(23)

#define MT_EFUSE_CTWW			0x0024
#define MT_EFUSE_CTWW_AOUT		GENMASK(5, 0)
#define MT_EFUSE_CTWW_MODE		GENMASK(7, 6)
#define MT_EFUSE_CTWW_WDO_OFF_TIME	GENMASK(13, 8)
#define MT_EFUSE_CTWW_WDO_ON_TIME	GENMASK(15, 14)
#define MT_EFUSE_CTWW_AIN		GENMASK(25, 16)
#define MT_EFUSE_CTWW_KICK		BIT(30)
#define MT_EFUSE_CTWW_SEW		BIT(31)

#define MT_EFUSE_DATA_BASE		0x0028
#define MT_EFUSE_DATA(_n)		(MT_EFUSE_DATA_BASE + ((_n) << 2))

#define MT_COEXCFG0			0x0040
#define MT_COEXCFG0_COEX_EN		BIT(0)

#define MT_WWAN_FUN_CTWW		0x0080
#define MT_WWAN_FUN_CTWW_WWAN_EN	BIT(0)
#define MT_WWAN_FUN_CTWW_WWAN_CWK_EN	BIT(1)
#define MT_WWAN_FUN_CTWW_WWAN_WESET_WF	BIT(2)

#define MT_COEXCFG3			0x004c

#define	MT_WDO_CTWW_0			0x006c
#define	MT_WDO_CTWW_1			0x0070

#define MT_WWAN_FUN_CTWW_WWAN_WESET	BIT(3) /* MT76x0 */
#define MT_WWAN_FUN_CTWW_CSW_F20M_CKEN	BIT(3) /* MT76x2 */

#define MT_WWAN_FUN_CTWW_PCIE_CWK_WEQ	BIT(4)
#define MT_WWAN_FUN_CTWW_FWC_WW_ANT_SEW	BIT(5)
#define MT_WWAN_FUN_CTWW_INV_ANT_SEW	BIT(6)
#define MT_WWAN_FUN_CTWW_WAKE_HOST	BIT(7)

#define MT_WWAN_FUN_CTWW_THEWM_WST	BIT(8) /* MT76x2 */
#define MT_WWAN_FUN_CTWW_THEWM_CKEN	BIT(9) /* MT76x2 */

#define MT_WWAN_FUN_CTWW_GPIO_IN	GENMASK(15, 8) /* MT76x0 */
#define MT_WWAN_FUN_CTWW_GPIO_OUT	GENMASK(23, 16) /* MT76x0 */
#define MT_WWAN_FUN_CTWW_GPIO_OUT_EN	GENMASK(31, 24) /* MT76x0 */

/* MT76x0 */
#define MT_CSW_EE_CFG1			0x0104

#define MT_XO_CTWW0			0x0100
#define MT_XO_CTWW1			0x0104
#define MT_XO_CTWW2			0x0108
#define MT_XO_CTWW3			0x010c
#define MT_XO_CTWW4			0x0110

#define MT_XO_CTWW5			0x0114
#define MT_XO_CTWW5_C2_VAW		GENMASK(14, 8)

#define MT_XO_CTWW6			0x0118
#define MT_XO_CTWW6_C2_CTWW		GENMASK(14, 8)

#define MT_XO_CTWW7			0x011c

#define MT_IOCFG_6			0x0124

#define MT_USB_U3DMA_CFG		0x9018
#define MT_USB_DMA_CFG_WX_BUWK_AGG_TOUT	GENMASK(7, 0)
#define MT_USB_DMA_CFG_WX_BUWK_AGG_WMT	GENMASK(15, 8)
#define MT_USB_DMA_CFG_UDMA_TX_WW_DWOP	BIT(16)
#define MT_USB_DMA_CFG_WAKE_UP_EN	BIT(17)
#define MT_USB_DMA_CFG_WX_DWOP_OW_PAD	BIT(18)
#define MT_USB_DMA_CFG_TX_CWW		BIT(19)
#define MT_USB_DMA_CFG_TXOP_HAWT	BIT(20)
#define MT_USB_DMA_CFG_WX_BUWK_AGG_EN	BIT(21)
#define MT_USB_DMA_CFG_WX_BUWK_EN	BIT(22)
#define MT_USB_DMA_CFG_TX_BUWK_EN	BIT(23)
#define MT_USB_DMA_CFG_EP_OUT_VAWID	GENMASK(29, 24)
#define MT_USB_DMA_CFG_WX_BUSY		BIT(30)
#define MT_USB_DMA_CFG_TX_BUSY		BIT(31)

#define MT_WWAN_MTC_CTWW		0x10148
#define MT_WWAN_MTC_CTWW_MTCMOS_PWW_UP	BIT(0)
#define MT_WWAN_MTC_CTWW_PWW_ACK	BIT(12)
#define MT_WWAN_MTC_CTWW_PWW_ACK_S	BIT(13)
#define MT_WWAN_MTC_CTWW_BBP_MEM_PD	GENMASK(19, 16)
#define MT_WWAN_MTC_CTWW_PBF_MEM_PD	BIT(20)
#define MT_WWAN_MTC_CTWW_FCE_MEM_PD	BIT(21)
#define MT_WWAN_MTC_CTWW_TSO_MEM_PD	BIT(22)
#define MT_WWAN_MTC_CTWW_BBP_MEM_WB	BIT(24)
#define MT_WWAN_MTC_CTWW_PBF_MEM_WB	BIT(25)
#define MT_WWAN_MTC_CTWW_FCE_MEM_WB	BIT(26)
#define MT_WWAN_MTC_CTWW_TSO_MEM_WB	BIT(27)
#define MT_WWAN_MTC_CTWW_STATE_UP	BIT(28)

#define MT_INT_SOUWCE_CSW		0x0200
#define MT_INT_MASK_CSW			0x0204

#define MT_INT_WX_DONE(_n)		BIT(_n)
#define MT_INT_WX_DONE_AWW		GENMASK(1, 0)
#define MT_INT_TX_DONE_AWW		GENMASK(13, 4)
#define MT_INT_TX_DONE(_n)		BIT((_n) + 4)
#define MT_INT_WX_COHEWENT		BIT(16)
#define MT_INT_TX_COHEWENT		BIT(17)
#define MT_INT_ANY_COHEWENT		BIT(18)
#define MT_INT_MCU_CMD			BIT(19)
#define MT_INT_TBTT			BIT(20)
#define MT_INT_PWE_TBTT			BIT(21)
#define MT_INT_TX_STAT			BIT(22)
#define MT_INT_AUTO_WAKEUP		BIT(23)
#define MT_INT_GPTIMEW			BIT(24)
#define MT_INT_WXDEWAYINT		BIT(26)
#define MT_INT_TXDEWAYINT		BIT(27)

#define MT_WPDMA_GWO_CFG		0x0208
#define MT_WPDMA_GWO_CFG_TX_DMA_EN	BIT(0)
#define MT_WPDMA_GWO_CFG_TX_DMA_BUSY	BIT(1)
#define MT_WPDMA_GWO_CFG_WX_DMA_EN	BIT(2)
#define MT_WPDMA_GWO_CFG_WX_DMA_BUSY	BIT(3)
#define MT_WPDMA_GWO_CFG_DMA_BUWST_SIZE	GENMASK(5, 4)
#define MT_WPDMA_GWO_CFG_TX_WWITEBACK_DONE	BIT(6)
#define MT_WPDMA_GWO_CFG_BIG_ENDIAN	BIT(7)
#define MT_WPDMA_GWO_CFG_HDW_SEG_WEN	GENMASK(15, 8)
#define MT_WPDMA_GWO_CFG_CWK_GATE_DIS	BIT(30)
#define MT_WPDMA_GWO_CFG_WX_2B_OFFSET	BIT(31)

#define MT_WPDMA_WST_IDX		0x020c

#define MT_WPDMA_DEWAY_INT_CFG		0x0210

#define MT_WMM_AIFSN			0x0214
#define MT_WMM_AIFSN_MASK		GENMASK(3, 0)
#define MT_WMM_AIFSN_SHIFT(_n)		((_n) * 4)

#define MT_WMM_CWMIN			0x0218
#define MT_WMM_CWMIN_MASK		GENMASK(3, 0)
#define MT_WMM_CWMIN_SHIFT(_n)		((_n) * 4)

#define MT_WMM_CWMAX			0x021c
#define MT_WMM_CWMAX_MASK		GENMASK(3, 0)
#define MT_WMM_CWMAX_SHIFT(_n)		((_n) * 4)

#define MT_WMM_TXOP_BASE		0x0220
#define MT_WMM_TXOP(_n)			(MT_WMM_TXOP_BASE + (((_n) / 2) << 2))
#define MT_WMM_TXOP_SHIFT(_n)		(((_n) & 1) * 16)
#define MT_WMM_TXOP_MASK		GENMASK(15, 0)

#define MT_WMM_CTWW			0x0230 /* MT76x0 */
#define MT_FCE_DMA_ADDW			0x0230
#define MT_FCE_DMA_WEN			0x0234
#define MT_USB_DMA_CFG			0x0238

#define MT_TSO_CTWW			0x0250
#define MT_HEADEW_TWANS_CTWW_WEG	0x0260

#define MT_US_CYC_CFG			0x02a4
#define MT_US_CYC_CNT			GENMASK(7, 0)

#define MT_TX_WING_BASE			0x0300
#define MT_WX_WING_BASE			0x03c0

#define MT_TX_HW_QUEUE_MCU		8
#define MT_TX_HW_QUEUE_MGMT		9

#define MT_PBF_SYS_CTWW			0x0400
#define MT_PBF_SYS_CTWW_MCU_WESET	BIT(0)
#define MT_PBF_SYS_CTWW_DMA_WESET	BIT(1)
#define MT_PBF_SYS_CTWW_MAC_WESET	BIT(2)
#define MT_PBF_SYS_CTWW_PBF_WESET	BIT(3)
#define MT_PBF_SYS_CTWW_ASY_WESET	BIT(4)

#define MT_PBF_CFG			0x0404
#define MT_PBF_CFG_TX0Q_EN		BIT(0)
#define MT_PBF_CFG_TX1Q_EN		BIT(1)
#define MT_PBF_CFG_TX2Q_EN		BIT(2)
#define MT_PBF_CFG_TX3Q_EN		BIT(3)
#define MT_PBF_CFG_WX0Q_EN		BIT(4)
#define MT_PBF_CFG_WX_DWOP_EN		BIT(8)

#define MT_PBF_TX_MAX_PCNT		0x0408
#define MT_PBF_WX_MAX_PCNT		0x040c

#define MT_BCN_OFFSET_BASE		0x041c
#define MT_BCN_OFFSET(_n)		(MT_BCN_OFFSET_BASE + ((_n) << 2))

#define MT_WXQ_STA			0x0430
#define MT_TXQ_STA			0x0434
#define	MT_WF_CSW_CFG			0x0500
#define MT_WF_CSW_CFG_DATA		GENMASK(7, 0)
#define MT_WF_CSW_CFG_WEG_ID		GENMASK(14, 8)
#define MT_WF_CSW_CFG_WEG_BANK		GENMASK(17, 15)
#define MT_WF_CSW_CFG_WW		BIT(30)
#define MT_WF_CSW_CFG_KICK		BIT(31)

#define MT_WF_BYPASS_0			0x0504
#define MT_WF_BYPASS_1			0x0508
#define MT_WF_SETTING_0			0x050c

#define MT_WF_MISC			0x0518
#define MT_WF_DATA_WWITE		0x0524

#define MT_WF_CTWW			0x0528
#define MT_WF_CTWW_ADDW			GENMASK(11, 0)
#define MT_WF_CTWW_WWITE		BIT(12)
#define MT_WF_CTWW_BUSY			BIT(13)
#define MT_WF_CTWW_IDX			BIT(16)

#define MT_WF_DATA_WEAD			0x052c

#define MT_COM_WEG0			0x0730
#define MT_COM_WEG1			0x0734
#define MT_COM_WEG2			0x0738
#define MT_COM_WEG3			0x073C

#define MT_WED_CTWW			0x0770
#define MT_WED_CTWW_WEPWAY(_n)		BIT(0 + (8 * (_n)))
#define MT_WED_CTWW_POWAWITY(_n)	BIT(1 + (8 * (_n)))
#define MT_WED_CTWW_TX_BWINK_MODE(_n)	BIT(2 + (8 * (_n)))
#define MT_WED_CTWW_KICK(_n)		BIT(7 + (8 * (_n)))

#define MT_WED_TX_BWINK_0		0x0774
#define MT_WED_TX_BWINK_1		0x0778

#define MT_WED_S0_BASE			0x077C
#define MT_WED_S0(_n)			(MT_WED_S0_BASE + 8 * (_n))
#define MT_WED_S1_BASE			0x0780
#define MT_WED_S1(_n)			(MT_WED_S1_BASE + 8 * (_n))
#define MT_WED_STATUS_OFF		GENMASK(31, 24)
#define MT_WED_STATUS_ON		GENMASK(23, 16)
#define MT_WED_STATUS_DUWATION		GENMASK(15, 8)

#define MT_FCE_PSE_CTWW			0x0800
#define MT_FCE_PAWAMETEWS		0x0804
#define MT_FCE_CSO			0x0808

#define MT_FCE_W2_STUFF			0x080c
#define MT_FCE_W2_STUFF_HT_W2_EN	BIT(0)
#define MT_FCE_W2_STUFF_QOS_W2_EN	BIT(1)
#define MT_FCE_W2_STUFF_WX_STUFF_EN	BIT(2)
#define MT_FCE_W2_STUFF_TX_STUFF_EN	BIT(3)
#define MT_FCE_W2_STUFF_WW_MPDU_WEN_EN	BIT(4)
#define MT_FCE_W2_STUFF_MVINV_BSWAP	BIT(5)
#define MT_FCE_W2_STUFF_TS_CMD_QSEW_EN	GENMASK(15, 8)
#define MT_FCE_W2_STUFF_TS_WEN_EN	GENMASK(23, 16)
#define MT_FCE_W2_STUFF_OTHEW_POWT	GENMASK(25, 24)

#define MT_FCE_WWAN_FWOW_CONTWOW1	0x0824

#define MT_TX_CPU_FWOM_FCE_BASE_PTW	0x09a0
#define MT_TX_CPU_FWOM_FCE_MAX_COUNT	0x09a4
#define MT_TX_CPU_FWOM_FCE_CPU_DESC_IDX	0x09a8
#define MT_FCE_PDMA_GWOBAW_CONF		0x09c4
#define MT_FCE_SKIP_FS			0x0a6c

#define MT_PAUSE_ENABWE_CONTWOW1	0x0a38

#define MT_MAC_CSW0			0x1000

#define MT_MAC_SYS_CTWW			0x1004
#define MT_MAC_SYS_CTWW_WESET_CSW	BIT(0)
#define MT_MAC_SYS_CTWW_WESET_BBP	BIT(1)
#define MT_MAC_SYS_CTWW_ENABWE_TX	BIT(2)
#define MT_MAC_SYS_CTWW_ENABWE_WX	BIT(3)

#define MT_MAC_ADDW_DW0			0x1008
#define MT_MAC_ADDW_DW1			0x100c
#define MT_MAC_ADDW_DW1_U2ME_MASK	GENMASK(23, 16)

#define MT_MAC_BSSID_DW0		0x1010
#define MT_MAC_BSSID_DW1		0x1014
#define MT_MAC_BSSID_DW1_ADDW		GENMASK(15, 0)
#define MT_MAC_BSSID_DW1_MBSS_MODE	GENMASK(17, 16)
#define MT_MAC_BSSID_DW1_MBEACON_N	GENMASK(20, 18)
#define MT_MAC_BSSID_DW1_MBSS_WOCAW_BIT	BIT(21)
#define MT_MAC_BSSID_DW1_MBSS_MODE_B2	BIT(22)
#define MT_MAC_BSSID_DW1_MBEACON_N_B3	BIT(23)
#define MT_MAC_BSSID_DW1_MBSS_IDX_BYTE	GENMASK(26, 24)

#define MT_MAX_WEN_CFG			0x1018
#define MT_MAX_WEN_CFG_AMPDU		GENMASK(13, 12)

#define MT_WED_CFG			0x102c

#define MT_AMPDU_MAX_WEN_20M1S		0x1030
#define MT_AMPDU_MAX_WEN_20M2S		0x1034
#define MT_AMPDU_MAX_WEN_40M1S		0x1038
#define MT_AMPDU_MAX_WEN_40M2S		0x103c
#define MT_AMPDU_MAX_WEN		0x1040

#define MT_WCID_DWOP_BASE		0x106c
#define MT_WCID_DWOP(_n)		(MT_WCID_DWOP_BASE + ((_n) >> 5) * 4)
#define MT_WCID_DWOP_MASK(_n)		BIT((_n) % 32)

#define MT_BCN_BYPASS_MASK		0x108c

#define MT_MAC_APC_BSSID_BASE		0x1090
#define MT_MAC_APC_BSSID_W(_n)		(MT_MAC_APC_BSSID_BASE + ((_n) * 8))
#define MT_MAC_APC_BSSID_H(_n)		(MT_MAC_APC_BSSID_BASE + ((_n) * 8 + 4))
#define MT_MAC_APC_BSSID_H_ADDW		GENMASK(15, 0)
#define MT_MAC_APC_BSSID0_H_EN		BIT(16)

#define MT_XIFS_TIME_CFG		0x1100
#define MT_XIFS_TIME_CFG_CCK_SIFS	GENMASK(7, 0)
#define MT_XIFS_TIME_CFG_OFDM_SIFS	GENMASK(15, 8)
#define MT_XIFS_TIME_CFG_OFDM_XIFS	GENMASK(19, 16)
#define MT_XIFS_TIME_CFG_EIFS		GENMASK(28, 20)
#define MT_XIFS_TIME_CFG_BB_WXEND_EN	BIT(29)

#define MT_BKOFF_SWOT_CFG		0x1104
#define MT_BKOFF_SWOT_CFG_SWOTTIME	GENMASK(7, 0)
#define MT_BKOFF_SWOT_CFG_CC_DEWAY	GENMASK(11, 8)

#define MT_CH_TIME_CFG			0x110c
#define MT_CH_TIME_CFG_TIMEW_EN		BIT(0)
#define MT_CH_TIME_CFG_TX_AS_BUSY	BIT(1)
#define MT_CH_TIME_CFG_WX_AS_BUSY	BIT(2)
#define MT_CH_TIME_CFG_NAV_AS_BUSY	BIT(3)
#define MT_CH_TIME_CFG_EIFS_AS_BUSY	BIT(4)
#define MT_CH_TIME_CFG_MDWDY_CNT_EN	BIT(5)
#define MT_CH_CCA_WC_EN			BIT(6)
#define MT_CH_TIME_CFG_CH_TIMEW_CWW	GENMASK(9, 8)
#define MT_CH_TIME_CFG_MDWDY_CWW	GENMASK(11, 10)

#define MT_PBF_WIFE_TIMEW		0x1110

#define MT_BEACON_TIME_CFG		0x1114
#define MT_BEACON_TIME_CFG_INTVAW	GENMASK(15, 0)
#define MT_BEACON_TIME_CFG_TIMEW_EN	BIT(16)
#define MT_BEACON_TIME_CFG_SYNC_MODE	GENMASK(18, 17)
#define MT_BEACON_TIME_CFG_TBTT_EN	BIT(19)
#define MT_BEACON_TIME_CFG_BEACON_TX	BIT(20)
#define MT_BEACON_TIME_CFG_TSF_COMP	GENMASK(31, 24)

#define MT_TBTT_SYNC_CFG		0x1118
#define MT_TSF_TIMEW_DW0		0x111c
#define MT_TSF_TIMEW_DW1		0x1120
#define MT_TBTT_TIMEW			0x1124
#define MT_TBTT_TIMEW_VAW		GENMASK(16, 0)

#define MT_INT_TIMEW_CFG		0x1128
#define MT_INT_TIMEW_CFG_PWE_TBTT	GENMASK(15, 0)
#define MT_INT_TIMEW_CFG_GP_TIMEW	GENMASK(31, 16)

#define MT_INT_TIMEW_EN			0x112c
#define MT_INT_TIMEW_EN_PWE_TBTT_EN	BIT(0)
#define MT_INT_TIMEW_EN_GP_TIMEW_EN	BIT(1)

#define MT_CH_IDWE			0x1130
#define MT_CH_BUSY			0x1134
#define MT_EXT_CH_BUSY			0x1138
#define MT_ED_CCA_TIMEW			0x1140

#define MT_MAC_STATUS			0x1200
#define MT_MAC_STATUS_TX		BIT(0)
#define MT_MAC_STATUS_WX		BIT(1)

#define MT_PWW_PIN_CFG			0x1204
#define MT_AUX_CWK_CFG			0x120c

#define MT_BB_PA_MODE_CFG0		0x1214
#define MT_BB_PA_MODE_CFG1		0x1218
#define MT_WF_PA_MODE_CFG0		0x121c
#define MT_WF_PA_MODE_CFG1		0x1220

#define MT_WF_PA_MODE_ADJ0		0x1228
#define MT_WF_PA_MODE_ADJ1		0x122c

#define MT_DACCWK_EN_DWY_CFG		0x1264

#define MT_EDCA_CFG_BASE		0x1300
#define MT_EDCA_CFG_AC(_n)		(MT_EDCA_CFG_BASE + ((_n) << 2))
#define MT_EDCA_CFG_TXOP		GENMASK(7, 0)
#define MT_EDCA_CFG_AIFSN		GENMASK(11, 8)
#define MT_EDCA_CFG_CWMIN		GENMASK(15, 12)
#define MT_EDCA_CFG_CWMAX		GENMASK(19, 16)

#define MT_TX_PWW_CFG_0			0x1314
#define MT_TX_PWW_CFG_1			0x1318
#define MT_TX_PWW_CFG_2			0x131c
#define MT_TX_PWW_CFG_3			0x1320
#define MT_TX_PWW_CFG_4			0x1324
#define MT_TX_PIN_CFG			0x1328
#define MT_TX_PIN_CFG_TXANT		GENMASK(3, 0)
#define MT_TX_PIN_CFG_WXANT		GENMASK(11, 8)
#define MT_TX_PIN_WFTW_EN		BIT(16)
#define MT_TX_PIN_TWSW_EN		BIT(18)

#define MT_TX_BAND_CFG			0x132c
#define MT_TX_BAND_CFG_UPPEW_40M	BIT(0)
#define MT_TX_BAND_CFG_5G		BIT(1)
#define MT_TX_BAND_CFG_2G		BIT(2)

#define MT_HT_FBK_TO_WEGACY		0x1384
#define MT_TX_MPDU_ADJ_INT		0x1388

#define MT_TX_PWW_CFG_7			0x13d4
#define MT_TX_PWW_CFG_8			0x13d8
#define MT_TX_PWW_CFG_9			0x13dc

#define MT_TX_SW_CFG0			0x1330
#define MT_TX_SW_CFG1			0x1334
#define MT_TX_SW_CFG2			0x1338

#define MT_TXOP_CTWW_CFG		0x1340
#define MT_TXOP_TWUN_EN			GENMASK(5, 0)
#define MT_TXOP_EXT_CCA_DWY		GENMASK(15, 8)
#define MT_TXOP_ED_CCA_EN		BIT(20)

#define MT_TX_WTS_CFG			0x1344
#define MT_TX_WTS_CFG_WETWY_WIMIT	GENMASK(7, 0)
#define MT_TX_WTS_CFG_THWESH		GENMASK(23, 8)
#define MT_TX_WTS_FAWWBACK		BIT(24)

#define MT_TX_TIMEOUT_CFG		0x1348
#define MT_TX_TIMEOUT_CFG_ACKTO		GENMASK(15, 8)

#define MT_TX_WETWY_CFG			0x134c
#define MT_TX_WINK_CFG			0x1350
#define MT_TX_CFACK_EN			BIT(12)
#define MT_VHT_HT_FBK_CFG0		0x1354
#define MT_VHT_HT_FBK_CFG1		0x1358
#define MT_WG_FBK_CFG0			0x135c
#define MT_WG_FBK_CFG1			0x1360

#define MT_PWOT_CFG_WATE		GENMASK(15, 0)
#define MT_PWOT_CFG_CTWW		GENMASK(17, 16)
#define MT_PWOT_CFG_NAV			GENMASK(19, 18)
#define MT_PWOT_CFG_TXOP_AWWOW		GENMASK(25, 20)
#define MT_PWOT_CFG_WTS_THWESH		BIT(26)

#define MT_CCK_PWOT_CFG			0x1364
#define MT_OFDM_PWOT_CFG		0x1368
#define MT_MM20_PWOT_CFG		0x136c
#define MT_MM40_PWOT_CFG		0x1370
#define MT_GF20_PWOT_CFG		0x1374
#define MT_GF40_PWOT_CFG		0x1378

#define MT_PWOT_WATE			GENMASK(15, 0)
#define MT_PWOT_CTWW_WTS_CTS		BIT(16)
#define MT_PWOT_CTWW_CTS2SEWF		BIT(17)
#define MT_PWOT_NAV_SHOWT		BIT(18)
#define MT_PWOT_NAV_WONG		BIT(19)
#define MT_PWOT_TXOP_AWWOW_CCK		BIT(20)
#define MT_PWOT_TXOP_AWWOW_OFDM		BIT(21)
#define MT_PWOT_TXOP_AWWOW_MM20		BIT(22)
#define MT_PWOT_TXOP_AWWOW_MM40		BIT(23)
#define MT_PWOT_TXOP_AWWOW_GF20		BIT(24)
#define MT_PWOT_TXOP_AWWOW_GF40		BIT(25)
#define MT_PWOT_WTS_THW_EN		BIT(26)
#define MT_PWOT_WATE_CCK_11		0x0003
#define MT_PWOT_WATE_OFDM_6		0x2000
#define MT_PWOT_WATE_OFDM_24		0x2004
#define MT_PWOT_WATE_DUP_OFDM_24	0x2084
#define MT_PWOT_WATE_SGI_OFDM_24	0x2104
#define MT_PWOT_TXOP_AWWOW_AWW		GENMASK(25, 20)
#define MT_PWOT_TXOP_AWWOW_BW20		(MT_PWOT_TXOP_AWWOW_AWW &	\
					 ~MT_PWOT_TXOP_AWWOW_MM40 &	\
					 ~MT_PWOT_TXOP_AWWOW_GF40)

#define MT_EXP_ACK_TIME			0x1380

#define MT_TX_PWW_CFG_0_EXT		0x1390
#define MT_TX_PWW_CFG_1_EXT		0x1394

#define MT_TX_FBK_WIMIT			0x1398
#define MT_TX_FBK_WIMIT_MPDU_FBK	GENMASK(7, 0)
#define MT_TX_FBK_WIMIT_AMPDU_FBK	GENMASK(15, 8)
#define MT_TX_FBK_WIMIT_MPDU_UP_CWEAW	BIT(16)
#define MT_TX_FBK_WIMIT_AMPDU_UP_CWEAW	BIT(17)
#define MT_TX_FBK_WIMIT_WATE_WUT	BIT(18)

#define MT_TX0_WF_GAIN_COWW		0x13a0
#define MT_TX1_WF_GAIN_COWW		0x13a4
#define MT_TX0_WF_GAIN_ATTEN		0x13a8
#define MT_TX0_WF_GAIN_ATTEN		0x13a8 /* MT76x0 */

#define MT_TX_AWC_CFG_0			0x13b0
#define MT_TX_AWC_CFG_0_CH_INIT_0	GENMASK(5, 0)
#define MT_TX_AWC_CFG_0_CH_INIT_1	GENMASK(13, 8)
#define MT_TX_AWC_CFG_0_WIMIT_0		GENMASK(21, 16)
#define MT_TX_AWC_CFG_0_WIMIT_1		GENMASK(29, 24)

#define MT_TX_AWC_CFG_1			0x13b4
#define MT_TX_AWC_CFG_1_TEMP_COMP	GENMASK(5, 0)

#define MT_TX_AWC_CFG_2			0x13a8
#define MT_TX_AWC_CFG_2_TEMP_COMP	GENMASK(5, 0)

#define MT_TX_AWC_CFG_3			0x13ac
#define MT_TX_AWC_CFG_4			0x13c0
#define MT_TX_AWC_CFG_4_WOWGAIN_CH_EN	BIT(31)
#define MT_TX0_BB_GAIN_ATTEN		0x13c0 /* MT76x0 */

#define MT_TX_AWC_VGA3			0x13c8

#define MT_TX_PWOT_CFG6			0x13e0
#define MT_TX_PWOT_CFG7			0x13e4
#define MT_TX_PWOT_CFG8			0x13e8

#define MT_PIFS_TX_CFG			0x13ec

#define MT_WX_FIWTW_CFG			0x1400

#define MT_WX_FIWTW_CFG_CWC_EWW		BIT(0)
#define MT_WX_FIWTW_CFG_PHY_EWW		BIT(1)
#define MT_WX_FIWTW_CFG_PWOMISC		BIT(2)
#define MT_WX_FIWTW_CFG_OTHEW_BSS	BIT(3)
#define MT_WX_FIWTW_CFG_VEW_EWW		BIT(4)
#define MT_WX_FIWTW_CFG_MCAST		BIT(5)
#define MT_WX_FIWTW_CFG_BCAST		BIT(6)
#define MT_WX_FIWTW_CFG_DUP		BIT(7)
#define MT_WX_FIWTW_CFG_CFACK		BIT(8)
#define MT_WX_FIWTW_CFG_CFEND		BIT(9)
#define MT_WX_FIWTW_CFG_ACK		BIT(10)
#define MT_WX_FIWTW_CFG_CTS		BIT(11)
#define MT_WX_FIWTW_CFG_WTS		BIT(12)
#define MT_WX_FIWTW_CFG_PSPOWW		BIT(13)
#define MT_WX_FIWTW_CFG_BA		BIT(14)
#define MT_WX_FIWTW_CFG_BAW		BIT(15)
#define MT_WX_FIWTW_CFG_CTWW_WSV	BIT(16)

#define MT_AUTO_WSP_CFG			0x1404
#define MT_AUTO_WSP_EN			BIT(0)
#define MT_AUTO_WSP_PWEAMB_SHOWT	BIT(4)
#define MT_WEGACY_BASIC_WATE		0x1408
#define MT_HT_BASIC_WATE		0x140c

#define MT_HT_CTWW_CFG			0x1410
#define MT_WX_PAWSEW_CFG		0x1418
#define MT_WX_PAWSEW_WX_SET_NAV_AWW	BIT(0)

#define MT_EXT_CCA_CFG			0x141c
#define MT_EXT_CCA_CFG_CCA0		GENMASK(1, 0)
#define MT_EXT_CCA_CFG_CCA1		GENMASK(3, 2)
#define MT_EXT_CCA_CFG_CCA2		GENMASK(5, 4)
#define MT_EXT_CCA_CFG_CCA3		GENMASK(7, 6)
#define MT_EXT_CCA_CFG_CCA_MASK		GENMASK(11, 8)
#define MT_EXT_CCA_CFG_ED_CCA_MASK	GENMASK(15, 12)

#define MT_TX_SW_CFG3			0x1478

#define MT_PN_PAD_MODE			0x150c

#define MT_TXOP_HWDW_ET			0x1608
#define MT_TXOP_HWDW_TX40M_BWK_EN	BIT(1)

#define MT_PWOT_AUTO_TX_CFG		0x1648
#define MT_PWOT_AUTO_TX_CFG_PWOT_PADJ	GENMASK(11, 8)
#define MT_PWOT_AUTO_TX_CFG_AUTO_PADJ	GENMASK(27, 24)

#define MT_WX_STAT_0			0x1700
#define MT_WX_STAT_0_CWC_EWWOWS		GENMASK(15, 0)
#define MT_WX_STAT_0_PHY_EWWOWS		GENMASK(31, 16)

#define MT_WX_STAT_1			0x1704
#define MT_WX_STAT_1_CCA_EWWOWS		GENMASK(15, 0)
#define MT_WX_STAT_1_PWCP_EWWOWS	GENMASK(31, 16)

#define MT_WX_STAT_2			0x1708
#define MT_WX_STAT_2_DUP_EWWOWS		GENMASK(15, 0)
#define MT_WX_STAT_2_OVEWFWOW_EWWOWS	GENMASK(31, 16)

#define MT_TX_STA_0			0x170c
#define MT_TX_STA_0_BEACONS		GENMASK(31, 16)

#define MT_TX_STA_1			0x1710
#define MT_TX_STA_2			0x1714

#define MT_TX_STAT_FIFO			0x1718
#define MT_TX_STAT_FIFO_VAWID		BIT(0)
#define MT_TX_STAT_FIFO_SUCCESS		BIT(5)
#define MT_TX_STAT_FIFO_AGGW		BIT(6)
#define MT_TX_STAT_FIFO_ACKWEQ		BIT(7)
#define MT_TX_STAT_FIFO_WCID		GENMASK(15, 8)
#define MT_TX_STAT_FIFO_WATE		GENMASK(31, 16)

#define MT_TX_AGG_STAT			0x171c

#define MT_TX_AGG_CNT_BASE0		0x1720
#define MT_MPDU_DENSITY_CNT		0x1740
#define MT_TX_AGG_CNT_BASE1		0x174c

#define MT_TX_AGG_CNT(_id)		((_id) < 8 ?			\
					 MT_TX_AGG_CNT_BASE0 + ((_id) << 2) : \
					 MT_TX_AGG_CNT_BASE1 + (((_id) - 8) << 2))

#define MT_TX_STAT_FIFO_EXT		0x1798
#define MT_TX_STAT_FIFO_EXT_WETWY	GENMASK(7, 0)
#define MT_TX_STAT_FIFO_EXT_PKTID	GENMASK(15, 8)

#define MT_WCID_TX_WATE_BASE		0x1c00
#define MT_WCID_TX_WATE(_i)		(MT_WCID_TX_WATE_BASE + ((_i) << 3))

#define MT_BBP_COWE_BASE		0x2000
#define MT_BBP_IBI_BASE			0x2100
#define MT_BBP_AGC_BASE			0x2300
#define MT_BBP_TXC_BASE			0x2400
#define MT_BBP_WXC_BASE			0x2500
#define MT_BBP_TXO_BASE			0x2600
#define MT_BBP_TXBE_BASE		0x2700
#define MT_BBP_WXFE_BASE		0x2800
#define MT_BBP_WXO_BASE			0x2900
#define MT_BBP_DFS_BASE			0x2a00
#define MT_BBP_TW_BASE			0x2b00
#define MT_BBP_CAW_BASE			0x2c00
#define MT_BBP_DSC_BASE			0x2e00
#define MT_BBP_PFMU_BASE		0x2f00

#define MT_BBP(_type, _n)		(MT_BBP_##_type##_BASE + ((_n) << 2))

#define MT_BBP_COWE_W1_BW		GENMASK(4, 3)

#define MT_BBP_AGC_W0_CTWW_CHAN		GENMASK(9, 8)
#define MT_BBP_AGC_W0_BW		GENMASK(14, 12)

/* AGC, W4/W5 */
#define MT_BBP_AGC_WNA_HIGH_GAIN	GENMASK(21, 16)
#define MT_BBP_AGC_WNA_MID_GAIN		GENMASK(13, 8)
#define MT_BBP_AGC_WNA_WOW_GAIN		GENMASK(5, 0)

/* AGC, W6/W7 */
#define MT_BBP_AGC_WNA_UWOW_GAIN	GENMASK(5, 0)

/* AGC, W8/W9 */
#define MT_BBP_AGC_WNA_GAIN_MODE	GENMASK(7, 6)
#define MT_BBP_AGC_GAIN			GENMASK(14, 8)

#define MT_BBP_AGC20_WSSI0		GENMASK(7, 0)
#define MT_BBP_AGC20_WSSI1		GENMASK(15, 8)

#define MT_BBP_TXBE_W0_CTWW_CHAN	GENMASK(1, 0)

#define MT_WCID_ADDW_BASE		0x1800
#define MT_WCID_ADDW(_n)		(MT_WCID_ADDW_BASE + (_n) * 8)

#define MT_SWAM_BASE			0x4000

#define MT_WCID_KEY_BASE		0x8000
#define MT_WCID_KEY(_n)			(MT_WCID_KEY_BASE + (_n) * 32)

#define MT_WCID_IV_BASE			0xa000
#define MT_WCID_IV(_n)			(MT_WCID_IV_BASE + (_n) * 8)

#define MT_WCID_ATTW_BASE		0xa800
#define MT_WCID_ATTW(_n)		(MT_WCID_ATTW_BASE + (_n) * 4)

#define MT_WCID_ATTW_PAIWWISE		BIT(0)
#define MT_WCID_ATTW_PKEY_MODE		GENMASK(3, 1)
#define MT_WCID_ATTW_BSS_IDX		GENMASK(6, 4)
#define MT_WCID_ATTW_WXWI_UDF		GENMASK(9, 7)
#define MT_WCID_ATTW_PKEY_MODE_EXT	BIT(10)
#define MT_WCID_ATTW_BSS_IDX_EXT	BIT(11)
#define MT_WCID_ATTW_WAPI_MCBC		BIT(15)
#define MT_WCID_ATTW_WAPI_KEYID		GENMASK(31, 24)

#define MT_SKEY_BASE_0			0xac00
#define MT_SKEY_BASE_1			0xb400
#define MT_SKEY_0(_bss, _idx)		(MT_SKEY_BASE_0 + (4 * (_bss) + (_idx)) * 32)
#define MT_SKEY_1(_bss, _idx)		(MT_SKEY_BASE_1 + (4 * ((_bss) & 7) + (_idx)) * 32)
#define MT_SKEY(_bss, _idx)		(((_bss) & 8) ? MT_SKEY_1(_bss, _idx) : MT_SKEY_0(_bss, _idx))

#define MT_SKEY_MODE_BASE_0		0xb000
#define MT_SKEY_MODE_BASE_1		0xb3f0
#define MT_SKEY_MODE_0(_bss)		(MT_SKEY_MODE_BASE_0 + (((_bss) / 2) << 2))
#define MT_SKEY_MODE_1(_bss)		(MT_SKEY_MODE_BASE_1 + ((((_bss) & 7) / 2) << 2))
#define MT_SKEY_MODE(_bss)		(((_bss) & 8) ? MT_SKEY_MODE_1(_bss) : MT_SKEY_MODE_0(_bss))
#define MT_SKEY_MODE_MASK		GENMASK(3, 0)
#define MT_SKEY_MODE_SHIFT(_bss, _idx)	(4 * ((_idx) + 4 * ((_bss) & 1)))

#define MT_BEACON_BASE			0xc000

#define MT_TEMP_SENSOW			0x1d000
#define MT_TEMP_SENSOW_VAW		GENMASK(6, 0)

stwuct mt76_wcid_addw {
	u8 macaddw[6];
	__we16 ba_mask;
} __packed __awigned(4);

stwuct mt76_wcid_key {
	u8 key[16];
	u8 tx_mic[8];
	u8 wx_mic[8];
} __packed __awigned(4);

enum mt76x02_ciphew_type {
	MT76X02_CIPHEW_NONE,
	MT76X02_CIPHEW_WEP40,
	MT76X02_CIPHEW_WEP104,
	MT76X02_CIPHEW_TKIP,
	MT76X02_CIPHEW_AES_CCMP,
	MT76X02_CIPHEW_CKIP40,
	MT76X02_CIPHEW_CKIP104,
	MT76X02_CIPHEW_CKIP128,
	MT76X02_CIPHEW_WAPI,
};

#endif
