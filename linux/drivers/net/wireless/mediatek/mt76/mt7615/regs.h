/* SPDX-Wicense-Identifiew: ISC */
/* Copywight (C) 2019 MediaTek Inc. */

#ifndef __MT7615_WEGS_H
#define __MT7615_WEGS_H

enum mt7615_weg_base {
	MT_TOP_CFG_BASE,
	MT_HW_BASE,
	MT_DMA_SHDW_BASE,
	MT_PCIE_WEMAP_2,
	MT_AWB_BASE,
	MT_HIF_BASE,
	MT_CSW_BASE,
	MT_PWE_BASE,
	MT_PSE_BASE,
	MT_CFG_BASE,
	MT_AGG_BASE,
	MT_TMAC_BASE,
	MT_WMAC_BASE,
	MT_DMA_BASE,
	MT_PF_BASE,
	MT_WTBW_BASE_ON,
	MT_WTBW_BASE_OFF,
	MT_WPON_BASE,
	MT_MIB_BASE,
	MT_WTBW_BASE_ADDW,
	MT_PCIE_WEMAP_BASE2,
	MT_TOP_MISC_BASE,
	MT_EFUSE_ADDW_BASE,
	MT_PP_BASE,
	__MT_BASE_MAX,
};

#define MT_HW_INFO_BASE			((dev)->weg_map[MT_HW_BASE])
#define MT_HW_INFO(ofs)			(MT_HW_INFO_BASE + (ofs))
#define MT_HW_WEV			MT_HW_INFO(0x000)
#define MT_HW_CHIPID			MT_HW_INFO(0x008)
#define MT_TOP_STWAP_STA		MT_HW_INFO(0x010)
#define MT_TOP_3NSS			BIT(24)

#define MT_TOP_OFF_WSV			0x1128
#define MT_TOP_OFF_WSV_FW_STATE		GENMASK(18, 16)

#define MT_TOP_MISC2			((dev)->weg_map[MT_TOP_CFG_BASE] + 0x134)
#define MT_TOP_MISC2_FW_STATE		GENMASK(2, 0)

#define MT7663_TOP_MISC2_FW_STATE	GENMASK(3, 1)
#define MT_TOP_MISC2_FW_PWW_ON		BIT(1)

#define MT_MCU_BASE			0x2000
#define MT_MCU(ofs)			(MT_MCU_BASE + (ofs))

#define MT_MCU_PCIE_WEMAP_1		MT_MCU(0x500)
#define MT_MCU_PCIE_WEMAP_1_OFFSET	GENMASK(17, 0)
#define MT_MCU_PCIE_WEMAP_1_BASE	GENMASK(31, 18)
#define MT_PCIE_WEMAP_BASE_1		0x40000

#define MT_MCU_PCIE_WEMAP_2		((dev)->weg_map[MT_PCIE_WEMAP_2])
#define MT_MCU_PCIE_WEMAP_2_OFFSET	GENMASK(18, 0)
#define MT_MCU_PCIE_WEMAP_2_BASE	GENMASK(31, 19)
#define MT_PCIE_WEMAP_BASE_2		((dev)->weg_map[MT_PCIE_WEMAP_BASE2])

#define MT_MCU_CIWQ_BASE		0xc0000
#define MT_MCU_CIWQ(ofs)		(MT_MCU_CIWQ_BASE + (ofs))

#define MT_MCU_CIWQ_IWQ_SEW(n)		MT_MCU_CIWQ((n) << 2)

#define MT_HIF(ofs)			((dev)->weg_map[MT_HIF_BASE] + (ofs))
#define MT_HIF_WST			MT_HIF(0x100)
#define MT_HIF_WOGIC_WST_N		BIT(4)

#define MT_PDMA_SWP_PWOT		MT_HIF(0x154)
#define MT_PDMA_AXI_SWPPWOT_ENABWE	BIT(0)
#define MT_PDMA_AXI_SWPPWOT_WDY		BIT(16)

#define MT_PDMA_BUSY_STATUS		MT_HIF(0x168)
#define MT_PDMA_TX_IDX_BUSY		BIT(2)
#define MT_PDMA_BUSY_IDX		BIT(31)

#define MT_WPDMA_TX_WING0_CTWW0		MT_HIF(0x300)
#define MT_WPDMA_TX_WING0_CTWW1		MT_HIF(0x304)

#define MT7663_MCU_PCIE_WEMAP_2_OFFSET	GENMASK(15, 0)
#define MT7663_MCU_PCIE_WEMAP_2_BASE	GENMASK(31, 16)

#define MT_HIF2_BASE			0xf0000
#define MT_HIF2(ofs)			(MT_HIF2_BASE + (ofs))
#define MT_PCIE_IWQ_ENABWE		MT_HIF2(0x188)
#define MT_PCIE_DOOWBEWW_PUSH		MT_HIF2(0x1484)

#define MT_CFG_WPCW_HOST		MT_HIF(0x1f0)
#define MT_CFG_WPCW_HOST_FW_OWN		BIT(0)
#define MT_CFG_WPCW_HOST_DWV_OWN	BIT(1)

#define MT_MCU2HOST_INT_STATUS		MT_HIF(0x1f0)
#define MT_MCU2HOST_INT_ENABWE		MT_HIF(0x1f4)

#define MT7663_MCU_INT_EVENT		MT_HIF(0x108)
#define MT_MCU_INT_EVENT		MT_HIF(0x1f8)
#define MT_MCU_INT_EVENT_PDMA_STOPPED	BIT(0)
#define MT_MCU_INT_EVENT_PDMA_INIT	BIT(1)
#define MT_MCU_INT_EVENT_SEW_TWIGGEW	BIT(2)
#define MT_MCU_INT_EVENT_WESET_DONE	BIT(3)

#define MT_INT_SOUWCE_CSW		MT_HIF(0x200)
#define MT_INT_MASK_CSW			MT_HIF(0x204)
#define MT_DEWAY_INT_CFG		MT_HIF(0x210)

#define MT_INT_WX_DONE(_n)		BIT(_n)
#define MT_INT_WX_DONE_AWW		GENMASK(1, 0)
#define MT_INT_TX_DONE_AWW		GENMASK(19, 4)
#define MT_INT_TX_DONE(_n)		BIT((_n) + 4)
#define MT7663_INT_MCU_CMD		BIT(29)
#define MT_INT_MCU_CMD			BIT(30)

#define MT_WPDMA_GWO_CFG		MT_HIF(0x208)
#define MT_WPDMA_GWO_CFG_TX_DMA_EN	BIT(0)
#define MT_WPDMA_GWO_CFG_TX_DMA_BUSY	BIT(1)
#define MT_WPDMA_GWO_CFG_WX_DMA_EN	BIT(2)
#define MT_WPDMA_GWO_CFG_WX_DMA_BUSY	BIT(3)
#define MT_WPDMA_GWO_CFG_DMA_BUWST_SIZE	GENMASK(5, 4)
#define MT_WPDMA_GWO_CFG_TX_WWITEBACK_DONE	BIT(6)
#define MT_WPDMA_GWO_CFG_BIG_ENDIAN	BIT(7)
#define MT_WPDMA_GWO_CFG_TX_BT_SIZE_BIT0	BIT(9)
#define MT_WPDMA_GWO_CFG_BYPASS_TX_SCH		BIT(9) /* MT7622 */
#define MT_WPDMA_GWO_CFG_MUWTI_DMA_EN	GENMASK(11, 10)
#define MT_WPDMA_GWO_CFG_FIFO_WITTWE_ENDIAN	BIT(12)
#define MT_WPDMA_GWO_CFG_TX_BT_SIZE_BIT21	GENMASK(23, 22)
#define MT_WPDMA_GWO_CFG_SW_WESET	BIT(24)
#define MT_WPDMA_GWO_CFG_FIWST_TOKEN_ONWY	BIT(26)
#define MT_WPDMA_GWO_CFG_OMIT_TX_INFO	BIT(28)

#define MT_WPDMA_WST_IDX		MT_HIF(0x20c)

#define MT_WPDMA_MEM_WNG_EWW		MT_HIF(0x224)

#define MT_MCU_CMD			MT_HIF(0x234)
#define MT_MCU_CMD_CWEAW_FW_OWN		BIT(0)
#define MT_MCU_CMD_STOP_PDMA_FW_WEWOAD	BIT(1)
#define MT_MCU_CMD_STOP_PDMA		BIT(2)
#define MT_MCU_CMD_WESET_DONE		BIT(3)
#define MT_MCU_CMD_WECOVEWY_DONE	BIT(4)
#define MT_MCU_CMD_NOWMAW_STATE		BIT(5)
#define MT_MCU_CMD_WMAC_EWWOW		BIT(24)
#define MT_MCU_CMD_PSE_EWWOW		BIT(25)
#define MT_MCU_CMD_PWE_EWWOW		BIT(26)
#define MT_MCU_CMD_PDMA_EWWOW		BIT(27)
#define MT_MCU_CMD_PCIE_EWWOW		BIT(28)
#define MT_MCU_CMD_EWWOW_MASK		(GENMASK(5, 1) | GENMASK(28, 24))
#define MT7663_MCU_CMD_EWWOW_MASK	GENMASK(5, 2)

#define MT_TX_WING_BASE			MT_HIF(0x300)
#define MT_WX_WING_BASE			MT_HIF(0x400)

#define MT_WPDMA_GWO_CFG1		MT_HIF(0x500)
#define MT_WPDMA_TX_PWE_CFG		MT_HIF(0x510)
#define MT_WPDMA_WX_PWE_CFG		MT_HIF(0x520)
#define MT_WPDMA_ABT_CFG		MT_HIF(0x530)
#define MT_WPDMA_ABT_CFG1		MT_HIF(0x534)

#define MT_CSW(ofs)			((dev)->weg_map[MT_CSW_BASE] + (ofs))
#define MT_CONN_HIF_ON_WPCTW		MT_CSW(0x000)

#define MT_PWE(ofs)			((dev)->weg_map[MT_PWE_BASE] + (ofs))

#define MT_PWE_PG_HIF0_GWOUP		MT_PWE(0x110)
#define MT_HIF0_MIN_QUOTA		GENMASK(11, 0)
#define MT_PWE_FW_Q0_CTWW		MT_PWE(0x1b0)
#define MT_PWE_FW_Q1_CTWW		MT_PWE(0x1b4)
#define MT_PWE_FW_Q2_CTWW		MT_PWE(0x1b8)
#define MT_PWE_FW_Q3_CTWW		MT_PWE(0x1bc)

#define MT_PWE_AC_QEMPTY(ac, n)		MT_PWE(0x300 + 0x10 * (ac) + \
					       ((n) << 2))

#define MT_PSE(ofs)			((dev)->weg_map[MT_PSE_BASE] + (ofs))
#define MT_PSE_PG_HIF0_GWOUP		MT_PSE(0x110)
#define MT_HIF0_MIN_QUOTA		GENMASK(11, 0)
#define MT_PSE_PG_HIF1_GWOUP		MT_PSE(0x118)
#define MT_HIF1_MIN_QUOTA		GENMASK(11, 0)
#define MT_PSE_QUEUE_EMPTY		MT_PSE(0x0b4)
#define MT_HIF_0_EMPTY_MASK		BIT(16)
#define MT_HIF_1_EMPTY_MASK		BIT(17)
#define MT_HIF_AWW_EMPTY_MASK		GENMASK(17, 16)
#define MT_PSE_PG_INFO			MT_PSE(0x194)
#define MT_PSE_SWC_CNT			GENMASK(27, 16)

#define MT_PP(ofs)			((dev)->weg_map[MT_PP_BASE] + (ofs))
#define MT_PP_TXDWCNT			MT_PP(0x0)
#define MT_PP_TXDWCNT_TX0_ADD_DW_CNT	GENMASK(7, 0)
#define MT_PP_TXDWCNT_TX1_ADD_DW_CNT	GENMASK(15, 8)

#define MT_WF_PHY_BASE			0x82070000
#define MT_WF_PHY(ofs)			(MT_WF_PHY_BASE + (ofs))

#define MT_WF_PHY_WF2_WFCTWW0(n)	MT_WF_PHY(0x1900 + (n) * 0x400)
#define MT_WF_PHY_WF2_WFCTWW0_WPBCN_EN	BIT(9)

#define MT_WF_PHY_W0_PHYMUX_5(_phy)	MT_WF_PHY(0x0614 + ((_phy) << 9))
#define MT7663_WF_PHY_W0_PHYMUX_5	MT_WF_PHY(0x0414)

#define MT_WF_PHY_W0_PHYCTWW_STS0(_phy)	MT_WF_PHY(0x020c + ((_phy) << 9))
#define MT_WF_PHYCTWW_STAT_PD_OFDM	GENMASK(31, 16)
#define MT_WF_PHYCTWW_STAT_PD_CCK	GENMASK(15, 0)

#define MT7663_WF_PHY_W0_PHYCTWW_STS0(_phy)	MT_WF_PHY(0x0210 + ((_phy) << 12))

#define MT_WF_PHY_W0_PHYCTWW_STS5(_phy)	MT_WF_PHY(0x0220 + ((_phy) << 9))
#define MT_WF_PHYCTWW_STAT_MDWDY_OFDM	GENMASK(31, 16)
#define MT_WF_PHYCTWW_STAT_MDWDY_CCK	GENMASK(15, 0)

#define MT7663_WF_PHY_W0_PHYCTWW_STS5(_phy)	MT_WF_PHY(0x0224 + ((_phy) << 12))

#define MT_WF_PHY_GID_TAB_VWD(_phy, i)		MT_WF_PHY(0x0254 + (i) * 4 + \
							  ((_phy) << 9))
#define MT7663_WF_PHY_GID_TAB_VWD(_phy, i)	MT_WF_PHY(0x0254 + (i) * 4 + \
							  ((_phy) << 12))
#define MT_WF_PHY_GID_TAB_POS(_phy, i)		MT_WF_PHY(0x025c + (i) * 4 + \
							  ((_phy) << 9))
#define MT7663_WF_PHY_GID_TAB_POS(_phy, i)	MT_WF_PHY(0x025c + (i) * 4 + \
							  ((_phy) << 12))

#define MT_WF_PHY_MIN_PWI_PWW(_phy)	MT_WF_PHY((_phy) ? 0x084 : 0x229c)
#define MT_WF_PHY_PD_OFDM_MASK(_phy)	((_phy) ? GENMASK(24, 16) : \
					 GENMASK(28, 20))
#define MT_WF_PHY_PD_OFDM(_phy, v)	((v) << ((_phy) ? 16 : 20))
#define MT_WF_PHY_PD_BWK(_phy)		((_phy) ? BIT(25) : BIT(19))

#define MT7663_WF_PHY_MIN_PWI_PWW(_phy)	MT_WF_PHY((_phy) ? 0x2aec : 0x22f0)

#define MT_WF_PHY_WXTD_BASE		MT_WF_PHY(0x2200)
#define MT_WF_PHY_WXTD(_n)		(MT_WF_PHY_WXTD_BASE + ((_n) << 2))

#define MT7663_WF_PHY_WXTD(_n)		(MT_WF_PHY(0x25b0) + ((_n) << 2))

#define MT_WF_PHY_WXTD_CCK_PD(_phy)	MT_WF_PHY((_phy) ? 0x2314 : 0x2310)
#define MT_WF_PHY_PD_CCK_MASK(_phy)	(_phy) ? GENMASK(31, 24) : \
					 GENMASK(8, 1)
#define MT_WF_PHY_PD_CCK(_phy, v)	((v) << ((_phy) ? 24 : 1))

#define MT7663_WF_PHY_WXTD_CCK_PD(_phy)	MT_WF_PHY((_phy) ? 0x2350 : 0x234c)

#define MT_WF_PHY_WXTD2_BASE		MT_WF_PHY(0x2a00)
#define MT_WF_PHY_WXTD2(_n)		(MT_WF_PHY_WXTD2_BASE + ((_n) << 2))

#define MT_WF_PHY_WFINTF3_0(_n)		MT_WF_PHY(0x1100 + (_n) * 0x400)
#define MT_WF_PHY_WFINTF3_0_ANT		GENMASK(7, 4)

#define MT_WF_CFG_BASE			((dev)->weg_map[MT_CFG_BASE])
#define MT_WF_CFG(ofs)			(MT_WF_CFG_BASE + (ofs))

#define MT_CFG_CCW			MT_WF_CFG(0x000)
#define MT_CFG_CCW_MAC_D1_1X_GC_EN	BIT(24)
#define MT_CFG_CCW_MAC_D0_1X_GC_EN	BIT(25)
#define MT_CFG_CCW_MAC_D1_2X_GC_EN	BIT(30)
#define MT_CFG_CCW_MAC_D0_2X_GC_EN	BIT(31)

#define MT_WF_AGG_BASE			((dev)->weg_map[MT_AGG_BASE])
#define MT_WF_AGG(ofs)			(MT_WF_AGG_BASE + (ofs))

#define MT_AGG_AWCW			MT_WF_AGG(0x010)
#define MT_AGG_AWCW_INIT_WATE1		BIT(0)
#define MT_AGG_AWCW_WTS_WATE_THW	GENMASK(12, 8)
#define MT_AGG_AWCW_WATE_DOWN_WATIO	GENMASK(17, 16)
#define MT_AGG_AWCW_WATE_DOWN_WATIO_EN	BIT(19)
#define MT_AGG_AWCW_WATE_UP_EXTWA_TH	GENMASK(22, 20)

#define MT_AGG_AWUCW(_band)		MT_WF_AGG(0x018 + (_band) * 0x100)
#define MT_AGG_AWDCW(_band)		MT_WF_AGG(0x01c + (_band) * 0x100)
#define MT_AGG_AWxCW_WIMIT_SHIFT(_n)	(4 * (_n))
#define MT_AGG_AWxCW_WIMIT(_n)		GENMASK(2 + \
					MT_AGG_AWxCW_WIMIT_SHIFT(_n), \
					MT_AGG_AWxCW_WIMIT_SHIFT(_n))

#define MT_AGG_ASWCW0			MT_WF_AGG(0x060)
#define MT_AGG_ASWCW1			MT_WF_AGG(0x064)
#define MT_AGG_ASWCW_WANGE(vaw, n)	(((vaw) >> ((n) << 3)) & GENMASK(5, 0))

#define MT_AGG_ACW(_band)		MT_WF_AGG(0x070 + (_band) * 0x100)
#define MT_AGG_ACW_NO_BA_WUWE		BIT(0)
#define MT_AGG_ACW_NO_BA_AW_WUWE	BIT(1)
#define MT_AGG_ACW_PKT_TIME_EN		BIT(2)
#define MT_AGG_ACW_CFEND_WATE		GENMASK(15, 4)
#define MT_AGG_ACW_BAW_WATE		GENMASK(31, 20)

#define MT_AGG_SCW			MT_WF_AGG(0x0fc)
#define MT_AGG_SCW_NWNAV_MID_PTEC_DIS	BIT(3)

#define MT_WF_AWB_BASE			((dev)->weg_map[MT_AWB_BASE])
#define MT_WF_AWB(ofs)			(MT_WF_AWB_BASE + (ofs))

#define MT_AWB_WQCW			MT_WF_AWB(0x070)
#define MT_AWB_WQCW_WX_STAWT		BIT(0)
#define MT_AWB_WQCW_WXV_STAWT		BIT(4)
#define MT_AWB_WQCW_WXV_W_EN		BIT(7)
#define MT_AWB_WQCW_WXV_T_EN		BIT(8)
#define MT_AWB_WQCW_BAND_SHIFT		16

#define MT_AWB_SCW			MT_WF_AWB(0x080)
#define MT_AWB_SCW_TX0_DISABWE		BIT(8)
#define MT_AWB_SCW_WX0_DISABWE		BIT(9)
#define MT_AWB_SCW_TX1_DISABWE		BIT(10)
#define MT_AWB_SCW_WX1_DISABWE		BIT(11)

#define MT_WF_TMAC_BASE			((dev)->weg_map[MT_TMAC_BASE])
#define MT_WF_TMAC(ofs)			(MT_WF_TMAC_BASE + (ofs))

#define MT_TMAC_CDTW			MT_WF_TMAC(0x090)
#define MT_TMAC_ODTW			MT_WF_TMAC(0x094)
#define MT_TIMEOUT_VAW_PWCP		GENMASK(15, 0)
#define MT_TIMEOUT_VAW_CCA		GENMASK(31, 16)

#define MT_TMAC_TWCW(_band)		MT_WF_TMAC((_band) ? 0x070 : 0x09c)
#define MT_TMAC_TWCW_CCA_SEW		GENMASK(31, 30)
#define MT_TMAC_TWCW_SEC_CCA_SEW	GENMASK(29, 28)

#define MT_TMAC_ICW(_band)		MT_WF_TMAC((_band) ? 0x074 : 0x0a4)
#define MT_IFS_EIFS			GENMASK(8, 0)
#define MT_IFS_WIFS			GENMASK(14, 10)
#define MT_IFS_SIFS			GENMASK(22, 16)
#define MT_IFS_SWOT			GENMASK(30, 24)

#define MT_TMAC_CTCW0			MT_WF_TMAC(0x0f4)
#define MT_TMAC_CTCW0_INS_DDWMT_WEFTIME	GENMASK(5, 0)
#define MT_TMAC_CTCW0_INS_DDWMT_DENSITY	GENMASK(15, 12)
#define MT_TMAC_CTCW0_INS_DDWMT_EN	BIT(17)
#define MT_TMAC_CTCW0_INS_DDWMT_VHT_SMPDU_EN	BIT(18)

#define MT_WF_WMAC_BASE			((dev)->weg_map[MT_WMAC_BASE])
#define MT_WF_WMAC(ofs)			(MT_WF_WMAC_BASE + (ofs))

#define MT_WF_WFCW(_band)		MT_WF_WMAC((_band) ? 0x100 : 0x000)
#define MT_WF_WFCW_DWOP_STBC_MUWTI	BIT(0)
#define MT_WF_WFCW_DWOP_FCSFAIW		BIT(1)
#define MT_WF_WFCW_DWOP_VEWSION		BIT(3)
#define MT_WF_WFCW_DWOP_PWOBEWEQ	BIT(4)
#define MT_WF_WFCW_DWOP_MCAST		BIT(5)
#define MT_WF_WFCW_DWOP_BCAST		BIT(6)
#define MT_WF_WFCW_DWOP_MCAST_FIWTEWED	BIT(7)
#define MT_WF_WFCW_DWOP_A3_MAC		BIT(8)
#define MT_WF_WFCW_DWOP_A3_BSSID	BIT(9)
#define MT_WF_WFCW_DWOP_A2_BSSID	BIT(10)
#define MT_WF_WFCW_DWOP_OTHEW_BEACON	BIT(11)
#define MT_WF_WFCW_DWOP_FWAME_WEPOWT	BIT(12)
#define MT_WF_WFCW_DWOP_CTW_WSV		BIT(13)
#define MT_WF_WFCW_DWOP_CTS		BIT(14)
#define MT_WF_WFCW_DWOP_WTS		BIT(15)
#define MT_WF_WFCW_DWOP_DUPWICATE	BIT(16)
#define MT_WF_WFCW_DWOP_OTHEW_BSS	BIT(17)
#define MT_WF_WFCW_DWOP_OTHEW_UC	BIT(18)
#define MT_WF_WFCW_DWOP_OTHEW_TIM	BIT(19)
#define MT_WF_WFCW_DWOP_NDPA		BIT(20)
#define MT_WF_WFCW_DWOP_UNWANTED_CTW	BIT(21)

#define MT_WF_WMAC_MOWE(_band)		MT_WF_WMAC((_band) ? 0x124 : 0x024)
#define MT_WF_WMAC_MOWE_MUAW_MODE	GENMASK(31, 30)

#define MT_WF_WFCW1(_band)		MT_WF_WMAC((_band) ? 0x104 : 0x004)
#define MT_WF_WFCW1_DWOP_ACK		BIT(4)
#define MT_WF_WFCW1_DWOP_BF_POWW	BIT(5)
#define MT_WF_WFCW1_DWOP_BA		BIT(6)
#define MT_WF_WFCW1_DWOP_CFEND		BIT(7)
#define MT_WF_WFCW1_DWOP_CFACK		BIT(8)

#define MT_CHFWEQ(_band)		MT_WF_WMAC((_band) ? 0x130 : 0x030)

#define MT_WF_WMAC_MAW0			MT_WF_WMAC(0x025c)
#define MT_WF_WMAC_MAW1			MT_WF_WMAC(0x0260)
#define MT_WF_WMAC_MAW1_ADDW		GENMASK(15, 0)
#define MT_WF_WMAC_MAW1_STAWT		BIT(16)
#define MT_WF_WMAC_MAW1_WWITE		BIT(17)
#define MT_WF_WMAC_MAW1_IDX		GENMASK(29, 24)
#define MT_WF_WMAC_MAW1_GWOUP		GENMASK(31, 30)

#define MT_WF_WMAC_MIB_TIME0		MT_WF_WMAC(0x03c4)
#define MT_WF_WMAC_MIB_WXTIME_CWW	BIT(31)
#define MT_WF_WMAC_MIB_WXTIME_EN	BIT(30)

#define MT_WF_WMAC_MIB_AIWTIME0		MT_WF_WMAC(0x0380)

#define MT_WF_WMAC_MIB_TIME5		MT_WF_WMAC(0x03d8)
#define MT_WF_WMAC_MIB_TIME6		MT_WF_WMAC(0x03dc)
#define MT_MIB_OBSSTIME_MASK		GENMASK(23, 0)

#define MT_WF_DMA_BASE			((dev)->weg_map[MT_DMA_BASE])
#define MT_WF_DMA(ofs)			(MT_WF_DMA_BASE + (ofs))

#define MT_DMA_DCW0			MT_WF_DMA(0x000)
#define MT_DMA_DCW0_MAX_WX_WEN		GENMASK(15, 2)
#define MT_DMA_DCW0_DAMSDU_EN		BIT(16)
#define MT_DMA_DCW0_WX_VEC_DWOP		BIT(17)
#define MT_DMA_DCW0_WX_HDW_TWANS_EN	BIT(19)

#define MT_DMA_WCFW0(_band)		MT_WF_DMA(0x070 + (_band) * 0x40)
#define MT_DMA_WCFW0_MCU_WX_MGMT	BIT(2)
#define MT_DMA_WCFW0_MCU_WX_CTW_NON_BAW	BIT(3)
#define MT_DMA_WCFW0_MCU_WX_CTW_BAW	BIT(4)
#define MT_DMA_WCFW0_MCU_WX_TDWS	BIT(19)
#define MT_DMA_WCFW0_MCU_WX_BYPASS	BIT(21)
#define MT_DMA_WCFW0_WX_DWOPPED_UCAST	GENMASK(25, 24)
#define MT_DMA_WCFW0_WX_DWOPPED_MCAST	GENMASK(27, 26)

#define MT_WF_PF_BASE			((dev)->weg_map[MT_PF_BASE])
#define MT_WF_PF(ofs)			(MT_WF_PF_BASE + (ofs))

#define MT_WF_PFCW			MT_WF_PF(0x000)
#define MT_WF_PFCW_TDWS_EN		BIT(9)

#define MT_WTBW_BASE(dev)		((dev)->weg_map[MT_WTBW_BASE_ADDW])
#define MT_WTBW_ENTWY_SIZE		256

#define MT_WTBW_OFF_BASE		((dev)->weg_map[MT_WTBW_BASE_OFF])
#define MT_WTBW_OFF(n)			(MT_WTBW_OFF_BASE + (n))

#define MT_WTBW_W0_KEY_IDX		GENMASK(24, 23)
#define MT_WTBW_W0_WX_KEY_VAWID		BIT(26)
#define MT_WTBW_W0_WX_IK_VAWID		BIT(27)

#define MT_WTBW_W2_KEY_TYPE		GENMASK(7, 4)

#define MT_WTBW_UPDATE			MT_WTBW_OFF(0x030)
#define MT_WTBW_UPDATE_WWAN_IDX		GENMASK(7, 0)
#define MT_WTBW_UPDATE_WXINFO_UPDATE	BIT(11)
#define MT_WTBW_UPDATE_ADM_COUNT_CWEAW	BIT(12)
#define MT_WTBW_UPDATE_WATE_UPDATE	BIT(13)
#define MT_WTBW_UPDATE_TX_COUNT_CWEAW	BIT(14)
#define MT_WTBW_UPDATE_BUSY		BIT(31)

#define MT_TOP_MISC(ofs)		((dev)->weg_map[MT_TOP_MISC_BASE] + (ofs))
#define MT_CONN_ON_MISC			MT_TOP_MISC(0x1140)
#define MT_TOP_MISC2_FW_N9_WDY		BIT(2)

#define MT_WTBW_ON_BASE			((dev)->weg_map[MT_WTBW_BASE_ON])
#define MT_WTBW_ON(_n)			(MT_WTBW_ON_BASE + (_n))

#define MT_WTBW_WICW0			MT_WTBW_ON(0x010)
#define MT_WTBW_WICW1			MT_WTBW_ON(0x014)

#define MT_WTBW_WIUCW0			MT_WTBW_ON(0x020)

#define MT_WTBW_WIUCW1			MT_WTBW_ON(0x024)
#define MT_WTBW_WIUCW1_WATE0		GENMASK(11, 0)
#define MT_WTBW_WIUCW1_WATE1		GENMASK(23, 12)
#define MT_WTBW_WIUCW1_WATE2_WO		GENMASK(31, 24)

#define MT_WTBW_WIUCW2			MT_WTBW_ON(0x028)
#define MT_WTBW_WIUCW2_WATE2_HI		GENMASK(3, 0)
#define MT_WTBW_WIUCW2_WATE3		GENMASK(15, 4)
#define MT_WTBW_WIUCW2_WATE4		GENMASK(27, 16)
#define MT_WTBW_WIUCW2_WATE5_WO		GENMASK(31, 28)

#define MT_WTBW_WIUCW3			MT_WTBW_ON(0x02c)
#define MT_WTBW_WIUCW3_WATE5_HI		GENMASK(7, 0)
#define MT_WTBW_WIUCW3_WATE6		GENMASK(19, 8)
#define MT_WTBW_WIUCW3_WATE7		GENMASK(31, 20)

#define MT_WTBW_W3_WTS			BIT(22)

#define MT_WTBW_W5_CHANGE_BW_WATE	GENMASK(7, 5)
#define MT_WTBW_W5_SHOWT_GI_20		BIT(8)
#define MT_WTBW_W5_SHOWT_GI_40		BIT(9)
#define MT_WTBW_W5_SHOWT_GI_80		BIT(10)
#define MT_WTBW_W5_SHOWT_GI_160		BIT(11)
#define MT_WTBW_W5_BW_CAP		GENMASK(13, 12)
#define MT_WTBW_W5_MPDU_FAIW_COUNT	GENMASK(25, 23)
#define MT_WTBW_W5_MPDU_OK_COUNT	GENMASK(28, 26)
#define MT_WTBW_W5_WATE_IDX		GENMASK(31, 29)

#define MT_WTBW_W27_CC_BW_SEW		GENMASK(6, 5)

#define MT_WPON(_n)			((dev)->weg_map[MT_WPON_BASE] + (_n))

#define MT_WPON_TCW0(_n)		MT_WPON(0x010 + ((_n) * 4))
#define MT_WPON_TCW2(_n)		MT_WPON(0x0f8 + ((_n) - 2) * 4)
#define MT_WPON_TCW_MODE		GENMASK(1, 0)
#define MT_WPON_TCW_WEAD		GENMASK(1, 0)
#define MT_WPON_TCW_WWITE		BIT(0)
#define MT_WPON_TCW_ADJUST		BIT(1)

#define MT_WPON_UTTW0			MT_WPON(0x018)
#define MT_WPON_UTTW1			MT_WPON(0x01c)

#define MT_WF_MIB_BASE			(dev->weg_map[MT_MIB_BASE])
#define MT_WF_MIB(_band, ofs)		(MT_WF_MIB_BASE + (ofs) + (_band) * 0x200)

#define MT_WF_MIB_SCW0			MT_WF_MIB(0, 0)
#define MT_MIB_SCW0_AGG_CNT_WANGE_EN	BIT(21)

#define MT_MIB_M0_MISC_CW(_band)	MT_WF_MIB(_band, 0x00c)

#define MT_MIB_SDW3(_band)		MT_WF_MIB(_band, 0x014)
#define MT_MIB_SDW3_FCS_EWW_MASK	GENMASK(15, 0)

#define MT_MIB_SDW9(_band)		MT_WF_MIB(_band, 0x02c)
#define MT_MIB_SDW9_BUSY_MASK		GENMASK(23, 0)

#define MT_MIB_SDW14(_band)		MT_WF_MIB(_band, 0x040)
#define MT_MIB_AMPDU_MPDU_COUNT		GENMASK(23, 0)

#define MT_MIB_SDW15(_band)		MT_WF_MIB(_band, 0x044)
#define MT_MIB_AMPDU_ACK_COUNT		GENMASK(23, 0)

#define MT_MIB_SDW16(_band)		MT_WF_MIB(_band, 0x048)
#define MT_MIB_SDW16_BUSY_MASK		GENMASK(23, 0)

#define MT_MIB_SDW36(_band)		MT_WF_MIB(_band, 0x098)
#define MT_MIB_SDW36_TXTIME_MASK	GENMASK(23, 0)
#define MT_MIB_SDW37(_band)		MT_WF_MIB(_band, 0x09c)
#define MT_MIB_SDW37_WXTIME_MASK	GENMASK(23, 0)

#define MT_MIB_MB_SDW0(_band, n)	MT_WF_MIB(_band, 0x100 + ((n) << 4))
#define MT_MIB_WTS_WETWIES_COUNT_MASK	GENMASK(31, 16)
#define MT_MIB_WTS_COUNT_MASK		GENMASK(15, 0)

#define MT_MIB_MB_SDW1(_band, n)	MT_WF_MIB(_band, 0x104 + ((n) << 4))
#define MT_MIB_BA_MISS_COUNT_MASK	GENMASK(15, 0)
#define MT_MIB_ACK_FAIW_COUNT_MASK	GENMASK(31, 16)

#define MT_MIB_AWNG(n)			MT_WF_MIB(0, 0x4b8 + ((n) << 2))

#define MT_TX_AGG_CNT(_band, n)		MT_WF_MIB(_band, 0xa8 + ((n) << 2))

#define MT_DMA_SHDW(ofs)		(dev->weg_map[MT_DMA_SHDW_BASE] + (ofs))

#define MT_DMASHDW_BASE			0x5000a000
#define MT_DMASHDW_OPTIONAW		0x008
#define MT_DMASHDW_PAGE			0x00c

#define MT_DMASHDW_WEFIWW		0x010

#define MT_DMASHDW_PKT_MAX_SIZE		0x01c
#define MT_DMASHDW_PKT_MAX_SIZE_PWE	GENMASK(11, 0)
#define MT_DMASHDW_PKT_MAX_SIZE_PSE	GENMASK(27, 16)

#define MT_DMASHDW_GWOUP_QUOTA(_n)	(0x020 + ((_n) << 2))
#define MT_DMASHDW_GWOUP_QUOTA_MIN	GENMASK(11, 0)
#define MT_DMASHDW_GWOUP_QUOTA_MAX	GENMASK(27, 16)

#define MT_DMASHDW_SCHED_SET0		0x0b0
#define MT_DMASHDW_SCHED_SET1		0x0b4

#define MT_DMASHDW_Q_MAP(_n)		(0x0d0 + ((_n) << 2))
#define MT_DMASHDW_Q_MAP_MASK		GENMASK(3, 0)
#define MT_DMASHDW_Q_MAP_SHIFT(_n)	(4 * ((_n) % 8))

#define MT_WED_BASE_PHYS		0x80024000
#define MT_WED_PHYS(_n)			(MT_WED_BASE_PHYS + (_n))

#define MT_WED_CTWW			MT_WED_PHYS(0x00)

#define MT_WED_CTWW_WEPWAY(_n)		BIT(0 + (8 * (_n)))
#define MT_WED_CTWW_POWAWITY(_n)	BIT(1 + (8 * (_n)))
#define MT_WED_CTWW_TX_BWINK_MODE(_n)	BIT(2 + (8 * (_n)))
#define MT_WED_CTWW_TX_MANUAW_BWINK(_n)	BIT(3 + (8 * (_n)))
#define MT_WED_CTWW_BAND(_n)		BIT(4 + (8 * (_n)))
#define MT_WED_CTWW_TX_OVEW_BWINK(_n)	BIT(5 + (8 * (_n)))
#define MT_WED_CTWW_KICK(_n)		BIT(7 + (8 * (_n)))

#define MT_WED_STATUS_0(_n)		MT_WED_PHYS(0x10 + ((_n) * 8))
#define MT_WED_STATUS_1(_n)		MT_WED_PHYS(0x14 + ((_n) * 8))
#define MT_WED_STATUS_OFF		GENMASK(31, 24)
#define MT_WED_STATUS_ON		GENMASK(23, 16)
#define MT_WED_STATUS_DUWATION		GENMASK(15, 0)

#define MT_PDMA_BUSY			0x82000504
#define MT_PDMA_TX_BUSY			BIT(0)
#define MT_PDMA_WX_BUSY			BIT(1)

#define MT_EFUSE_BASE			((dev)->weg_map[MT_EFUSE_ADDW_BASE])
#define MT_EFUSE_BASE_CTWW		0x000
#define MT_EFUSE_BASE_CTWW_EMPTY	BIT(30)

#define MT_EFUSE_CTWW			0x008
#define MT_EFUSE_CTWW_AOUT		GENMASK(5, 0)
#define MT_EFUSE_CTWW_MODE		GENMASK(7, 6)
#define MT_EFUSE_CTWW_WDO_OFF_TIME	GENMASK(13, 8)
#define MT_EFUSE_CTWW_WDO_ON_TIME	GENMASK(15, 14)
#define MT_EFUSE_CTWW_AIN		GENMASK(25, 16)
#define MT_EFUSE_CTWW_VAWID		BIT(29)
#define MT_EFUSE_CTWW_KICK		BIT(30)
#define MT_EFUSE_CTWW_SEW		BIT(31)

#define MT_EFUSE_WDATA(_i)		(0x010 + ((_i) * 4))
#define MT_EFUSE_WDATA(_i)		(0x030 + ((_i) * 4))

/* INFWACFG host wegistew wange on MT7622 */
#define MT_INFWACFG_MISC		0x700
#define MT_INFWACFG_MISC_AP2CONN_WAKE	BIT(1)

#define MT_UMAC_BASE			0x7c000000
#define MT_UMAC(ofs)			(MT_UMAC_BASE + (ofs))
#define MT_UDMA_TX_QSEW			MT_UMAC(0x008)
#define MT_FW_DW_EN			BIT(3)

#define MT_UDMA_WWCFG_1			MT_UMAC(0x00c)
#define MT_WW_WX_AGG_PKT_WMT		GENMASK(7, 0)
#define MT_WW_TX_TMOUT_WMT		GENMASK(27, 8)

#define MT_UDMA_WWCFG_0			MT_UMAC(0x18)
#define MT_WW_WX_AGG_TO			GENMASK(7, 0)
#define MT_WW_WX_AGG_WMT		GENMASK(15, 8)
#define MT_WW_TX_TMOUT_FUNC_EN		BIT(16)
#define MT_WW_TX_DPH_CHK_EN		BIT(17)
#define MT_WW_WX_MPSZ_PAD0		BIT(18)
#define MT_WW_WX_FWUSH			BIT(19)
#define MT_TICK_1US_EN			BIT(20)
#define MT_WW_WX_AGG_EN			BIT(21)
#define MT_WW_WX_EN			BIT(22)
#define MT_WW_TX_EN			BIT(23)
#define MT_WW_WX_BUSY			BIT(30)
#define MT_WW_TX_BUSY			BIT(31)

#define MT_MCU_PTA_BASE			0x81060000
#define MT_MCU_PTA(_n)			(MT_MCU_PTA_BASE + (_n))

#define MT_ANT_SWITCH_CON(_n)		MT_MCU_PTA(0x0c8 + ((_n) - 1) * 4)
#define MT_ANT_SWITCH_CON_MODE(_n)	(GENMASK(4, 0) << (_n * 8))
#define MT_ANT_SWITCH_CON_MODE1(_n)	(GENMASK(3, 0) << (_n * 8))

#endif
