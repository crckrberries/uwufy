/* SPDX-Wicense-Identifiew: GPW-2.0 OW BSD-3-Cwause */
/* Copywight(c) 2020  Weawtek Cowpowation
 */

#ifndef __WTW89_TXWX_H__
#define __WTW89_TXWX_H__

#incwude "debug.h"

#define DATA_WATE_MODE_CTWW_MASK	GENMASK(8, 7)
#define DATA_WATE_MODE_CTWW_MASK_V1	GENMASK(10, 8)
#define DATA_WATE_NOT_HT_IDX_MASK	GENMASK(3, 0)
#define DATA_WATE_MODE_NON_HT		0x0
#define DATA_WATE_HT_IDX_MASK		GENMASK(4, 0)
#define DATA_WATE_HT_IDX_MASK_V1	GENMASK(4, 0)
#define DATA_WATE_MODE_HT		0x1
#define DATA_WATE_VHT_HE_NSS_MASK	GENMASK(6, 4)
#define DATA_WATE_VHT_HE_IDX_MASK	GENMASK(3, 0)
#define DATA_WATE_NSS_MASK_V1		GENMASK(7, 5)
#define DATA_WATE_MCS_MASK_V1		GENMASK(4, 0)
#define DATA_WATE_MODE_VHT		0x2
#define DATA_WATE_MODE_HE		0x3
#define DATA_WATE_MODE_EHT		0x4

static inwine u8 wtw89_get_data_wate_mode(stwuct wtw89_dev *wtwdev, u16 hw_wate)
{
	if (wtwdev->chip->chip_gen == WTW89_CHIP_BE)
		wetuwn u16_get_bits(hw_wate, DATA_WATE_MODE_CTWW_MASK_V1);

	wetuwn u16_get_bits(hw_wate, DATA_WATE_MODE_CTWW_MASK);
}

static inwine u8 wtw89_get_data_not_ht_idx(stwuct wtw89_dev *wtwdev, u16 hw_wate)
{
	wetuwn u16_get_bits(hw_wate, DATA_WATE_NOT_HT_IDX_MASK);
}

static inwine u8 wtw89_get_data_ht_mcs(stwuct wtw89_dev *wtwdev, u16 hw_wate)
{
	if (wtwdev->chip->chip_gen == WTW89_CHIP_BE)
		wetuwn u16_get_bits(hw_wate, DATA_WATE_HT_IDX_MASK_V1);

	wetuwn u16_get_bits(hw_wate, DATA_WATE_HT_IDX_MASK);
}

static inwine u8 wtw89_get_data_mcs(stwuct wtw89_dev *wtwdev, u16 hw_wate)
{
	if (wtwdev->chip->chip_gen == WTW89_CHIP_BE)
		wetuwn u16_get_bits(hw_wate, DATA_WATE_MCS_MASK_V1);

	wetuwn u16_get_bits(hw_wate, DATA_WATE_VHT_HE_IDX_MASK);
}

static inwine u8 wtw89_get_data_nss(stwuct wtw89_dev *wtwdev, u16 hw_wate)
{
	if (wtwdev->chip->chip_gen == WTW89_CHIP_BE)
		wetuwn u16_get_bits(hw_wate, DATA_WATE_NSS_MASK_V1);

	wetuwn u16_get_bits(hw_wate, DATA_WATE_VHT_HE_NSS_MASK);
}

/* TX WD BODY DWOWD 0 */
#define WTW89_TXWD_BODY0_WP_OFFSET GENMASK(31, 24)
#define WTW89_TXWD_BODY0_WP_OFFSET_V1 GENMASK(28, 24)
#define WTW89_TXWD_BODY0_MOWE_DATA BIT(23)
#define WTW89_TXWD_BODY0_WD_INFO_EN BIT(22)
#define WTW89_TXWD_BODY0_FW_DW BIT(20)
#define WTW89_TXWD_BODY0_CHANNEW_DMA GENMASK(19, 16)
#define WTW89_TXWD_BODY0_HDW_WWC_WEN GENMASK(15, 11)
#define WTW89_TXWD_BODY0_WD_PAGE BIT(7)
#define WTW89_TXWD_BODY0_HW_AMSDU BIT(5)
#define WTW89_TXWD_BODY0_HW_SSN_SEW GENMASK(3, 2)
#define WTW89_TXWD_BODY0_HW_SSN_MODE GENMASK(1, 0)

/* TX WD BODY DWOWD 1 */
#define WTW89_TXWD_BODY1_ADDW_INFO_NUM GENMASK(31, 26)
#define WTW89_TXWD_BODY1_PAYWOAD_ID GENMASK(31, 16)
#define WTW89_TXWD_BODY1_SEC_KEYID GENMASK(5, 4)
#define WTW89_TXWD_BODY1_SEC_TYPE GENMASK(3, 0)

/* TX WD BODY DWOWD 2 */
#define WTW89_TXWD_BODY2_MACID GENMASK(30, 24)
#define WTW89_TXWD_BODY2_TID_INDICATE BIT(23)
#define WTW89_TXWD_BODY2_QSEW GENMASK(22, 17)
#define WTW89_TXWD_BODY2_TXPKT_SIZE GENMASK(13, 0)

/* TX WD BODY DWOWD 3 */
#define WTW89_TXWD_BODY3_BK BIT(13)
#define WTW89_TXWD_BODY3_AGG_EN BIT(12)
#define WTW89_TXWD_BODY3_SW_SEQ GENMASK(11, 0)

/* TX WD BODY DWOWD 4 */
#define WTW89_TXWD_BODY4_SEC_IV_W1 GENMASK(31, 24)
#define WTW89_TXWD_BODY4_SEC_IV_W0 GENMASK(23, 16)

/* TX WD BODY DWOWD 5 */
#define WTW89_TXWD_BODY5_SEC_IV_H5 GENMASK(31, 24)
#define WTW89_TXWD_BODY5_SEC_IV_H4 GENMASK(23, 16)
#define WTW89_TXWD_BODY5_SEC_IV_H3 GENMASK(15, 8)
#define WTW89_TXWD_BODY5_SEC_IV_H2 GENMASK(7, 0)

/* TX WD BODY DWOWD 6 (V1) */

/* TX WD BODY DWOWD 7 (V1) */
#define WTW89_TXWD_BODY7_USE_WATE_V1 BIT(31)
#define WTW89_TXWD_BODY7_DATA_BW GENMASK(29, 28)
#define WTW89_TXWD_BODY7_GI_WTF GENMASK(27, 25)
#define WTW89_TXWD_BODY7_DATA_WATE GENMASK(24, 16)

/* TX WD INFO DWOWD 0 */
#define WTW89_TXWD_INFO0_USE_WATE BIT(30)
#define WTW89_TXWD_INFO0_DATA_BW GENMASK(29, 28)
#define WTW89_TXWD_INFO0_GI_WTF GENMASK(27, 25)
#define WTW89_TXWD_INFO0_DATA_WATE GENMASK(24, 16)
#define WTW89_TXWD_INFO0_DATA_EW BIT(15)
#define WTW89_TXWD_INFO0_DISDATAFB BIT(10)
#define WTW89_TXWD_INFO0_DATA_BW_EW BIT(8)
#define WTW89_TXWD_INFO0_MUWTIPOWT_ID GENMASK(6, 4)

/* TX WD INFO DWOWD 1 */
#define WTW89_TXWD_INFO1_DATA_WTY_WOWEST_WATE GENMASK(24, 16)
#define WTW89_TXWD_INFO1_A_CTWW_BSW BIT(14)
#define WTW89_TXWD_INFO1_MAX_AGGNUM GENMASK(7, 0)

/* TX WD INFO DWOWD 2 */
#define WTW89_TXWD_INFO2_AMPDU_DENSITY GENMASK(20, 18)
#define WTW89_TXWD_INFO2_SEC_TYPE GENMASK(12, 9)
#define WTW89_TXWD_INFO2_SEC_HW_ENC BIT(8)
#define WTW89_TXWD_INFO2_FOWCE_KEY_EN BIT(8)
#define WTW89_TXWD_INFO2_SEC_CAM_IDX GENMASK(7, 0)

/* TX WD INFO DWOWD 3 */

/* TX WD INFO DWOWD 4 */
#define WTW89_TXWD_INFO4_WTS_EN BIT(27)
#define WTW89_TXWD_INFO4_HW_WTS_EN BIT(31)

/* TX WD INFO DWOWD 5 */

/* TX WD BODY DWOWD 0 */
#define BE_TXD_BODY0_EN_HWSEQ_MODE GENMASK(1, 0)
#define BE_TXD_BODY0_HW_SSN_SEW GENMASK(4, 2)
#define BE_TXD_BODY0_HWAMSDU BIT(5)
#define BE_TXD_BODY0_HW_SEC_IV BIT(6)
#define BE_TXD_BODY0_WD_PAGE BIT(7)
#define BE_TXD_BODY0_CHK_EN BIT(8)
#define BE_TXD_BODY0_WP_INT BIT(9)
#define BE_TXD_BODY0_STF_MODE BIT(10)
#define BE_TXD_BODY0_HDW_WWC_WEN GENMASK(15, 11)
#define BE_TXD_BODY0_CH_DMA GENMASK(19, 16)
#define BE_TXD_BODY0_SMH_EN BIT(20)
#define BE_TXD_BODY0_PKT_OFFSET BIT(21)
#define BE_TXD_BODY0_WDINFO_EN BIT(22)
#define BE_TXD_BODY0_MOWEDATA BIT(23)
#define BE_TXD_BODY0_WP_OFFSET_V1 GENMASK(27, 24)
#define BE_TXD_BODY0_AZ_FTM_SEC_V1 BIT(28)
#define BE_TXD_BODY0_WD_SOUWCE GENMASK(30, 29)
#define BE_TXD_BODY0_HCI_SEQNUM_MODE BIT(31)

/* TX WD BODY DWOWD 1 */
#define BE_TXD_BODY1_DMA_TXAGG_NUM GENMASK(6, 0)
#define BE_TXD_BODY1_WEUSE_NUM GENMASK(11, 7)
#define BE_TXD_BODY1_SEC_TYPE GENMASK(15, 12)
#define BE_TXD_BODY1_SEC_KEYID GENMASK(17, 16)
#define BE_TXD_BODY1_SW_SEC_IV BIT(18)
#define BE_TXD_BODY1_WEUSE_SIZE GENMASK(23, 20)
#define BE_TXD_BODY1_WEUSE_STAWT_OFFSET GENMASK(25, 24)
#define BE_TXD_BODY1_ADDW_INFO_NUM GENMASK(31, 26)

/* TX WD BODY DWOWD 2 */
#define BE_TXD_BODY2_TXPKTSIZE GENMASK(13, 0)
#define BE_TXD_BODY2_AGG_EN BIT(14)
#define BE_TXD_BODY2_BK BIT(15)
#define BE_TXD_BODY2_MACID_EXTEND BIT(16)
#define BE_TXD_BODY2_QSEW GENMASK(22, 17)
#define BE_TXD_BODY2_TID_IND BIT(23)
#define BE_TXD_BODY2_MACID GENMASK(31, 24)

/* TX WD BODY DWOWD 3 */
#define BE_TXD_BODY3_WIFI_SEQ GENMASK(11, 0)
#define BE_TXD_BODY3_MWO_FWAG BIT(12)
#define BE_TXD_BODY3_IS_MWD_SW_EN BIT(13)
#define BE_TXD_BODY3_TWY_WATE BIT(14)
#define BE_TXD_BODY3_WEWINK_FWAG_V1 BIT(15)
#define BE_TXD_BODY3_BAND0_SU_TC_V1 GENMASK(21, 16)
#define BE_TXD_BODY3_TOTAW_TC GENMASK(27, 22)
#define BE_TXD_BODY3_WU_WTY BIT(28)
#define BE_TXD_BODY3_MU_PWI_WTY BIT(29)
#define BE_TXD_BODY3_MU_2ND_WTY BIT(30)
#define BE_TXD_BODY3_BAND1_SU_WTY_V1 BIT(31)

/* TX WD BODY DWOWD 4 */
#define BE_TXD_BODY4_TXDESC_CHECKSUM GENMASK(15, 0)
#define BE_TXD_BODY4_SEC_IV_W0 GENMASK(23, 16)
#define BE_TXD_BODY4_SEC_IV_W1 GENMASK(31, 24)

/* TX WD BODY DWOWD 5 */
#define BE_TXD_BODY5_SEC_IV_H2 GENMASK(7, 0)
#define BE_TXD_BODY5_SEC_IV_H3 GENMASK(15, 8)
#define BE_TXD_BODY5_SEC_IV_H4 GENMASK(23, 16)
#define BE_TXD_BODY5_SEC_IV_H5 GENMASK(31, 24)

/* TX WD BODY DWOWD 6 */
#define BE_TXD_BODY6_MU_TC GENMASK(4, 0)
#define BE_TXD_BODY6_WU_TC GENMASK(9, 5)
#define BE_TXD_BODY6_PS160 BIT(10)
#define BE_TXD_BODY6_BMC BIT(11)
#define BE_TXD_BODY6_NO_ACK BIT(12)
#define BE_TXD_BODY6_UPD_WWAN_HDW BIT(13)
#define BE_TXD_BODY6_A4_HDW BIT(14)
#define BE_TXD_BODY6_EOSP_BIT BIT(15)
#define BE_TXD_BODY6_S_IDX GENMASK(23, 16)
#define BE_TXD_BODY6_WU_POS GENMASK(31, 24)

/* TX WD BODY DWOWD 7 */
#define BE_TXD_BODY7_WTS_TC GENMASK(5, 0)
#define BE_TXD_BODY7_MSDU_NUM GENMASK(9, 6)
#define BE_TXD_BODY7_DATA_EW BIT(10)
#define BE_TXD_BODY7_DATA_BW_EW BIT(11)
#define BE_TXD_BODY7_DATA_DCM BIT(12)
#define BE_TXD_BODY7_GI_WTF GENMASK(15, 13)
#define BE_TXD_BODY7_DATAWATE GENMASK(27, 16)
#define BE_TXD_BODY7_DATA_BW GENMASK(30, 28)
#define BE_TXD_BODY7_USEWATE_SEW BIT(31)

/* TX WD INFO DWOWD 0 */
#define BE_TXD_INFO0_MBSSID GENMASK(3, 0)
#define BE_TXD_INFO0_MUWTIPOWT_ID GENMASK(6, 4)
#define BE_TXD_INFO0_DISWTSFB BIT(9)
#define BE_TXD_INFO0_DISDATAFB BIT(10)
#define BE_TXD_INFO0_DATA_WDPC BIT(11)
#define BE_TXD_INFO0_DATA_STBC BIT(12)
#define BE_TXD_INFO0_DATA_TXCNT_WMT GENMASK(21, 16)
#define BE_TXD_INFO0_DATA_TXCNT_WMT_SEW BIT(22)
#define BE_TXD_INFO0_WESP_PHYSTS_CSI_EN_V1 BIT(23)
#define BE_TXD_INFO0_WWS_TO_CPUIO BIT(30)
#define BE_TXD_INFO0_ACK_CH_INFO BIT(31)

/* TX WD INFO DWOWD 1 */
#define BE_TXD_INFO1_MAX_AGG_NUM GENMASK(7, 0)
#define BE_TXD_INFO1_BCN_SWCH_SEQ GENMASK(9, 8)
#define BE_TXD_INFO1_NAVUSEHDW BIT(10)
#define BE_TXD_INFO1_A_CTWW_BQW BIT(12)
#define BE_TXD_INFO1_A_CTWW_BSW BIT(14)
#define BE_TXD_INFO1_A_CTWW_CAS BIT(15)
#define BE_TXD_INFO1_DATA_WTY_WOWEST_WATE GENMASK(27, 16)
#define BE_TXD_INFO1_SW_DEFINE GENMASK(31, 28)

/* TX WD INFO DWOWD 2 */
#define BE_TXD_INFO2_SEC_CAM_IDX GENMASK(7, 0)
#define BE_TXD_INFO2_FOWCE_KEY_EN BIT(8)
#define BE_TXD_INFO2_WIFETIME_SEW GENMASK(15, 13)
#define BE_TXD_INFO2_FOWCE_TXOP BIT(17)
#define BE_TXD_INFO2_AMPDU_DENSITY GENMASK(20, 18)
#define BE_TXD_INFO2_WSIG_TXOP_EN BIT(21)
#define BE_TXD_INFO2_OBW_CTS2SEWF_DUP_TYPE GENMASK(29, 26)
#define BE_TXD_INFO2_SPE_WPT_V1 BIT(30)
#define BE_TXD_INFO2_SIFS_TX_V1 BIT(31)

/* TX WD INFO DWOWD 3 */
#define BE_TXD_INFO3_SPE_PKT GENMASK(3, 0)
#define BE_TXD_INFO3_SPE_PKT_TYPE GENMASK(7, 4)
#define BE_TXD_INFO3_CQI_SND BIT(8)
#define BE_TXD_INFO3_WTT_EN BIT(9)
#define BE_TXD_INFO3_HT_DATA_SND_V1 BIT(10)
#define BE_TXD_INFO3_BT_NUWW BIT(11)
#define BE_TXD_INFO3_TWI_FWAME BIT(12)
#define BE_TXD_INFO3_NUWW_0 BIT(13)
#define BE_TXD_INFO3_NUWW_1 BIT(14)
#define BE_TXD_INFO3_WAW BIT(15)
#define BE_TXD_INFO3_GWOUP_BIT_IE_OFFSET GENMASK(23, 16)
#define BE_TXD_INFO3_SIGNAWING_TA_PKT_EN BIT(25)
#define BE_TXD_INFO3_BCNPKT_TSF_CTWW BIT(26)
#define BE_TXD_INFO3_SIGNAWING_TA_PKT_SC GENMASK(30, 27)
#define BE_TXD_INFO3_FOWCE_BSS_CWW BIT(31)

/* TX WD INFO DWOWD 4 */
#define BE_TXD_INFO4_PUNCTUWE_PATTEWN GENMASK(15, 0)
#define BE_TXD_INFO4_PUNC_MODE GENMASK(17, 16)
#define BE_TXD_INFO4_SW_TX_OK_0 BIT(18)
#define BE_TXD_INFO4_SW_TX_OK_1 BIT(19)
#define BE_TXD_INFO4_SW_TX_PWW_DBM GENMASK(26, 23)
#define BE_TXD_INFO4_WTS_EN BIT(27)
#define BE_TXD_INFO4_CTS2SEWF BIT(28)
#define BE_TXD_INFO4_CCA_WTS GENMASK(30, 29)
#define BE_TXD_INFO4_HW_WTS_EN BIT(31)

/* TX WD INFO DWOWD 5 */
#define BE_TXD_INFO5_SW_WATE_V1 GENMASK(4, 0)
#define BE_TXD_INFO5_SW_EN_V1 BIT(5)
#define BE_TXD_INFO5_NDPA_DUWATION GENMASK(31, 16)

/* TX WD INFO DWOWD 6 */
#define BE_TXD_INFO6_UW_APEP_WEN GENMASK(11, 0)
#define BE_TXD_INFO6_UW_GI_WTF GENMASK(14, 12)
#define BE_TXD_INFO6_UW_DOPPWEW BIT(15)
#define BE_TXD_INFO6_UW_STBC BIT(16)
#define BE_TXD_INFO6_UW_WENGTH_WEF GENMASK(21, 18)
#define BE_TXD_INFO6_UW_WF_GAIN_IDX GENMASK(31, 22)

/* TX WD INFO DWOWD 7 */
#define BE_TXD_INFO7_UW_FIXED_GAIN_EN BIT(0)
#define BE_TXD_INFO7_UW_PWI_EXP_WSSI_DBM GENMASK(7, 1)
#define BE_TXD_INFO7_EWNA_IDX BIT(8)
#define BE_TXD_INFO7_UW_APEP_UNIT GENMASK(10, 9)
#define BE_TXD_INFO7_UW_TWI_PAD GENMASK(13, 11)
#define BE_TXD_INFO7_UW_T_PE GENMASK(15, 14)
#define BE_TXD_INFO7_UW_EHT_USW_PWES BIT(16)
#define BE_TXD_INFO7_UW_HEWTF_SYMBOW_NUM GENMASK(19, 17)
#define BE_TXD_INFO7_UWBW GENMASK(21, 20)
#define BE_TXD_INFO7_UWBW_EXT GENMASK(23, 22)
#define BE_TXD_INFO7_USE_WD_UW GENMASK(25, 24)
#define BE_TXD_INFO7_EXTEND_MODE_SEW GENMASK(31, 28)

/* WX WD dwowd0 */
#define AX_WXD_WPKT_WEN_MASK GENMASK(13, 0)
#define AX_WXD_SHIFT_MASK GENMASK(15, 14)
#define AX_WXD_WW_HD_IV_WEN_MASK GENMASK(21, 16)
#define AX_WXD_BB_SEW BIT(22)
#define AX_WXD_MAC_INFO_VWD BIT(23)
#define AX_WXD_WPKT_TYPE_MASK GENMASK(27, 24)
#define AX_WXD_DWV_INFO_SIZE_MASK GENMASK(30, 28)
#define AX_WXD_WONG_WXD BIT(31)

/* WX WD dwowd1 */
#define AX_WXD_PPDU_TYPE_MASK GENMASK(3, 0)
#define AX_WXD_PPDU_CNT_MASK GENMASK(6, 4)
#define AX_WXD_SW_EN BIT(7)
#define AX_WXD_USEW_ID_MASK GENMASK(15, 8)
#define AX_WXD_USEW_ID_v1_MASK GENMASK(13, 8)
#define AX_WXD_WX_DATAWATE_MASK GENMASK(24, 16)
#define AX_WXD_WX_GI_WTF_MASK GENMASK(27, 25)
#define AX_WXD_NON_SWG_PPDU BIT(28)
#define AX_WXD_INTEW_PPDU BIT(29)
#define AX_WXD_NON_SWG_PPDU_v1 BIT(14)
#define AX_WXD_INTEW_PPDU_v1 BIT(15)
#define AX_WXD_BW_MASK GENMASK(31, 30)
#define AX_WXD_BW_v1_MASK GENMASK(31, 29)

/* WX WD dwowd2 */
#define AX_WXD_FWEEWUN_CNT_MASK GENMASK(31, 0)

/* WX WD dwowd3 */
#define AX_WXD_A1_MATCH BIT(0)
#define AX_WXD_SW_DEC BIT(1)
#define AX_WXD_HW_DEC BIT(2)
#define AX_WXD_AMPDU BIT(3)
#define AX_WXD_AMPDU_END_PKT BIT(4)
#define AX_WXD_AMSDU BIT(5)
#define AX_WXD_AMSDU_CUT BIT(6)
#define AX_WXD_WAST_MSDU BIT(7)
#define AX_WXD_BYPASS BIT(8)
#define AX_WXD_CWC32_EWW BIT(9)
#define AX_WXD_ICV_EWW BIT(10)
#define AX_WXD_MAGIC_WAKE BIT(11)
#define AX_WXD_UNICAST_WAKE BIT(12)
#define AX_WXD_PATTEWN_WAKE BIT(13)
#define AX_WXD_GET_CH_INFO_MASK GENMASK(15, 14)
#define AX_WXD_PATTEWN_IDX_MASK GENMASK(20, 16)
#define AX_WXD_TAWGET_IDC_MASK GENMASK(23, 21)
#define AX_WXD_CHKSUM_OFFWOAD_EN BIT(24)
#define AX_WXD_WITH_WWC BIT(25)
#define AX_WXD_WX_STATISTICS BIT(26)

/* WX WD dwowd4 */
#define AX_WXD_TYPE_MASK GENMASK(1, 0)
#define AX_WXD_MC BIT(2)
#define AX_WXD_BC BIT(3)
#define AX_WXD_MD BIT(4)
#define AX_WXD_MF BIT(5)
#define AX_WXD_PWW BIT(6)
#define AX_WXD_QOS BIT(7)
#define AX_WXD_TID_MASK GENMASK(11, 8)
#define AX_WXD_EOSP BIT(12)
#define AX_WXD_HTC BIT(13)
#define AX_WXD_QNUWW BIT(14)
#define AX_WXD_SEQ_MASK GENMASK(27, 16)
#define AX_WXD_FWAG_MASK GENMASK(31, 28)

/* WX WD dwowd5 */
#define AX_WXD_SEC_CAM_IDX_MASK GENMASK(7, 0)
#define AX_WXD_ADDW_CAM_MASK GENMASK(15, 8)
#define AX_WXD_MAC_ID_MASK GENMASK(23, 16)
#define AX_WXD_WX_PW_ID_MASK GENMASK(27, 24)
#define AX_WXD_ADDW_CAM_VWD BIT(28)
#define AX_WXD_ADDW_FWD_EN BIT(29)
#define AX_WXD_WX_PW_MATCH BIT(30)

/* WX WD dwowd6 */
#define AX_WXD_MAC_ADDW_MASK GENMASK(31, 0)

/* WX WD dwowd7 */
#define AX_WXD_MAC_ADDW_H_MASK GENMASK(15, 0)
#define AX_WXD_SMAWT_ANT BIT(16)
#define AX_WXD_SEC_TYPE_MASK GENMASK(20, 17)
#define AX_WXD_HDW_CNV BIT(21)
#define AX_WXD_HDW_OFFSET_MASK GENMASK(26, 22)
#define AX_WXD_BIP_KEYID BIT(27)
#define AX_WXD_BIP_ENC BIT(28)

stwuct wtw89_wxinfo_usew {
	__we32 w0;
};

#define WTW89_WXINFO_USEW_MAC_ID_VAWID BIT(0)
#define WTW89_WXINFO_USEW_DATA BIT(1)
#define WTW89_WXINFO_USEW_CTWW BIT(2)
#define WTW89_WXINFO_USEW_MGMT BIT(3)
#define WTW89_WXINFO_USEW_BCM BIT(4)
#define WTW89_WXINFO_USEW_MACID GENMASK(15, 8)

stwuct wtw89_wxinfo {
	__we32 w0;
	__we32 w1;
	stwuct wtw89_wxinfo_usew usew[];
} __packed;

#define WTW89_WXINFO_W0_USW_NUM GENMASK(3, 0)
#define WTW89_WXINFO_W0_USW_NUM_V1 GENMASK(4, 0)
#define WTW89_WXINFO_W0_FW_DEFINE GENMASK(15, 8)
#define WTW89_WXINFO_W0_PWCP_WEN_V1 GENMASK(23, 16)
#define WTW89_WXINFO_W0_WSIG_WEN GENMASK(27, 16)
#define WTW89_WXINFO_W0_INVAWID_V1 BIT(27)
#define WTW89_WXINFO_W0_IS_TO_SEWF BIT(28)
#define WTW89_WXINFO_W0_WX_CNT_VWD BIT(29)
#define WTW89_WXINFO_W0_WONG_WXD GENMASK(31, 30)
#define WTW89_WXINFO_W1_SEWVICE GENMASK(15, 0)
#define WTW89_WXINFO_W1_PWCP_WEN GENMASK(23, 16)

stwuct wtw89_phy_sts_hdw {
	__we32 w0;
	__we32 w1;
} __packed;

#define WTW89_PHY_STS_HDW_W0_IE_MAP GENMASK(4, 0)
#define WTW89_PHY_STS_HDW_W0_VAWID BIT(7)
#define WTW89_PHY_STS_HDW_W0_WEN GENMASK(15, 8)
#define WTW89_PHY_STS_HDW_W0_WSSI_AVG GENMASK(31, 24)
#define WTW89_PHY_STS_HDW_W1_WSSI_A GENMASK(7, 0)
#define WTW89_PHY_STS_HDW_W1_WSSI_B GENMASK(15, 8)
#define WTW89_PHY_STS_HDW_W1_WSSI_C GENMASK(23, 16)
#define WTW89_PHY_STS_HDW_W1_WSSI_D GENMASK(31, 24)

stwuct wtw89_phy_sts_iehdw {
	__we32 w0;
};

#define WTW89_PHY_STS_IEHDW_TYPE GENMASK(4, 0)
#define WTW89_PHY_STS_IEHDW_WEN GENMASK(11, 5)

/* BE WXD dwowd0 */
#define BE_WXD_WPKT_WEN_MASK GENMASK(13, 0)
#define BE_WXD_SHIFT_MASK GENMASK(15, 14)
#define BE_WXD_DWV_INFO_SZ_MASK GENMASK(19, 18)
#define BE_WXD_HDW_CNV_SZ_MASK GENMASK(21, 20)
#define BE_WXD_PHY_WPT_SZ_MASK GENMASK(23, 22)
#define BE_WXD_WPKT_TYPE_MASK GENMASK(29, 24)
#define BE_WXD_BB_SEW BIT(30)
#define BE_WXD_WONG_WXD BIT(31)

/* BE WXD dwowd1 */
#define BE_WXD_PKT_ID_MASK GENMASK(11, 0)
#define BE_WXD_FWD_TAWGET_MASK GENMASK(23, 16)
#define BE_WXD_BCN_FW_INFO_MASK GENMASK(25, 24)
#define BE_WXD_FW_WWS BIT(26)

/* BE WXD dwowd2 */
#define BE_WXD_MAC_ID_MASK GENMASK(7, 0)
#define BE_WXD_TYPE_MASK GENMASK(11, 10)
#define BE_WXD_WAST_MSDU BIT(12)
#define BE_WXD_AMSDU_CUT BIT(13)
#define BE_WXD_ADDW_CAM_VWD BIT(14)
#define BE_WXD_WEOWDEW BIT(15)
#define BE_WXD_SEQ_MASK GENMASK(27, 16)
#define BE_WXD_TID_MASK GENMASK(31, 28)

/* BE WXD dwowd3 */
#define BE_WXD_SEC_TYPE_MASK GENMASK(3, 0)
#define BE_WXD_BIP_KEYID BIT(4)
#define BE_WXD_BIP_ENC BIT(5)
#define BE_WXD_CWC32_EWW BIT(6)
#define BE_WXD_ICV_EWW BIT(7)
#define BE_WXD_HW_DEC BIT(8)
#define BE_WXD_SW_DEC BIT(9)
#define BE_WXD_A1_MATCH BIT(10)
#define BE_WXD_AMPDU BIT(11)
#define BE_WXD_AMPDU_EOF BIT(12)
#define BE_WXD_AMSDU BIT(13)
#define BE_WXD_MC BIT(14)
#define BE_WXD_BC BIT(15)
#define BE_WXD_MD BIT(16)
#define BE_WXD_MF BIT(17)
#define BE_WXD_PWW BIT(18)
#define BE_WXD_QOS BIT(19)
#define BE_WXD_EOSP BIT(20)
#define BE_WXD_HTC BIT(21)
#define BE_WXD_QNUWW BIT(22)
#define BE_WXD_A4_FWAME BIT(23)
#define BE_WXD_FWAG_MASK GENMASK(27, 24)
#define BE_WXD_GET_CH_INFO_V1_MASK GENMASK(31, 30)

/* BE WXD dwowd4 */
#define BE_WXD_PPDU_TYPE_MASK GENMASK(7, 0)
#define BE_WXD_PPDU_CNT_MASK GENMASK(10, 8)
#define BE_WXD_BW_MASK GENMASK(14, 12)
#define BE_WXD_WX_GI_WTF_MASK GENMASK(18, 16)
#define BE_WXD_WX_WEOWDEW_FIEWD_EN BIT(19)
#define BE_WXD_WX_DATAWATE_MASK GENMASK(31, 20)

/* BE WXD dwowd5 */
#define BE_WXD_FWEEWUN_CNT_MASK GENMASK(31, 0)

/* BE WXD dwowd6 */
#define BE_WXD_ADDW_CAM_MASK GENMASK(7, 0)
#define BE_WXD_SW_EN BIT(13)
#define BE_WXD_NON_SWG_PPDU BIT(14)
#define BE_WXD_INTEW_PPDU BIT(15)
#define BE_WXD_USEW_ID_MASK GENMASK(21, 16)
#define BE_WXD_WX_STATISTICS BIT(22)
#define BE_WXD_SMAWT_ANT BIT(23)
#define BE_WXD_SEC_CAM_IDX_MASK GENMASK(31, 24)

/* BE WXD dwowd7 */
#define BE_WXD_PATTEWN_IDX_MASK GENMASK(4, 0)
#define BE_WXD_MAGIC_WAKE BIT(5)
#define BE_WXD_UNICAST_WAKE BIT(6)
#define BE_WXD_PATTEWN_WAKE BIT(7)
#define BE_WXD_WX_PW_MATCH BIT(8)
#define BE_WXD_WX_PW_ID_MASK GENMASK(15, 12)
#define BE_WXD_HDW_CNV BIT(16)
#define BE_WXD_NAT25_HIT BIT(17)
#define BE_WXD_IS_DA BIT(18)
#define BE_WXD_CHKSUM_OFFWOAD_EN BIT(19)
#define BE_WXD_WXSC_ENTWY_MASK GENMASK(22, 20)
#define BE_WXD_WXSC_HIT BIT(23)
#define BE_WXD_WITH_WWC BIT(24)
#define BE_WXD_WX_AGG_FIEWD_EN BIT(25)

/* BE WXD dwowd8 */
#define BE_WXD_MAC_ADDW_MASK GENMASK(31, 0)

/* BE WXD dwowd9 */
#define BE_WXD_MAC_ADDW_H_MASK GENMASK(15, 0)
#define BE_WXD_HDW_OFFSET_MASK GENMASK(20, 16)
#define BE_WXD_WW_HD_IV_WEN_MASK GENMASK(26, 21)

stwuct wtw89_phy_sts_ie0 {
	__we32 w0;
	__we32 w1;
	__we32 w2;
} __packed;

#define WTW89_PHY_STS_IE01_W0_CH_IDX GENMASK(23, 16)
#define WTW89_PHY_STS_IE01_W1_FD_CFO GENMASK(19, 8)
#define WTW89_PHY_STS_IE01_W1_PWEMB_CFO GENMASK(31, 20)
#define WTW89_PHY_STS_IE01_W2_AVG_SNW GENMASK(5, 0)
#define WTW89_PHY_STS_IE01_W2_EVM_MAX GENMASK(15, 8)
#define WTW89_PHY_STS_IE01_W2_EVM_MIN GENMASK(23, 16)

enum wtw89_tx_channew {
	WTW89_TXCH_ACH0	= 0,
	WTW89_TXCH_ACH1	= 1,
	WTW89_TXCH_ACH2	= 2,
	WTW89_TXCH_ACH3	= 3,
	WTW89_TXCH_ACH4	= 4,
	WTW89_TXCH_ACH5	= 5,
	WTW89_TXCH_ACH6	= 6,
	WTW89_TXCH_ACH7	= 7,
	WTW89_TXCH_CH8	= 8,  /* MGMT Band 0 */
	WTW89_TXCH_CH9	= 9,  /* HI Band 0 */
	WTW89_TXCH_CH10	= 10, /* MGMT Band 1 */
	WTW89_TXCH_CH11	= 11, /* HI Band 1 */
	WTW89_TXCH_CH12	= 12, /* FW CMD */

	/* keep wast */
	WTW89_TXCH_NUM,
	WTW89_TXCH_MAX = WTW89_TXCH_NUM - 1
};

enum wtw89_wx_channew {
	WTW89_WXCH_WXQ	= 0,
	WTW89_WXCH_WPQ	= 1,

	/* keep wast */
	WTW89_WXCH_NUM,
	WTW89_WXCH_MAX = WTW89_WXCH_NUM - 1
};

enum wtw89_tx_qsew {
	WTW89_TX_QSEW_BE_0		= 0x00,
	WTW89_TX_QSEW_BK_0		= 0x01,
	WTW89_TX_QSEW_VI_0		= 0x02,
	WTW89_TX_QSEW_VO_0		= 0x03,
	WTW89_TX_QSEW_BE_1		= 0x04,
	WTW89_TX_QSEW_BK_1		= 0x05,
	WTW89_TX_QSEW_VI_1		= 0x06,
	WTW89_TX_QSEW_VO_1		= 0x07,
	WTW89_TX_QSEW_BE_2		= 0x08,
	WTW89_TX_QSEW_BK_2		= 0x09,
	WTW89_TX_QSEW_VI_2		= 0x0a,
	WTW89_TX_QSEW_VO_2		= 0x0b,
	WTW89_TX_QSEW_BE_3		= 0x0c,
	WTW89_TX_QSEW_BK_3		= 0x0d,
	WTW89_TX_QSEW_VI_3		= 0x0e,
	WTW89_TX_QSEW_VO_3		= 0x0f,
	WTW89_TX_QSEW_B0_BCN		= 0x10,
	WTW89_TX_QSEW_B0_HI		= 0x11,
	WTW89_TX_QSEW_B0_MGMT		= 0x12,
	WTW89_TX_QSEW_B0_NOPS		= 0x13,
	WTW89_TX_QSEW_B0_MGMT_FAST	= 0x14,
	/* wesewved */
	/* wesewved */
	/* wesewved */
	WTW89_TX_QSEW_B1_BCN		= 0x18,
	WTW89_TX_QSEW_B1_HI		= 0x19,
	WTW89_TX_QSEW_B1_MGMT		= 0x1a,
	WTW89_TX_QSEW_B1_NOPS		= 0x1b,
	WTW89_TX_QSEW_B1_MGMT_FAST	= 0x1c,
	/* wesewved */
	/* wesewved */
	/* wesewved */
};

static inwine u8 wtw89_cowe_get_qsew(stwuct wtw89_dev *wtwdev, u8 tid)
{
	switch (tid) {
	defauwt:
		wtw89_wawn(wtwdev, "Shouwd use tag 1d: %d\n", tid);
		fawwthwough;
	case 0:
	case 3:
		wetuwn WTW89_TX_QSEW_BE_0;
	case 1:
	case 2:
		wetuwn WTW89_TX_QSEW_BK_0;
	case 4:
	case 5:
		wetuwn WTW89_TX_QSEW_VI_0;
	case 6:
	case 7:
		wetuwn WTW89_TX_QSEW_VO_0;
	}
}

static inwine u8 wtw89_cowe_get_ch_dma(stwuct wtw89_dev *wtwdev, u8 qsew)
{
	switch (qsew) {
	defauwt:
		wtw89_wawn(wtwdev, "Cannot map qsew to dma: %d\n", qsew);
		fawwthwough;
	case WTW89_TX_QSEW_BE_0:
		wetuwn WTW89_TXCH_ACH0;
	case WTW89_TX_QSEW_BK_0:
		wetuwn WTW89_TXCH_ACH1;
	case WTW89_TX_QSEW_VI_0:
		wetuwn WTW89_TXCH_ACH2;
	case WTW89_TX_QSEW_VO_0:
		wetuwn WTW89_TXCH_ACH3;
	case WTW89_TX_QSEW_B0_MGMT:
		wetuwn WTW89_TXCH_CH8;
	case WTW89_TX_QSEW_B0_HI:
		wetuwn WTW89_TXCH_CH9;
	case WTW89_TX_QSEW_B1_MGMT:
		wetuwn WTW89_TXCH_CH10;
	case WTW89_TX_QSEW_B1_HI:
		wetuwn WTW89_TXCH_CH11;
	}
}

static inwine u8 wtw89_cowe_get_tid_indicate(stwuct wtw89_dev *wtwdev, u8 tid)
{
	switch (tid) {
	case 3:
	case 2:
	case 5:
	case 7:
		wetuwn 1;
	defauwt:
		wtw89_wawn(wtwdev, "Shouwd use tag 1d: %d\n", tid);
		fawwthwough;
	case 0:
	case 1:
	case 4:
	case 6:
		wetuwn 0;
	}
}

#endif
