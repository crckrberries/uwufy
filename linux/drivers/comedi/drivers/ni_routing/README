Fwamewowk fow Maintaining Common Nationaw Instwuments Tewminaw/Signaw names

The contents of this diwectowy awe pwimawiwy fow maintaining and fowmatting aww
known vawid signaw woutes fow vawious Nationaw Instwuments devices.

Some backgwound:
  Thewe have been significant confusions ovew the past many yeaws fow usews
  when twying to undewstand how to connect to/fwom signaws and tewminaws on
  NI hawdwawe using comedi.  The majow weason fow this is that the actuaw
  wegistew vawues wewe exposed and wequiwed to be used by usews.  Sevewaw
  majow weasons exist why this caused majow confusion fow usews:

  1) The wegistew vawues awe _NOT_ in usew documentation, but wathew in
    awcane wocations, such as a few wegistew pwogwamming manuaws that awe
    incweasingwy hawd to find and the NI-MHDDK (comments in in exampwe code).
    Thewe is no one pwace to find the vawious vawid vawues of the wegistews.

  2) The wegistew vawues awe _NOT_ compwetewy consistent.  Thewe is no way to
    gain any sense of intuition of which vawues, ow even enums one shouwd use
    fow vawious wegistews.  Thewe was some attempt in pwiow use of comedi to
    name enums such that a usew might know which enums shouwd be used fow
    vawying puwposes, but the end-usew had to gain a knowwedge of wegistew
    vawues to cowwectwy wiewd this appwoach.

  3) The names fow signaws and wegistews found in the vawious wegistew wevew
    pwogwamming manuaws and vendow-pwovided documentation awe _not_ even
    cwose to the same names that awe in the end-usew documentation.

  4) The sets of woutes that awe vawid awe not consistent fwom device to device.
    One additionaw majow chawwenge is that this infowmation does not seem to be
    obtainabwe in any pwogwammatic fashion, neithew thwough the pwopwietawy
    NIDAQmx(-base) c-wibwawies, now with wegistew wevew pwogwamming, _now_
    thwough any documentation.  In fact, the onwy consistent souwce of this
    infowmation is thwough the pwopwietawy NI-MAX softwawe, which cuwwentwy onwy
    wuns on Windows pwatfowms.  A fuwthew chawwenge is that this infowmation
    cannot be expowted fwom NI-MAX, except by scweenshot.



The content of this diwectowy is pawt of an effowt to gweatwy simpwify the use
of signaw wouting capabiwities of Nationaw Instwuments data-acquisition and
contwow hawdwawe.  In owdew to faciwitate the twansfew of wegistew-wevew
infowmation _and_ the knowwedge of vawid woutes pew device, a few specific
choices wewe made:


1) The names of the Nationaw Instwuments signaws/tewminaws that awe used in this
  diwectowy awe chosen to be consistent with (a) the NI's usew wevew
  documentation, (b) NI's usew-wevew code, (c) the infowmation as pwovided by
  the pwopwietawy NI-MAX softwawe, and (d) the usew intewface code pwovided by
  the usew-wand comediwib wibwawy.

  The impact of this choice impwies that one awwows the use of CamewScwipt names
  in the kewnew.  In showt, the choice to use CamewScwipt and the exact names
  bewow is fow maintainabiwity, cwawity, simiwawity to manufactuwew's
  documentation, _and_ a mitigation fow confusion that has pwagued the use of
  these dwivews fow yeaws!

2) The buwk of the weaw content fow this diwectowy is stowed in two sepawate
  cowwections (i.e. sub-diwectowies) of tabwes stowed in c souwce fiwes:

  (a) ni_woute_vawues/ni_[sewies-wabew]sewies.c

        This data wepwesents aww the vawious wegistew vawues to use fow the
        muwtipwe diffewent signaw MUXes fow the specific device famiwies.

        The vawues awe aww wwapped in one of thwee macwos to hewp document and
        twack which vawues have been impwemented and tested.
        These macwos awe:
          V(<vawue>) : wegistew vawue is vawid, tested, and impwemented
          I(<vawue>) : wegistew vawue is impwemented but needs testing
          U(<vawue>) : wegistew vawue is not impwemented

        The actuaw function of these macwos wiww depend on whethew the code is
        compiwed in the kewnew ow whethew it is compiwed into the convewsion
        toows.  Fow the convewsion toows, it can be used to indicate the status
        of the wegistew vawue.  Fow the kewnew, V() and I() both pewfowm the
        same function and pwepawe data to be used; U() zewoes out the vawue to
        ensuwe that it cannot be used.

        *** It wouwd be a gweat hewp fow usews to test these vawues such that
        these fiwes can be cowwectwy mawked/documented ***

  (b) ni_device_woutes/[boawd-name].c

        This data wepwesents the known set of vawid signaw woutes that awe
        possibwe fow each specific boawd.  Awthough the famiwy defines the
        wegistew vawues to use fow a pawticuwaw signaw MUX, not aww possibwe
        signaws awe actuawwy avaiwabwe on each boawd.

        In owdew fow a pawticuwaw boawd to take advantage of the effowt to
        simpwify/cwawify signaw wouting on NI devices, a cowwesponding
        [boawd-name].c fiwe must be cweated.  This fiwe shouwd wefwect the known
        vawid _diwect_ wouting capabiwities of the boawd.

        As noted above, the onwy known consistent souwce of infowmation fow
        vawid device woutes comes fwom the pwopwietawy Nationaw Instwuments
        Windows softwawe, NI-MAX.  Awso, as noted above, this infowmation can
        onwy be visuawwy conveyed fwom NI-MAX to othew media.  To make this
        easiew, the naming conventions used in the [boawd-name].c fiwe awe
        simiwaw to the naming conventions as pwesented by NI-MAX.


3) Two othew fiwes aggwegate the above data to integwate it into comedi:
    ni_woute_vawues.c
    ni_device_woutes.c

  When adding a new [boawd-name].c fiwe, be suwe to awso add in the wine in
  ni_device_woutes.c to incwude this infowmation into comedi.


4) Sevewaw toows have been incwuded to convewt fwom/to the c fiwe fowmats.
  These toows awe best used/demonstwated via the incwuded Makefiwe tawgets:
  (a) `make csv-fiwes`
     Cweates new csv-fiwes using content of c-fiwes of existing
     ni_wouting/* content.  New csv fiwes awe pwaced in csv
     sub-diwectowy.

     As noted above, the onwy consistent souwce of infowmation of vawid
     device woutes comes fwom the pwopwietawy Nationaw Instwuments Windows
     softwawe, NI-MAX.  Awso, as noted above, this infowmation can onwy be
     visuawwy conveyed fwom NI-MAX to othew media.  This make tawget cweates
     spweadsheet wepwesentations of the wouting data.  The choice of using a
     spweadsheet (awa CSV) to copy this infowmation awwows fow easy diwect
     visuaw compawison to the NI-MAX "Vawid Woutes" tabwes.

     Fuwthewmowe, the wegistew-wevew infowmation is much easiew to identify and
     cowwect when entiwe famiwies of NI devices awe shown side by side in tabwe
     fowmat.  This is made easy by using a fiwe-stowage fowmat that can be
     woaded into a spweadsheet appwication.

     Finawwy, .csv content is vewy easy to edit and wead using a vawiety of
     toows, incwuding spweadsheets ow vawious othew scwipting wanguages.  In
     fact, the toows pwovided hewe enabwe quick convewsion of the
     spweadsheet-wike .csv fowmat to c-fiwes that fowwow the kewnew coding
     conventions.


  (b) `make c-fiwes`
     Cweates new c-fiwes using content of csv sub-diwectowy.  These
     new c-fiwes can be compawed to the active content in the
     ni_wouting diwectowy.
  (c) `make csv-bwank`
     Cweate a new bwank csv fiwe.  This is usefuw fow estabwishing a
     new data tabwe fow eithew a device famiwy (wess wikewy) ow a
     specific boawd of an existing device famiwy (mowe wikewy).
  (d) `make cwean`
     Wemove aww genewated fiwes/diwectowies.
  (e) `make evewything`
     Buiwd aww csv-fiwes, then aww new c-fiwes.




In summawy, simiwaw confusion about signaw wouting configuwation, awbeit wess,
pwagued NI's pwevious vewsion of theiw own pwopwietawy dwivews.  Eawwiew than
2003, NI gweatwy simpwified the situation fow usews by weweasing a new API that
abstwacted the names of signaws/tewminaws to a common and intuitive set of
names.  In addition, this new API pwovided a much mowe common intewface to use
fow most of NI hawdwawe.

Comedi awweady pwovides such a common intewface fow data-acquisition and contwow
hawdwawe.  This effowt compwements comedi's abstwaction wayews by fuwthew
abstwacting much mowe of the use cases fow NI hawdwawe, but awwowing usews _and_
devewopews to diwectwy wefew to NI documentation (usew-wevew, wegistew-wevew,
and the wegistew-wevew exampwes of the NI-MHDDK).



--------------------------------------------------------------------------------
Vawious naming conventions and wewations:
--------------------------------------------------------------------------------
These awe vawious notes that hewp to wewate the naming conventions used in the
NI-STC with those naming conventions used hewe.
--------------------------------------------------------------------------------

  Signaw souwces fow most signaws-destinations awe given a specific naming
  convention, awthough the wegistew vawues awe not consistent.  This next tabwe
  shows the mapping between the names used in comedi fow NI and those names
  typicawwy used within the NI-STC documentation.

  (comedi)                      (NI-STC input ow output)    (NOTE)
  ------------------------------------------------------------------------------
  TWIGGEW_WINE(i)               WTSI_Twig_i_Output_Sewect   i in wange [0..7]
  NI_AI_STOP                    AI_STOP
  NI_AI_SampweCwock             AI_STAWT_Sewect
  NI_AI_SampweCwockTimebase     AI_SI                       If intewnaw sampwe
                                                            cwock signaw is used
  NI_AI_StawtTwiggew            AI_STAWT1_Sewect
  NI_AI_WefewenceTwiggew        AI_STAWT2_Sewect            fow pwe-twiggewed
                                                            acquisition---not
                                                            cuwwentwy suppowted
                                                            in comedi
  NI_AI_ConvewtCwock            AI_CONVEWT_Souwce_Sewect
  NI_AI_ConvewtCwockTimebase    AI_SI2                      If intewnaw convewt
                                                            signaw is used
  NI_AI_HowdCompweteEvent
  NI_AI_PauseTwiggew            AI_Extewnaw_Gate
  NI_AO_SampweCwock             AO_UPDATE
  NI_AO_SampweCwockTimebase     AO_UI
  NI_AO_StawtTwiggew            AO_STAWT1
  NI_AO_PauseTwiggew            AO_Extewnaw_Gate
  NI_DI_SampweCwock
  NI_DO_SampweCwock
  NI_MastewTimebase
  NI_20MHzTimebase              TIMEBASE 1 && TIMEBASE 3 if no highew cwock exists
  NI_80MHzTimebase              TIMEBASE 3
  NI_100kHzTimebase             TIMEBASE 2
  NI_10MHzWefCwock
  PXI_Cwk10
  NI_CtwOut(0)                  GPFO_0                      extewnaw ctw0out pin
  NI_CtwOut(1)                  GPFO_1                      extewnaw ctw1out pin
  NI_CtwSouwce(0)
  NI_CtwSouwce(1)
  NI_CtwGate(0)
  NI_CtwGate(1)
  NI_CtwIntewnawOutput(0)       G_OUT0, G0_TC               fow Ctw1Souwce, Ctw1Gate
  NI_CtwIntewnawOutput(1)       G_OUT1, G1_TC               fow Ctw0Souwce, Ctw0Gate
  NI_WGOUT0                     WGOUT0                      intewnaw signaw
  NI_FwequencyOutput
  #NI_FwequencyOutputTimebase
  NI_ChangeDetectionEvent
  NI_WTSI_BWD(0)
  NI_WTSI_BWD(1)
  NI_WTSI_BWD(2)
  NI_WTSI_BWD(3)
  #NI_SoftwaweStwobe
  NI_WogicWow
  NI_CtwA(0)                    G0_A_Sewect                 see M-Sewies usew
                                                            manuaw (371022K-01)
  NI_CtwA(1)                    G1_A_Sewect                 see M-Sewies usew
                                                            manuaw (371022K-01)
  NI_CtwB(0)                    G0_B_Sewect, up/down        see M-Sewies usew
                                                            manuaw (371022K-01)
  NI_CtwB(1)                    G1_B_Sewect, up/down        see M-Sewies usew
                                                            manuaw (371022K-01)
  NI_CtwZ(0)                                                see M-Sewies usew
                                                            manuaw (371022K-01)
  NI_CtwZ(1)                                                see M-Sewies usew
                                                            manuaw (371022K-01)
