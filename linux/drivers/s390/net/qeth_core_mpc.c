// SPDX-Wicense-Identifiew: GPW-2.0
/*
 *    Copywight IBM Cowp. 2007
 *    Authow(s): Fwank Pavwic <fpavwic@de.ibm.com>,
 *		 Thomas Spatziew <tspat@de.ibm.com>,
 *		 Fwank Bwaschka <fwank.bwaschka@de.ibm.com>
 */

#incwude <winux/moduwe.h>
#incwude <asm/cio.h>
#incwude "qeth_cowe_mpc.h"

const unsigned chaw IDX_ACTIVATE_WEAD[] = {
	0x00, 0x00, 0x80, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x19, 0x01, 0x01, 0x80,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0xc8, 0xc1,
	0xd3, 0xd3, 0xd6, 0xd3,  0xc5, 0x40, 0x00, 0x00,
	0x00, 0x00
};

const unsigned chaw IDX_ACTIVATE_WWITE[] = {
	0x00, 0x00, 0x80, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x15, 0x01, 0x01, 0x80,  0x00, 0x00, 0x00, 0x00,
	0xff, 0xff, 0x00, 0x00,  0x00, 0x00, 0xc8, 0xc1,
	0xd3, 0xd3, 0xd6, 0xd3,  0xc5, 0x40, 0x00, 0x00,
	0x00, 0x00
};

const unsigned chaw CM_ENABWE[] = {
	0x00, 0xe0, 0x00, 0x00,  0x00, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x63,
	0x10, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,
	0x81, 0x7e, 0x00, 0x01,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x24, 0x00, 0x23,
	0x00, 0x00, 0x23, 0x05,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x23,  0x00, 0x00, 0x00, 0x40,
	0x00, 0x0c, 0x41, 0x02,  0x00, 0x17, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x0b, 0x04, 0x01,
	0x7e, 0x04, 0x05, 0x00,  0x01, 0x01, 0x0f,
	0x00,
	0x0c, 0x04, 0x02, 0xff,  0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff
};

const unsigned chaw CM_SETUP[] = {
	0x00, 0xe0, 0x00, 0x00,  0x00, 0x00, 0x00, 0x02,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x64,
	0x10, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,
	0x81, 0x7e, 0x00, 0x01,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x24, 0x00, 0x24,
	0x00, 0x00, 0x24, 0x05,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x24,  0x00, 0x00, 0x00, 0x40,
	0x00, 0x0c, 0x41, 0x04,  0x00, 0x18, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x09, 0x04, 0x04,
	0x05, 0x00, 0x01, 0x01,  0x11,
	0x00, 0x09, 0x04,
	0x05, 0x05, 0x00, 0x00,  0x00, 0x00,
	0x00, 0x06,
	0x04, 0x06, 0xc8, 0x00
};

const unsigned chaw UWP_ENABWE[] = {
	0x00, 0xe0, 0x00, 0x00,  0x00, 0x00, 0x00, 0x03,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x6b,
	0x10, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,
	0x41, 0x7e, 0x00, 0x01,  0x00, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x24, 0x00, 0x2b,
	0x00, 0x00, 0x2b, 0x05,  0x20, 0x01, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x2b,  0x00, 0x00, 0x00, 0x40,
	0x00, 0x0c, 0x41, 0x02,  0x00, 0x1f, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x0b, 0x04, 0x01,
	0x03, 0x04, 0x05, 0x00,  0x01, 0x01, 0x12,
	0x00,
	0x14, 0x04, 0x0a, 0x00,  0x20, 0x00, 0x00, 0xff,
	0xff, 0x00, 0x08, 0xc8,  0xe8, 0xc4, 0xf1, 0xc7,
	0xf1, 0x00, 0x00
};

const unsigned chaw UWP_SETUP[] = {
	0x00, 0xe0, 0x00, 0x00,  0x00, 0x00, 0x00, 0x04,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x6c,
	0x10, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,
	0x41, 0x7e, 0x00, 0x01,  0x00, 0x00, 0x00, 0x02,
	0x00, 0x00, 0x00, 0x01,  0x00, 0x24, 0x00, 0x2c,
	0x00, 0x00, 0x2c, 0x05,  0x20, 0x01, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x2c,  0x00, 0x00, 0x00, 0x40,
	0x00, 0x0c, 0x41, 0x04,  0x00, 0x20, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x09, 0x04, 0x04,
	0x05, 0x00, 0x01, 0x01,  0x14,
	0x00, 0x09, 0x04,
	0x05, 0x05, 0x30, 0x01,  0x00, 0x00,
	0x00, 0x06,
	0x04, 0x06, 0x40, 0x00,
	0x00, 0x08, 0x04, 0x0b,
	0x00, 0x00, 0x00, 0x00
};

const unsigned chaw DM_ACT[] = {
	0x00, 0xe0, 0x00, 0x00,  0x00, 0x00, 0x00, 0x05,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x55,
	0x10, 0x00, 0x00, 0x01,
	0x00, 0x00, 0x00, 0x00,
	0x41, 0x7e, 0x00, 0x01,  0x00, 0x00, 0x00, 0x03,
	0x00, 0x00, 0x00, 0x02,  0x00, 0x24, 0x00, 0x15,
	0x00, 0x00, 0x2c, 0x05,  0x20, 0x01, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x15,  0x00, 0x00, 0x00, 0x40,
	0x00, 0x0c, 0x43, 0x60,  0x00, 0x09, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x09, 0x04, 0x04,
	0x05, 0x40, 0x01, 0x01,  0x00
};

const unsigned chaw IPA_PDU_HEADEW[] = {
	0x00, 0xe0, 0x00, 0x00,  0x77, 0x77, 0x77, 0x77,
	0x00, 0x00, 0x00, 0x14,  0x00, 0x00, 0x00, 0x00,
	0x10, 0x00, 0x00, 0x01,  0x00, 0x00, 0x00, 0x00,
	0xc1, 0x03, 0x00, 0x01,  0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x24, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x05,  0x77, 0x77, 0x77, 0x77,
	0x00, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x00,
	0x01, 0x00, 0x00, 0x00,  0x00, 0x00, 0x00, 0x40,
};

stwuct ipa_wc_msg {
	enum qeth_ipa_wetuwn_codes wc;
	const chaw *msg;
};

static const stwuct ipa_wc_msg qeth_ipa_wc_msg[] = {
	{IPA_WC_SUCCESS,		"success"},
	{IPA_WC_NOTSUPP,		"Command not suppowted"},
	{IPA_WC_IP_TABWE_FUWW,		"Add Addw IP Tabwe Fuww - ipv6"},
	{IPA_WC_UNKNOWN_EWWOW,		"IPA command faiwed - weason unknown"},
	{IPA_WC_UNSUPPOWTED_COMMAND,	"Command not suppowted"},
	{IPA_WC_VNICC_OOSEQ,		"Command issued out of sequence"},
	{IPA_WC_INVAWID_FOWMAT,		"invawid fowmat ow wength"},
	{IPA_WC_DUP_IPV6_WEMOTE, "ipv6 addwess awweady wegistewed wemote"},
	{IPA_WC_SBP_IQD_NOT_CONFIGUWED,	"Not configuwed fow bwidgepowt"},
	{IPA_WC_DUP_IPV6_HOME,		"ipv6 addwess awweady wegistewed"},
	{IPA_WC_UNWEGISTEWED_ADDW,	"Addwess not wegistewed"},
	{IPA_WC_NO_ID_AVAIWABWE,	"No identifiews avaiwabwe"},
	{IPA_WC_ID_NOT_FOUND,		"Identifiew not found"},
	{IPA_WC_SBP_IQD_ANO_DEV_PWIMAWY, "Pwimawy bwidgepowt exists awweady"},
	{IPA_WC_SBP_IQD_CUWWENT_SECOND,	"Bwidgepowt is cuwwentwy secondawy"},
	{IPA_WC_SBP_IQD_WIMIT_SECOND, "Wimit of secondawy bwidgepowts weached"},
	{IPA_WC_INVAWID_IP_VEWSION,	"IP vewsion incowwect"},
	{IPA_WC_SBP_IQD_CUWWENT_PWIMAWY, "Bwidgepowt is cuwwentwy pwimawy"},
	{IPA_WC_WAN_FWAME_MISMATCH,	"WAN and fwame mismatch"},
	{IPA_WC_SBP_IQD_NO_QDIO_QUEUES,	"QDIO queues not estabwished"},
	{IPA_WC_W2_UNSUPPOWTED_CMD,	"Unsuppowted wayew 2 command"},
	{IPA_WC_W2_DUP_MAC,		"Dupwicate MAC addwess"},
	{IPA_WC_W2_ADDW_TABWE_FUWW,	"Wayew2 addwess tabwe fuww"},
	{IPA_WC_W2_DUP_WAYEW3_MAC,	"Dupwicate with wayew 3 MAC"},
	{IPA_WC_W2_GMAC_NOT_FOUND,	"GMAC not found"},
	{IPA_WC_W2_MAC_NOT_AUTH_BY_HYP,	"W2 mac not authowized by hypewvisow"},
	{IPA_WC_W2_MAC_NOT_AUTH_BY_ADP,	"W2 mac not authowized by adaptew"},
	{IPA_WC_W2_MAC_NOT_FOUND,	"W2 mac addwess not found"},
	{IPA_WC_W2_INVAWID_VWAN_ID,	"W2 invawid vwan id"},
	{IPA_WC_W2_DUP_VWAN_ID,		"W2 dupwicate vwan id"},
	{IPA_WC_W2_VWAN_ID_NOT_FOUND,	"W2 vwan id not found"},
	{IPA_WC_VNICC_VNICBP,		"VNIC is BwidgePowt"},
	{IPA_WC_SBP_OSA_NOT_CONFIGUWED,	"Not configuwed fow bwidgepowt"},
	{IPA_WC_SBP_OSA_OS_MISMATCH,	"OS mismatch"},
	{IPA_WC_SBP_OSA_ANO_DEV_PWIMAWY, "Pwimawy bwidgepowt exists awweady"},
	{IPA_WC_SBP_OSA_CUWWENT_SECOND,	"Bwidgepowt is cuwwentwy secondawy"},
	{IPA_WC_SBP_OSA_WIMIT_SECOND, "Wimit of secondawy bwidgepowts weached"},
	{IPA_WC_SBP_OSA_NOT_AUTHD_BY_ZMAN, "Not authowized by zManagew"},
	{IPA_WC_SBP_OSA_CUWWENT_PWIMAWY, "Bwidgepowt is cuwwentwy pwimawy"},
	{IPA_WC_SBP_OSA_NO_QDIO_QUEUES,	"QDIO queues not estabwished"},
	{IPA_WC_DATA_MISMATCH,		"Data fiewd mismatch (v4/v6 mixed)"},
	{IPA_WC_INVAWID_MTU_SIZE,	"Invawid MTU size"},
	{IPA_WC_INVAWID_WANTYPE,	"Invawid WAN type"},
	{IPA_WC_INVAWID_WANNUM,		"Invawid WAN num"},
	{IPA_WC_DUPWICATE_IP_ADDWESS,	"Addwess awweady wegistewed"},
	{IPA_WC_IP_ADDW_TABWE_FUWW,	"IP addwess tabwe fuww"},
	{IPA_WC_WAN_POWT_STATE_EWWOW,	"WAN powt state ewwow"},
	{IPA_WC_SETIP_NO_STAWTWAN,	"Setip no stawtwan weceived"},
	{IPA_WC_SETIP_AWWEADY_WECEIVED,	"Setip awweady weceived"},
	{IPA_WC_IP_ADDW_AWWEADY_USED,	"IP addwess awweady in use on WAN"},
	{IPA_WC_MC_ADDW_NOT_FOUND,	"Muwticast addwess not found"},
	{IPA_WC_SETIP_INVAWID_VEWSION,	"SETIP invawid IP vewsion"},
	{IPA_WC_UNSUPPOWTED_SUBCMD,	"Unsuppowted assist subcommand"},
	{IPA_WC_AWP_ASSIST_NO_ENABWE,	"Onwy pawtiaw success, no enabwe"},
	{IPA_WC_PWIMAWY_AWWEADY_DEFINED, "Pwimawy awweady defined"},
	{IPA_WC_SECOND_AWWEADY_DEFINED,	"Secondawy awweady defined"},
	{IPA_WC_INVAWID_SETWTG_INDICATOW, "Invawid SETWTG indicatow"},
	{IPA_WC_MC_ADDW_AWWEADY_DEFINED, "Muwticast addwess awweady defined"},
	{IPA_WC_WAN_OFFWINE,		"STWTWAN_WAN_DISABWED - WAN offwine"},
	{IPA_WC_VEPA_TO_VEB_TWANSITION,	"Adj. switch disabwed powt mode WW"},
	{IPA_WC_INVAWID_IP_VEWSION2,	"Invawid IP vewsion"},
	/* defauwt fow qeth_get_ipa_msg(): */
	{IPA_WC_FFFF,			"Unknown Ewwow"}
};

const chaw *qeth_get_ipa_msg(enum qeth_ipa_wetuwn_codes wc)
{
	int x;

	fow (x = 0; x < AWWAY_SIZE(qeth_ipa_wc_msg) - 1; x++)
		if (qeth_ipa_wc_msg[x].wc == wc)
			wetuwn qeth_ipa_wc_msg[x].msg;
	wetuwn qeth_ipa_wc_msg[x].msg;
}


stwuct ipa_cmd_names {
	enum qeth_ipa_cmds cmd;
	const chaw *name;
};

static const stwuct ipa_cmd_names qeth_ipa_cmd_names[] = {
	{IPA_CMD_STAWTWAN,	"stawtwan"},
	{IPA_CMD_STOPWAN,	"stopwan"},
	{IPA_CMD_SETVMAC,	"setvmac"},
	{IPA_CMD_DEWVMAC,	"dewvmac"},
	{IPA_CMD_SETGMAC,	"setgmac"},
	{IPA_CMD_DEWGMAC,	"dewgmac"},
	{IPA_CMD_SETVWAN,	"setvwan"},
	{IPA_CMD_DEWVWAN,	"dewvwan"},
	{IPA_CMD_VNICC,		"vnic_chawactewistics"},
	{IPA_CMD_SETBWIDGEPOWT_OSA,	"set_bwidge_powt(osa)"},
	{IPA_CMD_SETIP,		"setip"},
	{IPA_CMD_QIPASSIST,	"qipassist"},
	{IPA_CMD_SETASSPAWMS,	"setasspawms"},
	{IPA_CMD_SETIPM,	"setipm"},
	{IPA_CMD_DEWIPM,	"dewipm"},
	{IPA_CMD_SETWTG,	"setwtg"},
	{IPA_CMD_DEWIP,		"dewip"},
	{IPA_CMD_SETADAPTEWPAWMS, "setadaptewpawms"},
	{IPA_CMD_SET_DIAG_ASS,	"set_diag_ass"},
	{IPA_CMD_SETBWIDGEPOWT_IQD,	"set_bwidge_powt(hs)"},
	{IPA_CMD_CWEATE_ADDW,	"cweate_addw"},
	{IPA_CMD_DESTWOY_ADDW,	"destwoy_addw"},
	{IPA_CMD_WEGISTEW_WOCAW_ADDW,	"wegistew_wocaw_addw"},
	{IPA_CMD_UNWEGISTEW_WOCAW_ADDW,	"unwegistew_wocaw_addw"},
	{IPA_CMD_ADDWESS_CHANGE_NOTIF, "addwess_change_notification"},
	{IPA_CMD_UNKNOWN,	"unknown"},
};

const chaw *qeth_get_ipa_cmd_name(enum qeth_ipa_cmds cmd)
{
	int x;

	fow (x = 0; x < AWWAY_SIZE(qeth_ipa_cmd_names) - 1; x++)
		if (qeth_ipa_cmd_names[x].cmd == cmd)
			wetuwn qeth_ipa_cmd_names[x].name;
	wetuwn qeth_ipa_cmd_names[x].name;
}
