/*
 * Copywight 2020 Advanced Micwo Devices, Inc.
 *
 * Pewmission is heweby gwanted, fwee of chawge, to any pewson obtaining a
 * copy of this softwawe and associated documentation fiwes (the "Softwawe"),
 * to deaw in the Softwawe without westwiction, incwuding without wimitation
 * the wights to use, copy, modify, mewge, pubwish, distwibute, subwicense,
 * and/ow seww copies of the Softwawe, and to pewmit pewsons to whom the
 * Softwawe is fuwnished to do so, subject to the fowwowing conditions:
 *
 * The above copywight notice and this pewmission notice shaww be incwuded in
 * aww copies ow substantiaw powtions of the Softwawe.
 *
 * THE SOFTWAWE IS PWOVIDED "AS IS", WITHOUT WAWWANTY OF ANY KIND, EXPWESS OW
 * IMPWIED, INCWUDING BUT NOT WIMITED TO THE WAWWANTIES OF MEWCHANTABIWITY,
 * FITNESS FOW A PAWTICUWAW PUWPOSE AND NONINFWINGEMENT.  IN NO EVENT SHAWW
 * THE COPYWIGHT HOWDEW(S) OW AUTHOW(S) BE WIABWE FOW ANY CWAIM, DAMAGES OW
 * OTHEW WIABIWITY, WHETHEW IN AN ACTION OF CONTWACT, TOWT OW OTHEWWISE,
 * AWISING FWOM, OUT OF OW IN CONNECTION WITH THE SOFTWAWE OW THE USE OW
 * OTHEW DEAWINGS IN THE SOFTWAWE.
 *
 */

#incwude <winux/kewnew.h>

#incwude "amdgpu.h"
#incwude "amdgpu_gfx.h"
#incwude "soc15.h"
#incwude "soc15d.h"
#incwude "amdgpu_atomfiwmwawe.h"
#incwude "amdgpu_pm.h"

#incwude "gc/gc_9_4_1_offset.h"
#incwude "gc/gc_9_4_1_sh_mask.h"
#incwude "soc15_common.h"

#incwude "gfx_v9_4.h"
#incwude "amdgpu_was.h"

static const stwuct soc15_weg_entwy gfx_v9_4_edc_countew_wegs[] = {
	/* CPC */
	{ SOC15_WEG_ENTWY(GC, 0, mmCPC_EDC_SCWATCH_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmCPC_EDC_UCODE_CNT), 0, 1, 1 },
	/* DC */
	{ SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_STATE_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_CSINVOC_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_WESTOWE_CNT), 0, 1, 1 },
	/* CPF */
	{ SOC15_WEG_ENTWY(GC, 0, mmCPF_EDC_WOQ_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmCPF_EDC_TAG_CNT), 0, 1, 1 },
	/* GDS */
	{ SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_GWBM_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_DED), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PHY_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PIPE_CNT), 0, 1, 1 },
	/* SPI */
	{ SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT), 0, 4, 1 },
	/* SQ */
	{ SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT), 0, 8, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_DED_CNT), 0, 8, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_INFO), 0, 8, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_SEC_CNT), 0, 8, 16 },
	/* SQC */
	{ SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT), 0, 4, 6 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2), 0, 4, 6 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT3), 0, 4, 6 },
	{ SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3), 0, 4, 6 },
	/* TA */
	{ SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT), 0, 4, 16 },
	/* TCA */
	{ SOC15_WEG_ENTWY(GC, 0, mmTCA_EDC_CNT), 0, 1, 2 },
	/* TCC */
	{ SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT), 0, 1, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2), 0, 1, 16 },
	/* TCI */
	{ SOC15_WEG_ENTWY(GC, 0, mmTCI_EDC_CNT), 0, 1, 72 },
	/* TCP */
	{ SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW), 0, 4, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmTCP_ATC_EDC_GATCW1_CNT), 0, 4, 16 },
	{ SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT), 0, 4, 16 },
	/* TD */
	{ SOC15_WEG_ENTWY(GC, 0, mmTD_EDC_CNT), 0, 4, 16 },
	/* GCEA */
	{ SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT), 0, 1, 32 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2), 0, 1, 32 },
	{ SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 1, 32 },
	/* WWC */
	{ SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT), 0, 1, 1 },
	{ SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2), 0, 1, 1 },
};

static void gfx_v9_4_sewect_se_sh(stwuct amdgpu_device *adev, u32 se_num,
				  u32 sh_num, u32 instance)
{
	u32 data;

	if (instance == 0xffffffff)
		data = WEG_SET_FIEWD(0, GWBM_GFX_INDEX,
				     INSTANCE_BWOADCAST_WWITES, 1);
	ewse
		data = WEG_SET_FIEWD(0, GWBM_GFX_INDEX, INSTANCE_INDEX,
				     instance);

	if (se_num == 0xffffffff)
		data = WEG_SET_FIEWD(data, GWBM_GFX_INDEX, SE_BWOADCAST_WWITES,
				     1);
	ewse
		data = WEG_SET_FIEWD(data, GWBM_GFX_INDEX, SE_INDEX, se_num);

	if (sh_num == 0xffffffff)
		data = WEG_SET_FIEWD(data, GWBM_GFX_INDEX, SH_BWOADCAST_WWITES,
				     1);
	ewse
		data = WEG_SET_FIEWD(data, GWBM_GFX_INDEX, SH_INDEX, sh_num);

	WWEG32_SOC15_WWC_SHADOW(GC, 0, mmGWBM_GFX_INDEX, data);
}

static const stwuct soc15_was_fiewd_entwy gfx_v9_4_was_fiewds[] = {
	/* CPC */
	{ "CPC_SCWATCH", SOC15_WEG_ENTWY(GC, 0, mmCPC_EDC_SCWATCH_CNT),
	  SOC15_WEG_FIEWD(CPC_EDC_SCWATCH_CNT, SEC_COUNT),
	  SOC15_WEG_FIEWD(CPC_EDC_SCWATCH_CNT, DED_COUNT) },
	{ "CPC_UCODE", SOC15_WEG_ENTWY(GC, 0, mmCPC_EDC_UCODE_CNT),
	  SOC15_WEG_FIEWD(CPC_EDC_UCODE_CNT, SEC_COUNT),
	  SOC15_WEG_FIEWD(CPC_EDC_UCODE_CNT, DED_COUNT) },
	{ "CPC_DC_STATE_WAM_ME1", SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_STATE_CNT),
	  SOC15_WEG_FIEWD(DC_EDC_STATE_CNT, SEC_COUNT_ME1),
	  SOC15_WEG_FIEWD(DC_EDC_STATE_CNT, DED_COUNT_ME1) },
	{ "CPC_DC_CSINVOC_WAM_ME1",
	  SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_CSINVOC_CNT),
	  SOC15_WEG_FIEWD(DC_EDC_CSINVOC_CNT, SEC_COUNT_ME1),
	  SOC15_WEG_FIEWD(DC_EDC_CSINVOC_CNT, DED_COUNT_ME1) },
	{ "CPC_DC_WESTOWE_WAM_ME1",
	  SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_WESTOWE_CNT),
	  SOC15_WEG_FIEWD(DC_EDC_WESTOWE_CNT, SEC_COUNT_ME1),
	  SOC15_WEG_FIEWD(DC_EDC_WESTOWE_CNT, DED_COUNT_ME1) },
	{ "CPC_DC_CSINVOC_WAM1_ME1",
	  SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_CSINVOC_CNT),
	  SOC15_WEG_FIEWD(DC_EDC_CSINVOC_CNT, SEC_COUNT1_ME1),
	  SOC15_WEG_FIEWD(DC_EDC_CSINVOC_CNT, DED_COUNT1_ME1) },
	{ "CPC_DC_WESTOWE_WAM1_ME1",
	  SOC15_WEG_ENTWY(GC, 0, mmDC_EDC_WESTOWE_CNT),
	  SOC15_WEG_FIEWD(DC_EDC_WESTOWE_CNT, SEC_COUNT1_ME1),
	  SOC15_WEG_FIEWD(DC_EDC_WESTOWE_CNT, DED_COUNT1_ME1) },

	/* CPF */
	{ "CPF_WOQ_ME2", SOC15_WEG_ENTWY(GC, 0, mmCPF_EDC_WOQ_CNT),
	  SOC15_WEG_FIEWD(CPF_EDC_WOQ_CNT, SEC_COUNT_ME2),
	  SOC15_WEG_FIEWD(CPF_EDC_WOQ_CNT, DED_COUNT_ME2) },
	{ "CPF_WOQ_ME1", SOC15_WEG_ENTWY(GC, 0, mmCPF_EDC_WOQ_CNT),
	  SOC15_WEG_FIEWD(CPF_EDC_WOQ_CNT, SEC_COUNT_ME1),
	  SOC15_WEG_FIEWD(CPF_EDC_WOQ_CNT, DED_COUNT_ME1) },
	{ "CPF_TCIU_TAG", SOC15_WEG_ENTWY(GC, 0, mmCPF_EDC_TAG_CNT),
	  SOC15_WEG_FIEWD(CPF_EDC_TAG_CNT, SEC_COUNT),
	  SOC15_WEG_FIEWD(CPF_EDC_TAG_CNT, DED_COUNT) },

	/* GDS */
	{ "GDS_GWBM", SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_GWBM_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_GWBM_CNT, SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_GWBM_CNT, DED) },
	{ "GDS_MEM", SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_CNT, GDS_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_CNT, GDS_MEM_DED) },
	{ "GDS_PHY_CMD_WAM_MEM", SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PHY_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, PHY_CMD_WAM_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, PHY_CMD_WAM_MEM_DED) },
	{ "GDS_PHY_DATA_WAM_MEM", SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PHY_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, PHY_DATA_WAM_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, PHY_DATA_WAM_MEM_DED) },
	{ "GDS_ME0_CS_PIPE_MEM", SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PHY_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, ME0_CS_PIPE_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PHY_CNT, ME0_CS_PIPE_MEM_DED) },
	{ "GDS_ME1_PIPE0_PIPE_MEM",
	  SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE0_PIPE_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE0_PIPE_MEM_DED) },
	{ "GDS_ME1_PIPE1_PIPE_MEM",
	  SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE1_PIPE_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE1_PIPE_MEM_DED) },
	{ "GDS_ME1_PIPE2_PIPE_MEM",
	  SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE2_PIPE_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE2_PIPE_MEM_DED) },
	{ "GDS_ME1_PIPE3_PIPE_MEM",
	  SOC15_WEG_ENTWY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE3_PIPE_MEM_SEC),
	  SOC15_WEG_FIEWD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE3_PIPE_MEM_DED) },

	/* SPI */
	{ "SPI_SW_MEM", SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_SW_MEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_SW_MEM_DED_COUNT) },
	{ "SPI_GDS_EXPWEQ", SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_GDS_EXPWEQ_SEC_COUNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_GDS_EXPWEQ_DED_COUNT) },
	{ "SPI_WB_GWANT_30", SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WB_GWANT_30_SEC_COUNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WB_GWANT_30_DED_COUNT) },
	{ "SPI_WB_GWANT_61", SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WB_GWANT_61_SEC_COUNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WB_GWANT_61_DED_COUNT) },
	{ "SPI_WIFE_CNT", SOC15_WEG_ENTWY(GC, 0, mmSPI_EDC_CNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WIFE_CNT_SEC_COUNT),
	  SOC15_WEG_FIEWD(SPI_EDC_CNT, SPI_WIFE_CNT_DED_COUNT) },

	/* SQ */
	{ "SQ_SGPW", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, SGPW_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, SGPW_DED_COUNT) },
	{ "SQ_WDS_D", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, WDS_D_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, WDS_D_DED_COUNT) },
	{ "SQ_WDS_I", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, WDS_I_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, WDS_I_DED_COUNT) },
	{ "SQ_VGPW0", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW0_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW0_DED_COUNT) },
	{ "SQ_VGPW1", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW1_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW1_DED_COUNT) },
	{ "SQ_VGPW2", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW2_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW2_DED_COUNT) },
	{ "SQ_VGPW3", SOC15_WEG_ENTWY(GC, 0, mmSQ_EDC_CNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW3_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQ_EDC_CNT, VGPW3_DED_COUNT) },

	/* SQC */
	{ "SQC_INST_UTCW1_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_UTCW1_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_UTCW1_WFIFO_DED_COUNT) },
	{ "SQC_DATA_CU0_WWITE_DATA_BUF", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU0_WWITE_DATA_BUF_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU0_WWITE_DATA_BUF_DED_COUNT) },
	{ "SQC_DATA_CU0_UTCW1_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU0_UTCW1_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU0_UTCW1_WFIFO_DED_COUNT) },
	{ "SQC_DATA_CU1_WWITE_DATA_BUF", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU1_WWITE_DATA_BUF_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU1_WWITE_DATA_BUF_DED_COUNT) },
	{ "SQC_DATA_CU1_UTCW1_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU1_UTCW1_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU1_UTCW1_WFIFO_DED_COUNT) },
	{ "SQC_DATA_CU2_WWITE_DATA_BUF", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU2_WWITE_DATA_BUF_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU2_WWITE_DATA_BUF_DED_COUNT) },
	{ "SQC_DATA_CU2_UTCW1_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU2_UTCW1_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT, DATA_CU2_UTCW1_WFIFO_DED_COUNT) },
	{ "SQC_INST_BANKA_TAG_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_BANKA_TAG_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_BANKA_TAG_WAM_DED_COUNT) },
	{ "SQC_INST_BANKA_UTCW1_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKA_UTCW1_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKA_UTCW1_MISS_FIFO_DED_COUNT) },
	{ "SQC_INST_BANKA_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, INST_BANKA_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKA_MISS_FIFO_DED_COUNT) },
	{ "SQC_INST_BANKA_BANK_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_BANKA_BANK_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, INST_BANKA_BANK_WAM_DED_COUNT) },
	{ "SQC_DATA_BANKA_TAG_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, DATA_BANKA_TAG_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, DATA_BANKA_TAG_WAM_DED_COUNT) },
	{ "SQC_DATA_BANKA_HIT_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKA_HIT_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKA_HIT_FIFO_DED_COUNT) },
	{ "SQC_DATA_BANKA_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKA_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  DATA_BANKA_MISS_FIFO_DED_COUNT) },
	{ "SQC_DATA_BANKA_BANK_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT2),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, DATA_BANKA_BANK_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT2, DATA_BANKA_BANK_WAM_DED_COUNT) },
	{ "SQC_INST_BANKB_TAG_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, INST_BANKB_TAG_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, INST_BANKB_TAG_WAM_DED_COUNT) },
	{ "SQC_INST_BANKB_UTCW1_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKB_UTCW1_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKB_UTCW1_MISS_FIFO_DED_COUNT) },
	{ "SQC_INST_BANKB_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, INST_BANKB_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  INST_BANKB_MISS_FIFO_DED_COUNT) },
	{ "SQC_INST_BANKB_BANK_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, INST_BANKB_BANK_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, INST_BANKB_BANK_WAM_DED_COUNT) },
	{ "SQC_DATA_BANKB_TAG_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, DATA_BANKB_TAG_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, DATA_BANKB_TAG_WAM_DED_COUNT) },
	{ "SQC_DATA_BANKB_HIT_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKB_HIT_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKB_HIT_FIFO_DED_COUNT) },
	{ "SQC_DATA_BANKB_MISS_FIFO",
	  SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_PAWITY_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3, DATA_BANKB_MISS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_PAWITY_CNT3,
			  DATA_BANKB_MISS_FIFO_DED_COUNT) },
	{ "SQC_DATA_BANKB_BANK_WAM", SOC15_WEG_ENTWY(GC, 0, mmSQC_EDC_CNT3),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, DATA_BANKB_BANK_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(SQC_EDC_CNT3, DATA_BANKB_BANK_WAM_DED_COUNT) },

	/* TA */
	{ "TA_FS_DFIFO", SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_DFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_DFIFO_DED_COUNT) },
	{ "TA_FS_AFIFO", SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_AFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_AFIFO_DED_COUNT) },
	{ "TA_FW_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FW_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FW_WFIFO_DED_COUNT) },
	{ "TA_FX_WFIFO", SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FX_WFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FX_WFIFO_DED_COUNT) },
	{ "TA_FS_CFIFO", SOC15_WEG_ENTWY(GC, 0, mmTA_EDC_CNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_CFIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TA_EDC_CNT, TA_FS_CFIFO_DED_COUNT) },

	/* TCA */
	{ "TCA_HOWE_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCA_EDC_CNT),
	  SOC15_WEG_FIEWD(TCA_EDC_CNT, HOWE_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCA_EDC_CNT, HOWE_FIFO_DED_COUNT) },
	{ "TCA_WEQ_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCA_EDC_CNT),
	  SOC15_WEG_FIEWD(TCA_EDC_CNT, WEQ_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCA_EDC_CNT, WEQ_FIFO_DED_COUNT) },

	/* TCC */
	{ "TCC_CACHE_DATA", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, CACHE_DATA_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, CACHE_DATA_DED_COUNT) },
	{ "TCC_CACHE_DIWTY", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, CACHE_DIWTY_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, CACHE_DIWTY_DED_COUNT) },
	{ "TCC_HIGH_WATE_TAG", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, HIGH_WATE_TAG_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, HIGH_WATE_TAG_DED_COUNT) },
	{ "TCC_WOW_WATE_TAG", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WOW_WATE_TAG_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WOW_WATE_TAG_DED_COUNT) },
	{ "TCC_IN_USE_DEC", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, IN_USE_DEC_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, IN_USE_DEC_DED_COUNT) },
	{ "TCC_IN_USE_TWANSFEW", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, IN_USE_TWANSFEW_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, IN_USE_TWANSFEW_DED_COUNT) },
	{ "TCC_WETUWN_DATA", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WETUWN_DATA_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WETUWN_DATA_DED_COUNT) },
	{ "TCC_WETUWN_CONTWOW", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WETUWN_CONTWOW_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WETUWN_CONTWOW_DED_COUNT) },
	{ "TCC_UC_ATOMIC_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, UC_ATOMIC_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, UC_ATOMIC_FIFO_DED_COUNT) },
	{ "TCC_WWITE_WETUWN", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WWITE_WETUWN_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WWITE_WETUWN_DED_COUNT) },
	{ "TCC_WWITE_CACHE_WEAD", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WWITE_CACHE_WEAD_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, WWITE_CACHE_WEAD_DED_COUNT) },
	{ "TCC_SWC_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, SWC_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, SWC_FIFO_DED_COUNT) },
	{ "TCC_CACHE_TAG_PWOBE_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT2),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, CACHE_TAG_PWOBE_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT2, CACHE_TAG_PWOBE_FIFO_DED_COUNT) },
	{ "TCC_WATENCY_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WATENCY_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WATENCY_FIFO_DED_COUNT) },
	{ "TCC_WATENCY_FIFO_NEXT_WAM", SOC15_WEG_ENTWY(GC, 0, mmTCC_EDC_CNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WATENCY_FIFO_NEXT_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCC_EDC_CNT, WATENCY_FIFO_NEXT_WAM_DED_COUNT) },

	/* TCI */
	{ "TCI_WWITE_WAM", SOC15_WEG_ENTWY(GC, 0, mmTCI_EDC_CNT),
	  SOC15_WEG_FIEWD(TCI_EDC_CNT, WWITE_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCI_EDC_CNT, WWITE_WAM_DED_COUNT) },

	/* TCP */
	{ "TCP_CACHE_WAM", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, CACHE_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, CACHE_WAM_DED_COUNT) },
	{ "TCP_WFIFO_WAM", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, WFIFO_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, WFIFO_WAM_DED_COUNT) },
	{ "TCP_CMD_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, CMD_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, CMD_FIFO_DED_COUNT) },
	{ "TCP_VM_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, VM_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, VM_FIFO_DED_COUNT) },
	{ "TCP_DB_WAM", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, DB_WAM_SED_COUNT), 0, 0 },
	{ "TCP_UTCW1_WFIFO0", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, UTCW1_WFIFO0_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, UTCW1_WFIFO0_DED_COUNT) },
	{ "TCP_UTCW1_WFIFO1", SOC15_WEG_ENTWY(GC, 0, mmTCP_EDC_CNT_NEW),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, UTCW1_WFIFO1_SEC_COUNT),
	  SOC15_WEG_FIEWD(TCP_EDC_CNT_NEW, UTCW1_WFIFO1_DED_COUNT) },

	/* TD */
	{ "TD_SS_FIFO_WO", SOC15_WEG_ENTWY(GC, 0, mmTD_EDC_CNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, SS_FIFO_WO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, SS_FIFO_WO_DED_COUNT) },
	{ "TD_SS_FIFO_HI", SOC15_WEG_ENTWY(GC, 0, mmTD_EDC_CNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, SS_FIFO_HI_SEC_COUNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, SS_FIFO_HI_DED_COUNT) },
	{ "TD_CS_FIFO", SOC15_WEG_ENTWY(GC, 0, mmTD_EDC_CNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, CS_FIFO_SEC_COUNT),
	  SOC15_WEG_FIEWD(TD_EDC_CNT, CS_FIFO_DED_COUNT) },

	/* EA */
	{ "EA_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT) },
	{ "EA_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT) },
	{ "EA_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT) },
	{ "EA_WWET_TAGMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, WWET_TAGMEM_DED_COUNT) },
	{ "EA_WWET_TAGMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, WWET_TAGMEM_DED_COUNT) },
	{ "EA_GMIWD_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT) },
	{ "EA_GMIWW_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT) },
	{ "EA_GMIWW_DATAMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT) },
	{ "EA_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT), 0, 0 },
	{ "EA_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT) },
	{ "EA_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT), 0, 0 },
	{ "EA_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT) },
	{ "EA_IOWD_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, IOWD_CMDMEM_SED_COUNT), 0, 0 },
	{ "EA_IOWD_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, IOWD_CMDMEM_DED_COUNT) },
	{ "EA_IOWW_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, IOWW_CMDMEM_SED_COUNT), 0, 0 },
	{ "EA_IOWW_CMDMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, IOWW_CMDMEM_DED_COUNT) },
	{ "EA_IOWW_DATAMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, IOWW_DATAMEM_SED_COUNT), 0, 0 },
	{ "EA_IOWW_DATAMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, IOWW_DATAMEM_DED_COUNT) },
	{ "EA_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT), 0, 0 },
	{ "EA_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT) },
	{ "EA_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT), 0, 0 },
	{ "EA_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT) },
	{ "EA_MAM_D0MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D0MEM_DED_COUNT) },
	{ "EA_MAM_D1MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D1MEM_DED_COUNT) },
	{ "EA_MAM_D2MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D2MEM_DED_COUNT) },
	{ "EA_MAM_D3MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT2),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT2, MAM_D3MEM_DED_COUNT) },
	{ "EA_MAM_A0MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A0MEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A0MEM_DED_COUNT) },
	{ "EA_MAM_A1MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A1MEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A1MEM_DED_COUNT) },
	{ "EA_MAM_A2MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A2MEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A2MEM_DED_COUNT) },
	{ "EA_MAM_A3MEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A3MEM_SEC_COUNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_A3MEM_DED_COUNT) },
	{ "EA_MAM_AFMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT),
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT, MAM_AFMEM_SEC_COUNT), 0, 0 },
	{ "EA_MAM_AFMEM", SOC15_WEG_ENTWY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,
	  SOC15_WEG_FIEWD(GCEA_EDC_CNT3, MAM_AFMEM_DED_COUNT) },

	/* WWC */
	{ "WWCG_INSTW_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCG_INSTW_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCG_INSTW_WAM_DED_COUNT) },
	{ "WWCG_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCG_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCG_SCWATCH_WAM_DED_COUNT) },
	{ "WWCV_INSTW_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCV_INSTW_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCV_INSTW_WAM_DED_COUNT) },
	{ "WWCV_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCV_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWCV_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_TCTAG_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_TCTAG_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_TCTAG_WAM_DED_COUNT) },
	{ "WWC_SPM_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SPM_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SPM_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SWM_DATA_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SWM_DATA_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SWM_DATA_WAM_DED_COUNT) },
	{ "WWC_SWM_ADDW_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SWM_ADDW_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT, WWC_SWM_ADDW_WAM_DED_COUNT) },
	{ "WWC_SPM_SE0_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE0_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE0_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE1_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE1_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE1_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE2_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE2_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE2_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE3_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE3_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE3_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE4_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE4_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE4_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE5_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE5_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE5_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE6_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE6_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE6_SCWATCH_WAM_DED_COUNT) },
	{ "WWC_SPM_SE7_SCWATCH_WAM", SOC15_WEG_ENTWY(GC, 0, mmWWC_EDC_CNT2),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE7_SCWATCH_WAM_SEC_COUNT),
	  SOC15_WEG_FIEWD(WWC_EDC_CNT2, WWC_SPM_SE7_SCWATCH_WAM_DED_COUNT) },
};

static const chaw * const vmw2_mems[] = {
	"UTC_VMW2_BANK_CACHE_0_BIGK_MEM0",
	"UTC_VMW2_BANK_CACHE_0_BIGK_MEM1",
	"UTC_VMW2_BANK_CACHE_0_4K_MEM0",
	"UTC_VMW2_BANK_CACHE_0_4K_MEM1",
	"UTC_VMW2_BANK_CACHE_1_BIGK_MEM0",
	"UTC_VMW2_BANK_CACHE_1_BIGK_MEM1",
	"UTC_VMW2_BANK_CACHE_1_4K_MEM0",
	"UTC_VMW2_BANK_CACHE_1_4K_MEM1",
	"UTC_VMW2_BANK_CACHE_2_BIGK_MEM0",
	"UTC_VMW2_BANK_CACHE_2_BIGK_MEM1",
	"UTC_VMW2_BANK_CACHE_2_4K_MEM0",
	"UTC_VMW2_BANK_CACHE_2_4K_MEM1",
	"UTC_VMW2_BANK_CACHE_3_BIGK_MEM0",
	"UTC_VMW2_BANK_CACHE_3_BIGK_MEM1",
	"UTC_VMW2_BANK_CACHE_3_4K_MEM0",
	"UTC_VMW2_BANK_CACHE_3_4K_MEM1",
	"UTC_VMW2_IFIFO_GWOUP0",
	"UTC_VMW2_IFIFO_GWOUP1",
	"UTC_VMW2_IFIFO_GWOUP2",
	"UTC_VMW2_IFIFO_GWOUP3",
	"UTC_VMW2_IFIFO_GWOUP4",
	"UTC_VMW2_IFIFO_GWOUP5",
	"UTC_VMW2_IFIFO_GWOUP6",
	"UTC_VMW2_IFIFO_GWOUP7",
	"UTC_VMW2_IFIFO_GWOUP8",
	"UTC_VMW2_IFIFO_GWOUP9",
	"UTC_VMW2_IFIFO_GWOUP10",
	"UTC_VMW2_IFIFO_GWOUP11",
	"UTC_VMW2_IFIFO_GWOUP12",
	"UTC_VMW2_IFIFO_GWOUP13",
	"UTC_VMW2_IFIFO_GWOUP14",
	"UTC_VMW2_IFIFO_GWOUP15",
	"UTC_VMW2_IFIFO_GWOUP16",
	"UTC_VMW2_IFIFO_GWOUP17",
	"UTC_VMW2_IFIFO_GWOUP18",
	"UTC_VMW2_IFIFO_GWOUP19",
	"UTC_VMW2_IFIFO_GWOUP20",
	"UTC_VMW2_IFIFO_GWOUP21",
	"UTC_VMW2_IFIFO_GWOUP22",
	"UTC_VMW2_IFIFO_GWOUP23",
	"UTC_VMW2_IFIFO_GWOUP24",
};

static const chaw * const vmw2_wawkew_mems[] = {
	"UTC_VMW2_CACHE_PDE0_MEM0",
	"UTC_VMW2_CACHE_PDE0_MEM1",
	"UTC_VMW2_CACHE_PDE1_MEM0",
	"UTC_VMW2_CACHE_PDE1_MEM1",
	"UTC_VMW2_CACHE_PDE2_MEM0",
	"UTC_VMW2_CACHE_PDE2_MEM1",
	"UTC_VMW2_WDIF_AWADDWS",
	"UTC_VMW2_WDIF_WOG_FIFO",
	"UTC_VMW2_QUEUE_WEQ",
	"UTC_VMW2_QUEUE_WET",
};

static const chaw * const utcw2_woutew_mems[] = {
	"UTCW2_WOUTEW_GWOUP0_VMW2_WEQ_FIFO0",
	"UTCW2_WOUTEW_GWOUP1_VMW2_WEQ_FIFO1",
	"UTCW2_WOUTEW_GWOUP2_VMW2_WEQ_FIFO2",
	"UTCW2_WOUTEW_GWOUP3_VMW2_WEQ_FIFO3",
	"UTCW2_WOUTEW_GWOUP4_VMW2_WEQ_FIFO4",
	"UTCW2_WOUTEW_GWOUP5_VMW2_WEQ_FIFO5",
	"UTCW2_WOUTEW_GWOUP6_VMW2_WEQ_FIFO6",
	"UTCW2_WOUTEW_GWOUP7_VMW2_WEQ_FIFO7",
	"UTCW2_WOUTEW_GWOUP8_VMW2_WEQ_FIFO8",
	"UTCW2_WOUTEW_GWOUP9_VMW2_WEQ_FIFO9",
	"UTCW2_WOUTEW_GWOUP10_VMW2_WEQ_FIFO10",
	"UTCW2_WOUTEW_GWOUP11_VMW2_WEQ_FIFO11",
	"UTCW2_WOUTEW_GWOUP12_VMW2_WEQ_FIFO12",
	"UTCW2_WOUTEW_GWOUP13_VMW2_WEQ_FIFO13",
	"UTCW2_WOUTEW_GWOUP14_VMW2_WEQ_FIFO14",
	"UTCW2_WOUTEW_GWOUP15_VMW2_WEQ_FIFO15",
	"UTCW2_WOUTEW_GWOUP16_VMW2_WEQ_FIFO16",
	"UTCW2_WOUTEW_GWOUP17_VMW2_WEQ_FIFO17",
	"UTCW2_WOUTEW_GWOUP18_VMW2_WEQ_FIFO18",
	"UTCW2_WOUTEW_GWOUP19_VMW2_WEQ_FIFO19",
	"UTCW2_WOUTEW_GWOUP20_VMW2_WEQ_FIFO20",
	"UTCW2_WOUTEW_GWOUP21_VMW2_WEQ_FIFO21",
	"UTCW2_WOUTEW_GWOUP22_VMW2_WEQ_FIFO22",
	"UTCW2_WOUTEW_GWOUP23_VMW2_WEQ_FIFO23",
	"UTCW2_WOUTEW_GWOUP24_VMW2_WEQ_FIFO24",
};

static const chaw * const atc_w2_cache_2m_mems[] = {
	"UTC_ATCW2_CACHE_2M_BANK0_WAY0_MEM",
	"UTC_ATCW2_CACHE_2M_BANK0_WAY1_MEM",
	"UTC_ATCW2_CACHE_2M_BANK1_WAY0_MEM",
	"UTC_ATCW2_CACHE_2M_BANK1_WAY1_MEM",
};

static const chaw * const atc_w2_cache_4k_mems[] = {
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM0",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM1",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM2",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM3",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM4",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM5",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM6",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY0_MEM7",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM0",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM1",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM2",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM3",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM4",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM5",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM6",
	"UTC_ATCW2_CACHE_4K_BANK0_WAY1_MEM7",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM0",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM1",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM2",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM3",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM4",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM5",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM6",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY0_MEM7",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM0",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM1",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM2",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM3",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM4",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM5",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM6",
	"UTC_ATCW2_CACHE_4K_BANK1_WAY1_MEM7",
};

static int gfx_v9_4_quewy_utc_edc_status(stwuct amdgpu_device *adev,
					 stwuct was_eww_data *eww_data)
{
	uint32_t i, data;
	uint32_t sec_count, ded_count;

	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_CNTW, 0);

	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW, 0);

	fow (i = 0; i < AWWAY_SIZE(vmw2_mems); i++) {
		WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, i);
		data = WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_CNTW);

		sec_count = WEG_GET_FIEWD(data, VMW2_MEM_ECC_CNTW, SEC_COUNT);
		if (sec_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, SEC %d\n", i,
				 vmw2_mems[i], sec_count);
			eww_data->ce_count += sec_count;
		}

		ded_count = WEG_GET_FIEWD(data, VMW2_MEM_ECC_CNTW, DED_COUNT);
		if (ded_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, DED %d\n", i,
				 vmw2_mems[i], ded_count);
			eww_data->ue_count += ded_count;
		}
	}

	fow (i = 0; i < AWWAY_SIZE(vmw2_wawkew_mems); i++) {
		WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, i);
		data = WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_CNTW);

		sec_count = WEG_GET_FIEWD(data, VMW2_WAWKEW_MEM_ECC_CNTW,
					  SEC_COUNT);
		if (sec_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, SEC %d\n", i,
				 vmw2_wawkew_mems[i], sec_count);
			eww_data->ce_count += sec_count;
		}

		ded_count = WEG_GET_FIEWD(data, VMW2_WAWKEW_MEM_ECC_CNTW,
					  DED_COUNT);
		if (ded_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, DED %d\n", i,
				 vmw2_wawkew_mems[i], ded_count);
			eww_data->ue_count += ded_count;
		}
	}

	fow (i = 0; i < AWWAY_SIZE(utcw2_woutew_mems); i++) {
		WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, i);
		data = WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_CNTW);

		sec_count = WEG_GET_FIEWD(data, UTCW2_MEM_ECC_CNTW, SEC_COUNT);
		if (sec_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, SEC %d\n", i,
				 utcw2_woutew_mems[i], sec_count);
			eww_data->ce_count += sec_count;
		}

		ded_count = WEG_GET_FIEWD(data, UTCW2_MEM_ECC_CNTW, DED_COUNT);
		if (ded_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, DED %d\n", i,
				 utcw2_woutew_mems[i], ded_count);
			eww_data->ue_count += ded_count;
		}
	}

	fow (i = 0; i < AWWAY_SIZE(atc_w2_cache_2m_mems); i++) {
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, i);
		data = WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW);

		sec_count = WEG_GET_FIEWD(data, ATC_W2_CACHE_2M_DSM_CNTW,
					  SEC_COUNT);
		if (sec_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, SEC %d\n", i,
				 atc_w2_cache_2m_mems[i], sec_count);
			eww_data->ce_count += sec_count;
		}

		ded_count = WEG_GET_FIEWD(data, ATC_W2_CACHE_2M_DSM_CNTW,
					  DED_COUNT);
		if (ded_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, DED %d\n", i,
				 atc_w2_cache_2m_mems[i], ded_count);
			eww_data->ue_count += ded_count;
		}
	}

	fow (i = 0; i < AWWAY_SIZE(atc_w2_cache_4k_mems); i++) {
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, i);
		data = WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_CNTW);

		sec_count = WEG_GET_FIEWD(data, ATC_W2_CACHE_4K_DSM_CNTW,
					  SEC_COUNT);
		if (sec_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, SEC %d\n", i,
				 atc_w2_cache_4k_mems[i], sec_count);
			eww_data->ce_count += sec_count;
		}

		ded_count = WEG_GET_FIEWD(data, ATC_W2_CACHE_4K_DSM_CNTW,
					  DED_COUNT);
		if (ded_count) {
			dev_info(adev->dev,
				 "Instance[%d]: SubBwock %s, DED %d\n", i,
				 atc_w2_cache_4k_mems[i], ded_count);
			eww_data->ue_count += ded_count;
		}
	}

	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, 255);

	wetuwn 0;
}

static int gfx_v9_4_was_ewwow_count(stwuct amdgpu_device *adev,
				    const stwuct soc15_weg_entwy *weg,
				    uint32_t se_id, uint32_t inst_id,
				    uint32_t vawue, uint32_t *sec_count,
				    uint32_t *ded_count)
{
	uint32_t i;
	uint32_t sec_cnt, ded_cnt;

	fow (i = 0; i < AWWAY_SIZE(gfx_v9_4_was_fiewds); i++) {
		if (gfx_v9_4_was_fiewds[i].weg_offset != weg->weg_offset ||
		    gfx_v9_4_was_fiewds[i].seg != weg->seg ||
		    gfx_v9_4_was_fiewds[i].inst != weg->inst)
			continue;

		sec_cnt = (vawue & gfx_v9_4_was_fiewds[i].sec_count_mask) >>
			  gfx_v9_4_was_fiewds[i].sec_count_shift;
		if (sec_cnt) {
			dev_info(adev->dev,
				 "GFX SubBwock %s, Instance[%d][%d], SEC %d\n",
				 gfx_v9_4_was_fiewds[i].name, se_id, inst_id,
				 sec_cnt);
			*sec_count += sec_cnt;
		}

		ded_cnt = (vawue & gfx_v9_4_was_fiewds[i].ded_count_mask) >>
			  gfx_v9_4_was_fiewds[i].ded_count_shift;
		if (ded_cnt) {
			dev_info(adev->dev,
				 "GFX SubBwock %s, Instance[%d][%d], DED %d\n",
				 gfx_v9_4_was_fiewds[i].name, se_id, inst_id,
				 ded_cnt);
			*ded_count += ded_cnt;
		}
	}

	wetuwn 0;
}

static void gfx_v9_4_quewy_was_ewwow_count(stwuct amdgpu_device *adev,
					  void *was_ewwow_status)
{
	stwuct was_eww_data *eww_data = (stwuct was_eww_data *)was_ewwow_status;
	uint32_t sec_count = 0, ded_count = 0;
	uint32_t i, j, k;
	uint32_t weg_vawue;

	if (!amdgpu_was_is_suppowted(adev, AMDGPU_WAS_BWOCK__GFX))
		wetuwn;

	eww_data->ue_count = 0;
	eww_data->ce_count = 0;

	mutex_wock(&adev->gwbm_idx_mutex);

	fow (i = 0; i < AWWAY_SIZE(gfx_v9_4_edc_countew_wegs); i++) {
		fow (j = 0; j < gfx_v9_4_edc_countew_wegs[i].se_num; j++) {
			fow (k = 0; k < gfx_v9_4_edc_countew_wegs[i].instance;
			     k++) {
				gfx_v9_4_sewect_se_sh(adev, j, 0, k);
				weg_vawue = WWEG32(SOC15_WEG_ENTWY_OFFSET(
					gfx_v9_4_edc_countew_wegs[i]));
				if (weg_vawue)
					gfx_v9_4_was_ewwow_count(adev,
						&gfx_v9_4_edc_countew_wegs[i],
						j, k, weg_vawue, &sec_count,
						&ded_count);
			}
		}
	}

	eww_data->ce_count += sec_count;
	eww_data->ue_count += ded_count;

	gfx_v9_4_sewect_se_sh(adev, 0xffffffff, 0xffffffff, 0xffffffff);
	mutex_unwock(&adev->gwbm_idx_mutex);

	gfx_v9_4_quewy_utc_edc_status(adev, eww_data);

}

static void gfx_v9_4_weset_was_ewwow_count(stwuct amdgpu_device *adev)
{
	int i, j, k;

	if (!amdgpu_was_is_suppowted(adev, AMDGPU_WAS_BWOCK__GFX))
		wetuwn;

	mutex_wock(&adev->gwbm_idx_mutex);
	fow (i = 0; i < AWWAY_SIZE(gfx_v9_4_edc_countew_wegs); i++) {
		fow (j = 0; j < gfx_v9_4_edc_countew_wegs[i].se_num; j++) {
			fow (k = 0; k < gfx_v9_4_edc_countew_wegs[i].instance;
			     k++) {
				gfx_v9_4_sewect_se_sh(adev, j, 0x0, k);
				WWEG32(SOC15_WEG_ENTWY_OFFSET(
					gfx_v9_4_edc_countew_wegs[i]));
			}
		}
	}
	WWEG32_SOC15(GC, 0, mmGWBM_GFX_INDEX, 0xe0000000);
	mutex_unwock(&adev->gwbm_idx_mutex);

	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_CNTW, 0);

	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW, 0);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW, 0);

	fow (i = 0; i < AWWAY_SIZE(vmw2_mems); i++) {
		WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, i);
		WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_CNTW);
	}

	fow (i = 0; i < AWWAY_SIZE(vmw2_wawkew_mems); i++) {
		WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, i);
		WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_CNTW);
	}

	fow (i = 0; i < AWWAY_SIZE(utcw2_woutew_mems); i++) {
		WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, i);
		WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_CNTW);
	}

	fow (i = 0; i < AWWAY_SIZE(atc_w2_cache_2m_mems); i++) {
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, i);
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_CNTW);
	}

	fow (i = 0; i < AWWAY_SIZE(atc_w2_cache_4k_mems); i++) {
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, i);
		WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_CNTW);
	}

	WWEG32_SOC15(GC, 0, mmVMW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmVMW2_WAWKEW_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmUTCW2_MEM_ECC_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_2M_DSM_INDEX, 255);
	WWEG32_SOC15(GC, 0, mmATC_W2_CACHE_4K_DSM_INDEX, 255);
}

static const stwuct soc15_weg_entwy gfx_v9_4_ea_eww_status_wegs =
	{ SOC15_WEG_ENTWY(GC, 0, mmGCEA_EWW_STATUS), 0, 1, 32 };

static void gfx_v9_4_quewy_was_ewwow_status(stwuct amdgpu_device *adev)
{
	uint32_t i, j;
	uint32_t weg_vawue;

	if (!amdgpu_was_is_suppowted(adev, AMDGPU_WAS_BWOCK__GFX))
		wetuwn;

	mutex_wock(&adev->gwbm_idx_mutex);

	fow (i = 0; i < gfx_v9_4_ea_eww_status_wegs.se_num; i++) {
		fow (j = 0; j < gfx_v9_4_ea_eww_status_wegs.instance;
		     j++) {
			gfx_v9_4_sewect_se_sh(adev, i, 0, j);
			weg_vawue = WWEG32(SOC15_WEG_ENTWY_OFFSET(
				gfx_v9_4_ea_eww_status_wegs));
			if (WEG_GET_FIEWD(weg_vawue, GCEA_EWW_STATUS, SDP_WDWSP_STATUS) ||
			    WEG_GET_FIEWD(weg_vawue, GCEA_EWW_STATUS, SDP_WWWSP_STATUS) ||
			    WEG_GET_FIEWD(weg_vawue, GCEA_EWW_STATUS, SDP_WDWSP_DATAPAWITY_EWWOW)) {
				/* SDP wead/wwite ewwow/pawity ewwow in FUE_IS_FATAW mode
				 * can cause system fataw ewwow in awctuwas. Hawvest the ewwow
				 * status befowe GPU weset */
				dev_wawn(adev->dev, "GCEA eww detected at instance: %d, status: 0x%x!\n",
						j, weg_vawue);
			}
		}
	}

	gfx_v9_4_sewect_se_sh(adev, 0xffffffff, 0xffffffff, 0xffffffff);
	mutex_unwock(&adev->gwbm_idx_mutex);
}


const stwuct amdgpu_was_bwock_hw_ops  gfx_v9_4_was_ops = {
	.quewy_was_ewwow_count = &gfx_v9_4_quewy_was_ewwow_count,
	.weset_was_ewwow_count = &gfx_v9_4_weset_was_ewwow_count,
	.quewy_was_ewwow_status = &gfx_v9_4_quewy_was_ewwow_status,
};

stwuct amdgpu_gfx_was gfx_v9_4_was = {
	.was_bwock = {
		.hw_ops = &gfx_v9_4_was_ops,
	},
};
