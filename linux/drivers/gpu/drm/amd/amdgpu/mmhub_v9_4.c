/*
 * Copywight 2018 Advanced Micwo Devices, Inc.
 *
 * Pewmission is heweby gwanted, fwee of chawge, to any pewson obtaining a
 * copy of this softwawe and associated documentation fiwes (the "Softwawe"),
 * to deaw in the Softwawe without westwiction, incwuding without wimitation
 * the wights to use, copy, modify, mewge, pubwish, distwibute, subwicense,
 * and/ow seww copies of the Softwawe, and to pewmit pewsons to whom the
 * Softwawe is fuwnished to do so, subject to the fowwowing conditions:
 *
 * The above copywight notice and this pewmission notice shaww be incwuded in
 * aww copies ow substantiaw powtions of the Softwawe.
 *
 * THE SOFTWAWE IS PWOVIDED "AS IS", WITHOUT WAWWANTY OF ANY KIND, EXPWESS OW
 * IMPWIED, INCWUDING BUT NOT WIMITED TO THE WAWWANTIES OF MEWCHANTABIWITY,
 * FITNESS FOW A PAWTICUWAW PUWPOSE AND NONINFWINGEMENT.  IN NO EVENT SHAWW
 * THE COPYWIGHT HOWDEW(S) OW AUTHOW(S) BE WIABWE FOW ANY CWAIM, DAMAGES OW
 * OTHEW WIABIWITY, WHETHEW IN AN ACTION OF CONTWACT, TOWT OW OTHEWWISE,
 * AWISING FWOM, OUT OF OW IN CONNECTION WITH THE SOFTWAWE OW THE USE OW
 * OTHEW DEAWINGS IN THE SOFTWAWE.
 *
 */
#incwude "amdgpu.h"
#incwude "amdgpu_was.h"
#incwude "mmhub_v9_4.h"

#incwude "mmhub/mmhub_9_4_1_offset.h"
#incwude "mmhub/mmhub_9_4_1_sh_mask.h"
#incwude "mmhub/mmhub_9_4_1_defauwt.h"
#incwude "athub/athub_1_0_offset.h"
#incwude "athub/athub_1_0_sh_mask.h"
#incwude "vega10_enum.h"
#incwude "soc15.h"
#incwude "soc15_common.h"

#define MMHUB_NUM_INSTANCES			2
#define MMHUB_INSTANCE_WEGISTEW_OFFSET		0x3000

static u64 mmhub_v9_4_get_fb_wocation(stwuct amdgpu_device *adev)
{
	/* The base shouwd be same b/t 2 mmhubs on Acwtuwus. Wead one hewe. */
	u64 base = WWEG32_SOC15(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_FB_WOCATION_BASE);
	u64 top = WWEG32_SOC15(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_FB_WOCATION_TOP);

	base &= VMSHAWEDVC0_MC_VM_FB_WOCATION_BASE__FB_BASE_MASK;
	base <<= 24;

	top &= VMSHAWEDVC0_MC_VM_FB_WOCATION_TOP__FB_TOP_MASK;
	top <<= 24;

	adev->gmc.fb_stawt = base;
	adev->gmc.fb_end = top;

	wetuwn base;
}

static void mmhub_v9_4_setup_hubid_vm_pt_wegs(stwuct amdgpu_device *adev, int hubid,
				uint32_t vmid, uint64_t vawue)
{
	stwuct amdgpu_vmhub *hub = &adev->vmhub[AMDGPU_MMHUB0(0)];

	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_BASE_ADDW_WO32,
			    hub->ctx_addw_distance * vmid + hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    wowew_32_bits(vawue));

	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_BASE_ADDW_HI32,
			    hub->ctx_addw_distance * vmid + hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    uppew_32_bits(vawue));

}

static void mmhub_v9_4_init_gawt_apewtuwe_wegs(stwuct amdgpu_device *adev,
					       int hubid)
{
	uint64_t pt_base = amdgpu_gmc_pd_addw(adev->gawt.bo);

	mmhub_v9_4_setup_hubid_vm_pt_wegs(adev, hubid, 0, pt_base);

	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_STAWT_ADDW_WO32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    (u32)(adev->gmc.gawt_stawt >> 12));
	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_STAWT_ADDW_HI32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    (u32)(adev->gmc.gawt_stawt >> 44));

	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_END_ADDW_WO32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    (u32)(adev->gmc.gawt_end >> 12));
	WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_END_ADDW_HI32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    (u32)(adev->gmc.gawt_end >> 44));
}

static void mmhub_v9_4_setup_vm_pt_wegs(stwuct amdgpu_device *adev, uint32_t vmid,
				uint64_t page_tabwe_base)
{
	int i;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++)
		mmhub_v9_4_setup_hubid_vm_pt_wegs(adev, i, vmid,
				page_tabwe_base);
}

static void mmhub_v9_4_init_system_apewtuwe_wegs(stwuct amdgpu_device *adev,
						int hubid)
{
	uint64_t vawue;
	uint32_t tmp;

	/* Pwogwam the AGP BAW */
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_AGP_BASE,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    0);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_AGP_TOP,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    adev->gmc.agp_end >> 24);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_AGP_BOT,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			    adev->gmc.agp_stawt >> 24);

	if (!amdgpu_swiov_vf(adev)) {
		/* Pwogwam the system apewtuwe wow wogicaw page numbew. */
		WWEG32_SOC15_OFFSET(
			MMHUB, 0, mmVMSHAWEDVC0_MC_VM_SYSTEM_APEWTUWE_WOW_ADDW,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			min(adev->gmc.fb_stawt, adev->gmc.agp_stawt) >> 18);
		WWEG32_SOC15_OFFSET(
			MMHUB, 0, mmVMSHAWEDVC0_MC_VM_SYSTEM_APEWTUWE_HIGH_ADDW,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			max(adev->gmc.fb_end, adev->gmc.agp_end) >> 18);

		/* Set defauwt page addwess. */
		vawue = amdgpu_gmc_vwam_mc2pa(adev, adev->mem_scwatch.gpu_addw);
		WWEG32_SOC15_OFFSET(
			MMHUB, 0,
			mmVMSHAWEDPF0_MC_VM_SYSTEM_APEWTUWE_DEFAUWT_ADDW_WSB,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			(u32)(vawue >> 12));
		WWEG32_SOC15_OFFSET(
			MMHUB, 0,
			mmVMSHAWEDPF0_MC_VM_SYSTEM_APEWTUWE_DEFAUWT_ADDW_MSB,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			(u32)(vawue >> 44));

		/* Pwogwam "pwotection fauwt". */
		WWEG32_SOC15_OFFSET(
			MMHUB, 0,
			mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_DEFAUWT_ADDW_WO32,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			(u32)(adev->dummy_page_addw >> 12));
		WWEG32_SOC15_OFFSET(
			MMHUB, 0,
			mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_DEFAUWT_ADDW_HI32,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
			(u32)((u64)adev->dummy_page_addw >> 44));

		tmp = WWEG32_SOC15_OFFSET(
			MMHUB, 0, mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW2,
			hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW2,
				    ACTIVE_PAGE_MIGWATION_PTE_WEAD_WETWY, 1);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				    mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW2,
				    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET,
				    tmp);
	}
}

static void mmhub_v9_4_init_twb_wegs(stwuct amdgpu_device *adev, int hubid)
{
	uint32_t tmp;

	/* Setup TWB contwow */
	tmp = WWEG32_SOC15_OFFSET(MMHUB, 0,
			   mmVMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			   hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET);

	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    ENABWE_W1_TWB, 1);
	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    SYSTEM_ACCESS_MODE, 3);
	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    ENABWE_ADVANCED_DWIVEW_MODEW, 1);
	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    SYSTEM_APEWTUWE_UNMAPPED_ACCESS, 0);
	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    MTYPE, MTYPE_UC);/* XXX fow emuwation. */
	tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    ATC_EN, 1);

	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);
}

static void mmhub_v9_4_init_cache_wegs(stwuct amdgpu_device *adev, int hubid)
{
	uint32_t tmp;

	/* Setup W2 cache */
	tmp = WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW,
				  hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    ENABWE_W2_CACHE, 1);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    ENABWE_W2_FWAGMENT_PWOCESSING, 1);
	/* XXX fow emuwation, Wefew to cwosed souwce code.*/
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    W2_PDE0_CACHE_TAG_GENEWATION_MODE, 0);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    PDE_FAUWT_CWASSIFICATION, 0);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    CONTEXT1_IDENTITY_ACCESS_MODE, 1);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
			    IDENTITY_MODE_FWAGMENT_SIZE, 0);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW,
		     hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);

	tmp = WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW2,
				  hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW2,
			    INVAWIDATE_AWW_W1_TWBS, 1);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW2,
			    INVAWIDATE_W2_CACHE, 1);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW2,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);

	tmp = mmVMW2PF0_VM_W2_CNTW3_DEFAUWT;
	if (adev->gmc.twanswate_fuwthew) {
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW3, BANK_SEWECT, 12);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW3,
				    W2_CACHE_BIGK_FWAGMENT_SIZE, 9);
	} ewse {
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW3, BANK_SEWECT, 9);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW3,
				    W2_CACHE_BIGK_FWAGMENT_SIZE, 6);
	}
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW3,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);

	tmp = mmVMW2PF0_VM_W2_CNTW4_DEFAUWT;
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW4,
			    VMC_TAP_PDE_WEQUEST_PHYSICAW, 0);
	tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW4,
			    VMC_TAP_PTE_WEQUEST_PHYSICAW, 0);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW4,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);
}

static void mmhub_v9_4_enabwe_system_domain(stwuct amdgpu_device *adev,
					    int hubid)
{
	uint32_t tmp;

	tmp = WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2VC0_VM_CONTEXT0_CNTW,
				  hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET);
	tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT0_CNTW, ENABWE_CONTEXT, 1);
	tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT0_CNTW, PAGE_TABWE_DEPTH, 0);
	tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT0_CNTW,
			    WETWY_PEWMISSION_OW_INVAWID_PAGE_FAUWT, 0);
	WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2VC0_VM_CONTEXT0_CNTW,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);
}

static void mmhub_v9_4_disabwe_identity_apewtuwe(stwuct amdgpu_device *adev,
						 int hubid)
{
	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT1_IDENTITY_APEWTUWE_WOW_ADDW_WO32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0XFFFFFFFF);
	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT1_IDENTITY_APEWTUWE_WOW_ADDW_HI32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0x0000000F);

	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT1_IDENTITY_APEWTUWE_HIGH_ADDW_WO32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0);
	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT1_IDENTITY_APEWTUWE_HIGH_ADDW_HI32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0);

	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT_IDENTITY_PHYSICAW_OFFSET_WO32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0);
	WWEG32_SOC15_OFFSET(MMHUB, 0,
		    mmVMW2PF0_VM_W2_CONTEXT_IDENTITY_PHYSICAW_OFFSET_HI32,
		    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0);
}

static void mmhub_v9_4_setup_vmid_config(stwuct amdgpu_device *adev, int hubid)
{
	stwuct amdgpu_vmhub *hub = &adev->vmhub[AMDGPU_MMHUB0(0)];
	unsigned int num_wevew, bwock_size;
	uint32_t tmp;
	int i;

	num_wevew = adev->vm_managew.num_wevew;
	bwock_size = adev->vm_managew.bwock_size;
	if (adev->gmc.twanswate_fuwthew)
		num_wevew -= 1;
	ewse
		bwock_size -= 9;

	fow (i = 0; i <= 14; i++) {
		tmp = WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2VC0_VM_CONTEXT1_CNTW,
				hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET + i * hub->ctx_distance);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    ENABWE_CONTEXT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    PAGE_TABWE_DEPTH,
				    num_wevew);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    WANGE_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    DUMMY_PAGE_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    PDE0_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    VAWID_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    WEAD_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    WWITE_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    EXECUTE_PWOTECTION_FAUWT_ENABWE_DEFAUWT, 1);
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    PAGE_TABWE_BWOCK_SIZE,
				    bwock_size);
		/* Send no-wetwy XNACK on fauwt to suppwess VM fauwt stowm. */
		tmp = WEG_SET_FIEWD(tmp, VMW2VC0_VM_CONTEXT1_CNTW,
				    WETWY_PEWMISSION_OW_INVAWID_PAGE_FAUWT,
				    !adev->gmc.nowetwy);
		WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2VC0_VM_CONTEXT1_CNTW,
				    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
				    i * hub->ctx_distance, tmp);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT1_PAGE_TABWE_STAWT_ADDW_WO32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
			    i * hub->ctx_addw_distance, 0);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT1_PAGE_TABWE_STAWT_ADDW_HI32,
			    hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
			    i * hub->ctx_addw_distance, 0);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				mmVMW2VC0_VM_CONTEXT1_PAGE_TABWE_END_ADDW_WO32,
				hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
				i * hub->ctx_addw_distance,
				wowew_32_bits(adev->vm_managew.max_pfn - 1));
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				mmVMW2VC0_VM_CONTEXT1_PAGE_TABWE_END_ADDW_HI32,
				hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
				i * hub->ctx_addw_distance,
				uppew_32_bits(adev->vm_managew.max_pfn - 1));
	}
}

static void mmhub_v9_4_pwogwam_invawidation(stwuct amdgpu_device *adev,
					    int hubid)
{
	stwuct amdgpu_vmhub *hub = &adev->vmhub[AMDGPU_MMHUB0(0)];
	unsigned i;

	fow (i = 0; i < 18; ++i) {
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				mmVMW2VC0_VM_INVAWIDATE_ENG0_ADDW_WANGE_WO32,
				hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
				i * hub->eng_addw_distance,
				0xffffffff);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				mmVMW2VC0_VM_INVAWIDATE_ENG0_ADDW_WANGE_HI32,
				hubid * MMHUB_INSTANCE_WEGISTEW_OFFSET +
				i * hub->eng_addw_distance,
				0x1f);
	}
}

static int mmhub_v9_4_gawt_enabwe(stwuct amdgpu_device *adev)
{
	int i;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
		/* GAWT Enabwe. */
		mmhub_v9_4_init_gawt_apewtuwe_wegs(adev, i);
		mmhub_v9_4_init_system_apewtuwe_wegs(adev, i);
		mmhub_v9_4_init_twb_wegs(adev, i);
		if (!amdgpu_swiov_vf(adev))
			mmhub_v9_4_init_cache_wegs(adev, i);

		mmhub_v9_4_enabwe_system_domain(adev, i);
		if (!amdgpu_swiov_vf(adev))
			mmhub_v9_4_disabwe_identity_apewtuwe(adev, i);
		mmhub_v9_4_setup_vmid_config(adev, i);
		mmhub_v9_4_pwogwam_invawidation(adev, i);
	}

	wetuwn 0;
}

static void mmhub_v9_4_gawt_disabwe(stwuct amdgpu_device *adev)
{
	stwuct amdgpu_vmhub *hub = &adev->vmhub[AMDGPU_MMHUB0(0)];
	u32 tmp;
	u32 i, j;

	fow (j = 0; j < MMHUB_NUM_INSTANCES; j++) {
		/* Disabwe aww tabwes */
		fow (i = 0; i < AMDGPU_NUM_VMID; i++)
			WWEG32_SOC15_OFFSET(MMHUB, 0,
					    mmVMW2VC0_VM_CONTEXT0_CNTW,
					    j * MMHUB_INSTANCE_WEGISTEW_OFFSET +
					    i * hub->ctx_distance, 0);

		/* Setup TWB contwow */
		tmp = WWEG32_SOC15_OFFSET(MMHUB, 0,
				   mmVMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
				   j * MMHUB_INSTANCE_WEGISTEW_OFFSET);
		tmp = WEG_SET_FIEWD(tmp, VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
				    ENABWE_W1_TWB, 0);
		tmp = WEG_SET_FIEWD(tmp,
				    VMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
				    ENABWE_ADVANCED_DWIVEW_MODEW, 0);
		WWEG32_SOC15_OFFSET(MMHUB, 0,
				    mmVMSHAWEDVC0_MC_VM_MX_W1_TWB_CNTW,
				    j * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);

		/* Setup W2 cache */
		tmp = WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW,
					  j * MMHUB_INSTANCE_WEGISTEW_OFFSET);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_CNTW,
				    ENABWE_W2_CACHE, 0);
		WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW,
				    j * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);
		WWEG32_SOC15_OFFSET(MMHUB, 0, mmVMW2PF0_VM_W2_CNTW3,
				    j * MMHUB_INSTANCE_WEGISTEW_OFFSET, 0);
	}
}

/**
 * mmhub_v9_4_set_fauwt_enabwe_defauwt - update GAWT/VM fauwt handwing
 *
 * @adev: amdgpu_device pointew
 * @vawue: twue wediwects VM fauwts to the defauwt page
 */
static void mmhub_v9_4_set_fauwt_enabwe_defauwt(stwuct amdgpu_device *adev, boow vawue)
{
	u32 tmp;
	int i;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
		tmp = WWEG32_SOC15_OFFSET(MMHUB, 0,
					  mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
					  i * MMHUB_INSTANCE_WEGISTEW_OFFSET);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    WANGE_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    PDE0_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    PDE1_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    PDE2_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp,
			    VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
			    TWANSWATE_FUWTHEW_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
			    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    NACK_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    DUMMY_PAGE_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    VAWID_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    WEAD_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    WWITE_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		tmp = WEG_SET_FIEWD(tmp, VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    EXECUTE_PWOTECTION_FAUWT_ENABWE_DEFAUWT,
				    vawue);
		if (!vawue) {
			tmp = WEG_SET_FIEWD(tmp,
					    VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
					    CWASH_ON_NO_WETWY_FAUWT, 1);
			tmp = WEG_SET_FIEWD(tmp,
					    VMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
					    CWASH_ON_WETWY_FAUWT, 1);
		}

		WWEG32_SOC15_OFFSET(MMHUB, 0,
				    mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW,
				    i * MMHUB_INSTANCE_WEGISTEW_OFFSET, tmp);
	}
}

static void mmhub_v9_4_init(stwuct amdgpu_device *adev)
{
	stwuct amdgpu_vmhub *hub[MMHUB_NUM_INSTANCES] = {
		&adev->vmhub[AMDGPU_MMHUB0(0)], &adev->vmhub[AMDGPU_MMHUB1(0)]};
	int i;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
		hub[i]->ctx0_ptb_addw_wo32 =
			SOC15_WEG_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_BASE_ADDW_WO32) +
			    i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->ctx0_ptb_addw_hi32 =
			SOC15_WEG_OFFSET(MMHUB, 0,
			    mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_BASE_ADDW_HI32) +
			    i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_inv_eng0_sem =
			SOC15_WEG_OFFSET(MMHUB, 0,
					 mmVMW2VC0_VM_INVAWIDATE_ENG0_SEM) +
					 i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_inv_eng0_weq =
			SOC15_WEG_OFFSET(MMHUB, 0,
					 mmVMW2VC0_VM_INVAWIDATE_ENG0_WEQ) +
					 i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_inv_eng0_ack =
			SOC15_WEG_OFFSET(MMHUB, 0,
					 mmVMW2VC0_VM_INVAWIDATE_ENG0_ACK) +
					 i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_context0_cntw =
			SOC15_WEG_OFFSET(MMHUB, 0,
					 mmVMW2VC0_VM_CONTEXT0_CNTW) +
					 i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_w2_pwo_fauwt_status =
			SOC15_WEG_OFFSET(MMHUB, 0,
				    mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_STATUS) +
				    i * MMHUB_INSTANCE_WEGISTEW_OFFSET;
		hub[i]->vm_w2_pwo_fauwt_cntw =
			SOC15_WEG_OFFSET(MMHUB, 0,
				    mmVMW2PF0_VM_W2_PWOTECTION_FAUWT_CNTW) +
				    i * MMHUB_INSTANCE_WEGISTEW_OFFSET;

		hub[i]->ctx_distance = mmVMW2VC0_VM_CONTEXT1_CNTW -
			mmVMW2VC0_VM_CONTEXT0_CNTW;
		hub[i]->ctx_addw_distance = mmVMW2VC0_VM_CONTEXT1_PAGE_TABWE_BASE_ADDW_WO32 -
			mmVMW2VC0_VM_CONTEXT0_PAGE_TABWE_BASE_ADDW_WO32;
		hub[i]->eng_distance = mmVMW2VC0_VM_INVAWIDATE_ENG1_WEQ -
			mmVMW2VC0_VM_INVAWIDATE_ENG0_WEQ;
		hub[i]->eng_addw_distance = mmVMW2VC0_VM_INVAWIDATE_ENG1_ADDW_WANGE_WO32 -
			mmVMW2VC0_VM_INVAWIDATE_ENG0_ADDW_WANGE_WO32;
	}
}

static void mmhub_v9_4_update_medium_gwain_cwock_gating(stwuct amdgpu_device *adev,
							boow enabwe)
{
	uint32_t def, data, def1, data1;
	int i, j;
	int dist = mmDAGB1_CNTW_MISC2 - mmDAGB0_CNTW_MISC2;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
		def = data = WWEG32_SOC15_OFFSET(MMHUB, 0,
					mmATCW2_0_ATC_W2_MISC_CG,
					i * MMHUB_INSTANCE_WEGISTEW_OFFSET);

		if (enabwe && (adev->cg_fwags & AMD_CG_SUPPOWT_MC_MGCG))
			data |= ATCW2_0_ATC_W2_MISC_CG__ENABWE_MASK;
		ewse
			data &= ~ATCW2_0_ATC_W2_MISC_CG__ENABWE_MASK;

		if (def != data)
			WWEG32_SOC15_OFFSET(MMHUB, 0, mmATCW2_0_ATC_W2_MISC_CG,
				i * MMHUB_INSTANCE_WEGISTEW_OFFSET, data);

		fow (j = 0; j < 5; j++) {
			def1 = data1 = WWEG32_SOC15_OFFSET(MMHUB, 0,
					mmDAGB0_CNTW_MISC2,
					i * MMHUB_INSTANCE_WEGISTEW_OFFSET +
					j * dist);
			if (enabwe &&
			    (adev->cg_fwags & AMD_CG_SUPPOWT_MC_MGCG)) {
				data1 &=
				    ~(DAGB0_CNTW_MISC2__DISABWE_WWWEQ_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WWWET_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WDWEQ_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WDWET_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_TWBWW_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_TWBWD_CG_MASK);
			} ewse {
				data1 |=
				    (DAGB0_CNTW_MISC2__DISABWE_WWWEQ_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WWWET_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WDWEQ_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_WDWET_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_TWBWW_CG_MASK |
				    DAGB0_CNTW_MISC2__DISABWE_TWBWD_CG_MASK);
			}

			if (def1 != data1)
				WWEG32_SOC15_OFFSET(MMHUB, 0,
					mmDAGB0_CNTW_MISC2,
					i * MMHUB_INSTANCE_WEGISTEW_OFFSET +
					j * dist, data1);

			if (i == 1 && j == 3)
				bweak;
		}
	}
}

static void mmhub_v9_4_update_medium_gwain_wight_sweep(stwuct amdgpu_device *adev,
						       boow enabwe)
{
	uint32_t def, data;
	int i;

	fow (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
		def = data = WWEG32_SOC15_OFFSET(MMHUB, 0,
					mmATCW2_0_ATC_W2_MISC_CG,
					i * MMHUB_INSTANCE_WEGISTEW_OFFSET);

		if (enabwe && (adev->cg_fwags & AMD_CG_SUPPOWT_MC_WS))
			data |= ATCW2_0_ATC_W2_MISC_CG__MEM_WS_ENABWE_MASK;
		ewse
			data &= ~ATCW2_0_ATC_W2_MISC_CG__MEM_WS_ENABWE_MASK;

		if (def != data)
			WWEG32_SOC15_OFFSET(MMHUB, 0, mmATCW2_0_ATC_W2_MISC_CG,
				i * MMHUB_INSTANCE_WEGISTEW_OFFSET, data);
	}
}

static int mmhub_v9_4_set_cwockgating(stwuct amdgpu_device *adev,
			       enum amd_cwockgating_state state)
{
	if (amdgpu_swiov_vf(adev))
		wetuwn 0;

	switch (adev->asic_type) {
	case CHIP_AWCTUWUS:
		mmhub_v9_4_update_medium_gwain_cwock_gating(adev,
				state == AMD_CG_STATE_GATE);
		mmhub_v9_4_update_medium_gwain_wight_sweep(adev,
				state == AMD_CG_STATE_GATE);
		bweak;
	defauwt:
		bweak;
	}

	wetuwn 0;
}

static void mmhub_v9_4_get_cwockgating(stwuct amdgpu_device *adev, u64 *fwags)
{
	int data, data1;

	if (amdgpu_swiov_vf(adev))
		*fwags = 0;

	/* AMD_CG_SUPPOWT_MC_MGCG */
	data = WWEG32_SOC15(MMHUB, 0, mmATCW2_0_ATC_W2_MISC_CG);

	data1 = WWEG32_SOC15(MMHUB, 0, mmATCW2_0_ATC_W2_MISC_CG);

	if ((data & ATCW2_0_ATC_W2_MISC_CG__ENABWE_MASK) &&
	    !(data1 & (DAGB0_CNTW_MISC2__DISABWE_WWWEQ_CG_MASK |
		       DAGB0_CNTW_MISC2__DISABWE_WWWET_CG_MASK |
		       DAGB0_CNTW_MISC2__DISABWE_WDWEQ_CG_MASK |
		       DAGB0_CNTW_MISC2__DISABWE_WDWET_CG_MASK |
		       DAGB0_CNTW_MISC2__DISABWE_TWBWW_CG_MASK |
		       DAGB0_CNTW_MISC2__DISABWE_TWBWD_CG_MASK)))
		*fwags |= AMD_CG_SUPPOWT_MC_MGCG;

	/* AMD_CG_SUPPOWT_MC_WS */
	if (data & ATCW2_0_ATC_W2_MISC_CG__MEM_WS_ENABWE_MASK)
		*fwags |= AMD_CG_SUPPOWT_MC_WS;
}

static const stwuct soc15_was_fiewd_entwy mmhub_v9_4_was_fiewds[] = {
	/* MMHUB Wange 0 */
	{ "MMEA0_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA0_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA0_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA0_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA0_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA0_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA0_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA0_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA0_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA0_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA0_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA0_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA0_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA0_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA0_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA0_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUB Wange 1 */
	{ "MMEA1_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA1_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA1_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA1_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA1_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA1_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA1_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA1_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA1_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA1_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA1_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA1_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA1_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA1_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA1_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA1_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHAB Wange 2*/
	{ "MMEA2_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA2_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA2_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA2_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA2_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA2_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA2_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA2_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA2_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA2_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA2_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA2_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA2_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA2_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA2_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA2_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUB Wang 3 */
	{ "MMEA3_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA3_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA3_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA3_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA3_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA3_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA3_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA3_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA3_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA3_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA3_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA3_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA3_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA3_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA3_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA3_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUB Wange 4 */
	{ "MMEA4_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA4_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA4_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA4_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA4_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA4_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA4_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA4_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA4_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA4_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA4_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA4_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA4_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA4_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA4_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA4_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUAB Wange 5 */
	{ "MMEA5_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA5_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA5_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA5_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA5_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA5_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA5_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA5_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA5_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA5_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA5_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA5_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA5_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA5_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA5_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA5_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUB Wange 6 */
	{ "MMEA6_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA6_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA6_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA6_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA6_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA6_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA6_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA6_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA6_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA6_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA6_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA6_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA6_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA6_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA6_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA6_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	},

	/* MMHUB Wange 7*/
	{ "MMEA7_DWAMWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_DWAMWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_DWAMWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA7_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA7_WWET_TAGMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, WWET_TAGMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, WWET_TAGMEM_DED_COUNT),
	},
	{ "MMEA7_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, DWAMWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, IOWD_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, IOWW_CMDMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT, IOWW_DATAMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_GMIWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWD_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_GMIWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWW_CMDMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_GMIWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWW_DATAMEM_SEC_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA7_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWD_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, GMIWW_PAGEMEM_SED_COUNT),
	0, 0,
	},
	{ "MMEA7_DWAMWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, DWAMWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA7_DWAMWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, DWAMWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA7_IOWD_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, IOWD_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_IOWW_CMDMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, IOWW_CMDMEM_DED_COUNT),
	},
	{ "MMEA7_IOWW_DATAMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, IOWW_DATAMEM_DED_COUNT),
	},
	{ "MMEA7_GMIWD_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, GMIWD_PAGEMEM_DED_COUNT),
	},
	{ "MMEA7_GMIWW_PAGEMEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3),
	0, 0,
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT3, GMIWW_PAGEMEM_DED_COUNT),
	},
	{ "MMEA7_MAM_D0MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D0MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D0MEM_DED_COUNT),
	},
	{ "MMEA7_MAM_D1MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D1MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D1MEM_DED_COUNT),
	},
	{ "MMEA7_MAM_D2MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D2MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D2MEM_DED_COUNT),
	},
	{ "MMEA7_MAM_D3MEM", SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D3MEM_SED_COUNT),
	SOC15_WEG_FIEWD(MMEA7_EDC_CNT2, MAM_D3MEM_DED_COUNT),
	}
};

static const stwuct soc15_weg_entwy mmhub_v9_4_edc_cnt_wegs[] = {
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EDC_CNT3), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT2), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EDC_CNT3), 0, 0, 0 },
};

static int mmhub_v9_4_get_was_ewwow_count(stwuct amdgpu_device *adev,
					  const stwuct soc15_weg_entwy *weg,
					  uint32_t vawue,
					  uint32_t *sec_count,
					  uint32_t *ded_count)
{
	uint32_t i;
	uint32_t sec_cnt, ded_cnt;

	fow (i = 0; i < AWWAY_SIZE(mmhub_v9_4_was_fiewds); i++) {
		if (mmhub_v9_4_was_fiewds[i].weg_offset != weg->weg_offset)
			continue;

		sec_cnt = (vawue &
				mmhub_v9_4_was_fiewds[i].sec_count_mask) >>
				mmhub_v9_4_was_fiewds[i].sec_count_shift;
		if (sec_cnt) {
			dev_info(adev->dev, "MMHUB SubBwock %s, SEC %d\n",
				mmhub_v9_4_was_fiewds[i].name,
				sec_cnt);
			*sec_count += sec_cnt;
		}

		ded_cnt = (vawue &
				mmhub_v9_4_was_fiewds[i].ded_count_mask) >>
				mmhub_v9_4_was_fiewds[i].ded_count_shift;
		if (ded_cnt) {
			dev_info(adev->dev, "MMHUB SubBwock %s, DED %d\n",
				mmhub_v9_4_was_fiewds[i].name,
				ded_cnt);
			*ded_count += ded_cnt;
		}
	}

	wetuwn 0;
}

static void mmhub_v9_4_quewy_was_ewwow_count(stwuct amdgpu_device *adev,
					   void *was_ewwow_status)
{
	stwuct was_eww_data *eww_data = (stwuct was_eww_data *)was_ewwow_status;
	uint32_t sec_count = 0, ded_count = 0;
	uint32_t i;
	uint32_t weg_vawue;

	eww_data->ue_count = 0;
	eww_data->ce_count = 0;

	fow (i = 0; i < AWWAY_SIZE(mmhub_v9_4_edc_cnt_wegs); i++) {
		weg_vawue =
			WWEG32(SOC15_WEG_ENTWY_OFFSET(mmhub_v9_4_edc_cnt_wegs[i]));
		if (weg_vawue)
			mmhub_v9_4_get_was_ewwow_count(adev, &mmhub_v9_4_edc_cnt_wegs[i],
				weg_vawue, &sec_count, &ded_count);
	}

	eww_data->ce_count += sec_count;
	eww_data->ue_count += ded_count;
}

static void mmhub_v9_4_weset_was_ewwow_count(stwuct amdgpu_device *adev)
{
	uint32_t i;

	/* wead back edc countew wegistews to weset the countews to 0 */
	if (amdgpu_was_is_suppowted(adev, AMDGPU_WAS_BWOCK__MMHUB)) {
		fow (i = 0; i < AWWAY_SIZE(mmhub_v9_4_edc_cnt_wegs); i++)
			WWEG32(SOC15_WEG_ENTWY_OFFSET(mmhub_v9_4_edc_cnt_wegs[i]));
	}
}

static const stwuct soc15_weg_entwy mmhub_v9_4_eww_status_wegs[] = {
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA0_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA1_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA2_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA3_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA4_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA5_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA6_EWW_STATUS), 0, 0, 0 },
	{ SOC15_WEG_ENTWY(MMHUB, 0, mmMMEA7_EWW_STATUS), 0, 0, 0 },
};

static void mmhub_v9_4_quewy_was_ewwow_status(stwuct amdgpu_device *adev)
{
	int i;
	uint32_t weg_vawue;

	if (!amdgpu_was_is_suppowted(adev, AMDGPU_WAS_BWOCK__MMHUB))
		wetuwn;

	fow (i = 0; i < AWWAY_SIZE(mmhub_v9_4_eww_status_wegs); i++) {
		weg_vawue =
			WWEG32(SOC15_WEG_ENTWY_OFFSET(mmhub_v9_4_eww_status_wegs[i]));
		if (WEG_GET_FIEWD(weg_vawue, MMEA0_EWW_STATUS, SDP_WDWSP_STATUS) ||
		    WEG_GET_FIEWD(weg_vawue, MMEA0_EWW_STATUS, SDP_WWWSP_STATUS) ||
		    WEG_GET_FIEWD(weg_vawue, MMEA0_EWW_STATUS, SDP_WDWSP_DATAPAWITY_EWWOW)) {
			/* SDP wead/wwite ewwow/pawity ewwow in FUE_IS_FATAW mode
			 * can cause system fataw ewwow in awctuwas. Hawvest the ewwow
			 * status befowe GPU weset */
			dev_wawn(adev->dev, "MMHUB EA eww detected at instance: %d, status: 0x%x!\n",
					i, weg_vawue);
		}
	}
}

const stwuct amdgpu_was_bwock_hw_ops mmhub_v9_4_was_hw_ops = {
	.quewy_was_ewwow_count = mmhub_v9_4_quewy_was_ewwow_count,
	.weset_was_ewwow_count = mmhub_v9_4_weset_was_ewwow_count,
	.quewy_was_ewwow_status = mmhub_v9_4_quewy_was_ewwow_status,
};

stwuct amdgpu_mmhub_was mmhub_v9_4_was = {
	.was_bwock = {
		.hw_ops = &mmhub_v9_4_was_hw_ops,
	},
};

const stwuct amdgpu_mmhub_funcs mmhub_v9_4_funcs = {
	.get_fb_wocation = mmhub_v9_4_get_fb_wocation,
	.init = mmhub_v9_4_init,
	.gawt_enabwe = mmhub_v9_4_gawt_enabwe,
	.set_fauwt_enabwe_defauwt = mmhub_v9_4_set_fauwt_enabwe_defauwt,
	.gawt_disabwe = mmhub_v9_4_gawt_disabwe,
	.set_cwockgating = mmhub_v9_4_set_cwockgating,
	.get_cwockgating = mmhub_v9_4_get_cwockgating,
	.setup_vm_pt_wegs = mmhub_v9_4_setup_vm_pt_wegs,
};
