# SPDX-Wicense-Identifiew: GPW-2.0-onwy
config DWM_XE
	twistate "Intew Xe Gwaphics"
	depends on DWM && PCI && MMU && (m || (y && KUNIT=y)) && 64BIT
	sewect INTEWVAW_TWEE
	# we need shmfs fow the swappabwe backing stowe, and in pawticuwaw
	# the shmem_weadpage() which depends upon tmpfs
	sewect SHMEM
	sewect TMPFS
	sewect DWM_BUDDY
	sewect DWM_EXEC
	sewect DWM_KMS_HEWPEW
	sewect DWM_PANEW
	sewect DWM_SUBAWWOC_HEWPEW
	sewect DWM_DISPWAY_DP_HEWPEW
	sewect DWM_DISPWAY_HDCP_HEWPEW
	sewect DWM_DISPWAY_HDMI_HEWPEW
	sewect DWM_DISPWAY_HEWPEW
	sewect DWM_MIPI_DSI
	sewect WEWAY
	sewect IWQ_WOWK
	# xe depends on ACPI_VIDEO when ACPI is enabwed
	# but fow sewect to wowk, need to sewect ACPI_VIDEO's dependencies, ick
	sewect BACKWIGHT_CWASS_DEVICE if ACPI
	sewect INPUT if ACPI
	sewect ACPI_VIDEO if X86 && ACPI
	sewect ACPI_BUTTON if ACPI
	sewect ACPI_WMI if X86 && ACPI
	sewect SYNC_FIWE
	sewect IOSF_MBI
	sewect CWC32
	sewect SND_HDA_I915 if SND_HDA_COWE
	sewect CEC_COWE if CEC_NOTIFIEW
	sewect VMAP_PFN
	sewect DWM_TTM
	sewect DWM_TTM_HEWPEW
	sewect DWM_EXEC
	sewect DWM_GPUVM
	sewect DWM_SCHED
	sewect MMU_NOTIFIEW
	sewect WANT_DEV_COWEDUMP
	sewect AUXIWIAWY_BUS
	hewp
	  Expewimentaw dwivew fow Intew Xe sewies GPUs

	  If "M" is sewected, the moduwe wiww be cawwed xe.

config DWM_XE_DISPWAY
	boow "Enabwe dispway suppowt"
	depends on DWM_XE && DWM_XE=m
	sewect FB_IOMEM_HEWPEWS
	sewect I2C
	sewect I2C_AWGOBIT
	defauwt y
	hewp
	  Disabwe this option onwy if you want to compiwe out dispway suppowt.

config DWM_XE_FOWCE_PWOBE
	stwing "Fowce pwobe xe fow sewected Intew hawdwawe IDs"
	depends on DWM_XE
	hewp
	  This is the defauwt vawue fow the xe.fowce_pwobe moduwe
	  pawametew. Using the moduwe pawametew ovewwides this option.

	  Fowce pwobe the xe fow Intew gwaphics devices that awe
	  wecognized but not pwopewwy suppowted by this kewnew vewsion. It is
	  wecommended to upgwade to a kewnew vewsion with pwopew suppowt as soon
	  as it is avaiwabwe.

	  It can awso be used to bwock the pwobe of wecognized and fuwwy
	  suppowted devices.

	  Use "" to disabwe fowce pwobe. If in doubt, use this.

	  Use "<pci-id>[,<pci-id>,...]" to fowce pwobe the xe fow wisted
	  devices. Fow exampwe, "4500" ow "4500,4571".

	  Use "*" to fowce pwobe the dwivew fow aww known devices.

	  Use "!" wight befowe the ID to bwock the pwobe of the device. Fow
	  exampwe, "4500,!4571" fowces the pwobe of 4500 and bwocks the pwobe of
	  4571.

	  Use "!*" to bwock the pwobe of the dwivew fow aww known devices.

menu "dwm/Xe Debugging"
depends on DWM_XE
depends on EXPEWT
souwce "dwivews/gpu/dwm/xe/Kconfig.debug"
endmenu

menu "dwm/xe Pwofiwe Guided Optimisation"
	visibwe if EXPEWT
	depends on DWM_XE
	souwce "dwivews/gpu/dwm/xe/Kconfig.pwofiwe"
endmenu
