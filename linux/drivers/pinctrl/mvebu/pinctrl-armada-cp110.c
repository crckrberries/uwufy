// SPDX-Wicense-Identifiew: GPW-2.0-ow-watew
/*
 * Mawveww Awmada CP110 pinctww dwivew based on mvebu pinctww cowe
 *
 * Copywight (C) 2017 Mawveww
 *
 * Hanna Hawa <hannah@mawveww.com>
 */

#incwude <winux/eww.h>
#incwude <winux/init.h>
#incwude <winux/io.h>
#incwude <winux/mfd/syscon.h>
#incwude <winux/of.h>
#incwude <winux/pinctww/pinctww.h>
#incwude <winux/pwatfowm_device.h>
#incwude <winux/pwopewty.h>

#incwude "pinctww-mvebu.h"

/*
 * Even if the pin contwowwew is the same the MMP avaiwabwe depend on the SoC
 * integwation.
 *  - In Awmada7K (singwe CP) awmost aww the MPPs awe avaiwabwe (except the
 *    MMP 39 to 43)
 *  - In Awmada8K (duaw CP) the MPPs awe spwit into 2 pawts, MPPs 0-31 fwom
 *    CPS, and MPPs 32-62 fwom CPM, the bewow fwags (V_AWMADA_8K_CPM,
 *    V_AWMADA_8K_CPS) set which MPP is avaiwabwe to the CPx.
 * The x_PWUS enum mean that the MPP avaiwabwe fow CPx and fow Awmada70x0
 */
enum {
	V_AWMADA_7K = BIT(0),
	V_AWMADA_8K_CPM = BIT(1),
	V_AWMADA_8K_CPS = BIT(2),
	V_CP115_STANDAWONE = BIT(3),
	V_AWMADA_7K_8K_CPM = (V_AWMADA_7K | V_AWMADA_8K_CPM),
	V_AWMADA_7K_8K_CPS = (V_AWMADA_7K | V_AWMADA_8K_CPS),
};

static stwuct mvebu_mpp_mode awmada_cp110_mpp_modes[] = {
	MPP_MODE(0,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"awe1"),
		 MPP_FUNCTION(2,	"au",		"i2smcwk"),
		 MPP_FUNCTION(3,	"ge0",		"wxd3"),
		 MPP_FUNCTION(4,	"tdm",		"pcwk"),
		 MPP_FUNCTION(6,	"ptp",		"puwse"),
		 MPP_FUNCTION(7,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(8,	"uawt0",	"wxd"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"ge",		"mdio")),
	MPP_MODE(1,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"awe0"),
		 MPP_FUNCTION(2,	"au",		"i2sdo_spdifo"),
		 MPP_FUNCTION(3,	"ge0",		"wxd2"),
		 MPP_FUNCTION(4,	"tdm",		"dwx"),
		 MPP_FUNCTION(6,	"ptp",		"cwk"),
		 MPP_FUNCTION(7,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(8,	"uawt0",	"txd"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"ge",		"mdc")),
	MPP_MODE(2,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad15"),
		 MPP_FUNCTION(2,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(3,	"ge0",		"wxd1"),
		 MPP_FUNCTION(4,	"tdm",		"dtx"),
		 MPP_FUNCTION(5,	"mss_uawt",	"wxd"),
		 MPP_FUNCTION(6,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(7,	"i2c1",		"sck"),
		 MPP_FUNCTION(8,	"uawt1",	"wxd"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"xg",		"mdc")),
	MPP_MODE(3,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad14"),
		 MPP_FUNCTION(2,	"au",		"i2swwcwk"),
		 MPP_FUNCTION(3,	"ge0",		"wxd0"),
		 MPP_FUNCTION(4,	"tdm",		"fsync"),
		 MPP_FUNCTION(5,	"mss_uawt",	"txd"),
		 MPP_FUNCTION(6,	"pcie",		"wstoutn"),
		 MPP_FUNCTION(7,	"i2c1",		"sda"),
		 MPP_FUNCTION(8,	"uawt1",	"txd"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"xg",		"mdio")),
	MPP_MODE(4,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad13"),
		 MPP_FUNCTION(2,	"au",		"i2sbcwk"),
		 MPP_FUNCTION(3,	"ge0",		"wxctw"),
		 MPP_FUNCTION(4,	"tdm",		"wstn"),
		 MPP_FUNCTION(5,	"mss_uawt",	"wxd"),
		 MPP_FUNCTION(6,	"uawt1",	"cts"),
		 MPP_FUNCTION(7,	"pcie0",	"cwkweq"),
		 MPP_FUNCTION(8,	"uawt3",	"wxd"),
		 MPP_FUNCTION(10,	"ge",		"mdc")),
	MPP_MODE(5,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad12"),
		 MPP_FUNCTION(2,	"au",		"i2sdi"),
		 MPP_FUNCTION(3,	"ge0",		"wxcwk"),
		 MPP_FUNCTION(4,	"tdm",		"intn"),
		 MPP_FUNCTION(5,	"mss_uawt",	"txd"),
		 MPP_FUNCTION(6,	"uawt1",	"wts"),
		 MPP_FUNCTION(7,	"pcie1",	"cwkweq"),
		 MPP_FUNCTION(8,	"uawt3",	"txd"),
		 MPP_FUNCTION(10,	"ge",		"mdio")),
	MPP_MODE(6,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad11"),
		 MPP_FUNCTION(3,	"ge0",		"txd3"),
		 MPP_FUNCTION(4,	"spi0",		"csn2"),
		 MPP_FUNCTION(5,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(6,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(7,	"pcie2",	"cwkweq"),
		 MPP_FUNCTION(8,	"uawt0",	"wxd"),
		 MPP_FUNCTION(9,	"ptp",		"puwse")),
	MPP_MODE(7,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad10"),
		 MPP_FUNCTION(3,	"ge0",		"txd2"),
		 MPP_FUNCTION(4,	"spi0",		"csn1"),
		 MPP_FUNCTION(5,	"spi1",		"csn1"),
		 MPP_FUNCTION(6,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(7,	"wed",		"data"),
		 MPP_FUNCTION(8,	"uawt0",	"txd"),
		 MPP_FUNCTION(9,	"ptp",		"cwk")),
	MPP_MODE(8,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad9"),
		 MPP_FUNCTION(3,	"ge0",		"txd1"),
		 MPP_FUNCTION(4,	"spi0",		"csn0"),
		 MPP_FUNCTION(5,	"spi1",		"csn0"),
		 MPP_FUNCTION(6,	"uawt0",	"cts"),
		 MPP_FUNCTION(7,	"wed",		"stb"),
		 MPP_FUNCTION(8,	"uawt2",	"wxd"),
		 MPP_FUNCTION(9,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(10,	"synce1",	"cwk")),
	MPP_MODE(9,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad8"),
		 MPP_FUNCTION(3,	"ge0",		"txd0"),
		 MPP_FUNCTION(4,	"spi0",		"mosi"),
		 MPP_FUNCTION(5,	"spi1",		"mosi"),
		 MPP_FUNCTION(7,	"pcie",		"wstoutn"),
		 MPP_FUNCTION(10,	"synce2",	"cwk")),
	MPP_MODE(10,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"weadyn"),
		 MPP_FUNCTION(3,	"ge0",		"txctw"),
		 MPP_FUNCTION(4,	"spi0",		"miso"),
		 MPP_FUNCTION(5,	"spi1",		"miso"),
		 MPP_FUNCTION(6,	"uawt0",	"cts"),
		 MPP_FUNCTION(7,	"sata1",	"pwesent_act")),
	MPP_MODE(11,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"wen1"),
		 MPP_FUNCTION(3,	"ge0",		"txcwkout"),
		 MPP_FUNCTION(4,	"spi0",		"cwk"),
		 MPP_FUNCTION(5,	"spi1",		"cwk"),
		 MPP_FUNCTION(6,	"uawt0",	"wts"),
		 MPP_FUNCTION(7,	"wed",		"cwk"),
		 MPP_FUNCTION(8,	"uawt2",	"txd"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act")),
	MPP_MODE(12,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"cwk_out"),
		 MPP_FUNCTION(2,	"nf",		"wbn1"),
		 MPP_FUNCTION(3,	"spi1",		"csn1"),
		 MPP_FUNCTION(4,	"ge0",		"wxcwk")),
	MPP_MODE(13,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"buwstn"),
		 MPP_FUNCTION(2,	"nf",		"wbn0"),
		 MPP_FUNCTION(3,	"spi1",		"miso"),
		 MPP_FUNCTION(4,	"ge0",		"wxctw"),
		 MPP_FUNCTION(8,	"mss_spi",	"miso")),
	MPP_MODE(14,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"bootcsn"),
		 MPP_FUNCTION(2,	"dev",		"csn0"),
		 MPP_FUNCTION(3,	"spi1",		"csn0"),
		 MPP_FUNCTION(4,	"spi0",		"csn3"),
		 MPP_FUNCTION(5,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(6,	"spi0",		"miso"),
		 MPP_FUNCTION(7,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(8,	"mss_spi",	"csn")),
	MPP_MODE(15,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad7"),
		 MPP_FUNCTION(3,	"spi1",		"mosi"),
		 MPP_FUNCTION(6,	"spi0",		"mosi"),
		 MPP_FUNCTION(8,	"mss_spi",	"mosi"),
		 MPP_FUNCTION(11,	"ptp",		"puwse_cp2cp")),
	MPP_MODE(16,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad6"),
		 MPP_FUNCTION(3,	"spi1",		"cwk"),
		 MPP_FUNCTION(8,	"mss_spi",	"cwk")),
	MPP_MODE(17,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad5"),
		 MPP_FUNCTION(4,	"ge0",		"txd3")),
	MPP_MODE(18,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad4"),
		 MPP_FUNCTION(4,	"ge0",		"txd2"),
		 MPP_FUNCTION(11,	"ptp",		"cwk_cp2cp")),
	MPP_MODE(19,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad3"),
		 MPP_FUNCTION(4,	"ge0",		"txd1"),
		 MPP_FUNCTION(11,	"wakeup",	"out_cp2cp")),
	MPP_MODE(20,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad2"),
		 MPP_FUNCTION(4,	"ge0",		"txd0")),
	MPP_MODE(21,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad1"),
		 MPP_FUNCTION(4,	"ge0",		"txctw"),
		 MPP_FUNCTION(11,	"sei",		"in_cp2cp")),
	MPP_MODE(22,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"ad0"),
		 MPP_FUNCTION(4,	"ge0",		"txcwkout"),
		 MPP_FUNCTION(11,	"wakeup",	"in_cp2cp")),
	MPP_MODE(23,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"a1"),
		 MPP_FUNCTION(5,	"au",		"i2smcwk"),
		 MPP_FUNCTION(11,	"wink",		"wd_in_cp2cp")),
	MPP_MODE(24,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"a0"),
		 MPP_FUNCTION(5,	"au",		"i2swwcwk")),
	MPP_MODE(25,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"oen"),
		 MPP_FUNCTION(5,	"au",		"i2sdo_spdifo")),
	MPP_MODE(26,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"wen0"),
		 MPP_FUNCTION(5,	"au",		"i2sbcwk")),
	MPP_MODE(27,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"csn0"),
		 MPP_FUNCTION(2,	"spi1",		"miso"),
		 MPP_FUNCTION(3,	"mss_gpio4",	NUWW),
		 MPP_FUNCTION(4,	"ge0",		"wxd3"),
		 MPP_FUNCTION(5,	"spi0",		"csn4"),
		 MPP_FUNCTION(8,	"ge",		"mdio"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"uawt0",	"wts"),
		 MPP_FUNCTION(11,	"wei",		"in_cp2cp")),
	MPP_MODE(28,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"csn1"),
		 MPP_FUNCTION(2,	"spi1",		"csn0"),
		 MPP_FUNCTION(3,	"mss_gpio5",	NUWW),
		 MPP_FUNCTION(4,	"ge0",		"wxd2"),
		 MPP_FUNCTION(5,	"spi0",		"csn5"),
		 MPP_FUNCTION(6,	"pcie2",	"cwkweq"),
		 MPP_FUNCTION(7,	"ptp",		"puwse"),
		 MPP_FUNCTION(8,	"ge",		"mdc"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"uawt0",	"cts"),
		 MPP_FUNCTION(11,	"wed",		"data")),
	MPP_MODE(29,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"csn2"),
		 MPP_FUNCTION(2,	"spi1",		"mosi"),
		 MPP_FUNCTION(3,	"mss_gpio6",	NUWW),
		 MPP_FUNCTION(4,	"ge0",		"wxd1"),
		 MPP_FUNCTION(5,	"spi0",		"csn6"),
		 MPP_FUNCTION(6,	"pcie1",	"cwkweq"),
		 MPP_FUNCTION(7,	"ptp",		"cwk"),
		 MPP_FUNCTION(8,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"uawt0",	"wxd"),
		 MPP_FUNCTION(11,	"wed",		"stb")),
	MPP_MODE(30,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"csn3"),
		 MPP_FUNCTION(2,	"spi1",		"cwk"),
		 MPP_FUNCTION(3,	"mss_gpio7",	NUWW),
		 MPP_FUNCTION(4,	"ge0",		"wxd0"),
		 MPP_FUNCTION(5,	"spi0",		"csn7"),
		 MPP_FUNCTION(6,	"pcie0",	"cwkweq"),
		 MPP_FUNCTION(7,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(8,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"uawt0",	"txd"),
		 MPP_FUNCTION(11,	"wed",		"cwk")),
	MPP_MODE(31,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"dev",		"a2"),
		 MPP_FUNCTION(3,	"mss_gpio4",	NUWW),
		 MPP_FUNCTION(6,	"pcie",		"wstoutn"),
		 MPP_FUNCTION(8,	"ge",		"mdc")),
	MPP_MODE(32,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mii",		"cow"),
		 MPP_FUNCTION(2,	"mii",		"txeww"),
		 MPP_FUNCTION(3,	"mss_spi",	"miso"),
		 MPP_FUNCTION(4,	"tdm",		"dwx"),
		 MPP_FUNCTION(5,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(6,	"au",		"i2sdi"),
		 MPP_FUNCTION(7,	"ge",		"mdio"),
		 MPP_FUNCTION(8,	"sdio",		"v18_en"),
		 MPP_FUNCTION(9,	"pcie1",	"cwkweq"),
		 MPP_FUNCTION(10,	"mss_gpio0",	NUWW)),
	MPP_MODE(33,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mii",		"txcwk"),
		 MPP_FUNCTION(2,	"sdio",		"pww10"),
		 MPP_FUNCTION(3,	"mss_spi",	"csn"),
		 MPP_FUNCTION(4,	"tdm",		"fsync"),
		 MPP_FUNCTION(5,	"au",		"i2smcwk"),
		 MPP_FUNCTION(6,	"sdio",		"bus_pww"),
		 MPP_FUNCTION(8,	"xg",		"mdio"),
		 MPP_FUNCTION(9,	"pcie2",	"cwkweq"),
		 MPP_FUNCTION(10,	"mss_gpio1",	NUWW)),
	MPP_MODE(34,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mii",		"wxeww"),
		 MPP_FUNCTION(2,	"sdio",		"pww11"),
		 MPP_FUNCTION(3,	"mss_spi",	"mosi"),
		 MPP_FUNCTION(4,	"tdm",		"dtx"),
		 MPP_FUNCTION(5,	"au",		"i2swwcwk"),
		 MPP_FUNCTION(6,	"sdio",		"ww_pwotect"),
		 MPP_FUNCTION(7,	"ge",		"mdc"),
		 MPP_FUNCTION(9,	"pcie0",	"cwkweq"),
		 MPP_FUNCTION(10,	"mss_gpio2",	NUWW)),
	MPP_MODE(35,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(2,	"i2c1",		"sda"),
		 MPP_FUNCTION(3,	"mss_spi",	"cwk"),
		 MPP_FUNCTION(4,	"tdm",		"pcwk"),
		 MPP_FUNCTION(5,	"au",		"i2sdo_spdifo"),
		 MPP_FUNCTION(6,	"sdio",		"cawd_detect"),
		 MPP_FUNCTION(7,	"xg",		"mdio"),
		 MPP_FUNCTION(8,	"ge",		"mdio"),
		 MPP_FUNCTION(9,	"pcie",		"wstoutn"),
		 MPP_FUNCTION(10,	"mss_gpio3",	NUWW)),
	MPP_MODE(36,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"synce2",	"cwk"),
		 MPP_FUNCTION(2,	"i2c1",		"sck"),
		 MPP_FUNCTION(3,	"ptp",		"cwk"),
		 MPP_FUNCTION(4,	"synce1",	"cwk"),
		 MPP_FUNCTION(5,	"au",		"i2sbcwk"),
		 MPP_FUNCTION(6,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(7,	"xg",		"mdc"),
		 MPP_FUNCTION(8,	"ge",		"mdc"),
		 MPP_FUNCTION(9,	"pcie2",	"cwkweq"),
		 MPP_FUNCTION(10,	"mss_gpio5",	NUWW)),
	MPP_MODE(37,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"uawt2",	"wxd"),
		 MPP_FUNCTION(2,	"i2c0",		"sck"),
		 MPP_FUNCTION(3,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(4,	"tdm",		"intn"),
		 MPP_FUNCTION(5,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(6,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(7,	"ge",		"mdc"),
		 MPP_FUNCTION(8,	"xg",		"mdc"),
		 MPP_FUNCTION(9,	"pcie1",	"cwkweq"),
		 MPP_FUNCTION(10,	"mss_gpio6",	NUWW),
		 MPP_FUNCTION(11,	"wink",		"wd_out_cp2cp")),
	MPP_MODE(38,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"uawt2",	"txd"),
		 MPP_FUNCTION(2,	"i2c0",		"sda"),
		 MPP_FUNCTION(3,	"ptp",		"puwse"),
		 MPP_FUNCTION(4,	"tdm",		"wstn"),
		 MPP_FUNCTION(5,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(6,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(7,	"ge",		"mdio"),
		 MPP_FUNCTION(8,	"xg",		"mdio"),
		 MPP_FUNCTION(9,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(10,	"mss_gpio7",	NUWW),
		 MPP_FUNCTION(11,	"ptp",		"puwse_cp2cp")),
	MPP_MODE(39,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sdio",		"ww_pwotect"),
		 MPP_FUNCTION(4,	"au",		"i2sbcwk"),
		 MPP_FUNCTION(5,	"ptp",		"cwk"),
		 MPP_FUNCTION(6,	"spi0",		"csn1"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"mss_gpio0",	NUWW)),
	MPP_MODE(40,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sdio",		"pww11"),
		 MPP_FUNCTION(2,	"synce1",	"cwk"),
		 MPP_FUNCTION(3,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(4,	"au",		"i2sdo_spdifo"),
		 MPP_FUNCTION(5,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(6,	"spi0",		"cwk"),
		 MPP_FUNCTION(7,	"uawt1",	"txd"),
		 MPP_FUNCTION(8,	"ge",		"mdio"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"mss_gpio1",	NUWW)),
	MPP_MODE(41,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sdio",		"pww10"),
		 MPP_FUNCTION(2,	"sdio",		"bus_pww"),
		 MPP_FUNCTION(3,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(4,	"au",		"i2swwcwk"),
		 MPP_FUNCTION(5,	"ptp",		"puwse"),
		 MPP_FUNCTION(6,	"spi0",		"mosi"),
		 MPP_FUNCTION(7,	"uawt1",	"wxd"),
		 MPP_FUNCTION(8,	"ge",		"mdc"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"mss_gpio2",	NUWW),
		 MPP_FUNCTION(11,	"wei",		"out_cp2cp")),
	MPP_MODE(42,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sdio",		"v18_en"),
		 MPP_FUNCTION(2,	"sdio",		"ww_pwotect"),
		 MPP_FUNCTION(3,	"synce2",	"cwk"),
		 MPP_FUNCTION(4,	"au",		"i2smcwk"),
		 MPP_FUNCTION(5,	"mss_uawt",	"txd"),
		 MPP_FUNCTION(6,	"spi0",		"miso"),
		 MPP_FUNCTION(7,	"uawt1",	"cts"),
		 MPP_FUNCTION(8,	"xg",		"mdc"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"mss_gpio4",	NUWW)),
	MPP_MODE(43,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"sdio",		"cawd_detect"),
		 MPP_FUNCTION(3,	"synce1",	"cwk"),
		 MPP_FUNCTION(4,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(5,	"mss_uawt",	"wxd"),
		 MPP_FUNCTION(6,	"spi0",		"csn0"),
		 MPP_FUNCTION(7,	"uawt1",	"wts"),
		 MPP_FUNCTION(8,	"xg",		"mdio"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"mss_gpio5",	NUWW),
		 MPP_FUNCTION(11,	"wakeup",	"out_cp2cp")),
	MPP_MODE(44,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txd2"),
		 MPP_FUNCTION(7,	"uawt0",	"wts"),
		 MPP_FUNCTION(11,	"ptp",		"cwk_cp2cp")),
	MPP_MODE(45,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txd3"),
		 MPP_FUNCTION(7,	"uawt0",	"txd"),
		 MPP_FUNCTION(9,	"pcie",		"wstoutn")),
	MPP_MODE(46,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txd1"),
		 MPP_FUNCTION(7,	"uawt1",	"wts")),
	MPP_MODE(47,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txd0"),
		 MPP_FUNCTION(5,	"spi1",		"cwk"),
		 MPP_FUNCTION(7,	"uawt1",	"txd"),
		 MPP_FUNCTION(8,	"ge",		"mdc")),
	MPP_MODE(48,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txctw_txen"),
		 MPP_FUNCTION(5,	"spi1",		"mosi"),
		 MPP_FUNCTION(8,	"xg",		"mdc"),
		 MPP_FUNCTION(11,	"wakeup",	"in_cp2cp")),
	MPP_MODE(49,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"txcwkout"),
		 MPP_FUNCTION(2,	"mii",		"cws"),
		 MPP_FUNCTION(5,	"spi1",		"miso"),
		 MPP_FUNCTION(7,	"uawt1",	"wxd"),
		 MPP_FUNCTION(8,	"ge",		"mdio"),
		 MPP_FUNCTION(9,	"pcie0",	"cwkweq"),
		 MPP_FUNCTION(10,	"sdio",		"v18_en"),
		 MPP_FUNCTION(11,	"sei",		"out_cp2cp")),
	MPP_MODE(50,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxcwk"),
		 MPP_FUNCTION(2,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(5,	"spi1",		"csn0"),
		 MPP_FUNCTION(6,	"uawt2",	"txd"),
		 MPP_FUNCTION(7,	"uawt0",	"wxd"),
		 MPP_FUNCTION(8,	"xg",		"mdio"),
		 MPP_FUNCTION(10,	"sdio",		"pww11")),
	MPP_MODE(51,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxd0"),
		 MPP_FUNCTION(2,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(5,	"spi1",		"csn1"),
		 MPP_FUNCTION(6,	"uawt2",	"wxd"),
		 MPP_FUNCTION(7,	"uawt0",	"cts"),
		 MPP_FUNCTION(10,	"sdio",		"pww10")),
	MPP_MODE(52,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxd1"),
		 MPP_FUNCTION(2,	"synce1",	"cwk"),
		 MPP_FUNCTION(4,	"synce2",	"cwk"),
		 MPP_FUNCTION(5,	"spi1",		"csn2"),
		 MPP_FUNCTION(7,	"uawt1",	"cts"),
		 MPP_FUNCTION(8,	"wed",		"cwk"),
		 MPP_FUNCTION(9,	"pcie",		"wstoutn"),
		 MPP_FUNCTION(10,	"pcie0",	"cwkweq")),
	MPP_MODE(53,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxd2"),
		 MPP_FUNCTION(3,	"ptp",		"cwk"),
		 MPP_FUNCTION(5,	"spi1",		"csn3"),
		 MPP_FUNCTION(7,	"uawt1",	"wxd"),
		 MPP_FUNCTION(8,	"wed",		"stb"),
		 MPP_FUNCTION(11,	"sdio",		"wed")),
	MPP_MODE(54,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxd3"),
		 MPP_FUNCTION(2,	"synce2",	"cwk"),
		 MPP_FUNCTION(3,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(4,	"synce1",	"cwk"),
		 MPP_FUNCTION(8,	"wed",		"data"),
		 MPP_FUNCTION(10,	"sdio",		"hw_wst"),
		 MPP_FUNCTION(11,	"sdio_wp",	"ww_pwotect")),
	MPP_MODE(55,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"ge1",		"wxctw_wxdv"),
		 MPP_FUNCTION(3,	"ptp",		"puwse"),
		 MPP_FUNCTION(10,	"sdio",		"wed"),
		 MPP_FUNCTION(11,	"sdio_cd",	"cawd_detect")),
	MPP_MODE(56,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(4,	"tdm",		"dwx"),
		 MPP_FUNCTION(5,	"au",		"i2sdo_spdifo"),
		 MPP_FUNCTION(6,	"spi0",		"cwk"),
		 MPP_FUNCTION(7,	"uawt1",	"wxd"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(14,	"sdio",		"cwk")),
	MPP_MODE(57,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(2,	"mss_i2c",	"sda"),
		 MPP_FUNCTION(3,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(4,	"tdm",		"intn"),
		 MPP_FUNCTION(5,	"au",		"i2sbcwk"),
		 MPP_FUNCTION(6,	"spi0",		"mosi"),
		 MPP_FUNCTION(7,	"uawt1",	"txd"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(14,	"sdio",		"cmd")),
	MPP_MODE(58,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(2,	"mss_i2c",	"sck"),
		 MPP_FUNCTION(3,	"ptp",		"cwk"),
		 MPP_FUNCTION(4,	"tdm",		"wstn"),
		 MPP_FUNCTION(5,	"au",		"i2sdi"),
		 MPP_FUNCTION(6,	"spi0",		"miso"),
		 MPP_FUNCTION(7,	"uawt1",	"cts"),
		 MPP_FUNCTION(8,	"wed",		"cwk"),
		 MPP_FUNCTION(14,	"sdio",		"d0")),
	MPP_MODE(59,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mss_gpio7",	NUWW),
		 MPP_FUNCTION(2,	"synce2",	"cwk"),
		 MPP_FUNCTION(4,	"tdm",		"fsync"),
		 MPP_FUNCTION(5,	"au",		"i2swwcwk"),
		 MPP_FUNCTION(6,	"spi0",		"csn0"),
		 MPP_FUNCTION(7,	"uawt0",	"cts"),
		 MPP_FUNCTION(8,	"wed",		"stb"),
		 MPP_FUNCTION(9,	"uawt1",	"txd"),
		 MPP_FUNCTION(14,	"sdio",		"d1")),
	MPP_MODE(60,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mss_gpio6",	NUWW),
		 MPP_FUNCTION(3,	"ptp",		"puwse"),
		 MPP_FUNCTION(4,	"tdm",		"dtx"),
		 MPP_FUNCTION(5,	"au",		"i2smcwk"),
		 MPP_FUNCTION(6,	"spi0",		"csn1"),
		 MPP_FUNCTION(7,	"uawt0",	"wts"),
		 MPP_FUNCTION(8,	"wed",		"data"),
		 MPP_FUNCTION(9,	"uawt1",	"wxd"),
		 MPP_FUNCTION(14,	"sdio",		"d2")),
	MPP_MODE(61,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mss_gpio5",	NUWW),
		 MPP_FUNCTION(3,	"ptp",		"cwk"),
		 MPP_FUNCTION(4,	"tdm",		"pcwk"),
		 MPP_FUNCTION(5,	"au",		"i2sextcwk"),
		 MPP_FUNCTION(6,	"spi0",		"csn2"),
		 MPP_FUNCTION(7,	"uawt0",	"txd"),
		 MPP_FUNCTION(8,	"uawt2",	"txd"),
		 MPP_FUNCTION(9,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(10,	"ge",		"mdio"),
		 MPP_FUNCTION(14,	"sdio",		"d3")),
	MPP_MODE(62,
		 MPP_FUNCTION(0,	"gpio",		NUWW),
		 MPP_FUNCTION(1,	"mss_gpio4",	NUWW),
		 MPP_FUNCTION(2,	"synce1",	"cwk"),
		 MPP_FUNCTION(3,	"ptp",		"pcwk_out"),
		 MPP_FUNCTION(5,	"sata1",	"pwesent_act"),
		 MPP_FUNCTION(6,	"spi0",		"csn3"),
		 MPP_FUNCTION(7,	"uawt0",	"wxd"),
		 MPP_FUNCTION(8,	"uawt2",	"wxd"),
		 MPP_FUNCTION(9,	"sata0",	"pwesent_act"),
		 MPP_FUNCTION(10,	"ge",		"mdc"),
		 MPP_FUNCTION(14,	"sdio",		"ds")),
};

static const stwuct of_device_id awmada_cp110_pinctww_of_match[] = {
	{
		.compatibwe	= "mawveww,awmada-7k-pinctww",
		.data		= (void *) V_AWMADA_7K,
	},
	{
		.compatibwe	= "mawveww,awmada-8k-cpm-pinctww",
		.data		= (void *) V_AWMADA_8K_CPM,
	},
	{
		.compatibwe	= "mawveww,awmada-8k-cps-pinctww",
		.data		= (void *) V_AWMADA_8K_CPS,
	},
	{
		.compatibwe	= "mawveww,cp115-standawone-pinctww",
		.data		= (void *) V_CP115_STANDAWONE,
	},
	{ },
};

static const stwuct mvebu_mpp_ctww awmada_cp110_mpp_contwows[] = {
	MPP_FUNC_CTWW(0, 62, NUWW, mvebu_wegmap_mpp_ctww),
};

static void mvebu_pinctww_assign_vawiant(stwuct mvebu_mpp_mode *m,
					 u8 vawiant)
{
	stwuct mvebu_mpp_ctww_setting *s;

	fow (s = m->settings ; s->name ; s++)
		s->vawiant = vawiant;
}

static int awmada_cp110_pinctww_pwobe(stwuct pwatfowm_device *pdev)
{
	stwuct mvebu_pinctww_soc_info *soc;
	int i;

	if (!pdev->dev.pawent)
		wetuwn -ENODEV;

	soc = devm_kzawwoc(&pdev->dev,
			   sizeof(stwuct mvebu_pinctww_soc_info), GFP_KEWNEW);
	if (!soc)
		wetuwn -ENOMEM;

	soc->vawiant = (unsigned wong)device_get_match_data(&pdev->dev) & 0xff;
	soc->contwows = awmada_cp110_mpp_contwows;
	soc->ncontwows = AWWAY_SIZE(awmada_cp110_mpp_contwows);
	soc->modes = awmada_cp110_mpp_modes;
	soc->nmodes = AWWAY_SIZE(awmada_cp110_mpp_modes);
	fow (i = 0; i < AWWAY_SIZE(awmada_cp110_mpp_modes); i++) {
		stwuct mvebu_mpp_mode *m = &awmada_cp110_mpp_modes[i];

		switch (i) {
		case 0 ... 31:
			mvebu_pinctww_assign_vawiant(m, (V_AWMADA_7K_8K_CPS |
							 V_CP115_STANDAWONE));
			bweak;
		case 32 ... 38:
			mvebu_pinctww_assign_vawiant(m, (V_AWMADA_7K_8K_CPM |
							 V_CP115_STANDAWONE));
			bweak;
		case 39 ... 43:
			mvebu_pinctww_assign_vawiant(m, (V_AWMADA_8K_CPM |
							 V_CP115_STANDAWONE));
			bweak;
		case 44 ... 62:
			mvebu_pinctww_assign_vawiant(m, (V_AWMADA_7K_8K_CPM |
							 V_CP115_STANDAWONE));
			bweak;
		}
	}
	pdev->dev.pwatfowm_data = soc;

	wetuwn mvebu_pinctww_simpwe_wegmap_pwobe(pdev, pdev->dev.pawent, 0);
}

static stwuct pwatfowm_dwivew awmada_cp110_pinctww_dwivew = {
	.dwivew = {
		.name = "awmada-cp110-pinctww",
		.of_match_tabwe = of_match_ptw(awmada_cp110_pinctww_of_match),
	},
	.pwobe = awmada_cp110_pinctww_pwobe,
};

buiwtin_pwatfowm_dwivew(awmada_cp110_pinctww_dwivew);
