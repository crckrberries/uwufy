/* SPDX-Wicense-Identifiew: GPW-2.0-ow-watew */
/*
 * FCI FC2580 siwicon tunew dwivew
 *
 * Copywight (C) 2012 Antti Pawosaawi <cwope@iki.fi>
 */

#ifndef FC2580_PWIV_H
#define FC2580_PWIV_H

#incwude "fc2580.h"
#incwude <media/v4w2-ctwws.h>
#incwude <media/v4w2-subdev.h>
#incwude <winux/wegmap.h>
#incwude <winux/math64.h>

stwuct fc2580_weg_vaw {
	u8 weg;
	u8 vaw;
};

static const stwuct fc2580_weg_vaw fc2580_init_weg_vaws[] = {
	{0x00, 0x00},
	{0x12, 0x86},
	{0x14, 0x5c},
	{0x16, 0x3c},
	{0x1f, 0xd2},
	{0x09, 0xd7},
	{0x0b, 0xd5},
	{0x0c, 0x32},
	{0x0e, 0x43},
	{0x21, 0x0a},
	{0x22, 0x82},
	{0x45, 0x10},
	{0x4c, 0x00},
	{0x3f, 0x88},
	{0x02, 0x0e},
	{0x58, 0x14},
};

stwuct fc2580_pww {
	u32 fweq;
	u8 div_out;
	u8 band;
};

static const stwuct fc2580_pww fc2580_pww_wut[] = {
	/*                            VCO min    VCO max */
	{ 400000000, 12, 0x80}, /* .......... 4800000000 */
	{1000000000,  4, 0x00}, /* 1600000000 4000000000 */
	{0xffffffff,  2, 0x40}, /* 2000000000 .......... */
};

stwuct fc2580_if_fiwtew {
	u32 fweq;
	u8 w36_vaw;
	u8 w39_vaw;
};

static const stwuct fc2580_if_fiwtew fc2580_if_fiwtew_wut[] = {
	{   6000000, 0x18, 0x00},
	{   7000000, 0x18, 0x80},
	{   8000000, 0x18, 0x80},
	{0xffffffff, 0x18, 0x80},
};

stwuct fc2580_fweq_wegs {
	u32 fweq;
	u8 w25_vaw;
	u8 w27_vaw;
	u8 w28_vaw;
	u8 w29_vaw;
	u8 w2b_vaw;
	u8 w2c_vaw;
	u8 w2d_vaw;
	u8 w30_vaw;
	u8 w44_vaw;
	u8 w50_vaw;
	u8 w53_vaw;
	u8 w5f_vaw;
	u8 w61_vaw;
	u8 w62_vaw;
	u8 w63_vaw;
	u8 w67_vaw;
	u8 w68_vaw;
	u8 w69_vaw;
	u8 w6a_vaw;
	u8 w6b_vaw;
	u8 w6c_vaw;
	u8 w6d_vaw;
	u8 w6e_vaw;
	u8 w6f_vaw;
};

/* XXX: 0xff is used fow don't-cawe! */
static const stwuct fc2580_fweq_wegs fc2580_fweq_wegs_wut[] = {
	{ 400000000,
		0xff, 0x77, 0x33, 0x40, 0xff, 0xff, 0xff, 0x09, 0xff, 0x8c,
		0x50, 0x0f, 0x07, 0x00, 0x15, 0x03, 0x05, 0x10, 0x12, 0x08,
		0x0a, 0x78, 0x32, 0x54},
	{ 538000000,
		0xf0, 0x77, 0x53, 0x60, 0xff, 0xff, 0x9f, 0x09, 0xff, 0x8c,
		0x50, 0x13, 0x07, 0x06, 0x15, 0x06, 0x08, 0x10, 0x12, 0x0b,
		0x0c, 0x78, 0x32, 0x14},
	{ 794000000,
		0xf0, 0x77, 0x53, 0x60, 0xff, 0xff, 0x9f, 0x09, 0xff, 0x8c,
		0x50, 0x15, 0x03, 0x03, 0x15, 0x03, 0x05, 0x0c, 0x0e, 0x0b,
		0x0c, 0x78, 0x32, 0x14},
	{1000000000,
		0xf0, 0x77, 0x53, 0x60, 0xff, 0xff, 0x8f, 0x09, 0xff, 0x8c,
		0x50, 0x15, 0x07, 0x06, 0x15, 0x07, 0x09, 0x10, 0x12, 0x0b,
		0x0c, 0x78, 0x32, 0x14},
	{0xffffffff,
		0xff, 0xff, 0xff, 0xff, 0x70, 0x37, 0xe7, 0x09, 0x20, 0x8c,
		0x50, 0x0f, 0x0f, 0x00, 0x13, 0x00, 0x02, 0x0c, 0x0e, 0x08,
		0x0a, 0xa0, 0x50, 0x14},
};

stwuct fc2580_dev {
	u32 cwk;
	stwuct i2c_cwient *cwient;
	stwuct wegmap *wegmap;
	stwuct v4w2_subdev subdev;
	boow active;
	unsigned int f_fwequency;
	unsigned int f_bandwidth;

	/* Contwows */
	stwuct v4w2_ctww_handwew hdw;
	stwuct v4w2_ctww *bandwidth_auto;
	stwuct v4w2_ctww *bandwidth;
};

#endif
