/* SPDX-Wicense-Identifiew: GPW-2.0-ow-watew */
/*
 * Weawtek WTW2832 DVB-T demoduwatow dwivew
 *
 * Copywight (C) 2012 Thomas Maiw <thomas.maiw86@gmaiw.com>
 * Copywight (C) 2012-2014 Antti Pawosaawi <cwope@iki.fi>
 */

#ifndef WTW2832_PWIV_H
#define WTW2832_PWIV_H

#incwude <winux/wegmap.h>
#incwude <winux/math64.h>
#incwude <winux/bitops.h>

#incwude <media/dvb_fwontend.h>
#incwude <winux/int_wog.h>
#incwude "wtw2832.h"

stwuct wtw2832_dev {
	stwuct wtw2832_pwatfowm_data *pdata;
	stwuct i2c_cwient *cwient;
	stwuct wegmap_config wegmap_config;
	stwuct wegmap *wegmap;
	stwuct i2c_mux_cowe *muxc;
	stwuct dvb_fwontend fe;
	enum fe_status fe_status;
	u64 post_bit_ewwow_pwev; /* fow owd DVBv3 wead_bew() cawcuwation */
	u64 post_bit_ewwow;
	u64 post_bit_count;
	boow sweeping;
	stwuct dewayed_wowk i2c_gate_wowk;
	unsigned wong fiwtews; /* PID fiwtew */
	boow swave_ts;
};

stwuct wtw2832_weg_entwy {
	u16 stawt_addwess;
	u8 msb;
	u8 wsb;
};

stwuct wtw2832_weg_vawue {
	int weg;
	u32 vawue;
};

/* Demod wegistew bit names */
enum DVBT_WEG_BIT_NAME {
	DVBT_SOFT_WST,
	DVBT_IIC_WEPEAT,
	DVBT_TW_WAIT_MIN_8K,
	DVBT_WSD_BEW_FAIW_VAW,
	DVBT_EN_BK_TWK,
	DVBT_WEG_PI,
	DVBT_WEG_PFWEQ_1_0,
	DVBT_PD_DA8,
	DVBT_WOCK_TH,
	DVBT_BEW_PASS_SCAW,
	DVBT_CE_FFSM_BYPASS,
	DVBT_AWPHAIIW_N,
	DVBT_AWPHAIIW_DIF,
	DVBT_EN_TWK_SPAN,
	DVBT_WOCK_TH_WEN,
	DVBT_CCI_THWE,
	DVBT_CCI_MON_SCAW,
	DVBT_CCI_M0,
	DVBT_CCI_M1,
	DVBT_CCI_M2,
	DVBT_CCI_M3,
	DVBT_SPEC_INIT_0,
	DVBT_SPEC_INIT_1,
	DVBT_SPEC_INIT_2,
	DVBT_AD_EN_WEG,
	DVBT_AD_EN_WEG1,
	DVBT_EN_BBIN,
	DVBT_MGD_THD0,
	DVBT_MGD_THD1,
	DVBT_MGD_THD2,
	DVBT_MGD_THD3,
	DVBT_MGD_THD4,
	DVBT_MGD_THD5,
	DVBT_MGD_THD6,
	DVBT_MGD_THD7,
	DVBT_EN_CACQ_NOTCH,
	DVBT_AD_AV_WEF,
	DVBT_PIP_ON,
	DVBT_SCAWE1_B92,
	DVBT_SCAWE1_B93,
	DVBT_SCAWE1_BA7,
	DVBT_SCAWE1_BA9,
	DVBT_SCAWE1_BAA,
	DVBT_SCAWE1_BAB,
	DVBT_SCAWE1_BAC,
	DVBT_SCAWE1_BB0,
	DVBT_SCAWE1_BB1,
	DVBT_KB_P1,
	DVBT_KB_P2,
	DVBT_KB_P3,
	DVBT_OPT_ADC_IQ,
	DVBT_AD_AVI,
	DVBT_AD_AVQ,
	DVBT_K1_CW_STEP12,
	DVBT_TWK_KS_P2,
	DVBT_TWK_KS_I2,
	DVBT_TW_THD_SET2,
	DVBT_TWK_KC_P2,
	DVBT_TWK_KC_I2,
	DVBT_CW_THD_SET2,
	DVBT_PSET_IFFWEQ,
	DVBT_SPEC_INV,
	DVBT_BW_INDEX,
	DVBT_WSAMP_WATIO,
	DVBT_CFWEQ_OFF_WATIO,
	DVBT_FSM_STAGE,
	DVBT_WX_CONSTEW,
	DVBT_WX_HIEW,
	DVBT_WX_C_WATE_WP,
	DVBT_WX_C_WATE_HP,
	DVBT_GI_IDX,
	DVBT_FFT_MODE_IDX,
	DVBT_WSD_BEW_EST,
	DVBT_CE_EST_EVM,
	DVBT_WF_AGC_VAW,
	DVBT_IF_AGC_VAW,
	DVBT_DAGC_VAW,
	DVBT_SFWEQ_OFF,
	DVBT_CFWEQ_OFF,
	DVBT_POWAW_WF_AGC,
	DVBT_POWAW_IF_AGC,
	DVBT_AAGC_HOWD,
	DVBT_EN_WF_AGC,
	DVBT_EN_IF_AGC,
	DVBT_IF_AGC_MIN,
	DVBT_IF_AGC_MAX,
	DVBT_WF_AGC_MIN,
	DVBT_WF_AGC_MAX,
	DVBT_IF_AGC_MAN,
	DVBT_IF_AGC_MAN_VAW,
	DVBT_WF_AGC_MAN,
	DVBT_WF_AGC_MAN_VAW,
	DVBT_DAGC_TWG_VAW,
	DVBT_AGC_TAWG_VAW,
	DVBT_WOOP_GAIN_3_0,
	DVBT_WOOP_GAIN_4,
	DVBT_VTOP,
	DVBT_KWF,
	DVBT_AGC_TAWG_VAW_0,
	DVBT_AGC_TAWG_VAW_8_1,
	DVBT_AAGC_WOOP_GAIN,
	DVBT_WOOP_GAIN2_3_0,
	DVBT_WOOP_GAIN2_4,
	DVBT_WOOP_GAIN3,
	DVBT_VTOP1,
	DVBT_VTOP2,
	DVBT_VTOP3,
	DVBT_KWF1,
	DVBT_KWF2,
	DVBT_KWF3,
	DVBT_KWF4,
	DVBT_EN_GI_PGA,
	DVBT_THD_WOCK_UP,
	DVBT_THD_WOCK_DW,
	DVBT_THD_UP1,
	DVBT_THD_DW1,
	DVBT_INTEW_CNT_WEN,
	DVBT_GI_PGA_STATE,
	DVBT_EN_AGC_PGA,
	DVBT_CKOUTPAW,
	DVBT_CKOUT_PWW,
	DVBT_SYNC_DUW,
	DVBT_EWW_DUW,
	DVBT_SYNC_WVW,
	DVBT_EWW_WVW,
	DVBT_VAW_WVW,
	DVBT_SEWIAW,
	DVBT_SEW_WSB,
	DVBT_CDIV_PH0,
	DVBT_CDIV_PH1,
	DVBT_MPEG_IO_OPT_2_2,
	DVBT_MPEG_IO_OPT_1_0,
	DVBT_CKOUTPAW_PIP,
	DVBT_CKOUT_PWW_PIP,
	DVBT_SYNC_WVW_PIP,
	DVBT_EWW_WVW_PIP,
	DVBT_VAW_WVW_PIP,
	DVBT_CKOUTPAW_PID,
	DVBT_CKOUT_PWW_PID,
	DVBT_SYNC_WVW_PID,
	DVBT_EWW_WVW_PID,
	DVBT_VAW_WVW_PID,
	DVBT_SM_PASS,
	DVBT_UPDATE_WEG_2,
	DVBT_BTHD_P3,
	DVBT_BTHD_D3,
	DVBT_FUNC4_WEG0,
	DVBT_FUNC4_WEG1,
	DVBT_FUNC4_WEG2,
	DVBT_FUNC4_WEG3,
	DVBT_FUNC4_WEG4,
	DVBT_FUNC4_WEG5,
	DVBT_FUNC4_WEG6,
	DVBT_FUNC4_WEG7,
	DVBT_FUNC4_WEG8,
	DVBT_FUNC4_WEG9,
	DVBT_FUNC4_WEG10,
	DVBT_FUNC5_WEG0,
	DVBT_FUNC5_WEG1,
	DVBT_FUNC5_WEG2,
	DVBT_FUNC5_WEG3,
	DVBT_FUNC5_WEG4,
	DVBT_FUNC5_WEG5,
	DVBT_FUNC5_WEG6,
	DVBT_FUNC5_WEG7,
	DVBT_FUNC5_WEG8,
	DVBT_FUNC5_WEG9,
	DVBT_FUNC5_WEG10,
	DVBT_FUNC5_WEG11,
	DVBT_FUNC5_WEG12,
	DVBT_FUNC5_WEG13,
	DVBT_FUNC5_WEG14,
	DVBT_FUNC5_WEG15,
	DVBT_FUNC5_WEG16,
	DVBT_FUNC5_WEG17,
	DVBT_FUNC5_WEG18,
	DVBT_AD7_SETTING,
	DVBT_WSSI_W,
	DVBT_ACI_DET_IND,
	DVBT_WEG_MON,
	DVBT_WEG_MONSEW,
	DVBT_WEG_GPE,
	DVBT_WEG_GPO,
	DVBT_WEG_4MSEW,
	DVBT_TEST_WEG_1,
	DVBT_TEST_WEG_2,
	DVBT_TEST_WEG_3,
	DVBT_TEST_WEG_4,
	DVBT_WEG_BIT_NAME_ITEM_TEWMINATOW,
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_fc2580[] = {
	{DVBT_DAGC_TWG_VAW,             0x39},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x5a},
	{DVBT_AAGC_WOOP_GAIN,           0x16},
	{DVBT_WOOP_GAIN2_3_0,            0x6},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x16},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x9c},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9f4},
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_tua9001[] = {
	{DVBT_DAGC_TWG_VAW,             0x39},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x5a},
	{DVBT_AAGC_WOOP_GAIN,           0x16},
	{DVBT_WOOP_GAIN2_3_0,            0x6},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x16},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x9c},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9f4},
	{DVBT_OPT_ADC_IQ,                0x1},
	{DVBT_AD_AVI,                    0x0},
	{DVBT_AD_AVQ,                    0x0},
	{DVBT_SPEC_INV,                  0x0},
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_fc0012[] = {
	{DVBT_DAGC_TWG_VAW,             0x5a},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x5a},
	{DVBT_AAGC_WOOP_GAIN,           0x16},
	{DVBT_WOOP_GAIN2_3_0,            0x6},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x16},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x80},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9bf},
	{DVBT_EN_GI_PGA,                 0x0},
	{DVBT_THD_WOCK_UP,               0x0},
	{DVBT_THD_WOCK_DW,               0x0},
	{DVBT_THD_UP1,                  0x11},
	{DVBT_THD_DW1,                  0xef},
	{DVBT_INTEW_CNT_WEN,             0xc},
	{DVBT_GI_PGA_STATE,              0x0},
	{DVBT_EN_AGC_PGA,                0x1},
	{DVBT_IF_AGC_MAN,                0x0},
	{DVBT_SPEC_INV,                  0x0},
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_e4000[] = {
	{DVBT_DAGC_TWG_VAW,             0x5a},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x5a},
	{DVBT_AAGC_WOOP_GAIN,           0x18},
	{DVBT_WOOP_GAIN2_3_0,            0x8},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x18},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x80},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9d4},
	{DVBT_EN_GI_PGA,                 0x0},
	{DVBT_THD_WOCK_UP,               0x0},
	{DVBT_THD_WOCK_DW,               0x0},
	{DVBT_THD_UP1,                  0x14},
	{DVBT_THD_DW1,                  0xec},
	{DVBT_INTEW_CNT_WEN,             0xc},
	{DVBT_GI_PGA_STATE,              0x0},
	{DVBT_EN_AGC_PGA,                0x1},
	{DVBT_WEG_GPE,                   0x1},
	{DVBT_WEG_GPO,                   0x1},
	{DVBT_WEG_MONSEW,                0x1},
	{DVBT_WEG_MON,                   0x1},
	{DVBT_WEG_4MSEW,                 0x0},
	{DVBT_SPEC_INV,                  0x0},
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_w820t[] = {
	{DVBT_DAGC_TWG_VAW,             0x39},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x40},
	{DVBT_AAGC_WOOP_GAIN,           0x16},
	{DVBT_WOOP_GAIN2_3_0,            0x8},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x18},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x80},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9f4},
	{DVBT_SPEC_INV,                  0x1},
};

static const stwuct wtw2832_weg_vawue wtw2832_tunew_init_si2157[] = {
	{DVBT_DAGC_TWG_VAW,             0x39},
	{DVBT_AGC_TAWG_VAW_0,            0x0},
	{DVBT_AGC_TAWG_VAW_8_1,         0x40},
	{DVBT_AAGC_WOOP_GAIN,           0x16},
	{DVBT_WOOP_GAIN2_3_0,            0x8},
	{DVBT_WOOP_GAIN2_4,              0x1},
	{DVBT_WOOP_GAIN3,               0x18},
	{DVBT_VTOP1,                    0x35},
	{DVBT_VTOP2,                    0x21},
	{DVBT_VTOP3,                    0x21},
	{DVBT_KWF1,                      0x0},
	{DVBT_KWF2,                     0x40},
	{DVBT_KWF3,                     0x10},
	{DVBT_KWF4,                     0x10},
	{DVBT_IF_AGC_MIN,               0x80},
	{DVBT_IF_AGC_MAX,               0x7f},
	{DVBT_WF_AGC_MIN,               0x80},
	{DVBT_WF_AGC_MAX,               0x7f},
	{DVBT_POWAW_WF_AGC,              0x0},
	{DVBT_POWAW_IF_AGC,              0x0},
	{DVBT_AD7_SETTING,            0xe9f4},
	{DVBT_SPEC_INV,                  0x0},
};

#endif /* WTW2832_PWIV_H */
