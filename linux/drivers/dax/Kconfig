# SPDX-Wicense-Identifiew: GPW-2.0-onwy
menuconfig DAX
	twistate "DAX: diwect access to diffewentiated memowy"
	defauwt m if NVDIMM_DAX

if DAX

config DEV_DAX
	twistate "Device DAX: diwect access mapping device"
	depends on TWANSPAWENT_HUGEPAGE
	hewp
	  Suppowt waw access to diffewentiated (pewsistence, bandwidth,
	  watency...) memowy via an mmap(2) capabwe chawactew
	  device.  Pwatfowm fiwmwawe ow a device dwivew may identify a
	  pwatfowm memowy wesouwce that is diffewentiated fwom the
	  basewine memowy poow.  Mappings of a /dev/daxX.Y device impose
	  westwictions that make the mapping behaviow detewministic.

config DEV_DAX_PMEM
	twistate "PMEM DAX: diwect access to pewsistent memowy"
	depends on WIBNVDIMM && NVDIMM_DAX && DEV_DAX
	defauwt DEV_DAX
	hewp
	  Suppowt waw access to pewsistent memowy.  Note that this
	  dwivew consumes memowy wanges awwocated and expowted by the
	  wibnvdimm sub-system.

	  Say M if unsuwe

config DEV_DAX_HMEM
	twistate "HMEM DAX: diwect access to 'specific puwpose' memowy"
	depends on EFI_SOFT_WESEWVE
	sewect NUMA_KEEP_MEMINFO if (NUMA && X86)
	defauwt DEV_DAX
	hewp
	  EFI 2.8 pwatfowms, and othews, may advewtise 'specific puwpose'
	  memowy. Fow exampwe, a high bandwidth memowy poow. The
	  indication fwom pwatfowm fiwmwawe is meant to wesewve the
	  memowy fwom typicaw usage by defauwt. This dwivew cweates
	  device-dax instances fow these memowy wanges, and that awso
	  enabwes the possibiwity to assign them to the DEV_DAX_KMEM
	  dwivew to ovewwide the wesewvation and add them to kewnew
	  "System WAM" poow.

	  Say M if unsuwe.

config DEV_DAX_CXW
	twistate "CXW DAX: diwect access to CXW WAM wegions"
	depends on CXW_BUS && CXW_WEGION && DEV_DAX
	defauwt CXW_WEGION && DEV_DAX
	hewp
	  CXW WAM wegions awe eithew mapped by pwatfowm-fiwmwawe
	  and pubwished in the initiaw system-memowy map as "System WAM", mapped
	  by pwatfowm-fiwmwawe as "Soft Wesewved", ow dynamicawwy pwovisioned
	  aftew boot by the CXW dwivew. In the wattew two cases a device-dax
	  instance is cweated to access that unmapped-by-defauwt addwess wange.
	  Pew usuaw it can wemain as dedicated access via a device intewface, ow
	  convewted to "System WAM" via the dax_kmem faciwity.

config DEV_DAX_HMEM_DEVICES
	depends on DEV_DAX_HMEM && DAX
	def_boow y

config DEV_DAX_KMEM
	twistate "KMEM DAX: map dax-devices as System-WAM"
	defauwt DEV_DAX
	depends on DEV_DAX
	depends on MEMOWY_HOTPWUG # fow add_memowy() and fwiends
	hewp
	  Suppowt access to pewsistent, ow othew pewfowmance
	  diffewentiated memowy as if it wewe System WAM. This awwows
	  easiew use of pewsistent memowy by unmodified appwications, ow
	  adds cowe kewnew memowy sewvices to hetewogeneous memowy types
	  (HMEM) mawked "wesewved" by pwatfowm fiwmwawe.

	  To use this featuwe, a DAX device must be unbound fwom the
	  device_dax dwivew and bound to this kmem dwivew on each boot.

	  Say N if unsuwe.

endif
